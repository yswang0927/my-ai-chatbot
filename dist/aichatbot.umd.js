(function(ae,ie){typeof exports=="object"&&typeof module<"u"?ie(exports):typeof define=="function"&&define.amd?define(["exports"],ie):(ae=typeof globalThis<"u"?globalThis:ae||self,ie(ae.aichatbot={}))})(this,function(ae){"use strict";var no=Object.defineProperty;var io=(ae,ie,he)=>ie in ae?no(ae,ie,{enumerable:!0,configurable:!0,writable:!0,value:he}):ae[ie]=he;var j=(ae,ie,he)=>io(ae,typeof ie!="symbol"?ie+"":ie,he);var Ft;function ie(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var he=ie();function Jt(e){he=e}var qe={exec:()=>null};function B(e,t=""){let n=typeof e=="string"?e:e.source;const i={replace:(s,r)=>{let c=typeof r=="string"?r:r.source;return c=c.replace(se.caret,"$1"),n=n.replace(s,c),i},getRegex:()=>new RegExp(n,t)};return i}var se={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},pi=/^(?:[ \t]*(?:\n|$))+/,fi=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,bi=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ke=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,mi=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,St=/(?:[*+-]|\d{1,9}[.)])/,en=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,tn=B(en).replace(/bull/g,St).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),xi=B(en).replace(/bull/g,St).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Tt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wi=/^[^\n]+/,Rt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,yi=B(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Rt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ki=B(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,St).getRegex(),Je="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",At=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_i=B("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",At).replace("tag",Je).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),nn=B(Tt).replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Je).getRegex(),Ei=B(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",nn).getRegex(),Nt={blockquote:Ei,code:fi,def:yi,fences:bi,heading:mi,hr:Ke,html:_i,lheading:tn,list:ki,newline:pi,paragraph:nn,table:qe,text:wi},sn=B("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Je).getRegex(),vi={...Nt,lheading:xi,table:sn,paragraph:B(Tt).replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",sn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Je).getRegex()},Si={...Nt,html:B(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",At).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:B(Tt).replace("hr",Ke).replace("heading",` *#{1,6} *[^
]`).replace("lheading",tn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ti=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ri=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,rn=/^( {2,}|\\)\n(?!\s*$)/,Ai=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,et=/[\p{P}\p{S}]/u,Ot=/[\s\p{P}\p{S}]/u,on=/[^\s\p{P}\p{S}]/u,Ni=B(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ot).getRegex(),an=/(?!~)[\p{P}\p{S}]/u,Oi=/(?!~)[\s\p{P}\p{S}]/u,Ci=/(?:[^\s\p{P}\p{S}]|~)/u,Mi=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,ln=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Li=B(ln,"u").replace(/punct/g,et).getRegex(),Ii=B(ln,"u").replace(/punct/g,an).getRegex(),cn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Di=B(cn,"gu").replace(/notPunctSpace/g,on).replace(/punctSpace/g,Ot).replace(/punct/g,et).getRegex(),Bi=B(cn,"gu").replace(/notPunctSpace/g,Ci).replace(/punctSpace/g,Oi).replace(/punct/g,an).getRegex(),$i=B("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,on).replace(/punctSpace/g,Ot).replace(/punct/g,et).getRegex(),Pi=B(/\\(punct)/,"gu").replace(/punct/g,et).getRegex(),zi=B(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Hi=B(At).replace("(?:-->|$)","-->").getRegex(),Ui=B("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Hi).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),tt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ji=B(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",tt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),un=B(/^!?\[(label)\]\[(ref)\]/).replace("label",tt).replace("ref",Rt).getRegex(),hn=B(/^!?\[(ref)\](?:\[\])?/).replace("ref",Rt).getRegex(),Fi=B("reflink|nolink(?!\\()","g").replace("reflink",un).replace("nolink",hn).getRegex(),Ct={_backpedal:qe,anyPunctuation:Pi,autolink:zi,blockSkip:Mi,br:rn,code:Ri,del:qe,emStrongLDelim:Li,emStrongRDelimAst:Di,emStrongRDelimUnd:$i,escape:Ti,link:ji,nolink:hn,punctuation:Ni,reflink:un,reflinkSearch:Fi,tag:Ui,text:Ai,url:qe},Gi={...Ct,link:B(/^!?\[(label)\]\((.*?)\)/).replace("label",tt).getRegex(),reflink:B(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",tt).getRegex()},Mt={...Ct,emStrongRDelimAst:Bi,emStrongLDelim:Ii,url:B(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},qi={...Mt,br:B(rn).replace("{2,}","*").getRegex(),text:B(Mt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},nt={normal:Nt,gfm:vi,pedantic:Si},We={normal:Ct,gfm:Mt,breaks:qi,pedantic:Gi},Ki={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gn=e=>Ki[e];function fe(e,t){if(t){if(se.escapeTest.test(e))return e.replace(se.escapeReplace,gn)}else if(se.escapeTestNoEncode.test(e))return e.replace(se.escapeReplaceNoEncode,gn);return e}function dn(e){try{e=encodeURI(e).replace(se.percentDecode,"%")}catch{return null}return e}function pn(e,t){var r;const n=e.replace(se.findPipe,(c,o,u)=>{let l=!1,h=o;for(;--h>=0&&u[h]==="\\";)l=!l;return l?"|":" |"}),i=n.split(se.splitPipe);let s=0;if(i[0].trim()||i.shift(),i.length>0&&!((r=i.at(-1))!=null&&r.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(se.slashPipe,"|");return i}function Ze(e,t,n){const i=e.length;if(i===0)return"";let s=0;for(;s<i&&e.charAt(i-s-1)===t;)s++;return e.slice(0,i-s)}function Wi(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function fn(e,t,n,i,s){const r=t.href,c=t.title||null,o=e[1].replace(s.other.outputLinkReplace,"$1");i.state.inLink=!0;const u={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:r,title:c,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,u}function Zi(e,t,n){const i=e.match(n.other.indentCodeCompensation);if(i===null)return t;const s=i[1];return t.split(`
`).map(r=>{const c=r.match(n.other.beginningSpace);if(c===null)return r;const[o]=c;return o.length>=s.length?r.slice(s.length):r}).join(`
`)}var it=class{constructor(e){j(this,"options");j(this,"rules");j(this,"lexer");this.options=e||he}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ze(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=Zi(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const i=Ze(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Ze(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=Ze(t[0],`
`).split(`
`),i="",s="";const r=[];for(;n.length>0;){let c=!1;const o=[];let u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))o.push(n[u]),c=!0;else if(!c)o.push(n[u]);else break;n=n.slice(u);const l=o.join(`
`),h=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${l}`:l,s=s?`${s}
${h}`:h;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,r,!0),this.lexer.state.top=p,n.length===0)break;const g=r.at(-1);if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){const f=g,b=f.raw+`
`+n.join(`
`),y=this.blockquote(b);r[r.length-1]=y,i=i.substring(0,i.length-f.raw.length)+y.raw,s=s.substring(0,s.length-f.text.length)+y.text;break}else if((g==null?void 0:g.type)==="list"){const f=g,b=f.raw+`
`+n.join(`
`),y=this.list(b);r[r.length-1]=y,i=i.substring(0,i.length-g.raw.length)+y.raw,s=s.substring(0,s.length-f.raw.length)+y.raw,n=b.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:r,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const r=this.rules.other.listItemRegex(n);let c=!1;for(;e;){let u=!1,l="",h="";if(!(t=r.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let p=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),g=e.split(`
`,1)[0],f=!p.trim(),b=0;if(this.options.pedantic?(b=2,h=p.trimStart()):f?b=t[1].length+1:(b=t[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,h=p.slice(b),b+=t[1].length),f&&this.rules.other.blankLine.test(g)&&(l+=g+`
`,e=e.substring(g.length+1),u=!0),!u){const S=this.rules.other.nextBulletRegex(b),O=this.rules.other.hrRegex(b),D=this.rules.other.fencesBeginRegex(b),H=this.rules.other.headingBeginRegex(b),C=this.rules.other.htmlBeginRegex(b);for(;e;){const U=e.split(`
`,1)[0];let Y;if(g=U,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),Y=g):Y=g.replace(this.rules.other.tabCharGlobal,"    "),D.test(g)||H.test(g)||C.test(g)||S.test(g)||O.test(g))break;if(Y.search(this.rules.other.nonSpaceChar)>=b||!g.trim())h+=`
`+Y.slice(b);else{if(f||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||D.test(p)||H.test(p)||O.test(p))break;h+=`
`+g}!f&&!g.trim()&&(f=!0),l+=U+`
`,e=e.substring(U.length+1),p=Y.slice(b)}}s.loose||(c?s.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(c=!0));let y=null,R;this.options.gfm&&(y=this.rules.other.listIsTask.exec(h),y&&(R=y[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:l,task:!!y,checked:R,loose:!1,text:h,tokens:[]}),s.raw+=l}const o=s.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){const l=s.items[u].tokens.filter(p=>p.type==="space"),h=l.length>0&&l.some(p=>this.rules.other.anyLine.test(p.raw));s.loose=h}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:s}}}table(e){var c;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=pn(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(c=t[3])!=null&&c.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const o of i)this.rules.other.tableAlignRight.test(o)?r.align.push("right"):this.rules.other.tableAlignCenter.test(o)?r.align.push("center"):this.rules.other.tableAlignLeft.test(o)?r.align.push("left"):r.align.push(null);for(let o=0;o<n.length;o++)r.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:r.align[o]});for(const o of s)r.rows.push(pn(o,r.header.length).map((u,l)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:r.align[l]})));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const r=Ze(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{const r=Wi(t[2],"()");if(r===-2)return;if(r>-1){const o=(t[0].indexOf("!")===0?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const r=this.rules.other.pedanticHrefTitle.exec(i);r&&(i=r[1],s=r[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),fn(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[i.toLowerCase()];if(!s){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return fn(n,s,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const r=[...i[0]].length-1;let c,o,u=r,l=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+r);(i=h.exec(t))!=null;){if(c=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!c)continue;if(o=[...c].length,i[3]||i[4]){u+=o;continue}else if((i[5]||i[6])&&r%3&&!((r+o)%3)){l+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+l);const p=[...i[0]][0].length,g=e.slice(0,r+i.index+p+o);if(Math.min(r,o)%2){const b=g.slice(1,-1);return{type:"em",raw:g,text:b,tokens:this.lexer.inlineTokens(b)}}const f=g.slice(2,-2);return{type:"strong",raw:g,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let i,s;if(t[2]==="@")i=t[0],s="mailto:"+i;else{let r;do r=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(r!==t[0]);i=t[0],t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},ke=class Vt{constructor(t){j(this,"tokens");j(this,"options");j(this,"state");j(this,"tokenizer");j(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||he,this.options.tokenizer=this.options.tokenizer||new it,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:se,block:nt.normal,inline:We.normal};this.options.pedantic?(n.block=nt.pedantic,n.inline=We.pedantic):this.options.gfm&&(n.block=nt.gfm,this.options.breaks?n.inline=We.breaks:n.inline=We.gfm),this.tokenizer.rules=n}static get rules(){return{block:nt,inline:We}}static lex(t,n){return new Vt(n).lex(t)}static lexInline(t,n){return new Vt(n).inlineTokens(t)}lex(t){t=t.replace(se.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){var s,r,c;for(this.options.pedantic&&(t=t.replace(se.tabCharGlobal,"    ").replace(se.spaceLine,""));t;){let o;if((r=(s=this.options.extensions)==null?void 0:s.block)!=null&&r.some(l=>(o=l.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);const l=n.at(-1);o.raw.length===1&&l!==void 0?l.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.at(-1).src=l.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let u=t;if((c=this.options.extensions)!=null&&c.startBlock){let l=1/0;const h=t.slice(1);let p;this.options.extensions.startBlock.forEach(g=>{p=g.call({lexer:this},h),typeof p=="number"&&p>=0&&(l=Math.min(l,p))}),l<1/0&&l>=0&&(u=t.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){const l=n.at(-1);i&&(l==null?void 0:l.type)==="paragraph"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(o),i=u.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(o);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var o,u,l;let i=t,s=null;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)h.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,s.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let r=!1,c="";for(;t;){r||(c=""),r=!1;let h;if((u=(o=this.options.extensions)==null?void 0:o.inline)!=null&&u.some(g=>(h=g.call({lexer:this},t,n))?(t=t.substring(h.raw.length),n.push(h),!0):!1))continue;if(h=this.tokenizer.escape(t)){t=t.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.tag(t)){t=t.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.link(t)){t=t.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(h.raw.length);const g=n.at(-1);h.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=h.raw,g.text+=h.text):n.push(h);continue}if(h=this.tokenizer.emStrong(t,i,c)){t=t.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.codespan(t)){t=t.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.br(t)){t=t.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.del(t)){t=t.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.autolink(t)){t=t.substring(h.raw.length),n.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(t))){t=t.substring(h.raw.length),n.push(h);continue}let p=t;if((l=this.options.extensions)!=null&&l.startInline){let g=1/0;const f=t.slice(1);let b;this.options.extensions.startInline.forEach(y=>{b=y.call({lexer:this},f),typeof b=="number"&&b>=0&&(g=Math.min(g,b))}),g<1/0&&g>=0&&(p=t.substring(0,g+1))}if(h=this.tokenizer.inlineText(p)){t=t.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(c=h.raw.slice(-1)),r=!0;const g=n.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=h.raw,g.text+=h.text):n.push(h);continue}if(t){const g="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}},st=class{constructor(e){j(this,"options");j(this,"parser");this.options=e||he}space(e){return""}code({text:e,lang:t,escaped:n}){var r;const i=(r=(t||"").match(se.notSpaceStart))==null?void 0:r[0],s=e.replace(se.endingNewline,"")+`
`;return i?'<pre><code class="language-'+fe(i)+'">'+(n?s:fe(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:fe(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let i="";for(let c=0;c<e.items.length;c++){const o=e.items[c];i+=this.listitem(o)}const s=t?"ol":"ul",r=t&&n!==1?' start="'+n+'"':"";return"<"+s+r+`>
`+i+"</"+s+`>
`}listitem(e){var n;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+fe(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let i="";for(let s=0;s<e.rows.length;s++){const r=e.rows[s];n="";for(let c=0;c<r.length;c++)n+=this.tablecell(r[c]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${fe(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const i=this.parser.parseInline(n),s=dn(e);if(s===null)return i;e=s;let r='<a href="'+e+'"';return t&&(r+=' title="'+fe(t)+'"'),r+=">"+i+"</a>",r}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));const s=dn(e);if(s===null)return fe(n);e=s;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${fe(t)}"`),r+=">",r}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:fe(e.text)}},Lt=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},_e=class Qt{constructor(t){j(this,"options");j(this,"renderer");j(this,"textRenderer");this.options=t||he,this.options.renderer=this.options.renderer||new st,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Lt}static parse(t,n){return new Qt(n).parse(t)}static parseInline(t,n){return new Qt(n).parseInline(t)}parse(t,n=!0){var s,r;let i="";for(let c=0;c<t.length;c++){const o=t[c];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[o.type]){const l=o,h=this.options.extensions.renderers[l.type].call({parser:this},l);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){i+=h||"";continue}}const u=o;switch(u.type){case"space":{i+=this.renderer.space(u);continue}case"hr":{i+=this.renderer.hr(u);continue}case"heading":{i+=this.renderer.heading(u);continue}case"code":{i+=this.renderer.code(u);continue}case"table":{i+=this.renderer.table(u);continue}case"blockquote":{i+=this.renderer.blockquote(u);continue}case"list":{i+=this.renderer.list(u);continue}case"html":{i+=this.renderer.html(u);continue}case"paragraph":{i+=this.renderer.paragraph(u);continue}case"text":{let l=u,h=this.renderer.text(l);for(;c+1<t.length&&t[c+1].type==="text";)l=t[++c],h+=`
`+this.renderer.text(l);n?i+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):i+=h;continue}default:{const l='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}parseInline(t,n=this.renderer){var s,r;let i="";for(let c=0;c<t.length;c++){const o=t[c];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[o.type]){const l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=l||"";continue}}const u=o;switch(u.type){case"escape":{i+=n.text(u);break}case"html":{i+=n.html(u);break}case"link":{i+=n.link(u);break}case"image":{i+=n.image(u);break}case"strong":{i+=n.strong(u);break}case"em":{i+=n.em(u);break}case"codespan":{i+=n.codespan(u);break}case"br":{i+=n.br(u);break}case"del":{i+=n.del(u);break}case"text":{i+=n.text(u);break}default:{const l='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}},rt=(Ft=class{constructor(e){j(this,"options");j(this,"block");this.options=e||he}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ke.lex:ke.lexInline}provideParser(){return this.block?_e.parse:_e.parseInline}},j(Ft,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Ft),bn=class{constructor(...e){j(this,"defaults",ie());j(this,"options",this.setOptions);j(this,"parse",this.parseMarkdown(!0));j(this,"parseInline",this.parseMarkdown(!1));j(this,"Parser",_e);j(this,"Renderer",st);j(this,"TextRenderer",Lt);j(this,"Lexer",ke);j(this,"Tokenizer",it);j(this,"Hooks",rt);this.use(...e)}walkTokens(e,t){var i,s;let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const c=r;for(const o of c.header)n=n.concat(this.walkTokens(o.tokens,t));for(const o of c.rows)for(const u of o)n=n.concat(this.walkTokens(u.tokens,t));break}case"list":{const c=r;n=n.concat(this.walkTokens(c.items,t));break}default:{const c=r;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[c.type]?this.defaults.extensions.childTokens[c.type].forEach(o=>{const u=c[o].flat(1/0);n=n.concat(this.walkTokens(u,t))}):c.tokens&&(n=n.concat(this.walkTokens(c.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const r=t.renderers[s.name];r?t.renderers[s.name]=function(...c){let o=s.renderer.apply(this,c);return o===!1&&(o=r.apply(this,c)),o}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=t[s.level];r?r.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),n.renderer){const s=this.defaults.renderer||new st(this.defaults);for(const r in n.renderer){if(!(r in s))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const c=r,o=n.renderer[c],u=s[c];s[c]=(...l)=>{let h=o.apply(s,l);return h===!1&&(h=u.apply(s,l)),h||""}}i.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new it(this.defaults);for(const r in n.tokenizer){if(!(r in s))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const c=r,o=n.tokenizer[c],u=s[c];s[c]=(...l)=>{let h=o.apply(s,l);return h===!1&&(h=u.apply(s,l)),h}}i.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new rt;for(const r in n.hooks){if(!(r in s))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const c=r,o=n.hooks[c],u=s[c];rt.passThroughHooks.has(r)?s[c]=l=>{if(this.defaults.async)return Promise.resolve(o.call(s,l)).then(p=>u.call(s,p));const h=o.call(s,l);return u.call(s,h)}:s[c]=(...l)=>{let h=o.apply(s,l);return h===!1&&(h=u.apply(s,l)),h}}i.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,r=n.walkTokens;i.walkTokens=function(c){let o=[];return o.push(r.call(this,c)),s&&(o=o.concat(s.call(this,c))),o}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ke.lex(e,t??this.defaults)}parser(e,t){return _e.parse(e,t??this.defaults)}parseMarkdown(e){return(n,i)=>{const s={...i},r={...this.defaults,...s},c=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&s.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=e);const o=r.hooks?r.hooks.provideLexer():e?ke.lex:ke.lexInline,u=r.hooks?r.hooks.provideParser():e?_e.parse:_e.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(l=>o(l,r)).then(l=>r.hooks?r.hooks.processAllTokens(l):l).then(l=>r.walkTokens?Promise.all(this.walkTokens(l,r.walkTokens)).then(()=>l):l).then(l=>u(l,r)).then(l=>r.hooks?r.hooks.postprocess(l):l).catch(c);try{r.hooks&&(n=r.hooks.preprocess(n));let l=o(n,r);r.hooks&&(l=r.hooks.processAllTokens(l)),r.walkTokens&&this.walkTokens(l,r.walkTokens);let h=u(l,r);return r.hooks&&(h=r.hooks.postprocess(h)),h}catch(l){return c(l)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+fe(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}},Le=new bn;function z(e,t){return Le.parse(e,t)}z.options=z.setOptions=function(e){return Le.setOptions(e),z.defaults=Le.defaults,Jt(z.defaults),z},z.getDefaults=ie,z.defaults=he,z.use=function(...e){return Le.use(...e),z.defaults=Le.defaults,Jt(z.defaults),z},z.walkTokens=function(e,t){return Le.walkTokens(e,t)},z.parseInline=Le.parseInline,z.Parser=_e,z.parser=_e.parse,z.Renderer=st,z.TextRenderer=Lt,z.Lexer=ke,z.lexer=ke.lex,z.Tokenizer=it,z.Hooks=rt,z.parse=z,z.options,z.setOptions,z.use,z.walkTokens,z.parseInline,_e.parse,ke.lex;function Yi(e){if(typeof e=="function"&&(e={highlight:e}),!e||typeof e.highlight!="function")throw new Error("Must provide highlight function");return typeof e.langPrefix!="string"&&(e.langPrefix="language-"),typeof e.emptyLangClass!="string"&&(e.emptyLangClass=""),{async:!!e.async,walkTokens(t){if(t.type!=="code")return;const n=mn(t.lang);if(e.async)return Promise.resolve(e.highlight(t.text,n,t.lang||"")).then(xn(t));const i=e.highlight(t.text,n,t.lang||"");if(i instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");xn(t)(i)},useNewRenderer:!0,renderer:{code(t,n,i){typeof t=="object"&&(i=t.escaped,n=t.lang,t=t.text);const s=mn(n),r=s?e.langPrefix+_n(s):e.emptyLangClass,c=r?` class="${r}"`:"";return t=t.replace(/\n$/,""),`<pre><code${c}>${i?t:_n(t,!0)}
</code></pre>`}}}}function mn(e){return(e||"").match(/\S*/)[0]}function xn(e){return t=>{typeof t=="string"&&t!==e.text&&(e.escaped=!0,e.text=t)}}const wn=/[&<>"']/,Xi=new RegExp(wn.source,"g"),yn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Vi=new RegExp(yn.source,"g"),Qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kn=e=>Qi[e];function _n(e,t){if(t){if(wn.test(e))return e.replace(Xi,kn)}else if(yn.test(e))return e.replace(Vi,kn);return e}function Ji(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var It,En;function es(){if(En)return It;En=1;function e(a){return a instanceof Map?a.clear=a.delete=a.set=function(){throw new Error("map is read-only")}:a instanceof Set&&(a.add=a.clear=a.delete=function(){throw new Error("set is read-only")}),Object.freeze(a),Object.getOwnPropertyNames(a).forEach(d=>{const x=a[d],A=typeof x;(A==="object"||A==="function")&&!Object.isFrozen(x)&&e(x)}),a}class t{constructor(d){d.data===void 0&&(d.data={}),this.data=d.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(a,...d){const x=Object.create(null);for(const A in a)x[A]=a[A];return d.forEach(function(A){for(const K in A)x[K]=A[K]}),x}const s="</span>",r=a=>!!a.scope,c=(a,{prefix:d})=>{if(a.startsWith("language:"))return a.replace("language:","language-");if(a.includes(".")){const x=a.split(".");return[`${d}${x.shift()}`,...x.map((A,K)=>`${A}${"_".repeat(K+1)}`)].join(" ")}return`${d}${a}`};class o{constructor(d,x){this.buffer="",this.classPrefix=x.classPrefix,d.walk(this)}addText(d){this.buffer+=n(d)}openNode(d){if(!r(d))return;const x=c(d.scope,{prefix:this.classPrefix});this.span(x)}closeNode(d){r(d)&&(this.buffer+=s)}value(){return this.buffer}span(d){this.buffer+=`<span class="${d}">`}}const u=(a={})=>{const d={children:[]};return Object.assign(d,a),d};class l{constructor(){this.rootNode=u(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(d){this.top.children.push(d)}openNode(d){const x=u({scope:d});this.add(x),this.stack.push(x)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(d){return this.constructor._walk(d,this.rootNode)}static _walk(d,x){return typeof x=="string"?d.addText(x):x.children&&(d.openNode(x),x.children.forEach(A=>this._walk(d,A)),d.closeNode(x)),d}static _collapse(d){typeof d!="string"&&d.children&&(d.children.every(x=>typeof x=="string")?d.children=[d.children.join("")]:d.children.forEach(x=>{l._collapse(x)}))}}class h extends l{constructor(d){super(),this.options=d}addText(d){d!==""&&this.add(d)}startScope(d){this.openNode(d)}endScope(){this.closeNode()}__addSublanguage(d,x){const A=d.root;x&&(A.scope=`language:${x}`),this.add(A)}toHTML(){return new o(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function p(a){return a?typeof a=="string"?a:a.source:null}function g(a){return y("(?=",a,")")}function f(a){return y("(?:",a,")*")}function b(a){return y("(?:",a,")?")}function y(...a){return a.map(x=>p(x)).join("")}function R(a){const d=a[a.length-1];return typeof d=="object"&&d.constructor===Object?(a.splice(a.length-1,1),d):{}}function S(...a){return"("+(R(a).capture?"":"?:")+a.map(A=>p(A)).join("|")+")"}function O(a){return new RegExp(a.toString()+"|").exec("").length-1}function D(a,d){const x=a&&a.exec(d);return x&&x.index===0}const H=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function C(a,{joinWith:d}){let x=0;return a.map(A=>{x+=1;const K=x;let W=p(A),_="";for(;W.length>0;){const k=H.exec(W);if(!k){_+=W;break}_+=W.substring(0,k.index),W=W.substring(k.index+k[0].length),k[0][0]==="\\"&&k[1]?_+="\\"+String(Number(k[1])+K):(_+=k[0],k[0]==="("&&x++)}return _}).map(A=>`(${A})`).join(d)}const U=/\b\B/,Y="[a-zA-Z]\\w*",X="[a-zA-Z_]\\w*",V="\\b\\d+(\\.\\d+)?",re="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ve="\\b(0b[01]+)",Oe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Se=(a={})=>{const d=/^#![ ]*\//;return a.binary&&(a.begin=y(d,/.*\b/,a.binary,/\b.*/)),i({scope:"meta",begin:d,end:/$/,relevance:0,"on:begin":(x,A)=>{x.index!==0&&A.ignoreMatch()}},a)},J={begin:"\\\\[\\s\\S]",relevance:0},xe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[J]},ce={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[J]},q={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},I=function(a,d,x={}){const A=i({scope:"comment",begin:a,end:d,contains:[]},x);A.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const K=S("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return A.contains.push({begin:y(/[ ]+/,"(",K,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),A},$=I("//","$"),Te=I("/\\*","\\*/"),je=I("#","$"),Ve={scope:"number",begin:V,relevance:0},mt={scope:"number",begin:re,relevance:0},dr={scope:"number",begin:ve,relevance:0},pr={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[J,{begin:/\[/,end:/\]/,relevance:0,contains:[J]}]},fr={scope:"title",begin:Y,relevance:0},br={scope:"title",begin:X,relevance:0},mr={begin:"\\.\\s*"+X,relevance:0};var xt=Object.freeze({__proto__:null,APOS_STRING_MODE:xe,BACKSLASH_ESCAPE:J,BINARY_NUMBER_MODE:dr,BINARY_NUMBER_RE:ve,COMMENT:I,C_BLOCK_COMMENT_MODE:Te,C_LINE_COMMENT_MODE:$,C_NUMBER_MODE:mt,C_NUMBER_RE:re,END_SAME_AS_BEGIN:function(a){return Object.assign(a,{"on:begin":(d,x)=>{x.data._beginMatch=d[1]},"on:end":(d,x)=>{x.data._beginMatch!==d[1]&&x.ignoreMatch()}})},HASH_COMMENT_MODE:je,IDENT_RE:Y,MATCH_NOTHING_RE:U,METHOD_GUARD:mr,NUMBER_MODE:Ve,NUMBER_RE:V,PHRASAL_WORDS_MODE:q,QUOTE_STRING_MODE:ce,REGEXP_MODE:pr,RE_STARTERS_RE:Oe,SHEBANG:Se,TITLE_MODE:fr,UNDERSCORE_IDENT_RE:X,UNDERSCORE_TITLE_MODE:br});function xr(a,d){a.input[a.index-1]==="."&&d.ignoreMatch()}function wr(a,d){a.className!==void 0&&(a.scope=a.className,delete a.className)}function yr(a,d){d&&a.beginKeywords&&(a.begin="\\b("+a.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",a.__beforeBegin=xr,a.keywords=a.keywords||a.beginKeywords,delete a.beginKeywords,a.relevance===void 0&&(a.relevance=0))}function kr(a,d){Array.isArray(a.illegal)&&(a.illegal=S(...a.illegal))}function _r(a,d){if(a.match){if(a.begin||a.end)throw new Error("begin & end are not supported with match");a.begin=a.match,delete a.match}}function Er(a,d){a.relevance===void 0&&(a.relevance=1)}const vr=(a,d)=>{if(!a.beforeMatch)return;if(a.starts)throw new Error("beforeMatch cannot be used with starts");const x=Object.assign({},a);Object.keys(a).forEach(A=>{delete a[A]}),a.keywords=x.keywords,a.begin=y(x.beforeMatch,g(x.begin)),a.starts={relevance:0,contains:[Object.assign(x,{endsParent:!0})]},a.relevance=0,delete x.beforeMatch},Sr=["of","and","for","in","not","or","if","then","parent","list","value"],Tr="keyword";function Qn(a,d,x=Tr){const A=Object.create(null);return typeof a=="string"?K(x,a.split(" ")):Array.isArray(a)?K(x,a):Object.keys(a).forEach(function(W){Object.assign(A,Qn(a[W],d,W))}),A;function K(W,_){d&&(_=_.map(k=>k.toLowerCase())),_.forEach(function(k){const T=k.split("|");A[T[0]]=[W,Rr(T[0],T[1])]})}}function Rr(a,d){return d?Number(d):Ar(a)?0:1}function Ar(a){return Sr.includes(a.toLowerCase())}const Jn={},De=a=>{console.error(a)},ei=(a,...d)=>{console.log(`WARN: ${a}`,...d)},Fe=(a,d)=>{Jn[`${a}/${d}`]||(console.log(`Deprecated as of ${a}. ${d}`),Jn[`${a}/${d}`]=!0)},wt=new Error;function ti(a,d,{key:x}){let A=0;const K=a[x],W={},_={};for(let k=1;k<=d.length;k++)_[k+A]=K[k],W[k+A]=!0,A+=O(d[k-1]);a[x]=_,a[x]._emit=W,a[x]._multi=!0}function Nr(a){if(Array.isArray(a.begin)){if(a.skip||a.excludeBegin||a.returnBegin)throw De("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),wt;if(typeof a.beginScope!="object"||a.beginScope===null)throw De("beginScope must be object"),wt;ti(a,a.begin,{key:"beginScope"}),a.begin=C(a.begin,{joinWith:""})}}function Or(a){if(Array.isArray(a.end)){if(a.skip||a.excludeEnd||a.returnEnd)throw De("skip, excludeEnd, returnEnd not compatible with endScope: {}"),wt;if(typeof a.endScope!="object"||a.endScope===null)throw De("endScope must be object"),wt;ti(a,a.end,{key:"endScope"}),a.end=C(a.end,{joinWith:""})}}function Cr(a){a.scope&&typeof a.scope=="object"&&a.scope!==null&&(a.beginScope=a.scope,delete a.scope)}function Mr(a){Cr(a),typeof a.beginScope=="string"&&(a.beginScope={_wrap:a.beginScope}),typeof a.endScope=="string"&&(a.endScope={_wrap:a.endScope}),Nr(a),Or(a)}function Lr(a){function d(_,k){return new RegExp(p(_),"m"+(a.case_insensitive?"i":"")+(a.unicodeRegex?"u":"")+(k?"g":""))}class x{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(k,T){T.position=this.position++,this.matchIndexes[this.matchAt]=T,this.regexes.push([T,k]),this.matchAt+=O(k)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const k=this.regexes.map(T=>T[1]);this.matcherRe=d(C(k,{joinWith:"|"}),!0),this.lastIndex=0}exec(k){this.matcherRe.lastIndex=this.lastIndex;const T=this.matcherRe.exec(k);if(!T)return null;const ee=T.findIndex((Qe,qt)=>qt>0&&Qe!==void 0),Z=this.matchIndexes[ee];return T.splice(0,ee),Object.assign(T,Z)}}class A{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(k){if(this.multiRegexes[k])return this.multiRegexes[k];const T=new x;return this.rules.slice(k).forEach(([ee,Z])=>T.addRule(ee,Z)),T.compile(),this.multiRegexes[k]=T,T}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(k,T){this.rules.push([k,T]),T.type==="begin"&&this.count++}exec(k){const T=this.getMatcher(this.regexIndex);T.lastIndex=this.lastIndex;let ee=T.exec(k);if(this.resumingScanAtSamePosition()&&!(ee&&ee.index===this.lastIndex)){const Z=this.getMatcher(0);Z.lastIndex=this.lastIndex+1,ee=Z.exec(k)}return ee&&(this.regexIndex+=ee.position+1,this.regexIndex===this.count&&this.considerAll()),ee}}function K(_){const k=new A;return _.contains.forEach(T=>k.addRule(T.begin,{rule:T,type:"begin"})),_.terminatorEnd&&k.addRule(_.terminatorEnd,{type:"end"}),_.illegal&&k.addRule(_.illegal,{type:"illegal"}),k}function W(_,k){const T=_;if(_.isCompiled)return T;[wr,_r,Mr,vr].forEach(Z=>Z(_,k)),a.compilerExtensions.forEach(Z=>Z(_,k)),_.__beforeBegin=null,[yr,kr,Er].forEach(Z=>Z(_,k)),_.isCompiled=!0;let ee=null;return typeof _.keywords=="object"&&_.keywords.$pattern&&(_.keywords=Object.assign({},_.keywords),ee=_.keywords.$pattern,delete _.keywords.$pattern),ee=ee||/\w+/,_.keywords&&(_.keywords=Qn(_.keywords,a.case_insensitive)),T.keywordPatternRe=d(ee,!0),k&&(_.begin||(_.begin=/\B|\b/),T.beginRe=d(T.begin),!_.end&&!_.endsWithParent&&(_.end=/\B|\b/),_.end&&(T.endRe=d(T.end)),T.terminatorEnd=p(T.end)||"",_.endsWithParent&&k.terminatorEnd&&(T.terminatorEnd+=(_.end?"|":"")+k.terminatorEnd)),_.illegal&&(T.illegalRe=d(_.illegal)),_.contains||(_.contains=[]),_.contains=[].concat(..._.contains.map(function(Z){return Ir(Z==="self"?_:Z)})),_.contains.forEach(function(Z){W(Z,T)}),_.starts&&W(_.starts,k),T.matcher=K(T),T}if(a.compilerExtensions||(a.compilerExtensions=[]),a.contains&&a.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return a.classNameAliases=i(a.classNameAliases||{}),W(a)}function ni(a){return a?a.endsWithParent||ni(a.starts):!1}function Ir(a){return a.variants&&!a.cachedVariants&&(a.cachedVariants=a.variants.map(function(d){return i(a,{variants:null},d)})),a.cachedVariants?a.cachedVariants:ni(a)?i(a,{starts:a.starts?i(a.starts):null}):Object.isFrozen(a)?i(a):a}var Dr="11.11.1";class Br extends Error{constructor(d,x){super(d),this.name="HTMLInjectionError",this.html=x}}const Gt=n,ii=i,si=Symbol("nomatch"),$r=7,ri=function(a){const d=Object.create(null),x=Object.create(null),A=[];let K=!0;const W="Could not find the language '{}', did you forget to load/include a language module?",_={disableAutodetect:!0,name:"Plain text",contains:[]};let k={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:h};function T(m){return k.noHighlightRe.test(m)}function ee(m){let v=m.className+" ";v+=m.parentNode?m.parentNode.className:"";const L=k.languageDetectRe.exec(v);if(L){const F=Ce(L[1]);return F||(ei(W.replace("{}",L[1])),ei("Falling back to no-highlight mode for this block.",m)),F?L[1]:"no-highlight"}return v.split(/\s+/).find(F=>T(F)||Ce(F))}function Z(m,v,L){let F="",Q="";typeof v=="object"?(F=m,L=v.ignoreIllegals,Q=v.language):(Fe("10.7.0","highlight(lang, code, ...args) has been deprecated."),Fe("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Q=m,F=v),L===void 0&&(L=!0);const pe={code:F,language:Q};kt("before:highlight",pe);const Me=pe.result?pe.result:Qe(pe.language,pe.code,L);return Me.code=pe.code,kt("after:highlight",Me),Me}function Qe(m,v,L,F){const Q=Object.create(null);function pe(w,E){return w.keywords[E]}function Me(){if(!N.keywords){te.addText(G);return}let w=0;N.keywordPatternRe.lastIndex=0;let E=N.keywordPatternRe.exec(G),M="";for(;E;){M+=G.substring(w,E.index);const P=ye.case_insensitive?E[0].toLowerCase():E[0],ne=pe(N,P);if(ne){const[Re,eo]=ne;if(te.addText(M),M="",Q[P]=(Q[P]||0)+1,Q[P]<=$r&&(vt+=eo),Re.startsWith("_"))M+=E[0];else{const to=ye.classNameAliases[Re]||Re;we(E[0],to)}}else M+=E[0];w=N.keywordPatternRe.lastIndex,E=N.keywordPatternRe.exec(G)}M+=G.substring(w),te.addText(M)}function _t(){if(G==="")return;let w=null;if(typeof N.subLanguage=="string"){if(!d[N.subLanguage]){te.addText(G);return}w=Qe(N.subLanguage,G,!0,di[N.subLanguage]),di[N.subLanguage]=w._top}else w=Kt(G,N.subLanguage.length?N.subLanguage:null);N.relevance>0&&(vt+=w.relevance),te.__addSublanguage(w._emitter,w.language)}function ue(){N.subLanguage!=null?_t():Me(),G=""}function we(w,E){w!==""&&(te.startScope(E),te.addText(w),te.endScope())}function ci(w,E){let M=1;const P=E.length-1;for(;M<=P;){if(!w._emit[M]){M++;continue}const ne=ye.classNameAliases[w[M]]||w[M],Re=E[M];ne?we(Re,ne):(G=Re,Me(),G=""),M++}}function ui(w,E){return w.scope&&typeof w.scope=="string"&&te.openNode(ye.classNameAliases[w.scope]||w.scope),w.beginScope&&(w.beginScope._wrap?(we(G,ye.classNameAliases[w.beginScope._wrap]||w.beginScope._wrap),G=""):w.beginScope._multi&&(ci(w.beginScope,E),G="")),N=Object.create(w,{parent:{value:N}}),N}function hi(w,E,M){let P=D(w.endRe,M);if(P){if(w["on:end"]){const ne=new t(w);w["on:end"](E,ne),ne.isMatchIgnored&&(P=!1)}if(P){for(;w.endsParent&&w.parent;)w=w.parent;return w}}if(w.endsWithParent)return hi(w.parent,E,M)}function Yr(w){return N.matcher.regexIndex===0?(G+=w[0],1):(Xt=!0,0)}function Xr(w){const E=w[0],M=w.rule,P=new t(M),ne=[M.__beforeBegin,M["on:begin"]];for(const Re of ne)if(Re&&(Re(w,P),P.isMatchIgnored))return Yr(E);return M.skip?G+=E:(M.excludeBegin&&(G+=E),ue(),!M.returnBegin&&!M.excludeBegin&&(G=E)),ui(M,w),M.returnBegin?0:E.length}function Vr(w){const E=w[0],M=v.substring(w.index),P=hi(N,w,M);if(!P)return si;const ne=N;N.endScope&&N.endScope._wrap?(ue(),we(E,N.endScope._wrap)):N.endScope&&N.endScope._multi?(ue(),ci(N.endScope,w)):ne.skip?G+=E:(ne.returnEnd||ne.excludeEnd||(G+=E),ue(),ne.excludeEnd&&(G=E));do N.scope&&te.closeNode(),!N.skip&&!N.subLanguage&&(vt+=N.relevance),N=N.parent;while(N!==P.parent);return P.starts&&ui(P.starts,w),ne.returnEnd?0:E.length}function Qr(){const w=[];for(let E=N;E!==ye;E=E.parent)E.scope&&w.unshift(E.scope);w.forEach(E=>te.openNode(E))}let Et={};function gi(w,E){const M=E&&E[0];if(G+=w,M==null)return ue(),0;if(Et.type==="begin"&&E.type==="end"&&Et.index===E.index&&M===""){if(G+=v.slice(E.index,E.index+1),!K){const P=new Error(`0 width match regex (${m})`);throw P.languageName=m,P.badRule=Et.rule,P}return 1}if(Et=E,E.type==="begin")return Xr(E);if(E.type==="illegal"&&!L){const P=new Error('Illegal lexeme "'+M+'" for mode "'+(N.scope||"<unnamed>")+'"');throw P.mode=N,P}else if(E.type==="end"){const P=Vr(E);if(P!==si)return P}if(E.type==="illegal"&&M==="")return G+=`
`,1;if(Yt>1e5&&Yt>E.index*3)throw new Error("potential infinite loop, way more iterations than matches");return G+=M,M.length}const ye=Ce(m);if(!ye)throw De(W.replace("{}",m)),new Error('Unknown language: "'+m+'"');const Jr=Lr(ye);let Zt="",N=F||Jr;const di={},te=new k.__emitter(k);Qr();let G="",vt=0,Be=0,Yt=0,Xt=!1;try{if(ye.__emitTokens)ye.__emitTokens(v,te);else{for(N.matcher.considerAll();;){Yt++,Xt?Xt=!1:N.matcher.considerAll(),N.matcher.lastIndex=Be;const w=N.matcher.exec(v);if(!w)break;const E=v.substring(Be,w.index),M=gi(E,w);Be=w.index+M}gi(v.substring(Be))}return te.finalize(),Zt=te.toHTML(),{language:m,value:Zt,relevance:vt,illegal:!1,_emitter:te,_top:N}}catch(w){if(w.message&&w.message.includes("Illegal"))return{language:m,value:Gt(v),illegal:!0,relevance:0,_illegalBy:{message:w.message,index:Be,context:v.slice(Be-100,Be+100),mode:w.mode,resultSoFar:Zt},_emitter:te};if(K)return{language:m,value:Gt(v),illegal:!1,relevance:0,errorRaised:w,_emitter:te,_top:N};throw w}}function qt(m){const v={value:Gt(m),illegal:!1,relevance:0,_top:_,_emitter:new k.__emitter(k)};return v._emitter.addText(m),v}function Kt(m,v){v=v||k.languages||Object.keys(d);const L=qt(m),F=v.filter(Ce).filter(li).map(ue=>Qe(ue,m,!1));F.unshift(L);const Q=F.sort((ue,we)=>{if(ue.relevance!==we.relevance)return we.relevance-ue.relevance;if(ue.language&&we.language){if(Ce(ue.language).supersetOf===we.language)return 1;if(Ce(we.language).supersetOf===ue.language)return-1}return 0}),[pe,Me]=Q,_t=pe;return _t.secondBest=Me,_t}function Pr(m,v,L){const F=v&&x[v]||L;m.classList.add("hljs"),m.classList.add(`language-${F}`)}function Wt(m){let v=null;const L=ee(m);if(T(L))return;if(kt("before:highlightElement",{el:m,language:L}),m.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",m);return}if(m.children.length>0&&(k.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(m)),k.throwUnescapedHTML))throw new Br("One of your code blocks includes unescaped HTML.",m.innerHTML);v=m;const F=v.textContent,Q=L?Z(F,{language:L,ignoreIllegals:!0}):Kt(F);m.innerHTML=Q.value,m.dataset.highlighted="yes",Pr(m,L,Q.language),m.result={language:Q.language,re:Q.relevance,relevance:Q.relevance},Q.secondBest&&(m.secondBest={language:Q.secondBest.language,relevance:Q.secondBest.relevance}),kt("after:highlightElement",{el:m,result:Q,text:F})}function zr(m){k=ii(k,m)}const Hr=()=>{yt(),Fe("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Ur(){yt(),Fe("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let oi=!1;function yt(){function m(){yt()}if(document.readyState==="loading"){oi||window.addEventListener("DOMContentLoaded",m,!1),oi=!0;return}document.querySelectorAll(k.cssSelector).forEach(Wt)}function jr(m,v){let L=null;try{L=v(a)}catch(F){if(De("Language definition for '{}' could not be registered.".replace("{}",m)),K)De(F);else throw F;L=_}L.name||(L.name=m),d[m]=L,L.rawDefinition=v.bind(null,a),L.aliases&&ai(L.aliases,{languageName:m})}function Fr(m){delete d[m];for(const v of Object.keys(x))x[v]===m&&delete x[v]}function Gr(){return Object.keys(d)}function Ce(m){return m=(m||"").toLowerCase(),d[m]||d[x[m]]}function ai(m,{languageName:v}){typeof m=="string"&&(m=[m]),m.forEach(L=>{x[L.toLowerCase()]=v})}function li(m){const v=Ce(m);return v&&!v.disableAutodetect}function qr(m){m["before:highlightBlock"]&&!m["before:highlightElement"]&&(m["before:highlightElement"]=v=>{m["before:highlightBlock"](Object.assign({block:v.el},v))}),m["after:highlightBlock"]&&!m["after:highlightElement"]&&(m["after:highlightElement"]=v=>{m["after:highlightBlock"](Object.assign({block:v.el},v))})}function Kr(m){qr(m),A.push(m)}function Wr(m){const v=A.indexOf(m);v!==-1&&A.splice(v,1)}function kt(m,v){const L=m;A.forEach(function(F){F[L]&&F[L](v)})}function Zr(m){return Fe("10.7.0","highlightBlock will be removed entirely in v12.0"),Fe("10.7.0","Please use highlightElement now."),Wt(m)}Object.assign(a,{highlight:Z,highlightAuto:Kt,highlightAll:yt,highlightElement:Wt,highlightBlock:Zr,configure:zr,initHighlighting:Hr,initHighlightingOnLoad:Ur,registerLanguage:jr,unregisterLanguage:Fr,listLanguages:Gr,getLanguage:Ce,registerAliases:ai,autoDetection:li,inherit:ii,addPlugin:Kr,removePlugin:Wr}),a.debugMode=function(){K=!1},a.safeMode=function(){K=!0},a.versionString=Dr,a.regex={concat:y,lookahead:g,either:S,optional:b,anyNumberOfTimes:f};for(const m in xt)typeof xt[m]=="object"&&e(xt[m]);return Object.assign(a,xt),a},Ge=ri({});return Ge.newInstance=()=>ri({}),It=Ge,Ge.HighlightJS=Ge,Ge.default=Ge,It}var ts=es();const oe=Ji(ts),vn="[A-Za-z$_][0-9A-Za-z$_]*",ns=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],is=["true","false","null","undefined","NaN","Infinity"],Sn=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Tn=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Rn=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],ss=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],rs=[].concat(Rn,Sn,Tn);function os(e){const t=e.regex,n=(I,{after:$})=>{const Te="</"+I[0].slice(1);return I.input.indexOf(Te,$)!==-1},i=vn,s={begin:"<>",end:"</>"},r=/<[A-Za-z0-9\\._:-]+\s*\/>/,c={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,$)=>{const Te=I[0].length+I.index,je=I.input[Te];if(je==="<"||je===","){$.ignoreMatch();return}je===">"&&(n(I,{after:Te})||$.ignoreMatch());let Ve;const mt=I.input.substring(Te);if(Ve=mt.match(/^\s*=/)){$.ignoreMatch();return}if((Ve=mt.match(/^\s+extends\s+/))&&Ve.index===0){$.ignoreMatch();return}}},o={$pattern:vn,keyword:ns,literal:is,built_in:rs,"variable.language":ss},u="[0-9](_?[0-9])*",l=`\\.(${u})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${h})((${l})|\\.)?|(${l}))[eE][+-]?(${u})\\b`},{begin:`\\b(${h})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},b={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},y={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},R={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},O={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},D=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,b,y,R,{match:/\$\d+/},p];g.contains=D.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(D)});const H=[].concat(O,g.contains),C=H.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(H)}]),U={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:C},Y={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,t.concat(i,"(",t.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},X={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Sn,...Tn]}},V={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},re={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[U],illegal:/%/},ve={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Oe(I){return t.concat("(?!",I.join("|"),")")}const Se={match:t.concat(/\b/,Oe([...Rn,"super","import"].map(I=>`${I}\\s*\\(`)),i,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},J={begin:t.concat(/\./,t.lookahead(t.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},xe={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},U]},ce="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",q={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(ce)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[U]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:X},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),V,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,b,y,R,O,{match:/\$\d+/},p,X,{scope:"attr",match:i+t.lookahead(":"),relevance:0},q,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[O,e.REGEXP_MODE,{className:"function",begin:ce,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:r},{begin:c.begin,"on:begin":c.isTrulyOpeningTag,end:c.end}],subLanguage:"xml",contains:[{begin:c.begin,end:c.end,skip:!0,contains:["self"]}]}]},re,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[U,e.inherit(e.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},J,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[U]},Se,ve,Y,xe,{match:/\$[(.]/}]}}const as=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),ls=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],cs=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],us=[...ls,...cs],hs=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),gs=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),ds=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ps=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function fs(e){const t=e.regex,n=as(e),i={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s="and or not only",r=/@-?\w[\w]*(-\w+)*/,c="[a-zA-Z-][a-zA-Z0-9_-]*",o=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,i,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+c,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+gs.join("|")+")"},{begin:":(:)?("+ds.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ps.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:r},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:hs.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+us.join("|")+")\\b"}]}}var $e="[0-9](_*[0-9])*",ot=`\\.(${$e})`,at="[0-9a-fA-F](_*[0-9a-fA-F])*",An={className:"number",variants:[{begin:`(\\b(${$e})((${ot})|\\.)?|(${ot}))[eE][+-]?(${$e})[fFdD]?\\b`},{begin:`\\b(${$e})((${ot})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ot})[fFdD]?\\b`},{begin:`\\b(${$e})[fFdD]\\b`},{begin:`\\b0[xX]((${at})\\.?|(${at})?\\.(${at}))[pP][+-]?(${$e})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${at})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Nn(e,t,n){return n===-1?"":e.replace(t,i=>Nn(e,t,n-1))}function bs(e){const t=e.regex,n="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",i=n+Nn("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),u={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},l={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},h={className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:u,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+i+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:u,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[l,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,An,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},An,l]}}function ms(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),i=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:i,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},u={className:"meta",begin:/^(>>>|\.\.\.) /},l={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},h={begin:/\{\{/,relevance:0},p={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,u,h,l]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,u,h,l]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,h,l]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,h,l]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},g="[0-9](_?[0-9])*",f=`(\\b(${g}))?\\.(${g})|\\b(${g})\\.`,b=`\\b|${i.join("|")}`,y={className:"number",relevance:0,variants:[{begin:`(\\b(${g})|(${f}))[eE][+-]?(${g})[jJ]?(?=${b})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${b})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${b})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${b})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${b})`},{begin:`\\b(${g})[jJ](?=${b})`}]},R={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},S={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",u,y,p,e.HASH_COMMENT_MODE]}]};return l.contains=[p,y,u],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[u,y,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},p,R,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[S]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[y,S,p]}]}}function xs(e){const r={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:r,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:r,illegal:/["']/}]}]}}function Dt(e,t={}){return t.variants=e,t}function ws(e){const t=e.regex,n="[A-Za-z0-9_$]+",i=Dt([e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]})]),s={className:"regexp",begin:/~?\/[^\/\n]+\//,contains:[e.BACKSLASH_ESCAPE]},r=Dt([e.BINARY_NUMBER_MODE,e.C_NUMBER_MODE]),c=Dt([{begin:/"""/,end:/"""/},{begin:/'''/,end:/'''/},{begin:"\\$/",end:"/\\$",relevance:10},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE],{className:"string"}),o={match:[/(class|interface|trait|enum|record|extends|implements)/,/\s+/,e.UNDERSCORE_IDENT_RE],scope:{1:"keyword",3:"title.class"}};return{name:"Groovy",keywords:{"variable.language":"this super",literal:"true false null",type:["byte","short","char","int","long","boolean","float","double","void"],keyword:["def","as","in","assert","trait","abstract","static","volatile","transient","public","private","protected","synchronized","final","class","interface","enum","if","else","for","while","switch","case","break","default","continue","throw","throws","try","catch","finally","implements","extends","new","import","package","return","instanceof","var"]},contains:[e.SHEBANG({binary:"groovy",relevance:10}),i,c,s,r,o,{className:"meta",begin:"@[A-Za-z]+",relevance:0},{className:"attr",begin:n+"[ 	]*:",relevance:0},{begin:/\?/,end:/:/,relevance:0,contains:[i,c,s,r,"self"]},{className:"symbol",begin:"^[ 	]*"+t.lookahead(n+":"),excludeBegin:!0,end:n+":",relevance:0}],illegal:/#|<\//}}function ys(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),i=/[\p{L}0-9._:-]+/u,s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},c=e.inherit(r,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),u=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:i,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,u,o,c,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,c,u,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function ks(e){const t=e.regex,n=e.COMMENT("--","$"),i={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},s={begin:/"/,end:/"/,contains:[{match:/""/}]},r=["true","false","unknown"],c=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],u=["add","asc","collation","desc","final","first","last","view"],l=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],h=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],p=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=h,b=[...l,...u].filter(C=>!h.includes(C)),y={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},R={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},S={match:t.concat(/\b/,t.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function O(C){return t.concat(/\b/,t.either(...C.map(U=>U.replace(/\s+/,"\\s+"))),/\b/)}const D={scope:"keyword",match:O(g),relevance:0};function H(C,{exceptions:U,when:Y}={}){const X=Y;return U=U||[],C.map(V=>V.match(/\|\d+$/)||U.includes(V)?V:X(V)?`${V}|0`:V)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:H(b,{when:C=>C.length<3}),literal:r,type:o,built_in:p},contains:[{scope:"type",match:O(c)},D,S,y,i,s,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,R]}}function _s(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},i=["true","false","null"],s={scope:"literal",beginKeywords:i.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:i},contains:[t,n,e.QUOTE_STRING_MODE,s,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Es(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function vs(e){const t=e.regex,n={},i={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},i]});const s={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},r=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),c={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,s]};s.contains.push(o);const u={match:/\\"/},l={className:"string",begin:/'/,end:/'/},h={match:/\\'/},p={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},g=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=e.SHEBANG({binary:`(${g.join("|")})`,relevance:10}),b={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},y=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],R=["true","false"],S={match:/(\/[a-z._-]+)+/},O=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],D=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],H=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:y,literal:R,built_in:[...O,...D,"set","shopt",...H,...C]},contains:[f,e.SHEBANG(),b,p,r,c,S,o,u,l,h,n]}}function Ss(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}const Bt=Math.min,Pe=Math.max,lt=Math.round,be=e=>({x:e,y:e}),Ts={left:"right",right:"left",bottom:"top",top:"bottom"},Rs={start:"end",end:"start"};function On(e,t,n){return Pe(e,Bt(t,n))}function ct(e,t){return typeof e=="function"?e(t):e}function Ie(e){return e.split("-")[0]}function ut(e){return e.split("-")[1]}function Cn(e){return e==="x"?"y":"x"}function Mn(e){return e==="y"?"height":"width"}function Ae(e){return["top","bottom"].includes(Ie(e))?"y":"x"}function Ln(e){return Cn(Ae(e))}function As(e,t,n){n===void 0&&(n=!1);const i=ut(e),s=Ln(e),r=Mn(s);let c=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(c=ht(c)),[c,ht(c)]}function Ns(e){const t=ht(e);return[$t(e),t,$t(t)]}function $t(e){return e.replace(/start|end/g,t=>Rs[t])}function Os(e,t,n){const i=["left","right"],s=["right","left"],r=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?r:c;default:return[]}}function Cs(e,t,n,i){const s=ut(e);let r=Os(Ie(e),n==="start",i);return s&&(r=r.map(c=>c+"-"+s),t&&(r=r.concat(r.map($t)))),r}function ht(e){return e.replace(/left|right|bottom|top/g,t=>Ts[t])}function Ms(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ls(e){return typeof e!="number"?Ms(e):{top:e,right:e,bottom:e,left:e}}function gt(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function In(e,t,n){let{reference:i,floating:s}=e;const r=Ae(t),c=Ln(t),o=Mn(c),u=Ie(t),l=r==="y",h=i.x+i.width/2-s.width/2,p=i.y+i.height/2-s.height/2,g=i[o]/2-s[o]/2;let f;switch(u){case"top":f={x:h,y:i.y-s.height};break;case"bottom":f={x:h,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:p};break;case"left":f={x:i.x-s.width,y:p};break;default:f={x:i.x,y:i.y}}switch(ut(t)){case"start":f[c]-=g*(n&&l?-1:1);break;case"end":f[c]+=g*(n&&l?-1:1);break}return f}const Is=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:c}=n,o=r.filter(Boolean),u=await(c.isRTL==null?void 0:c.isRTL(t));let l=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:p}=In(l,i,u),g=i,f={},b=0;for(let y=0;y<o.length;y++){const{name:R,fn:S}=o[y],{x:O,y:D,data:H,reset:C}=await S({x:h,y:p,initialPlacement:i,placement:g,strategy:s,middlewareData:f,rects:l,platform:c,elements:{reference:e,floating:t}});h=O??h,p=D??p,f={...f,[R]:{...f[R],...H}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(l=C.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:h,y:p}=In(l,g,u)),y=-1)}return{x:h,y:p,placement:g,strategy:s,middlewareData:f}};async function Dn(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:r,rects:c,elements:o,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:f=0}=ct(t,e),b=Ls(f),R=o[g?p==="floating"?"reference":"floating":p],S=gt(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(R)))==null||n?R:R.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:l,rootBoundary:h,strategy:u})),O=p==="floating"?{x:i,y:s,width:c.floating.width,height:c.floating.height}:c.reference,D=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),H=await(r.isElement==null?void 0:r.isElement(D))?await(r.getScale==null?void 0:r.getScale(D))||{x:1,y:1}:{x:1,y:1},C=gt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:O,offsetParent:D,strategy:u}):O);return{top:(S.top-C.top+b.top)/H.y,bottom:(C.bottom-S.bottom+b.bottom)/H.y,left:(S.left-C.left+b.left)/H.x,right:(C.right-S.right+b.right)/H.x}}const Ds=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:r,rects:c,initialPlacement:o,platform:u,elements:l}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...R}=ct(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const S=Ie(s),O=Ae(o),D=Ie(o)===o,H=await(u.isRTL==null?void 0:u.isRTL(l.floating)),C=g||(D||!y?[ht(o)]:Ns(o)),U=b!=="none";!g&&U&&C.push(...Cs(o,y,b,H));const Y=[o,...C],X=await Dn(t,R),V=[];let re=((i=r.flip)==null?void 0:i.overflows)||[];if(h&&V.push(X[S]),p){const J=As(s,c,H);V.push(X[J[0]],X[J[1]])}if(re=[...re,{placement:s,overflows:V}],!V.every(J=>J<=0)){var ve,Oe;const J=(((ve=r.flip)==null?void 0:ve.index)||0)+1,xe=Y[J];if(xe&&(!(p==="alignment"?O!==Ae(xe):!1)||re.every(I=>I.overflows[0]>0&&Ae(I.placement)===O)))return{data:{index:J,overflows:re},reset:{placement:xe}};let ce=(Oe=re.filter(q=>q.overflows[0]<=0).sort((q,I)=>q.overflows[1]-I.overflows[1])[0])==null?void 0:Oe.placement;if(!ce)switch(f){case"bestFit":{var Se;const q=(Se=re.filter(I=>{if(U){const $=Ae(I.placement);return $===O||$==="y"}return!0}).map(I=>[I.placement,I.overflows.filter($=>$>0).reduce(($,Te)=>$+Te,0)]).sort((I,$)=>I[1]-$[1])[0])==null?void 0:Se[0];q&&(ce=q);break}case"initialPlacement":ce=o;break}if(s!==ce)return{reset:{placement:ce}}}return{}}}};async function Bs(e,t){const{placement:n,platform:i,elements:s}=e,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),c=Ie(n),o=ut(n),u=Ae(n)==="y",l=["left","top"].includes(c)?-1:1,h=r&&u?-1:1,p=ct(t,e);let{mainAxis:g,crossAxis:f,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof b=="number"&&(f=o==="end"?b*-1:b),u?{x:f*h,y:g*l}:{x:g*l,y:f*h}}const $s=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:r,placement:c,middlewareData:o}=t,u=await Bs(t,e);return c===((n=o.offset)==null?void 0:n.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:r+u.y,data:{...u,placement:c}}}}},Ps=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:r=!0,crossAxis:c=!1,limiter:o={fn:R=>{let{x:S,y:O}=R;return{x:S,y:O}}},...u}=ct(e,t),l={x:n,y:i},h=await Dn(t,u),p=Ae(Ie(s)),g=Cn(p);let f=l[g],b=l[p];if(r){const R=g==="y"?"top":"left",S=g==="y"?"bottom":"right",O=f+h[R],D=f-h[S];f=On(O,f,D)}if(c){const R=p==="y"?"top":"left",S=p==="y"?"bottom":"right",O=b+h[R],D=b-h[S];b=On(O,b,D)}const y=o.fn({...t,[g]:f,[p]:b});return{...y,data:{x:y.x-n,y:y.y-i,enabled:{[g]:r,[p]:c}}}}}};function dt(){return typeof window<"u"}function ze(e){return Bn(e)?(e.nodeName||"").toLowerCase():"#document"}function le(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ee(e){var t;return(t=(Bn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bn(e){return dt()?e instanceof Node||e instanceof le(e).Node:!1}function ge(e){return dt()?e instanceof Element||e instanceof le(e).Element:!1}function me(e){return dt()?e instanceof HTMLElement||e instanceof le(e).HTMLElement:!1}function $n(e){return!dt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof le(e).ShadowRoot}function Ye(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=de(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function zs(e){return["table","td","th"].includes(ze(e))}function pt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Pt(e){const t=zt(),n=ge(e)?de(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Hs(e){let t=Ne(e);for(;me(t)&&!He(t);){if(Pt(t))return t;if(pt(t))return null;t=Ne(t)}return null}function zt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function He(e){return["html","body","#document"].includes(ze(e))}function de(e){return le(e).getComputedStyle(e)}function ft(e){return ge(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ne(e){if(ze(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$n(e)&&e.host||Ee(e);return $n(t)?t.host:t}function Pn(e){const t=Ne(e);return He(t)?e.ownerDocument?e.ownerDocument.body:e.body:me(t)&&Ye(t)?t:Pn(t)}function zn(e,t,n){var i;t===void 0&&(t=[]);const s=Pn(e),r=s===((i=e.ownerDocument)==null?void 0:i.body),c=le(s);return r?(Ht(c),t.concat(c,c.visualViewport||[],Ye(s)?s:[],[])):t.concat(s,zn(s,[]))}function Ht(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Hn(e){const t=de(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=me(e),r=s?e.offsetWidth:n,c=s?e.offsetHeight:i,o=lt(n)!==r||lt(i)!==c;return o&&(n=r,i=c),{width:n,height:i,$:o}}function Un(e){return ge(e)?e:e.contextElement}function Ue(e){const t=Un(e);if(!me(t))return be(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:r}=Hn(t);let c=(r?lt(n.width):n.width)/i,o=(r?lt(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!o||!Number.isFinite(o))&&(o=1),{x:c,y:o}}const Us=be(0);function jn(e){const t=le(e);return!zt()||!t.visualViewport?Us:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function js(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==le(e)?!1:t}function Xe(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=Un(e);let c=be(1);t&&(i?ge(i)&&(c=Ue(i)):c=Ue(e));const o=js(r,n,i)?jn(r):be(0);let u=(s.left+o.x)/c.x,l=(s.top+o.y)/c.y,h=s.width/c.x,p=s.height/c.y;if(r){const g=le(r),f=i&&ge(i)?le(i):i;let b=g,y=Ht(b);for(;y&&i&&f!==b;){const R=Ue(y),S=y.getBoundingClientRect(),O=de(y),D=S.left+(y.clientLeft+parseFloat(O.paddingLeft))*R.x,H=S.top+(y.clientTop+parseFloat(O.paddingTop))*R.y;u*=R.x,l*=R.y,h*=R.x,p*=R.y,u+=D,l+=H,b=le(y),y=Ht(b)}}return gt({width:h,height:p,x:u,y:l})}function Ut(e,t){const n=ft(e).scrollLeft;return t?t.left+n:Xe(Ee(e)).left+n}function Fn(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:Ut(e,i)),r=i.top+t.scrollTop;return{x:s,y:r}}function Fs(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const r=s==="fixed",c=Ee(i),o=t?pt(t.floating):!1;if(i===c||o&&r)return n;let u={scrollLeft:0,scrollTop:0},l=be(1);const h=be(0),p=me(i);if((p||!p&&!r)&&((ze(i)!=="body"||Ye(c))&&(u=ft(i)),me(i))){const f=Xe(i);l=Ue(i),h.x=f.x+i.clientLeft,h.y=f.y+i.clientTop}const g=c&&!p&&!r?Fn(c,u,!0):be(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+h.x+g.x,y:n.y*l.y-u.scrollTop*l.y+h.y+g.y}}function Gs(e){return Array.from(e.getClientRects())}function qs(e){const t=Ee(e),n=ft(e),i=e.ownerDocument.body,s=Pe(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=Pe(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let c=-n.scrollLeft+Ut(e);const o=-n.scrollTop;return de(i).direction==="rtl"&&(c+=Pe(t.clientWidth,i.clientWidth)-s),{width:s,height:r,x:c,y:o}}function Ks(e,t){const n=le(e),i=Ee(e),s=n.visualViewport;let r=i.clientWidth,c=i.clientHeight,o=0,u=0;if(s){r=s.width,c=s.height;const l=zt();(!l||l&&t==="fixed")&&(o=s.offsetLeft,u=s.offsetTop)}return{width:r,height:c,x:o,y:u}}function Ws(e,t){const n=Xe(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,r=me(e)?Ue(e):be(1),c=e.clientWidth*r.x,o=e.clientHeight*r.y,u=s*r.x,l=i*r.y;return{width:c,height:o,x:u,y:l}}function Gn(e,t,n){let i;if(t==="viewport")i=Ks(e,n);else if(t==="document")i=qs(Ee(e));else if(ge(t))i=Ws(t,n);else{const s=jn(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return gt(i)}function qn(e,t){const n=Ne(e);return n===t||!ge(n)||He(n)?!1:de(n).position==="fixed"||qn(n,t)}function Zs(e,t){const n=t.get(e);if(n)return n;let i=zn(e,[]).filter(o=>ge(o)&&ze(o)!=="body"),s=null;const r=de(e).position==="fixed";let c=r?Ne(e):e;for(;ge(c)&&!He(c);){const o=de(c),u=Pt(c);!u&&o.position==="fixed"&&(s=null),(r?!u&&!s:!u&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ye(c)&&!u&&qn(e,c))?i=i.filter(h=>h!==c):s=o,c=Ne(c)}return t.set(e,i),i}function Ys(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const c=[...n==="clippingAncestors"?pt(t)?[]:Zs(t,this._c):[].concat(n),i],o=c[0],u=c.reduce((l,h)=>{const p=Gn(t,h,s);return l.top=Pe(p.top,l.top),l.right=Bt(p.right,l.right),l.bottom=Bt(p.bottom,l.bottom),l.left=Pe(p.left,l.left),l},Gn(t,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Xs(e){const{width:t,height:n}=Hn(e);return{width:t,height:n}}function Vs(e,t,n){const i=me(t),s=Ee(t),r=n==="fixed",c=Xe(e,!0,r,t);let o={scrollLeft:0,scrollTop:0};const u=be(0);function l(){u.x=Ut(s)}if(i||!i&&!r)if((ze(t)!=="body"||Ye(s))&&(o=ft(t)),i){const f=Xe(t,!0,r,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else s&&l();r&&!i&&s&&l();const h=s&&!i&&!r?Fn(s,o):be(0),p=c.left+o.scrollLeft-u.x-h.x,g=c.top+o.scrollTop-u.y-h.y;return{x:p,y:g,width:c.width,height:c.height}}function jt(e){return de(e).position==="static"}function Kn(e,t){if(!me(e)||de(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ee(e)===n&&(n=n.ownerDocument.body),n}function Wn(e,t){const n=le(e);if(pt(e))return n;if(!me(e)){let s=Ne(e);for(;s&&!He(s);){if(ge(s)&&!jt(s))return s;s=Ne(s)}return n}let i=Kn(e,t);for(;i&&zs(i)&&jt(i);)i=Kn(i,t);return i&&He(i)&&jt(i)&&!Pt(i)?n:i||Hs(e)||n}const Qs=async function(e){const t=this.getOffsetParent||Wn,n=this.getDimensions,i=await n(e.floating);return{reference:Vs(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Js(e){return de(e).direction==="rtl"}const er={convertOffsetParentRelativeRectToViewportRelativeRect:Fs,getDocumentElement:Ee,getClippingRect:Ys,getOffsetParent:Wn,getElementRects:Qs,getClientRects:Gs,getDimensions:Xs,getScale:Ue,isElement:ge,isRTL:Js},tr=$s,nr=Ps,ir=Ds,sr=(e,t,n)=>{const i=new Map,s={platform:er,...n},r={...s.platform,_c:i};return Is(e,t,{...s,platform:r})},rr=`pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em
}
code.hljs {
  padding: 3px 5px
}
/*!
  Theme: GitHub
  Description: Light theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-light
  Current colors taken from GitHub's CSS
*/
.hljs {
  color: #24292e;
  background: #ffffff
}
.hljs-doctag,
.hljs-keyword,
.hljs-meta .hljs-keyword,
.hljs-template-tag,
.hljs-template-variable,
.hljs-type,
.hljs-variable.language_ {
  /* prettylights-syntax-keyword */
  color: #d73a49
}
.hljs-title,
.hljs-title.class_,
.hljs-title.class_.inherited__,
.hljs-title.function_ {
  /* prettylights-syntax-entity */
  color: #6f42c1
}
.hljs-attr,
.hljs-attribute,
.hljs-literal,
.hljs-meta,
.hljs-number,
.hljs-operator,
.hljs-variable,
.hljs-selector-attr,
.hljs-selector-class,
.hljs-selector-id {
  /* prettylights-syntax-constant */
  color: #005cc5
}
.hljs-regexp,
.hljs-string,
.hljs-meta .hljs-string {
  /* prettylights-syntax-string */
  color: #032f62
}
.hljs-built_in,
.hljs-symbol {
  /* prettylights-syntax-variable */
  color: #e36209
}
.hljs-comment,
.hljs-code,
.hljs-formula {
  /* prettylights-syntax-comment */
  color: #6a737d
}
.hljs-name,
.hljs-quote,
.hljs-selector-tag,
.hljs-selector-pseudo {
  /* prettylights-syntax-entity-tag */
  color: #22863a
}
.hljs-subst {
  /* prettylights-syntax-storage-modifier-import */
  color: #24292e
}
.hljs-section {
  /* prettylights-syntax-markup-heading */
  color: #005cc5;
  font-weight: bold
}
.hljs-bullet {
  /* prettylights-syntax-markup-list */
  color: #735c0f
}
.hljs-emphasis {
  /* prettylights-syntax-markup-italic */
  color: #24292e;
  font-style: italic
}
.hljs-strong {
  /* prettylights-syntax-markup-bold */
  color: #24292e;
  font-weight: bold
}
.hljs-addition {
  /* prettylights-syntax-markup-inserted */
  color: #22863a;
  background-color: #f0fff4
}
.hljs-deletion {
  /* prettylights-syntax-markup-deleted */
  color: #b31d28;
  background-color: #ffeef0
}
.hljs-char.escape_,
.hljs-link,
.hljs-params,
.hljs-property,
.hljs-punctuation,
.hljs-tag {
  /* purposely ignored */
  
}`,or=`.ai-chatbot {
    display: flex;
    flex-direction: column;
    height: 100%;
    font-size: 1em;
    font-family: Menlo, Monaco, Consolas, monospace;
    box-sizing: border-box;
    border-radius: inherit;
    overflow: hidden;
}
.ai-chatbot .ai-chatbot-hide {
    display: none !important;
}
.ai-chatbot button {
    background: none;
    -webkit-appearance: none;
    appearance: none;
    border: 0 none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    outline: none;
    cursor: pointer;
    white-space: nowrap;
    text-align: center;
    min-width: 24px;
    min-height: 24px;
    line-height: 1em;
    padding: 0;
    background: none;
    box-shadow: none;
    box-sizing: border-box;
    border-radius: 5px;
}
.ai-chatbot-header {
    display: flex;
    gap: 6px;
    align-items: center;
    flex-wrap: nowrap;
    height: 36px;
    background-color: #5350c4;
    color: #fff;
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
    user-select: none;
}
.ai-chatbot-header > div {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 0 10px;
}
.ai-chatbot-header-icon,
.ai-chatbot-header-title {
    display: inline-flex;
    align-items: center;
}
.ai-chatbot-header-icon svg {
    width: 1.5em;
    height: 1.5em;
}
.ai-chatbot-header-actions {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 4px;
}
.ai-chatbot-header-actions button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    appearance: none;
    background: none;
    border: 0 none;
    width: 26px;
    height: 26px;
    padding: 0;
    line-height: 1.0;
    color: #fff;
    border-radius: 6px;
    box-sizing: border-box;
}
.ai-chatbot-header-actions button svg {
    width: 16px;
    height: 16px;
}
.ai-chatbot-header-actions button:hover {
    background-color: rgba(0,0,0,0.2);
}

.ai-chatbot-messages {
    flex: 1;
    min-height: 50px;
    height: 100%;
    overflow-y: auto;
    scrollbar-width: thin;
    box-sizing: border-box;
    padding: 16px;
    padding-bottom: 0;
    display: flex;
    flex-direction: column;
}
.ai-chatbot-message-item {
    display: flex;
    align-items: flex-end;
    flex-wrap: nowrap;
    gap: 10px;
    margin-bottom: 15px;
    box-sizing: border-box;
}
.ai-chatbot-assistant-message {
    justify-content: flex-start;
}
.ai-chatbot-user-message {
    justify-content: flex-end;
}
.ai-chatbot-avatar {
    display: flex;
    align-items: flex-end;
    align-self: flex-end;
    box-sizing: border-box;
}
.ai-chatbot-avatar > svg {
    height: 30px;
    width: 30px;
    padding: 4px;
    fill: #fff;
    flex-shrink: 0;
    align-self: flex-end;
    margin-bottom: 2px;
    background: #5350c4;
    border-radius: 50%;
    box-sizing: border-box;
}
.ai-chatbot-message {
    max-width: 95%;
    word-wrap: break-word;
    word-break: break-all;
    border-radius: 15px;
    line-height: 1.57;
    padding: 12px 14px;
    box-sizing: border-box;
}
.ai-chatbot-message p {
    padding: 0;
    margin: 0;
    margin-bottom: 12px;
}
.ai-chatbot-message-content > p:last-child {
    margin-bottom: 0;
}
.ai-chatbot-message pre {
    padding: 0;
    margin: 0;
    margin-bottom: 12px;
    border-radius: 5px;
}
.ai-chatbot-message pre code {
    font-family: Menlo, Monaco, Consolas, monospace;
    font-size: 0.9em;
    border-radius: inherit;
}
.ai-chatbot-assistant-message .ai-chatbot-message {
    text-align: left;
    background: #f2f2ff;
    color: rgb(0, 0, 0);
    border-bottom-left-radius: 2px;
    border: 1px solid rgba(0,0,0,0.05);
}
.ai-chatbot-user-message .ai-chatbot-message {
    text-align: left;
    border-bottom-right-radius: 2px;
    background: rgb(83,80,196);
    color: rgb(255, 255, 255);
}

.ai-chatbot-message-thinking {
    margin-bottom: 5px;
    display: flex;
    flex-direction: column;
}
.ai-chatbot-message-thinking-header {
    display: flex;
    gap: 4px;
    align-items: center;
    line-height: 1.2em;
    font-size: 0.95em;
    color: rgba(0,0,0,0.6);
    margin-bottom: 5px;
    width: fit-content;
    user-select: none;
    cursor: pointer;
}
.ai-chatbot-message-thinking-icon {
    display: flex;
    align-items: center;
    line-height: 1.0;
    transform: rotate(90deg);
    transition: transform 0.2s;
}
.ai-chatbot-message-thinking-icon svg {
    width: 1em;
    height: 1em;
}
.ai-chatbot-message-thinking-content {
    font-size: 0.9em;
    color: #5d5d5d;
    padding: 5px 5px 5px 10px;
    margin-left: 5px;
    border-left: 1px solid rgba(0,0,0,0.15);
    margin-bottom: 10px;
}
.ai-chatbot-message-thinking-content > p:last-child {
    margin-bottom: 0;
}
.ai-chatbot-message-thinking.collapsed {
    flex-direction: row;
}
.ai-chatbot-message-thinking.collapsed .ai-chatbot-message-thinking-header {
    background-color: rgba(0,0,0,0.05);
    padding: 2px 6px;
    border-radius: 5px;
}
.ai-chatbot-message-thinking.collapsed .ai-chatbot-message-thinking-icon {
    transform: rotate(0deg);
}
.ai-chatbot-message-thinking.collapsed .ai-chatbot-message-thinking-content {
    display: none;
}

.ai-chatbot-waiting-indicator {
    display: flex;
    gap: 4px;
    padding: 6px 0;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
}
@keyframes aiChatbotWaitingDotPulse {
    0%,
    44% {
        transform: translateY(0);
    }
    28% {
        opacity: 0.4;
        transform: translateY(-4px);
    }
    44% {
        opacity: 0.2;
    }
}
.ai-chatbot-waiting-dot {
    height: 7px;
    width: 7px;
    opacity: 0.7;
    border-radius: 50%;
    background: #6f6bc2;
    box-sizing: border-box;
    animation: aiChatbotWaitingDotPulse 1.8s ease-in-out infinite;
}
.ai-chatbot-waiting-indicator .ai-chatbot-waiting-dot:nth-child(1) {
    animation-delay: 0.2s;
}
.ai-chatbot-waiting-indicator .ai-chatbot-waiting-dot:nth-child(2) {
    animation-delay: 0.3s;
}
.ai-chatbot-waiting-indicator .ai-chatbot-waiting-dot:nth-child(2) {
    animation-delay: 0.4s;
}

.ai-chatbot-suggestion {
    position: relative;
    z-index: 2;
    min-height: 30px;
    padding: 15px;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}
.ai-chatbot-suggestion::before {
    display: none;
    content: "";
    position: absolute;
    top: -50px;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100px;
    pointer-events: none;
    z-index: -1;
    background: linear-gradient(color(srgb 1 1 1 / 0), color(srgb 1 1 1) 60%);
}
.ai-chatbot-suggestion-tools {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    box-sizing: border-box;
}
.ai-chatbot-suggestion-tools button {
    min-width: 30px;
    min-height: 30px;
    padding: 5px 10px;
    background-color: #F6F7F9;
    border: 1px solid rgba(28, 33, 39, .2);
    border-radius: 5px;
}
.ai-chatbot-suggestion-tools button:hover {
    background: #EDEFF2;
    border-color: rgba(28, 33, 39, .3);
    box-shadow: none;
    text-decoration: none;
}
.ai-chatbot-suggestion-tools .ai-tool-icon {
    display: flex;
    align-items: center;
    line-height: 1.0;
}
.ai-chatbot-suggestion-tools .ai-tool-text {
    display: flex;
    align-items: center;
}

.ai-chatbot-input-group {
    display: flex;
    align-items: center;
    gap: 8px;
    border-radius: 8px;
    background-color: rgba(0,0,0,0.03);
    padding: 8px;
    box-sizing: border-box;
    box-shadow: 0 0 0 0 rgba(33, 93, 176, 0), 0 0 0 0 rgba(33, 93, 176, 0), inset 0 0 0 1px rgba(17, 20, 24, .2), inset 0 1px 1px rgba(17, 20, 24, .3);
}
.ai-chatbot-input-group:focus-within {
    box-shadow: 0 0 0 1px rgb(83,80,196), 0 0 0 3px rgba(83,80,196, 0.3), inset 0 1px 1px rgba(16, 22, 26, .2);
}
.ai-chatbot-input-group textarea {
    flex: 1;
    width: 100%;
    border: 0 none;
    font-size: 14px;
    background-color: transparent;
    background: none;
    resize: none;
    outline: none;
    padding: 2px;
    line-height: 1.5;
    box-sizing: border-box;
    border-radius: 3px;
    overflow: auto;
}
.ai-chatbot-input-group textarea:focus {
    outline: none;
}
.ai-chatbot-input-actions {
    display: flex;
    gap: 4px;
    flex-direction: row;
    flex-wrap: nowrap;
    box-sizing: border-box;
}
.ai-chatbot-input-actions button {
    width: 32px;
    height: 32px;
    padding: 0;
    border-radius: 50%;
    color: #706db0;
}
.ai-chatbot-input-actions button:hover {
    background-color: #f1f1f1;
}
.ai-chatbo-abort-icon {
    color: inherit;
    line-height: 1.0;
}

/* 浮动助手 */
.ai-chatbot-floating-assistant {
    position: fixed;
    right: 30px;
    bottom: 30px;
    z-index: 9999;
    appearance: none;
    cursor: pointer;
    user-select: none;
    touch-action: none;
    outline: none;
    will-change: transform;
    transform: translate(0px, 0px);
}
.ai-chatbot-floating-assistant.is-dragging {
    transition: none;
    cursor: grabbing;
}`,bt=`<svg class="ai-chatbot-avatar-icon" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 1024 1024" fill="currentColor">
<path d="M738.3 287.6H285.7c-59 0-106.8 47.8-106.8 106.8v303.1c0 59 47.8 106.8 106.8 106.8h81.5v111.1c0 .7.8 1.1 1.4.7l166.9-110.6 41.8-.8h117.4l43.6-.4c59 0 106.8-47.8 106.8-106.8V394.5c0-59-47.8-106.9-106.8-106.9zM351.7 448.2c0-29.5 23.9-53.5 53.5-53.5s53.5 23.9 53.5 53.5-23.9 53.5-53.5 53.5-53.5-23.9-53.5-53.5zm157.9 267.1c-67.8 0-123.8-47.5-132.3-109h264.6c-8.6 61.5-64.5 109-132.3 109zm110-213.7c-29.5 0-53.5-23.9-53.5-53.5s23.9-53.5 53.5-53.5 53.5 23.9 53.5 53.5-23.9 53.5-53.5 53.5zM867.2 644.5V453.1h26.5c19.4 0 35.1 15.7 35.1 35.1v121.1c0 19.4-15.7 35.1-35.1 35.1h-26.5zM95.2 609.4V488.2c0-19.4 15.7-35.1 35.1-35.1h26.5v191.3h-26.5c-19.4 0-35.1-15.7-35.1-35.1zM561.5 149.6c0 23.4-15.6 43.3-36.9 49.7v44.9h-30v-44.9c-21.4-6.5-36.9-26.3-36.9-49.7 0-28.6 23.3-51.9 51.9-51.9s51.9 23.3 51.9 51.9z"></path>
</svg>`,ar=`<svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M1.754.135L19.393 9.06c.57.288.775.943.458 1.462-.107.176-.266.32-.458.418l-17.64 8.925c-.57.288-1.288.1-1.604-.418C.05 19.287 0 19.183 0 19v-7l11-2L0 8V1.075C0 .481.529 0 1.18 0c.201 0 .399.047.574.135z" fill-rule="evenodd"></path>
</svg>`,lr=`<svg class="ai-chatbot-abort-icon" width="24" height="24" color="currentColor" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">
<rect fill="currentColor" height="250" rx="24" ry="24" width="250" x="375" y="375"></rect><circle cx="500" cy="500" fill="none" r="450" stroke="currentColor" stroke-width="100" opacity="0.45"></circle><circle cx="500" cy="500" fill="none" r="450" stroke="currentColor" stroke-width="100" stroke-dasharray="600 9999999"><animateTransform attributeName="transform" dur="1s" from="0 500 500" repeatCount="indefinite" to="360 500 500" type="rotate"></animateTransform></circle>
</svg>`,Zn='<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M7.53 3.78a.666.666 0 0 1 .836-.086l.105.085 5.75 5.75c.26.26.26.682 0 .942l-5.75 5.75a.666.666 0 0 1-.942-.942L12.81 10l-5.28-5.28-.085-.104a.666.666 0 0 1 .085-.837z"/></svg>',cr='<svg width="1em" height="1em" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="currentColor" overflow="hidden"><path d="M863.488 475.99H544.981V165.546a35.968 35.968 0 1 0-72.021 0v310.485H161.493a35.968 35.968 0 1 0 0 72.021H472.96V859.52a35.968 35.968 0 1 0 72.021 0V548.053h318.507a35.968 35.968 0 1 0 0-72.021z"/></svg>',ur='<svg width="1em" height="1em" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="currentColor" overflow="hidden"><path d="M556.8 512L832 236.8c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L512 467.2 236.8 189.867c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L467.2 512 189.867 787.2c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933 8.533 23.466 8.533S230.4 838.4 236.8 832L512 556.8 787.2 832c6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533c12.8-12.8 12.8-32 0-44.8L556.8 512z"/></svg>';oe.registerLanguage("javascript",os),oe.registerLanguage("css",fs),oe.registerLanguage("java",bs),oe.registerLanguage("python",ms),oe.registerLanguage("go",xs),oe.registerLanguage("json",_s),oe.registerLanguage("groovy",ws),oe.registerLanguage("xml",ys),oe.registerLanguage("sql",ks),oe.registerLanguage("shell",Es),oe.registerLanguage("bash",vs),oe.registerLanguage("plaintext",Ss);function Yn(e,t){for(const n in t)t.hasOwnProperty(n)&&(t[n]!==null&&typeof t[n]=="object"&&!(t[n]instanceof HTMLElement)&&e[n]!==null&&typeof e[n]=="object"&&!(e[n]instanceof HTMLElement)?e[n]=Yn(e[n],t[n]):e[n]=t[n]);return e}function Xn(e,t){let n=null,i=0;return function(...s){const r=Date.now(),c=t-(r-i);clearTimeout(n),c<=0?(i=r,e.apply(this,s)):n=setTimeout(()=>{i=Date.now(),e.apply(this,s)},c)}}class Vn{constructor(t){this.options=Yn({container:document.body,tools:[],onToolsClick:(r,c,o)=>{},openai:{url:"",apiKey:"",model:"",systemPrompt:""},header:{botIcon:`${bt}`,botTitle:"AI助手",closable:!0,onClose:function(){}}},t||{});let n=this.options.container;if(!n)throw new Error("`container` not found");if(typeof n=="string"&&(n=document.querySelector(n)),!n)throw new Error("`container` not found");let i="";if(typeof this.options.header=="object"){const{botIcon:r,botTitle:c}=this.options.header;i=`
            <div class="ai-chatbot-header">
                <div>
                    <span class="ai-chatbot-header-icon">${r}</span>
                    <span class="ai-chatbot-header-title">${c}</span>
                </div>
                <div class="ai-chatbot-header-actions">
                    <button class="ai-chatbot-action-new">${cr}</button>
                    <button class="ai-chatbot-action-close">${ur}</button>
                </div>
            </div>
            `}const s=n.attachShadow({mode:"open"});s.innerHTML=`
        <style>
        :host {height:100%;display:block;}
        ${rr}
        ${or}
        </style>
        <div class="ai-chatbot">
            ${i}
            <div class="ai-chatbot-messages"></div>
            <div class="ai-chatbot-suggestion">
                <div class="ai-chatbot-suggestion-tools"></div>
                <div class="ai-chatbot-input-group">
                    <textarea class="ai-chatbot-user-input" name="ai-chatbot-user-input" rows="1" cols="10" placeholder="有什么问题尽管问我"></textarea>
                    <div class="ai-chatbot-input-actions">
                        <button class="ai-chatbot-send-btn">${ar}</button>
                        <button class="ai-chatbot-abort-btn ai-chatbot-hide">${lr}</button>
                    </div>
                </div>
            </div>
        </div>
        `,this.messages=[],this._loading=!1,this._abortController=null,this._autoScrolling=!0,this.messageContainer=s.querySelector(".ai-chatbot-messages"),this.userInput=s.querySelector("textarea.ai-chatbot-user-input"),this.sendButton=s.querySelector("button.ai-chatbot-send-btn"),this.abortButton=s.querySelector("button.ai-chatbot-abort-btn"),this.toolsContainer=s.querySelector(".ai-chatbot-suggestion-tools"),this.actionNewSession=s.querySelector("button.ai-chatbot-action-new"),this.actionClose=s.querySelector("button.ai-chatbot-action-close"),this.setupEventListeners(),this.setupMarkdown(),this.setupTools()}setupEventListeners(){this.userInput.addEventListener("keypress",n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),this.sendMessage(this.userInput.value.trim()))}),this.userInput.addEventListener("input",()=>{this.userInput.style.height="auto";let n=this.userInput.scrollHeight;n>200&&(n=200),this.userInput.style.height=n+"px"}),this.sendButton.addEventListener("click",()=>this.sendMessage(this.userInput.value.trim())),this.abortButton.addEventListener("click",()=>this.abortChat()),this.actionNewSession&&this.actionNewSession.addEventListener("click",()=>this.newSession()),this.actionClose&&this.actionClose.addEventListener("click",n=>{var i;typeof((i=this.options.header)==null?void 0:i.onClose)=="function"&&this.options.header.onClose(this,n)});const t=this.messageContainer;t.addEventListener("scroll",()=>{const n=t.scrollHeight-t.scrollTop-t.clientHeight<=10;this._autoScrolling&&!n?this._autoScrolling=!1:!this._autoScrolling&&n&&(this._autoScrolling=!0,this.scrollToBottom())})}setupMarkdown(){this.marked=new bn(Yi({emptyLangClass:"hljs",langPrefix:"hljs language-",highlight(t,n,i){const s=oe.getLanguage(n)?n:"plaintext";return oe.highlight(t,{language:s}).value}}))}setupTools(){const t=this.options.tools,n=this.options.onToolsClick||function(){};!t||t.length===0||t.forEach(i=>{let s=document.createElement("button");s.innerHTML=(i.icon?'<span class="ai-tool-icon">'+i.icon+"</span>":"")+'<span class="ai-tool-text">'+(i.label||"Btn")+"</span>",s.addEventListener("click",r=>{n(i,this,r)}),this.toolsContainer.appendChild(s)})}newSession(){this.abortChat(),this.messages=[],this.messageContainer.innerHTML=""}get loading(){return this._loading}set loading(t){this._loading=!!t,this._loading?(this.sendButton.classList.add("ai-chatbot-hide"),this.abortButton.classList.remove("ai-chatbot-hide")):(this.abortButton.classList.add("ai-chatbot-hide"),this.sendButton.classList.remove("ai-chatbot-hide"))}addMessage(t,n=!1,i=!1){const s=document.createElement("div");s.className=`ai-chatbot-message-item ${n?"ai-chatbot-user-message":"ai-chatbot-assistant-message"}`,i?s.innerHTML=`<div class="ai-chatbot-avatar">${bt}</div>
            <div class="ai-chatbot-message">
                <div class="ai-chatbot-message-thinking ai-chatbot-hide">
                    <div class="ai-chatbot-message-thinking-header">
                        <span class="ai-chatbot-message-thinking-tip"></span>
                        <span class="ai-chatbot-message-thinking-icon">${Zn}</span>
                    </div>
                    <div class="ai-chatbot-message-thinking-content"></div>
                </div>
                <div class="ai-chatbot-message-content">
                    <div class="ai-chatbot-waiting-indicator">
                        <div class="ai-chatbot-waiting-dot"></div>
                        <div class="ai-chatbot-waiting-dot"></div>
                        <div class="ai-chatbot-waiting-dot"></div>
                    </div>
                </div>
            </div>`:n?s.innerHTML=`<div class="ai-chatbot-message"><div class="ai-chatbot-message-content">${t}</div></div>`:s.innerHTML=`<div class="ai-chatbot-avatar">${bt}</div>
                <div class="ai-chatbot-message">
                    <div class="ai-chatbot-message-thinking collapsed">
                        <div class="ai-chatbot-message-thinking-header">
                            <span class="ai-chatbot-message-thinking-tip"></span>
                            <span class="ai-chatbot-message-thinking-icon">${Zn}</span>
                        </div>
                        <div class="ai-chatbot-message-thinking-content"></div>
                    </div>
                    <div class="ai-chatbot-message-content">${this.marked.parse(t)}</div>
                </div>`,this.messageContainer.appendChild(s),this.scrollToBottom()}scrollToBottom(){this._autoScrolling&&requestAnimationFrame(()=>{this.messageContainer.scrollTop=this.messageContainer.scrollHeight})}abortChat(){this._abortController&&(this._abortController.abort(),this._abortController=null)}setOpenai(t){Object.assign(this.options.openai,t||{})}async sendMessage(t,n){if(this.loading)return;const i=this.options.openai,s=i==null?void 0:i.url,r=i==null?void 0:i.apiKey,c=i==null?void 0:i.model;if(!s)throw new Error("`openai url` is required.");if(!c)throw new Error("`openai model` is required.");if(!t)return;this.loading=!0,this.addMessage(t,!0,!1),this.messages.push({role:"user",content:n||t}),this.userInput.value="",this.userInput.style.height="auto",this.addMessage("",!1,!0);let o=null,u=null,l=null,h=null;const p=this.messageContainer.lastElementChild;if(p&&p.classList.contains("ai-chatbot-message-item")&&(o=p.querySelector(".ai-chatbot-message-thinking"),u=p.querySelector(".ai-chatbot-message-thinking-tip"),l=p.querySelector(".ai-chatbot-message-thinking-content"),h=p.querySelector(".ai-chatbot-message-content"),o)){let S=p.querySelector(".ai-chatbot-message-thinking-header");S.addEventListener("click",()=>{S.parentElement.classList.toggle("collapsed")})}const g=Xn((S,O,D)=>{o&&(o.classList.remove("ai-chatbot-hide"),u.innerText=O?`已思考 ${D}秒`:`思考中(${D}秒)...`,l.innerHTML=this.marked.parse(S),O&&o.classList.add("collapsed"),this.scrollToBottom())},150),f=Xn(S=>{h&&(h.innerHTML=this.marked.parse(S),this.scrollToBottom())},150),b=(i==null?void 0:i.systemPrompt)||"",y={model:c,messages:b?[{role:"system",content:b}].concat(this.messages):this.messages,stream:!0};this._abortController=new AbortController;const R=this._abortController.signal;try{const S=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(y),signal:R});if(!S.ok){this.loading=!1,console.error("Error from OpenAI API:",S);return}const O=S.body.getReader(),D=new TextDecoder;let H="",C=!1,U=!1,Y=!1,X="",V=Date.now(),re="";for(;;){const{done:ve,value:Oe}=await O.read();if(ve)break;H+=D.decode(Oe,{stream:!0});const Se=H.split(`

`);H=Se.pop();for(const J of Se)if(J.startsWith("data: ")){const xe=J.substring(6);if(xe.trim()==="[DONE]"){this.messages.push({role:"assistant",content:re}),this.loading=!1;return}try{const q=JSON.parse(xe).choices[0].delta;let I=(q==null?void 0:q.reasoning_content)||(q==null?void 0:q.reasoning),$=(q==null?void 0:q.content)||"";if(!C&&I!==void 0&&(C=!0),!C&&!$)continue;if((C||$.includes("<think>"))&&(U=!0,$=(I||$).replace("<think>","")),$.includes("</think>")&&($=$.replace("</think>",""),U=!1,Y=!0),C&&U&&(q!=null&&q.content)&&(U=!1,Y=!0),U){if($.length===0||$===`
`&&X.length===0)continue;X+=$,g(X,Y,((Date.now()-V)/1e3).toFixed(1));continue}U||(X.length>0&&(g(X,Y,((Date.now()-V)/1e3).toFixed(1)),X=""),re+=$,f(re))}catch(ce){console.error("响应内容不是json格式",ce)}}}}catch(S){this.loading=!1,S.message.includes("abort")||(console.error("Error:",S),this.addMessage("发生了异常错误："+(S.message||"unknown")))}}}class hr extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._config={}}connectedCallback(){const t=this.config.icon;this.shadowRoot.innerHTML=`
        <style>
        .ai-chatbot-floating-handler {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            appearance: none;
            background-color: #5350c4;
            color: #fff;
            border: 0 none;
            cursor: pointer;
            user-select: none;
            touch-action: none;
            outline: none;
            transition: box-shadow 0.2s;
            box-shadow: 0 2px 6px rgba(17, 20, 24, .2);
        }
        .ai-chatbot-floating-handler svg {
            fill: currentColor;
            pointer-events: none;
        }
        .ai-chatbot-floating-handler:hover {
            box-shadow: 0 8px 16px rgba(17, 20, 24, .2);
        }
        </style>
        <div style="position:relative;">
            <button class="ai-chatbot-floating-handler">${t}</button>
        </div>
        `,this.handlerBtn=this.shadowRoot.querySelector("button.ai-chatbot-floating-handler")}set config(t){this._config=t}get config(){return this._config}}customElements.define("ai-chatbot-floating-assistant",hr);const gr=e=>{if(document.getElementById("ai-chatbot-floating-assistant"))return;const t=Object.assign({icon:`${bt}`,style:{right:"30px",bottom:"30px"}},e||{}),n=document.createElement("ai-chatbot-floating-assistant");n.style.cssText="position:fixed;right:10px;bottom:10px;z-index:1000;transform:translate(0px, 0px);cursor: pointer;",n.config=t,n.id="ai-chatbot-floating-assistant",n.className="ai-chatbot-floating-assistant",document.body.appendChild(n),Object.assign(n.style,t.style||{});const i=()=>{let f=document.querySelector("#ai-chatbot-floating-chatbot");f||(f=document.createElement("div"),f.id="ai-chatbot-floating-chatbot",f.style.cssText="display:none;position:fixed;z-index:1002;left:0;top:0;width:400px;height:80vh;border:1px solid #d9d9d9;border-radius:6px;background-color:#f6f8f9;",document.body.appendChild(f),new Vn(Object.assign({},t,{container:f,header:{onClose:()=>{f.style.display="none"}}})));let b=n.getBoundingClientRect(),y=b.top,R=window.innerHeight-b.top-b.height;if(f.style.height=Math.max(y,R)-30+"px",f.style.display==="block"){f.style.display="none";return}f.style.display="block",sr(n,f,{placement:"top-end",middleware:[ir(),nr(),tr(5)]}).then(({x:S,y:O})=>{Object.assign(f.style,{left:`${S}px`,top:`${O}px`})})};let s=!1,r=0,c=0,o=0,u=0;const l=f=>f.touches?f.touches[0]:f,h=f=>{const b=l(f);o=b.clientX,u=b.clientY,document.addEventListener("mousemove",p),document.addEventListener("touchmove",p,{passive:!1}),document.addEventListener("mouseup",g),document.addEventListener("touchend",g)},p=f=>{f.preventDefault();const b=l(f),y=b.clientX-o,R=b.clientY-u;let S=r+y,O=c+R;!s&&(Math.abs(y)>5||Math.abs(R)>5)&&(s=!0,n.classList.add("is-dragging")),s&&(n.style.transform=`translate(${S}px, ${O}px) scale(1.2)`)},g=f=>{if(!s)i();else{s=!1,n.classList.remove("is-dragging");const b=l(f.changedTouches?f.changedTouches[0]:f),y=b.clientX-o,R=b.clientY-u;r+=y,c+=R,n.style.transform=`translate(${r}px, ${c}px) scale(1.0)`}document.removeEventListener("mousemove",p),document.removeEventListener("touchmove",p),document.removeEventListener("mouseup",g),document.removeEventListener("touchend",g)};n.addEventListener("mousedown",h),n.addEventListener("touchstart",h,{passive:!1})};ae.AIChatbot=Vn,ae.floatingAssistant=gr,Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"})});
