(function(bn,ma){typeof exports=="object"&&typeof module<"u"?ma(exports):typeof define=="function"&&define.amd?define(["exports"],ma):(bn=typeof globalThis<"u"?globalThis:bn||self,ma(bn.aichatbot={}))})(this,function(bn){"use strict";var $Je=Object.defineProperty;var zJe=(bn,ma,io)=>ma in bn?$Je(bn,ma,{enumerable:!0,configurable:!0,writable:!0,value:io}):bn[ma]=io;var Or=(bn,ma,io)=>zJe(bn,typeof ma!="symbol"?ma+"":ma,io);var P0,B0,F0,$0,z0,U0,H0,G0,F7,md,V0,q0,W0,Y0,X0,K0,j0,Q0,Z0,J0,ep,tp,rp,np,ip,ap,sp,op,lp,cp,up,hp,dp,fp,pp,gp,mp,yp,vp,bp,xp,Ep,Tp,wp,Sp,yd,kp,Cp,Sc,fre,pre;const ma=Math.min,io=Math.max,Oy=Math.round,Oo=t=>({x:t,y:t}),mre={left:"right",right:"left",bottom:"top",top:"bottom"},yre={start:"end",end:"start"};function H7(t,e,r){return io(t,ma(e,r))}function My(t,e){return typeof t=="function"?t(e):t}function Pu(t){return t.split("-")[0]}function Py(t){return t.split("-")[1]}function G7(t){return t==="x"?"y":"x"}function V7(t){return t==="y"?"height":"width"}function Ac(t){return["top","bottom"].includes(Pu(t))?"y":"x"}function q7(t){return G7(Ac(t))}function vre(t,e,r){r===void 0&&(r=!1);const n=Py(t),i=q7(t),a=V7(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=By(s)),[s,By(s)]}function bre(t){const e=By(t);return[TT(t),e,TT(e)]}function TT(t){return t.replace(/start|end/g,e=>yre[e])}function xre(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function Ere(t,e,r,n){const i=Py(t);let a=xre(Pu(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(TT)))),a}function By(t){return t.replace(/left|right|bottom|top/g,e=>mre[e])}function Tre(t){return{top:0,right:0,bottom:0,left:0,...t}}function wre(t){return typeof t!="number"?Tre(t):{top:t,right:t,bottom:t,left:t}}function Fy(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function W7(t,e,r){let{reference:n,floating:i}=t;const a=Ac(e),s=q7(e),o=V7(s),l=Pu(e),u=a==="y",h=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:h,y:n.y-i.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-i.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Py(e)){case"start":p[s]-=f*(r&&u?-1:1);break;case"end":p[s]+=f*(r&&u?-1:1);break}return p}const Sre=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=W7(u,n,l),f=n,p={},g=0;for(let m=0;m<o.length;m++){const{name:y,fn:v}=o[m],{x:b,y:x,data:T,reset:w}=await v({x:h,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});h=b??h,d=x??d,p={...p,[y]:{...p[y],...T}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(u=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:h,y:d}=W7(u,f,l)),m=-1)}return{x:h,y:d,placement:f,strategy:i,middlewareData:p}};async function Y7(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=My(e,t),g=wre(p),y=o[f?d==="floating"?"reference":"floating":d],v=Fy(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:l})),b=d==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),T=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},w=Fy(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:x,strategy:l}):b);return{top:(v.top-w.top+g.top)/T.y,bottom:(w.bottom-v.bottom+g.bottom)/T.y,left:(v.left-w.left+g.left)/T.x,right:(w.right-v.right+g.right)/T.x}}const kre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=My(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Pu(i),b=Ac(o),x=Pu(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),w=f||(x||!m?[By(o)]:bre(o)),S=g!=="none";!f&&S&&w.push(...Ere(o,m,g,T));const k=[o,...w],L=await Y7(e,y),_=[];let N=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&_.push(L[v]),d){const A=vre(i,s,T);_.push(L[A[0]],L[A[1]])}if(N=[...N,{placement:i,overflows:_}],!_.every(A=>A<=0)){var C,D;const A=(((C=a.flip)==null?void 0:C.index)||0)+1,R=k[A];if(R&&(!(d==="alignment"?b!==Ac(R):!1)||N.every(I=>I.overflows[0]>0&&Ac(I.placement)===b)))return{data:{index:A,overflows:N},reset:{placement:R}};let O=(D=N.filter(M=>M.overflows[0]<=0).sort((M,I)=>M.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!O)switch(p){case"bestFit":{var P;const M=(P=N.filter(I=>{if(S){const F=Ac(I.placement);return F===b||F==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,B)=>F+B,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:P[0];M&&(O=M);break}case"initialPlacement":O=o;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function Cre(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Pu(r),o=Py(r),l=Ac(r)==="y",u=["left","top"].includes(s)?-1:1,h=a&&l?-1:1,d=My(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*h,y:f*u}:{x:f*u,y:p*h}}const _re=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await Cre(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},Are=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...l}=My(t,e),u={x:r,y:n},h=await Y7(e,l),d=Ac(Pu(i)),f=G7(d);let p=u[f],g=u[d];if(a){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+h[y],x=p-h[v];p=H7(b,p,x)}if(s){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=g+h[y],x=g-h[v];g=H7(b,g,x)}const m=o.fn({...e,[f]:p,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:a,[d]:s}}}}}};function $y(){return typeof window<"u"}function vd(t){return X7(t)?(t.nodeName||"").toLowerCase():"#document"}function ds(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kl(t){var e;return(e=(X7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function X7(t){return $y()?t instanceof Node||t instanceof ds(t).Node:!1}function ao(t){return $y()?t instanceof Element||t instanceof ds(t).Element:!1}function Mo(t){return $y()?t instanceof HTMLElement||t instanceof ds(t).HTMLElement:!1}function K7(t){return!$y()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ds(t).ShadowRoot}function Ap(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=so(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Lre(t){return["table","td","th"].includes(vd(t))}function zy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wT(t){const e=ST(),r=ao(t)?so(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Nre(t){let e=Lc(t);for(;Mo(e)&&!bd(e);){if(wT(e))return e;if(zy(e))return null;e=Lc(e)}return null}function ST(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bd(t){return["html","body","#document"].includes(vd(t))}function so(t){return ds(t).getComputedStyle(t)}function Uy(t){return ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lc(t){if(vd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||K7(t)&&t.host||kl(t);return K7(e)?e.host:e}function j7(t){const e=Lc(t);return bd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mo(e)&&Ap(e)?e:j7(e)}function Q7(t,e,r){var n;e===void 0&&(e=[]);const i=j7(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=ds(i);return a?(kT(s),e.concat(s,s.visualViewport||[],Ap(i)?i:[],[])):e.concat(i,Q7(i,[]))}function kT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Z7(t){const e=so(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Mo(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=Oy(r)!==a||Oy(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function J7(t){return ao(t)?t:t.contextElement}function xd(t){const e=J7(t);if(!Mo(e))return Oo(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=Z7(e);let s=(a?Oy(r.width):r.width)/n,o=(a?Oy(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Rre=Oo(0);function eL(t){const e=ds(t);return!ST()||!e.visualViewport?Rre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ire(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ds(t)?!1:e}function Lp(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=J7(t);let s=Oo(1);e&&(n?ao(n)&&(s=xd(n)):s=xd(t));const o=Ire(a,r,n)?eL(a):Oo(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,h=i.width/s.x,d=i.height/s.y;if(a){const f=ds(a),p=n&&ao(n)?ds(n):n;let g=f,m=kT(g);for(;m&&n&&p!==g;){const y=xd(m),v=m.getBoundingClientRect(),b=so(m),x=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,T=v.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,u*=y.y,h*=y.x,d*=y.y,l+=x,u+=T,g=ds(m),m=kT(g)}}return Fy({width:h,height:d,x:l,y:u})}function CT(t,e){const r=Uy(t).scrollLeft;return e?e.left+r:Lp(kl(t)).left+r}function tL(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:CT(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function Dre(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=kl(n),o=e?zy(e.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},u=Oo(1);const h=Oo(0),d=Mo(n);if((d||!d&&!a)&&((vd(n)!=="body"||Ap(s))&&(l=Uy(n)),Mo(n))){const p=Lp(n);u=xd(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}const f=s&&!d&&!a?tL(s,l,!0):Oo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+h.x+f.x,y:r.y*u.y-l.scrollTop*u.y+h.y+f.y}}function Ore(t){return Array.from(t.getClientRects())}function Mre(t){const e=kl(t),r=Uy(t),n=t.ownerDocument.body,i=io(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=io(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+CT(t);const o=-r.scrollTop;return so(n).direction==="rtl"&&(s+=io(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Pre(t,e){const r=ds(t),n=kl(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=ST();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function Bre(t,e){const r=Lp(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Mo(t)?xd(t):Oo(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function rL(t,e,r){let n;if(e==="viewport")n=Pre(t,r);else if(e==="document")n=Mre(kl(t));else if(ao(e))n=Bre(e,r);else{const i=eL(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Fy(n)}function nL(t,e){const r=Lc(t);return r===e||!ao(r)||bd(r)?!1:so(r).position==="fixed"||nL(r,e)}function Fre(t,e){const r=e.get(t);if(r)return r;let n=Q7(t,[]).filter(o=>ao(o)&&vd(o)!=="body"),i=null;const a=so(t).position==="fixed";let s=a?Lc(t):t;for(;ao(s)&&!bd(s);){const o=so(s),l=wT(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ap(s)&&!l&&nL(t,s))?n=n.filter(h=>h!==s):i=o,s=Lc(s)}return e.set(t,n),n}function $re(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?zy(e)?[]:Fre(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,h)=>{const d=rL(e,h,i);return u.top=io(d.top,u.top),u.right=ma(d.right,u.right),u.bottom=ma(d.bottom,u.bottom),u.left=io(d.left,u.left),u},rL(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zre(t){const{width:e,height:r}=Z7(t);return{width:e,height:r}}function Ure(t,e,r){const n=Mo(e),i=kl(e),a=r==="fixed",s=Lp(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=Oo(0);function u(){l.x=CT(i)}if(n||!n&&!a)if((vd(e)!=="body"||Ap(i))&&(o=Uy(e)),n){const p=Lp(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&u();a&&!n&&i&&u();const h=i&&!n&&!a?tL(i,o):Oo(0),d=s.left+o.scrollLeft-l.x-h.x,f=s.top+o.scrollTop-l.y-h.y;return{x:d,y:f,width:s.width,height:s.height}}function _T(t){return so(t).position==="static"}function iL(t,e){if(!Mo(t)||so(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return kl(t)===r&&(r=r.ownerDocument.body),r}function aL(t,e){const r=ds(t);if(zy(t))return r;if(!Mo(t)){let i=Lc(t);for(;i&&!bd(i);){if(ao(i)&&!_T(i))return i;i=Lc(i)}return r}let n=iL(t,e);for(;n&&Lre(n)&&_T(n);)n=iL(n,e);return n&&bd(n)&&_T(n)&&!wT(n)?r:n||Nre(t)||r}const Hre=async function(t){const e=this.getOffsetParent||aL,r=this.getDimensions,n=await r(t.floating);return{reference:Ure(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Gre(t){return so(t).direction==="rtl"}const Vre={convertOffsetParentRelativeRectToViewportRelativeRect:Dre,getDocumentElement:kl,getClippingRect:$re,getOffsetParent:aL,getElementRects:Hre,getClientRects:Ore,getDimensions:zre,getScale:xd,isElement:ao,isRTL:Gre},qre=_re,Wre=Are,Yre=kre,Xre=(t,e,r)=>{const n=new Map,i={platform:Vre,...r},a={...i.platform,_c:n};return Sre(t,e,{...i,platform:a})},Kre={};function AT(t,e){const r=Kre,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return sL(t,n,i)}function sL(t,e,r){if(jre(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return oL(t.children,e,r)}return Array.isArray(t)?oL(t,e,r):""}function oL(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=sL(t[i],e,r);return n.join("")}function jre(t){return!!(t&&typeof t=="object")}const lL=document.createElement("i");function LT(t){const e="&"+t+";";lL.innerHTML=e;const r=lL.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function fs(t,e,r,n){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(e,r),t.splice(...s);else for(r&&t.splice(e,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Is(t,e){return t.length>0?(fs(t,t.length,0,e),t):e}const cL={}.hasOwnProperty;function uL(t){const e={};let r=-1;for(;++r<t.length;)Qre(e,t[r]);return e}function Qre(t,e){let r;for(r in e){const i=(cL.call(t,r)?t[r]:void 0)||(t[r]={}),a=e[r];let s;if(a)for(s in a){cL.call(i,s)||(i[s]=[]);const o=a[s];Zre(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Zre(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);fs(t,0,0,n)}function hL(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function oo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ya=Nc(/[A-Za-z]/),Ji=Nc(/[\dA-Za-z]/),Jre=Nc(/[#-'*+\--9=?A-Z^-~]/);function Hy(t){return t!==null&&(t<32||t===127)}const NT=Nc(/\d/),ene=Nc(/[\dA-Fa-f]/),tne=Nc(/[!-/:-@[-`{-~]/);function Wt(t){return t!==null&&t<-2}function un(t){return t!==null&&(t<0||t===32)}function Cr(t){return t===-2||t===-1||t===32}const Gy=Nc(new RegExp("\\p{P}|\\p{S}","u")),Bu=Nc(/\s/);function Nc(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function Ed(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const a=t.charCodeAt(r);let s="";if(a===37&&Ji(t.charCodeAt(r+1))&&Ji(t.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="�"}else s=String.fromCharCode(a);s&&(e.push(t.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function Sr(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Cr(l)?(t.enter(r),o(l)):e(l)}function o(l){return Cr(l)&&a++<i?(t.consume(l),o):(t.exit(r),e(l))}}const rne={tokenize:nne};function nne(t){const e=t.attempt(this.parser.constructs.contentInitial,n,i);let r;return e;function n(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Sr(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Wt(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const ine={tokenize:ane},dL={tokenize:sne};function ane(t){const e=this,r=[];let n=0,i,a,s;return o;function o(x){if(n<r.length){const T=r[n];return e.containerState=T[1],t.attempt(T[0].continuation,l,u)(x)}return u(x)}function l(x){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const T=e.events.length;let w=T,S;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){S=e.events[w][1].end;break}v(n);let k=T;for(;k<e.events.length;)e.events[k][1].end={...S},k++;return fs(e.events,w+1,0,e.events.slice(T)),e.events.length=k,u(x)}return o(x)}function u(x){if(n===r.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return g(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(dL,h,d)(x)}function h(x){return i&&b(),v(n),f(x)}function d(x){return e.parser.lazy[e.now().line]=n!==r.length,s=e.now().offset,g(x)}function f(x){return e.containerState={},t.attempt(dL,p,g)(x)}function p(x){return n++,r.push([e.currentConstruct,e.containerState]),f(x)}function g(x){if(x===null){i&&b(),v(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(x)}function m(x){if(x===null){y(t.exit("chunkFlow"),!0),v(0),t.consume(x);return}return Wt(x)?(t.consume(x),y(t.exit("chunkFlow")),n=0,e.interrupt=void 0,o):(t.consume(x),m)}function y(x,T){const w=e.sliceStream(x);if(T&&w.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(w),e.parser.lazy[x.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const k=e.events.length;let L=k,_,N;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(_){N=e.events[L][1].end;break}_=!0}for(v(n),S=k;S<e.events.length;)e.events[S][1].end={...N},S++;fs(e.events,L+1,0,e.events.slice(k)),e.events.length=S}}function v(x){let T=r.length;for(;T-- >x;){const w=r[T];e.containerState=w[1],w[0].exit.call(e,t)}r.length=x}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function sne(t,e,r){return Sr(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Td(t){if(t===null||un(t)||Bu(t))return 1;if(Gy(t))return 2}function Vy(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!n.includes(a)&&(e=a(e,r),n.push(a))}return e}const RT={name:"attention",resolveAll:one,tokenize:lne};function one(t,e){let r=-1,n,i,a,s,o,l,u,h;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const d={...t[n][1].end},f={...t[r][1].start};fL(d,-l),fL(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:f},a={type:l>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[n][1].end={...s.start},t[r][1].start={...o.end},u=[],t[n][1].end.offset-t[n][1].start.offset&&(u=Is(u,[["enter",t[n][1],e],["exit",t[n][1],e]])),u=Is(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),u=Is(u,Vy(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),u=Is(u,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(h=2,u=Is(u,[["enter",t[r][1],e],["exit",t[r][1],e]])):h=0,fs(t,n-1,r-n+3,u),r=n+u.length-h-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function lne(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=Td(n);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const u=t.exit("attentionSequence"),h=Td(l),d=!h||h===2&&i||r.includes(l),f=!i||i===2&&h||r.includes(n);return u._open=!!(a===42?d:d&&(i||!f)),u._close=!!(a===42?f:f&&(h||!d)),e(l)}}function fL(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const cne={name:"autolink",tokenize:une};function une(t,e,r){let n=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return ya(p)?(t.consume(p),s):p===64?r(p):u(p)}function s(p){return p===43||p===45||p===46||Ji(p)?(n=1,o(p)):u(p)}function o(p){return p===58?(t.consume(p),n=0,l):(p===43||p===45||p===46||Ji(p))&&n++<32?(t.consume(p),o):(n=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Hy(p)?r(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),h):Jre(p)?(t.consume(p),u):r(p)}function h(p){return Ji(p)?d(p):r(p)}function d(p){return p===46?(t.consume(p),n=0,h):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Ji(p))&&n++<63){const g=p===45?f:d;return t.consume(p),g}return r(p)}}const Np={partial:!0,tokenize:hne};function hne(t,e,r){return n;function n(a){return Cr(a)?Sr(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Wt(a)?e(a):r(a)}}const pL={continuation:{tokenize:fne},exit:pne,name:"blockQuote",tokenize:dne};function dne(t,e,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return r(s)}function a(s){return Cr(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function fne(t,e,r){const n=this;return i;function i(s){return Cr(s)?Sr(t,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(pL,e,r)(s)}}function pne(t){t.exit("blockQuote")}const gL={name:"characterEscape",tokenize:gne};function gne(t,e,r){return n;function n(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return tne(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(a)}}const mL={name:"characterReference",tokenize:mne};function mne(t,e,r){const n=this;let i=0,a,s;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,s=Ji,h(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=ene,h):(t.enter("characterReferenceValue"),a=7,s=NT,h(d))}function h(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return s===Ji&&!LT(n.sliceSerialize(f))?r(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<a?(t.consume(d),h):r(d)}}const yL={partial:!0,tokenize:vne},vL={concrete:!0,name:"codeFenced",tokenize:yne};function yne(t,e,r){const n=this,i={partial:!0,tokenize:w};let a=0,s=0,o;return l;function l(S){return u(S)}function u(S){const k=n.events[n.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,o=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(S)}function h(S){return S===o?(s++,t.consume(S),h):s<3?r(S):(t.exit("codeFencedFenceSequence"),Cr(S)?Sr(t,d,"whitespace")(S):d(S))}function d(S){return S===null||Wt(S)?(t.exit("codeFencedFence"),n.interrupt?e(S):t.check(yL,m,T)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||Wt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(S)):Cr(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Sr(t,p,"whitespace")(S)):S===96&&S===o?r(S):(t.consume(S),f)}function p(S){return S===null||Wt(S)?d(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||Wt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(S)):S===96&&S===o?r(S):(t.consume(S),g)}function m(S){return t.attempt(i,T,y)(S)}function y(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),v}function v(S){return a>0&&Cr(S)?Sr(t,b,"linePrefix",a+1)(S):b(S)}function b(S){return S===null||Wt(S)?t.check(yL,m,T)(S):(t.enter("codeFlowValue"),x(S))}function x(S){return S===null||Wt(S)?(t.exit("codeFlowValue"),b(S)):(t.consume(S),x)}function T(S){return t.exit("codeFenced"),e(S)}function w(S,k,L){let _=0;return N;function N(R){return S.enter("lineEnding"),S.consume(R),S.exit("lineEnding"),C}function C(R){return S.enter("codeFencedFence"),Cr(R)?Sr(S,D,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):D(R)}function D(R){return R===o?(S.enter("codeFencedFenceSequence"),P(R)):L(R)}function P(R){return R===o?(_++,S.consume(R),P):_>=s?(S.exit("codeFencedFenceSequence"),Cr(R)?Sr(S,A,"whitespace")(R):A(R)):L(R)}function A(R){return R===null||Wt(R)?(S.exit("codeFencedFence"),k(R)):L(R)}}}function vne(t,e,r){const n=this;return i;function i(s){return s===null?r(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):e(s)}}const IT={name:"codeIndented",tokenize:xne},bne={partial:!0,tokenize:Ene};function xne(t,e,r){const n=this;return i;function i(u){return t.enter("codeIndented"),Sr(t,a,"linePrefix",5)(u)}function a(u){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(u):r(u)}function s(u){return u===null?l(u):Wt(u)?t.attempt(bne,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Wt(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function Ene(t,e,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):Wt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Sr(t,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):Wt(s)?i(s):r(s)}}const Tne={name:"codeText",previous:Sne,resolve:wne,tokenize:kne};function wne(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function Sne(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kne(t,e,r){let n=0,i,a;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),n++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?r(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(a=t.enter("codeTextSequence"),i=0,h(d)):Wt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Wt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function h(d){return d===96?(t.consume(d),i++,h):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(a.type="codeTextData",u(d))}}class Cne{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Rp(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Rp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Rp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);Rp(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Rp(this.left,r.reverse())}}}function Rp(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function bL(t){const e={};let r=-1,n,i,a,s,o,l,u;const h=new Cne(t);for(;++r<h.length;){for(;r in e;)r=e[r];if(n=h.get(r),r&&n[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,_ne(h,r)),r=e[r],u=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(s=h.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(n[1].end={...h.get(i)[1].start},o=h.slice(i,r),o.unshift(n),h.splice(i,r-i+1,o))}}return fs(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function _ne(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const a=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let h,d,f=-1,p=r,g=0,m=0;const y=[m];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(h=n.sliceStream(p),p.next||h.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=r;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(m=f+1,y.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),f=y.length;f--;){const v=o.slice(y[f],y[f+1]),b=a.pop();l.push([b,b+v.length-1]),t.splice(b,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return u}const Ane={resolve:Nne,tokenize:Rne},Lne={partial:!0,tokenize:Ine};function Nne(t){return bL(t),t}function Rne(t,e){let r;return n;function n(o){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Wt(o)?t.check(Lne,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Ine(t,e,r){const n=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Sr(t,a,"linePrefix")}function a(s){if(s===null||Wt(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(n.parser.constructs.flow,r,e)(s)}}function xL(t,e,r,n,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(v){return v===60?(t.enter(n),t.enter(i),t.enter(a),t.consume(v),t.exit(a),f):v===null||v===32||v===41||Hy(v)?r(v):(t.enter(n),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),m(v))}function f(v){return v===62?(t.enter(a),t.consume(v),t.exit(a),t.exit(i),t.exit(n),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(o),f(v)):v===null||v===60||Wt(v)?r(v):(t.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function m(v){return!h&&(v===null||v===41||un(v))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(n),e(v)):h<u&&v===40?(t.consume(v),h++,m):v===41?(t.consume(v),h--,m):v===null||v===32||v===40||Hy(v)?r(v):(t.consume(v),v===92?y:m)}function y(v){return v===40||v===41||v===92?(t.consume(v),m):m(v)}}function EL(t,e,r,n,i,a){const s=this;let o=0,l;return u;function u(p){return t.enter(n),t.enter(i),t.consume(p),t.exit(i),t.enter(a),h}function h(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(n),e):Wt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||Wt(p)||o++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l||(l=!Cr(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),o++,d):d(p)}}function TL(t,e,r,n,i,a){let s;return o;function o(f){return f===34||f===39||f===40?(t.enter(n),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,l):r(f)}function l(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(n),e):(t.enter(a),u(f))}function u(f){return f===s?(t.exit(a),l(s)):f===null?r(f):Wt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Sr(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===s||f===null||Wt(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:h)}function d(f){return f===s||f===92?(t.consume(f),h):h(f)}}function Ip(t,e){let r;return n;function n(i){return Wt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):Cr(i)?Sr(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const Dne={name:"definition",tokenize:Mne},One={partial:!0,tokenize:Pne};function Mne(t,e,r){const n=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return EL.call(n,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=oo(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):r(p)}function l(p){return un(p)?Ip(t,u)(p):u(p)}function u(p){return xL(t,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return t.attempt(One,d,d)(p)}function d(p){return Cr(p)?Sr(t,f,"whitespace")(p):f(p)}function f(p){return p===null||Wt(p)?(t.exit("definition"),n.parser.defined.push(i),e(p)):r(p)}}function Pne(t,e,r){return n;function n(o){return un(o)?Ip(t,i)(o):r(o)}function i(o){return TL(t,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Cr(o)?Sr(t,s,"whitespace")(o):s(o)}function s(o){return o===null||Wt(o)?e(o):r(o)}}const Bne={name:"hardBreakEscape",tokenize:Fne};function Fne(t,e,r){return n;function n(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Wt(a)?(t.exit("hardBreakEscape"),e(a)):r(a)}}const $ne={name:"headingAtx",resolve:zne,tokenize:Une};function zne(t,e){let r=t.length-2,n=3,i,a;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},a={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},fs(t,n,r-n+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Une(t,e,r){let n=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&n++<6?(t.consume(h),s):h===null||un(h)?(t.exit("atxHeadingSequence"),o(h)):r(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||Wt(h)?(t.exit("atxHeading"),e(h)):Cr(h)?Sr(t,o,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function u(h){return h===null||h===35||un(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),u)}}const Hne=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wL=["pre","script","style","textarea"],Gne={concrete:!0,name:"htmlFlow",resolveTo:Wne,tokenize:Yne},Vne={partial:!0,tokenize:Kne},qne={partial:!0,tokenize:Xne};function Wne(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Yne(t,e,r){const n=this;let i,a,s,o,l;return u;function u(H){return h(H)}function h(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),d}function d(H){return H===33?(t.consume(H),f):H===47?(t.consume(H),a=!0,m):H===63?(t.consume(H),i=3,n.interrupt?e:B):ya(H)?(t.consume(H),s=String.fromCharCode(H),y):r(H)}function f(H){return H===45?(t.consume(H),i=2,p):H===91?(t.consume(H),i=5,o=0,g):ya(H)?(t.consume(H),i=4,n.interrupt?e:B):r(H)}function p(H){return H===45?(t.consume(H),n.interrupt?e:B):r(H)}function g(H){const te="CDATA[";return H===te.charCodeAt(o++)?(t.consume(H),o===te.length?n.interrupt?e:D:g):r(H)}function m(H){return ya(H)?(t.consume(H),s=String.fromCharCode(H),y):r(H)}function y(H){if(H===null||H===47||H===62||un(H)){const te=H===47,X=s.toLowerCase();return!te&&!a&&wL.includes(X)?(i=1,n.interrupt?e(H):D(H)):Hne.includes(s.toLowerCase())?(i=6,te?(t.consume(H),v):n.interrupt?e(H):D(H)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(H):a?b(H):x(H))}return H===45||Ji(H)?(t.consume(H),s+=String.fromCharCode(H),y):r(H)}function v(H){return H===62?(t.consume(H),n.interrupt?e:D):r(H)}function b(H){return Cr(H)?(t.consume(H),b):N(H)}function x(H){return H===47?(t.consume(H),N):H===58||H===95||ya(H)?(t.consume(H),T):Cr(H)?(t.consume(H),x):N(H)}function T(H){return H===45||H===46||H===58||H===95||Ji(H)?(t.consume(H),T):w(H)}function w(H){return H===61?(t.consume(H),S):Cr(H)?(t.consume(H),w):x(H)}function S(H){return H===null||H===60||H===61||H===62||H===96?r(H):H===34||H===39?(t.consume(H),l=H,k):Cr(H)?(t.consume(H),S):L(H)}function k(H){return H===l?(t.consume(H),l=null,_):H===null||Wt(H)?r(H):(t.consume(H),k)}function L(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||un(H)?w(H):(t.consume(H),L)}function _(H){return H===47||H===62||Cr(H)?x(H):r(H)}function N(H){return H===62?(t.consume(H),C):r(H)}function C(H){return H===null||Wt(H)?D(H):Cr(H)?(t.consume(H),C):r(H)}function D(H){return H===45&&i===2?(t.consume(H),O):H===60&&i===1?(t.consume(H),M):H===62&&i===4?(t.consume(H),$):H===63&&i===3?(t.consume(H),B):H===93&&i===5?(t.consume(H),F):Wt(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Vne,V,P)(H)):H===null||Wt(H)?(t.exit("htmlFlowData"),P(H)):(t.consume(H),D)}function P(H){return t.check(qne,A,V)(H)}function A(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),R}function R(H){return H===null||Wt(H)?P(H):(t.enter("htmlFlowData"),D(H))}function O(H){return H===45?(t.consume(H),B):D(H)}function M(H){return H===47?(t.consume(H),s="",I):D(H)}function I(H){if(H===62){const te=s.toLowerCase();return wL.includes(te)?(t.consume(H),$):D(H)}return ya(H)&&s.length<8?(t.consume(H),s+=String.fromCharCode(H),I):D(H)}function F(H){return H===93?(t.consume(H),B):D(H)}function B(H){return H===62?(t.consume(H),$):H===45&&i===2?(t.consume(H),B):D(H)}function $(H){return H===null||Wt(H)?(t.exit("htmlFlowData"),V(H)):(t.consume(H),$)}function V(H){return t.exit("htmlFlow"),e(H)}}function Xne(t,e,r){const n=this;return i;function i(s){return Wt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):e(s)}}function Kne(t,e,r){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Np,e,r)}}const jne={name:"htmlText",tokenize:Qne};function Qne(t,e,r){const n=this;let i,a,s;return o;function o(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),l}function l(B){return B===33?(t.consume(B),u):B===47?(t.consume(B),w):B===63?(t.consume(B),x):ya(B)?(t.consume(B),L):r(B)}function u(B){return B===45?(t.consume(B),h):B===91?(t.consume(B),a=0,g):ya(B)?(t.consume(B),b):r(B)}function h(B){return B===45?(t.consume(B),p):r(B)}function d(B){return B===null?r(B):B===45?(t.consume(B),f):Wt(B)?(s=d,M(B)):(t.consume(B),d)}function f(B){return B===45?(t.consume(B),p):d(B)}function p(B){return B===62?O(B):B===45?f(B):d(B)}function g(B){const $="CDATA[";return B===$.charCodeAt(a++)?(t.consume(B),a===$.length?m:g):r(B)}function m(B){return B===null?r(B):B===93?(t.consume(B),y):Wt(B)?(s=m,M(B)):(t.consume(B),m)}function y(B){return B===93?(t.consume(B),v):m(B)}function v(B){return B===62?O(B):B===93?(t.consume(B),v):m(B)}function b(B){return B===null||B===62?O(B):Wt(B)?(s=b,M(B)):(t.consume(B),b)}function x(B){return B===null?r(B):B===63?(t.consume(B),T):Wt(B)?(s=x,M(B)):(t.consume(B),x)}function T(B){return B===62?O(B):x(B)}function w(B){return ya(B)?(t.consume(B),S):r(B)}function S(B){return B===45||Ji(B)?(t.consume(B),S):k(B)}function k(B){return Wt(B)?(s=k,M(B)):Cr(B)?(t.consume(B),k):O(B)}function L(B){return B===45||Ji(B)?(t.consume(B),L):B===47||B===62||un(B)?_(B):r(B)}function _(B){return B===47?(t.consume(B),O):B===58||B===95||ya(B)?(t.consume(B),N):Wt(B)?(s=_,M(B)):Cr(B)?(t.consume(B),_):O(B)}function N(B){return B===45||B===46||B===58||B===95||Ji(B)?(t.consume(B),N):C(B)}function C(B){return B===61?(t.consume(B),D):Wt(B)?(s=C,M(B)):Cr(B)?(t.consume(B),C):_(B)}function D(B){return B===null||B===60||B===61||B===62||B===96?r(B):B===34||B===39?(t.consume(B),i=B,P):Wt(B)?(s=D,M(B)):Cr(B)?(t.consume(B),D):(t.consume(B),A)}function P(B){return B===i?(t.consume(B),i=void 0,R):B===null?r(B):Wt(B)?(s=P,M(B)):(t.consume(B),P)}function A(B){return B===null||B===34||B===39||B===60||B===61||B===96?r(B):B===47||B===62||un(B)?_(B):(t.consume(B),A)}function R(B){return B===47||B===62||un(B)?_(B):r(B)}function O(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):r(B)}function M(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),I}function I(B){return Cr(B)?Sr(t,F,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):F(B)}function F(B){return t.enter("htmlTextData"),s(B)}}const DT={name:"labelEnd",resolveAll:tie,resolveTo:rie,tokenize:nie},Zne={tokenize:iie},Jne={tokenize:aie},eie={tokenize:sie};function tie(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&fs(t,0,t.length,r),t}function rie(t,e){let r=t.length,n=0,i,a,s,o;for(;r--;)if(i=t[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[a+n+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=Is(o,t.slice(a+1,a+n+3)),o=Is(o,[["enter",h,e]]),o=Is(o,Vy(e.parser.constructs.insideSpan.null,t.slice(a+n+4,s-3),e)),o=Is(o,[["exit",h,e],t[s-2],t[s-1],["exit",u,e]]),o=Is(o,t.slice(s+1)),o=Is(o,[["exit",l,e]]),fs(t,a,t.length,o),t}function nie(t,e,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(f){return a?a._inactive?d(f):(s=n.parser.defined.includes(oo(n.sliceSerialize({start:a.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):r(f)}function l(f){return f===40?t.attempt(Zne,h,s?h:d)(f):f===91?t.attempt(Jne,h,s?u:d)(f):s?h(f):d(f)}function u(f){return t.attempt(eie,h,d)(f)}function h(f){return e(f)}function d(f){return a._balanced=!0,r(f)}}function iie(t,e,r){return n;function n(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return un(d)?Ip(t,a)(d):a(d)}function a(d){return d===41?h(d):xL(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return un(d)?Ip(t,l)(d):h(d)}function o(d){return r(d)}function l(d){return d===34||d===39||d===40?TL(t,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function u(d){return un(d)?Ip(t,h)(d):h(d)}function h(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):r(d)}}function aie(t,e,r){const n=this;return i;function i(o){return EL.call(n,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(oo(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(o):r(o)}function s(o){return r(o)}}function sie(t,e,r){return n;function n(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):r(a)}}const oie={name:"labelStartImage",resolveAll:DT.resolveAll,tokenize:lie};function lie(t,e,r){const n=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}const cie={name:"labelStartLink",resolveAll:DT.resolveAll,tokenize:uie};function uie(t,e,r){const n=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):e(s)}}const OT={name:"lineEnding",tokenize:hie};function hie(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Sr(t,e,"linePrefix")}}const qy={name:"thematicBreak",tokenize:die};function die(t,e,r){let n=0,i;return a;function a(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):n>=3&&(u===null||Wt(u))?(t.exit("thematicBreak"),e(u)):r(u)}function l(u){return u===i?(t.consume(u),n++,l):(t.exit("thematicBreakSequence"),Cr(u)?Sr(t,o,"whitespace")(u):o(u))}}const za={continuation:{tokenize:mie},exit:vie,name:"list",tokenize:gie},fie={partial:!0,tokenize:bie},pie={partial:!0,tokenize:yie};function gie(t,e,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const g=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:NT(p)){if(n.containerState.type||(n.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(qy,r,u)(p):u(p);if(!n.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return r(p)}function l(p){return NT(p)&&++s<10?(t.consume(p),l):(!n.interrupt||s<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):r(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,t.check(Np,n.interrupt?r:h,t.attempt(fie,f,d))}function h(p){return n.containerState.initialBlankLine=!0,a++,f(p)}function d(p){return Cr(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):r(p)}function f(p){return n.containerState.size=a+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function mie(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(Np,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Sr(t,e,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!Cr(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(pie,e,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Sr(t,t.attempt(za,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function yie(t,e,r){const n=this;return Sr(t,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?e(a):r(a)}}function vie(t){t.exit(this.containerState.type)}function bie(t,e,r){const n=this;return Sr(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=n.events[n.events.length-1];return!Cr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):r(a)}}const SL={name:"setextUnderline",resolveTo:xie,tokenize:Eie};function xie(t,e){let r=t.length,n,i,a;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!a&&t[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...t[n][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[n][1],e]),t[n][1].end={...t[a][1].end}):t[n][1]=s,t.push(["exit",s,e]),t}function Eie(t,e,r){const n=this;let i;return a;function a(u){let h=n.events.length,d;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){d=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(t.enter("setextHeadingLine"),i=u,s(u)):r(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),Cr(u)?Sr(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Wt(u)?(t.exit("setextHeadingLine"),e(u)):r(u)}}const Tie={tokenize:wie};function wie(t){const e=this,r=t.attempt(Np,n,t.attempt(this.parser.constructs.flowInitial,i,Sr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Ane,i)),"linePrefix")));return r;function n(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const Sie={resolveAll:CL()},kie=kL("string"),Cie=kL("text");function kL(t){return{resolveAll:CL(t==="text"?_ie:void 0),tokenize:e};function e(r){const n=this,i=this.parser.constructs[t],a=r.attempt(i,s,o);return s;function s(h){return u(h)?a(h):o(h)}function o(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),l}function l(h){return u(h)?(r.exit("data"),a(h)):(r.consume(h),l)}function u(h){if(h===null)return!0;const d=i[h];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function CL(t){return e;function e(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(r,n):r}}function _ie(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(e._contentTypeTextTrailing&&r===t.length&&(o=0),o){const u={type:r===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(t.splice(r,0,["enter",u,e],["exit",u,e]),r+=2)}r++}return t}const Aie=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:{91:Dne},disable:{null:[]},document:{42:za,43:za,45:za,48:za,49:za,50:za,51:za,52:za,53:za,54:za,55:za,56:za,57:za,62:pL},flow:{35:$ne,42:qy,45:[SL,qy],60:Gne,61:SL,95:qy,96:vL,126:vL},flowInitial:{[-2]:IT,[-1]:IT,32:IT},insideSpan:{null:[RT,Sie]},string:{38:mL,92:gL},text:{[-5]:OT,[-4]:OT,[-3]:OT,33:oie,38:mL,42:RT,60:[cne,jne],91:cie,92:[Bne,gL],93:DT,95:RT,96:Tne}},Symbol.toStringTag,{value:"Module"}));function Lie(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:k(w),check:k(S),consume:b,enter:x,exit:T,interrupt:k(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let h=e.tokenize.call(u,l);return e.resolveAll&&a.push(e),u;function d(C){return s=Is(s,C),y(),s[s.length-1]!==null?[]:(L(e,0),u.events=Vy(a,u.events,u),u.events)}function f(C,D){return Rie(p(C),D)}function p(C){return Nie(s,C)}function g(){const{_bufferIndex:C,_index:D,line:P,column:A,offset:R}=n;return{_bufferIndex:C,_index:D,line:P,column:A,offset:R}}function m(C){i[C.line]=C.column,N()}function y(){let C;for(;n._index<s.length;){const D=s[n._index];if(typeof D=="string")for(C=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===C&&n._bufferIndex<D.length;)v(D.charCodeAt(n._bufferIndex));else v(D)}}function v(C){h=h(C)}function b(C){Wt(C)?(n.line++,n.column=1,n.offset+=C===-3?2:1,N()):C!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=C}function x(C,D){const P=D||{};return P.type=C,P.start=g(),u.events.push(["enter",P,u]),o.push(P),P}function T(C){const D=o.pop();return D.end=g(),u.events.push(["exit",D,u]),D}function w(C,D){L(C,D.from)}function S(C,D){D.restore()}function k(C,D){return P;function P(A,R,O){let M,I,F,B;return Array.isArray(A)?V(A):"tokenize"in A?V([A]):$(A);function $(ee){return re;function re(pe){const K=pe!==null&&ee[pe],W=pe!==null&&ee.null,j=[...Array.isArray(K)?K:K?[K]:[],...Array.isArray(W)?W:W?[W]:[]];return V(j)(pe)}}function V(ee){return M=ee,I=0,ee.length===0?O:H(ee[I])}function H(ee){return re;function re(pe){return B=_(),F=ee,ee.partial||(u.currentConstruct=ee),ee.name&&u.parser.constructs.disable.null.includes(ee.name)?X():ee.tokenize.call(D?Object.assign(Object.create(u),D):u,l,te,X)(pe)}}function te(ee){return C(F,B),R}function X(ee){return B.restore(),++I<M.length?H(M[I]):O}}}function L(C,D){C.resolveAll&&!a.includes(C)&&a.push(C),C.resolve&&fs(u.events,D,u.events.length-D,C.resolve(u.events.slice(D),u)),C.resolveTo&&(u.events=C.resolveTo(u.events,u))}function _(){const C=g(),D=u.previous,P=u.currentConstruct,A=u.events.length,R=Array.from(o);return{from:A,restore:O};function O(){n=C,u.previous=D,u.currentConstruct=P,u.events.length=A,o=R,N()}}function N(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Nie(t,e){const r=e.start._index,n=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(r===i)s=[t[r].slice(n,a)];else{if(s=t.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function Rie(t,e){let r=-1;const n=[];let i;for(;++r<t.length;){const a=t[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function Iie(t){const n={constructs:uL([Aie,...(t||{}).extensions||[]]),content:i(rne),defined:[],document:i(ine),flow:i(Tie),lazy:{},string:i(kie),text:i(Cie)};return n;function i(a){return s;function s(o){return Lie(n,a,o)}}}function Die(t){for(;!bL(t););return t}const _L=/[\0\t\n\r]/g;function Oie(){let t=1,e="",r=!0,n;return i;function i(a,s,o){const l=[];let u,h,d,f,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),d=0,e="",r&&(a.charCodeAt(0)===65279&&d++,r=void 0);d<a.length;){if(_L.lastIndex=d,u=_L.exec(a),f=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(f),!u){e=a.slice(d);break}if(p===10&&d===f&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),d<f&&(l.push(a.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:n=!0,t=1}d=f+1}return o&&(n&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Mie=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Pie(t){return t.replace(Mie,Bie)}function Bie(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return hL(r.slice(a?2:1),a?16:10)}return LT(r)||t}function Dp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?AL(t.position):"start"in t||"end"in t?AL(t):"line"in t||"column"in t?MT(t):""}function MT(t){return LL(t&&t.line)+":"+LL(t&&t.column)}function AL(t){return MT(t&&t.start)+"-"+MT(t&&t.end)}function LL(t){return t&&typeof t=="number"?t:1}const NL={}.hasOwnProperty;function Fie(t,e,r){return typeof e!="string"&&(r=e,e=void 0),$ie(r)(Die(Iie(r).document().write(Oie()(t,e,!0))))}function $ie(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ue),autolinkProtocol:_,autolinkEmail:_,atxHeading:a(J),blockQuote:a(W),characterEscape:_,characterReference:_,codeFenced:a(j),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(j,s),codeText:a(Y,s),codeTextData:_,data:_,codeFlowValue:_,definition:a(Q),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ie),hardBreakEscape:a(we),hardBreakTrailing:a(we),htmlFlow:a(ue,s),htmlFlowData:_,htmlText:a(ue,s),htmlTextData:_,image:a(ae),label:s,link:a(Ue),listItem:a(Ze),listItemValue:f,listOrdered:a(xe,d),listUnordered:a(xe),paragraph:a(Je),reference:H,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(J),strong:a(Xe),thematicBreak:a(We)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:K,autolinkProtocol:pe,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:ee,characterReference:re,codeFenced:l(y),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:N,codeIndented:l(v),codeText:l(R),codeTextData:N,data:N,definition:l(),definitionDestinationString:T,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(P),htmlFlowData:N,htmlText:l(A),htmlTextData:N,image:l(M),label:F,labelText:I,lineEnding:C,link:l(O),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:te,resourceDestinationString:B,resourceTitleString:$,resource:V,setextHeading:l(L),setextHeadingLineSequence:k,setextHeadingText:S,strong:l(),thematicBreak:l()}};RL(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(he){let Te={type:"root",children:[]};const Be={stack:[Te],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:h,data:r},ye=[];let Me=-1;for(;++Me<he.length;)if(he[Me][1].type==="listOrdered"||he[Me][1].type==="listUnordered")if(he[Me][0]==="enter")ye.push(Me);else{const Z=ye.pop();Me=i(he,Z,Me)}for(Me=-1;++Me<he.length;){const Z=e[he[Me][0]];NL.call(Z,he[Me][1].type)&&Z[he[Me][1].type].call(Object.assign({sliceSerialize:he[Me][2].sliceSerialize},Be),he[Me][1])}if(Be.tokenStack.length>0){const Z=Be.tokenStack[Be.tokenStack.length-1];(Z[1]||IL).call(Be,void 0,Z[0])}for(Te.position={start:Rc(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:Rc(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<e.transforms.length;)Te=e.transforms[Me](Te)||Te;return Te}function i(he,Te,Be){let ye=Te-1,Me=-1,Z=!1,fe,U,le,oe;for(;++ye<=Be;){const ge=he[ye];switch(ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ge[0]==="enter"?Me++:Me--,oe=void 0;break}case"lineEndingBlank":{ge[0]==="enter"&&(fe&&!oe&&!Me&&!le&&(le=ye),oe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:oe=void 0}if(!Me&&ge[0]==="enter"&&ge[1].type==="listItemPrefix"||Me===-1&&ge[0]==="exit"&&(ge[1].type==="listUnordered"||ge[1].type==="listOrdered")){if(fe){let me=ye;for(U=void 0;me--;){const Ce=he[me];if(Ce[1].type==="lineEnding"||Ce[1].type==="lineEndingBlank"){if(Ce[0]==="exit")continue;U&&(he[U][1].type="lineEndingBlank",Z=!0),Ce[1].type="lineEnding",U=me}else if(!(Ce[1].type==="linePrefix"||Ce[1].type==="blockQuotePrefix"||Ce[1].type==="blockQuotePrefixWhitespace"||Ce[1].type==="blockQuoteMarker"||Ce[1].type==="listItemIndent"))break}le&&(!U||le<U)&&(fe._spread=!0),fe.end=Object.assign({},U?he[U][1].start:ge[1].end),he.splice(U||ye,0,["exit",fe,ge[2]]),ye++,Be++}if(ge[1].type==="listItemPrefix"){const me={type:"listItem",_spread:!1,start:Object.assign({},ge[1].start),end:void 0};fe=me,he.splice(ye,0,["enter",me,ge[2]]),ye++,Be++,le=void 0,oe=!0}}}return he[Te][1]._spread=Z,Be}function a(he,Te){return Be;function Be(ye){o.call(this,he(ye),ye),Te&&Te.call(this,ye)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(he,Te,Be){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Te,Be||void 0]),he.position={start:Rc(Te.start),end:void 0}}function l(he){return Te;function Te(Be){he&&he.call(this,Be),u.call(this,Be)}}function u(he,Te){const Be=this.stack.pop(),ye=this.tokenStack.pop();if(ye)ye[0].type!==he.type&&(Te?Te.call(this,he,ye[0]):(ye[1]||IL).call(this,he,ye[0]));else throw new Error("Cannot close `"+he.type+"` ("+Dp({start:he.start,end:he.end})+"): it’s not open");Be.position.end=Rc(he.end)}function h(){return AT(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(he){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function p(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=he}function g(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=he}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he.replace(/(\r?\n|\r)$/g,"")}function b(he){const Te=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Te,Be.identifier=oo(this.sliceSerialize(he)).toLowerCase()}function x(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.title=he}function T(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.url=he}function w(he){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Be=this.sliceSerialize(he).length;Te.depth=Be}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function k(he){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function _(he){const Be=this.stack[this.stack.length-1].children;let ye=Be[Be.length-1];(!ye||ye.type!=="text")&&(ye=Pe(),ye.position={start:Rc(he.start),end:void 0},Be.push(ye)),this.stack.push(ye)}function N(he){const Te=this.stack.pop();Te.value+=this.sliceSerialize(he),Te.position.end=Rc(he.end)}function C(he){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Be=Te.children[Te.children.length-1];Be.position.end=Rc(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(_.call(this,he),N.call(this,he))}function D(){this.data.atHardBreak=!0}function P(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function A(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function R(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function O(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Te,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function M(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Te,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function I(he){const Te=this.sliceSerialize(he),Be=this.stack[this.stack.length-2];Be.label=Pie(Te),Be.identifier=oo(Te).toLowerCase()}function F(){const he=this.stack[this.stack.length-1],Te=this.resume(),Be=this.stack[this.stack.length-1];if(this.data.inReference=!0,Be.type==="link"){const ye=he.children;Be.children=ye}else Be.alt=Te}function B(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.url=he}function $(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.title=he}function V(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function te(he){const Te=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Te,Be.identifier=oo(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function X(he){this.data.characterReferenceType=he.type}function ee(he){const Te=this.sliceSerialize(he),Be=this.data.characterReferenceType;let ye;Be?(ye=hL(Te,Be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ye=LT(Te);const Me=this.stack[this.stack.length-1];Me.value+=ye}function re(he){const Te=this.stack.pop();Te.position.end=Rc(he.end)}function pe(he){N.call(this,he);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(he)}function K(he){N.call(this,he);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(he)}function W(){return{type:"blockquote",children:[]}}function j(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ie(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function we(){return{type:"break"}}function ue(){return{type:"html",value:""}}function ae(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function xe(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Ze(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function Je(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function Pe(){return{type:"text",value:""}}function We(){return{type:"thematicBreak"}}}function Rc(t){return{line:t.line,column:t.column,offset:t.offset}}function RL(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?RL(t,n):zie(t,n)}}function zie(t,e){let r;for(r in e)if(NL.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function IL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Dp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Dp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Dp({start:e.start,end:e.end})+") is still open")}function Uie(t){const e=this;e.parser=r;function r(n){return Fie(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Wy(t,e){const r=String(t);if(typeof e!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(e);for(;i!==-1;)n++,i=r.indexOf(e,i+e.length);return n}function jJe(){}function Hie(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const wd=function(t){if(t==null)return Wie;if(typeof t=="function")return Yy(t);if(typeof t=="object")return Array.isArray(t)?Gie(t):Vie(t);if(typeof t=="string")return qie(t);throw new Error("Expected function, string, or object as test")};function Gie(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=wd(t[r]);return Yy(n);function n(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Vie(t){const e=t;return Yy(r);function r(n){const i=n;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function qie(t){return Yy(e);function e(r){return r&&r.type===t}}function Yy(t){return e;function e(r,n,i){return!!(Yie(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Wie(){return!0}function Yie(t){return t!==null&&typeof t=="object"&&"type"in t}function QJe(t){return t}const DL=[],Xie=!0,PT=!1,BT="skip";function Op(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const a=wd(i),s=n?-1:1;o(t,void 0,[])();function o(l,u,h){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=DL,g,m,y;if((!e||a(l,u,h[h.length-1]||void 0))&&(p=Kie(r(l,h)),p[0]===PT))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==BT)for(m=(n?v.children.length:-1)+s,y=h.concat(v);m>-1&&m<v.children.length;){const b=v.children[m];if(g=o(b,m,y)(),g[0]===PT)return g;m=typeof g[1]=="number"?g[1]:m+s}}return p}}}function Kie(t){return Array.isArray(t)?t:typeof t=="number"?[Xie,t]:t==null?DL:[t]}function jie(t,e,r){const i=wd((r||{}).ignore||[]),a=Qie(e);let s=-1;for(;++s<a.length;)Op(t,"text",o);function o(u,h){let d=-1,f;for(;++d<h.length;){const p=h[d],g=f?f.children:void 0;if(i(p,g?g.indexOf(p):void 0,f))return;f=p}if(f)return l(u,h)}function l(u,h){const d=h[h.length-1],f=a[s][0],p=a[s][1];let g=0;const y=d.children.indexOf(u);let v=!1,b=[];f.lastIndex=0;let x=f.exec(u.value);for(;x;){const T=x.index,w={index:x.index,input:x.input,stack:[...h,u]};let S=p(...x,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=T+1:(g!==T&&b.push({type:"text",value:u.value.slice(g,T)}),Array.isArray(S)?b.push(...S):S&&b.push(S),g=T+x[0].length,v=!0),!f.global)break;x=f.exec(u.value)}return v?(g<u.value.length&&b.push({type:"text",value:u.value.slice(g)}),d.children.splice(y,1,...b)):b=[u],y+b.length}}function Qie(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!t[0]||Array.isArray(t[0])?t:[t];let n=-1;for(;++n<r.length;){const i=r[n];e.push([Zie(i[0]),Jie(i[1])])}return e}function Zie(t){return typeof t=="string"?new RegExp(Hie(t),"g"):t}function Jie(t){return typeof t=="function"?t:function(){return t}}const FT="phrasing",$T=["autolink","link","image","label"];function eae(){return{transforms:[oae],enter:{literalAutolink:rae,literalAutolinkEmail:zT,literalAutolinkHttp:zT,literalAutolinkWww:zT},exit:{literalAutolink:sae,literalAutolinkEmail:aae,literalAutolinkHttp:nae,literalAutolinkWww:iae}}}function tae(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:FT,notInConstruct:$T},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:FT,notInConstruct:$T},{character:":",before:"[ps]",after:"\\/",inConstruct:FT,notInConstruct:$T}]}}function rae(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function zT(t){this.config.enter.autolinkProtocol.call(this,t)}function nae(t){this.config.exit.autolinkProtocol.call(this,t)}function iae(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function aae(t){this.config.exit.autolinkEmail.call(this,t)}function sae(t){this.exit(t)}function oae(t){jie(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,lae],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),cae]],{ignore:["link","linkReference"]})}function lae(t,e,r,n,i){let a="";if(!OL(i)||(/^w/i.test(e)&&(r=e+r,e="",a="http://"),!uae(r)))return!1;const s=hae(r+n);if(!s[0])return!1;const o={type:"link",title:null,url:a+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function cae(t,e,r,n){return!OL(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+r,children:[{type:"text",value:e+"@"+r}]}}function uae(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function hae(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let r=e[0],n=r.indexOf(")");const i=Wy(t,"(");let a=Wy(t,")");for(;n!==-1&&i>a;)t+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[t,r]}function OL(t,e){const r=t.input.charCodeAt(t.index-1);return(t.index===0||Bu(r)||Gy(r))&&(!e||r!==47)}ML.peek=xae;function dae(){this.buffer()}function fae(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function pae(){this.buffer()}function gae(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function mae(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=oo(this.sliceSerialize(t)).toLowerCase(),r.label=e}function yae(t){this.exit(t)}function vae(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=oo(this.sliceSerialize(t)).toLowerCase(),r.label=e}function bae(t){this.exit(t)}function xae(){return"["}function ML(t,e,r,n){const i=r.createTracker(n);let a=i.move("[^");const s=r.enter("footnoteReference"),o=r.enter("reference");return a+=i.move(r.safe(r.associationId(t),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function Eae(){return{enter:{gfmFootnoteCallString:dae,gfmFootnoteCall:fae,gfmFootnoteDefinitionLabelString:pae,gfmFootnoteDefinition:gae},exit:{gfmFootnoteCallString:mae,gfmFootnoteCall:yae,gfmFootnoteDefinitionLabelString:vae,gfmFootnoteDefinition:bae}}}function Tae(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:r,footnoteReference:ML},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),h=a.enter("label");return l+=o.move(a.safe(a.associationId(n),{before:l,after:"]"})),h(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+a.indentLines(a.containerFlow(n,o.current()),e?PL:wae))),u(),l}}function wae(t,e,r){return e===0?t:PL(t,e,r)}function PL(t,e,r){return(r?"":"    ")+t}const Sae=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];BL.peek=Lae;function kae(){return{canContainEols:["delete"],enter:{strikethrough:_ae},exit:{strikethrough:Aae}}}function Cae(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Sae}],handlers:{delete:BL}}}function _ae(t){this.enter({type:"delete",children:[]},t)}function Aae(t){this.exit(t)}function BL(t,e,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let s=i.move("~~");return s+=r.containerPhrasing(t,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function Lae(){return"~"}function Nae(t){return t.length}function Rae(t,e){const r=e||{},n=(r.align||[]).concat(),i=r.stringLength||Nae,a=[],s=[],o=[],l=[];let u=0,h=-1;for(;++h<t.length;){const m=[],y=[];let v=-1;for(t[h].length>u&&(u=t[h].length);++v<t[h].length;){const b=Iae(t[h][v]);if(r.alignDelimiters!==!1){const x=i(b);y[v]=x,(l[v]===void 0||x>l[v])&&(l[v]=x)}m.push(b)}s[h]=m,o[h]=y}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<u;)a[d]=FL(n[d]);else{const m=FL(n);for(;++d<u;)a[d]=m}d=-1;const f=[],p=[];for(;++d<u;){const m=a[d];let y="",v="";m===99?(y=":",v=":"):m===108?y=":":m===114&&(v=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[d]-y.length-v.length);const x=y+"-".repeat(b)+v;r.alignDelimiters!==!1&&(b=y.length+b+v.length,b>l[d]&&(l[d]=b),p[d]=b),f[d]=x}s.splice(1,0,f),o.splice(1,0,p),h=-1;const g=[];for(;++h<s.length;){const m=s[h],y=o[h];d=-1;const v=[];for(;++d<u;){const b=m[d]||"";let x="",T="";if(r.alignDelimiters!==!1){const w=l[d]-(y[d]||0),S=a[d];S===114?x=" ".repeat(w):S===99?w%2?(x=" ".repeat(w/2+.5),T=" ".repeat(w/2-.5)):(x=" ".repeat(w/2),T=x):T=" ".repeat(w)}r.delimiterStart!==!1&&!d&&v.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||d)&&v.push(" "),r.alignDelimiters!==!1&&v.push(x),v.push(b),r.alignDelimiters!==!1&&v.push(T),r.padding!==!1&&v.push(" "),(r.delimiterEnd!==!1||d!==u-1)&&v.push("|")}g.push(r.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function Iae(t){return t==null?"":String(t)}function FL(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const $L={}.hasOwnProperty;function UT(t,e){const r=e||{};function n(i,...a){let s=n.invalid;const o=n.handlers;if(i&&$L.call(i,t)){const l=String(i[t]);s=$L.call(o,l)?o[l]:n.unknown}if(s)return s.call(this,i,...a)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function Dae(t,e,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const s=r.indentLines(r.containerFlow(t,a.current()),Oae);return i(),s}function Oae(t,e,r){return">"+(r?"":" ")+t}function Mae(t,e){return zL(t,e.inConstruct,!0)&&!zL(t,e.notInConstruct,!1)}function zL(t,e,r){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return r;let n=-1;for(;++n<e.length;)if(t.includes(e[n]))return!0;return!1}function UL(t,e,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Mae(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function HL(t,e){const r=String(t);let n=r.indexOf(e),i=n,a=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>s&&(s=a):a=1,i=n+e.length,n=r.indexOf(e,i);return s}function Pae(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Bae(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Fae(t,e,r,n){const i=Bae(r),a=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Pae(t,r)){const d=r.enter("codeIndented"),f=r.indentLines(a,$ae);return d(),f}const o=r.createTracker(n),l=i.repeat(Math.max(HL(a,i)+1,3)),u=r.enter("codeFenced");let h=o.move(l);if(t.lang){const d=r.enter(`codeFencedLang${s}`);h+=o.move(r.safe(t.lang,{before:h,after:" ",encode:["`"],...o.current()})),d()}if(t.lang&&t.meta){const d=r.enter(`codeFencedMeta${s}`);h+=o.move(" "),h+=o.move(r.safe(t.meta,{before:h,after:`
`,encode:["`"],...o.current()})),d()}return h+=o.move(`
`),a&&(h+=o.move(a+`
`)),h+=o.move(l),u(),h}function $ae(t,e,r){return(r?"":"    ")+t}function HT(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function zae(t,e,r,n){const i=HT(r),a=i==='"'?"Quote":"Apostrophe",s=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");return u+=l.move(r.safe(r.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=r.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(r.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function Uae(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Mp(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Xy(t,e,r){const n=Td(t),i=Td(e);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}GL.peek=Hae;function GL(t,e,r,n){const i=Uae(r),a=r.enter("emphasis"),s=r.createTracker(n),o=s.move(i);let l=s.move(r.containerPhrasing(t,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),h=Xy(n.before.charCodeAt(n.before.length-1),u,i);h.inside&&(l=Mp(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Xy(n.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+Mp(d));const p=s.move(i);return a(),r.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},o+l+p}function Hae(t,e,r){return r.options.emphasis||"*"}function Pp(t,e,r,n){let i,a,s;typeof e=="function"&&typeof r!="function"?(a=void 0,s=e,i=r):(a=e,s=r,i=n),Op(t,a,o,i);function o(l,u){const h=u[u.length-1],d=h?h.children.indexOf(l):void 0;return s(l,d,h)}}function Gae(t,e){let r=!1;return Pp(t,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,PT}),!!((!t.depth||t.depth<3)&&AT(t)&&(e.options.setext||r))}function Vae(t,e,r,n){const i=Math.max(Math.min(6,t.depth||1),1),a=r.createTracker(n);if(Gae(t,r)){const h=r.enter("headingSetext"),d=r.enter("phrasing"),f=r.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return d(),h(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=r.enter("headingAtx"),l=r.enter("phrasing");a.move(s+" ");let u=r.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Mp(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,r.options.closeAtx&&(u+=" "+s),l(),o(),u}VL.peek=qae;function VL(t){return t.value||""}function qae(){return"<"}qL.peek=Wae;function qL(t,e,r,n){const i=HT(r),a=i==='"'?"Quote":"Apostrophe",s=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");return u+=l.move(r.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=r.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(r.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function Wae(){return"!"}WL.peek=Yae;function WL(t,e,r,n){const i=t.referenceType,a=r.enter("imageReference");let s=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const u=r.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const h=r.stack;r.stack=[],s=r.enter("reference");const d=r.safe(r.associationId(t),{before:l,after:"]",...o.current()});return s(),r.stack=h,a(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Yae(){return"!"}YL.peek=Xae;function YL(t,e,r){let n=t.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const s=r.unsafe[a],o=r.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(n);){let u=l.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1)}}return i+n+i}function Xae(){return"`"}function XL(t,e){const r=AT(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}KL.peek=Kae;function KL(t,e,r,n){const i=HT(r),a=i==='"'?"Quote":"Apostrophe",s=r.createTracker(n);let o,l;if(XL(t,r)){const h=r.stack;r.stack=[],o=r.enter("autolink");let d=s.move("<");return d+=s.move(r.containerPhrasing(t,{before:d,after:">",...s.current()})),d+=s.move(">"),o(),r.stack=h,d}o=r.enter("link"),l=r.enter("label");let u=s.move("[");return u+=s.move(r.containerPhrasing(t,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=r.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(r.safe(t.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=r.enter("destinationRaw"),u+=s.move(r.safe(t.url,{before:u,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=r.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(r.safe(t.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function Kae(t,e,r){return XL(t,r)?"<":"["}jL.peek=jae;function jL(t,e,r,n){const i=t.referenceType,a=r.enter("linkReference");let s=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const u=r.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const h=r.stack;r.stack=[],s=r.enter("reference");const d=r.safe(r.associationId(t),{before:l,after:"]",...o.current()});return s(),r.stack=h,a(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function jae(){return"["}function GT(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Qae(t){const e=GT(t),r=t.options.bulletOther;if(!r)return e==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Zae(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function QL(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Jae(t,e,r,n){const i=r.enter("list"),a=r.bulletCurrent;let s=t.ordered?Zae(r):GT(r);const o=t.ordered?s==="."?")":".":Qae(r);let l=e&&r.bulletLastUsed?s===r.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),QL(r)===s&&h){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),r.bulletCurrent=s;const u=r.containerFlow(t,n);return r.bulletLastUsed=s,r.bulletCurrent=a,i(),u}function ese(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function tse(t,e,r,n){const i=ese(r);let a=r.bulletCurrent||GT(r);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(r.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const o=r.createTracker(n);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=r.enter("listItem"),u=r.indentLines(r.containerFlow(t,o.current()),h);return l(),u;function h(d,f,p){return f?(p?"":" ".repeat(s))+d:(p?a:a+" ".repeat(s-a.length))+d}}function rse(t,e,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),s=r.containerPhrasing(t,n);return a(),i(),s}const nse=wd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ise(t,e,r,n){return(t.children.some(function(s){return nse(s)})?r.containerPhrasing:r.containerFlow).call(r,t,n)}function ase(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}ZL.peek=sse;function ZL(t,e,r,n){const i=ase(r),a=r.enter("strong"),s=r.createTracker(n),o=s.move(i+i);let l=s.move(r.containerPhrasing(t,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),h=Xy(n.before.charCodeAt(n.before.length-1),u,i);h.inside&&(l=Mp(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Xy(n.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+Mp(d));const p=s.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},o+l+p}function sse(t,e,r){return r.options.strong||"*"}function ose(t,e,r,n){return r.safe(t.value,n)}function lse(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function cse(t,e,r){const n=(QL(r)+(r.options.ruleSpaces?" ":"")).repeat(lse(r));return r.options.ruleSpaces?n.slice(0,-1):n}const JL={blockquote:Dae,break:UL,code:Fae,definition:zae,emphasis:GL,hardBreak:UL,heading:Vae,html:VL,image:qL,imageReference:WL,inlineCode:YL,link:KL,linkReference:jL,list:Jae,listItem:tse,paragraph:rse,root:ise,strong:ZL,text:ose,thematicBreak:cse};function use(){return{enter:{table:hse,tableData:eN,tableHeader:eN,tableRow:fse},exit:{codeText:pse,table:dse,tableData:VT,tableHeader:VT,tableRow:VT}}}function hse(t){const e=t._align;this.enter({type:"table",align:e.map(function(r){return r==="none"?null:r}),children:[]},t),this.data.inTable=!0}function dse(t){this.exit(t),this.data.inTable=void 0}function fse(t){this.enter({type:"tableRow",children:[]},t)}function VT(t){this.exit(t)}function eN(t){this.enter({type:"tableCell",children:[]},t)}function pse(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,gse));const r=this.stack[this.stack.length-1];r.type,r.value=e,this.exit(t)}function gse(t,e){return e==="|"?e:t}function mse(t){const e=t||{},r=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:l,tableRow:o}};function s(p,g,m,y){return u(h(p,m,y),p.align)}function o(p,g,m,y){const v=d(p,m,y),b=u([v]);return b.slice(0,b.indexOf(`
`))}function l(p,g,m,y){const v=m.enter("tableCell"),b=m.enter("phrasing"),x=m.containerPhrasing(p,{...y,before:a,after:a});return b(),v(),x}function u(p,g){return Rae(p,{align:g,alignDelimiters:n,padding:r,stringLength:i})}function h(p,g,m){const y=p.children;let v=-1;const b=[],x=g.enter("table");for(;++v<y.length;)b[v]=d(y[v],g,m);return x(),b}function d(p,g,m){const y=p.children;let v=-1;const b=[],x=g.enter("tableRow");for(;++v<y.length;)b[v]=l(y[v],p,g,m);return x(),b}function f(p,g,m){let y=JL.inlineCode(p,g,m);return m.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function yse(){return{exit:{taskListCheckValueChecked:tN,taskListCheckValueUnchecked:tN,paragraph:bse}}}function vse(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:xse}}}function tN(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function bse(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=e.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(t)}function xse(t,e,r,n){const i=t.children[0],a=typeof t.checked=="boolean"&&i&&i.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",o=r.createTracker(n);a&&o.move(s);let l=JL.listItem(t,e,r,{...n,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+s}}function Ese(){return[eae(),Eae(),kae(),use(),yse()]}function Tse(t){return{extensions:[tae(),Tae(t),Cae(),mse(t),vse()]}}const wse={tokenize:Lse,partial:!0},rN={tokenize:Nse,partial:!0},nN={tokenize:Rse,partial:!0},iN={tokenize:Ise,partial:!0},Sse={tokenize:Dse,partial:!0},aN={name:"wwwAutolink",tokenize:_se,previous:oN},sN={name:"protocolAutolink",tokenize:Ase,previous:lN},Cl={name:"emailAutolink",tokenize:Cse,previous:cN},Po={};function kse(){return{text:Po}}let Fu=48;for(;Fu<123;)Po[Fu]=Cl,Fu++,Fu===58?Fu=65:Fu===91&&(Fu=97);Po[43]=Cl,Po[45]=Cl,Po[46]=Cl,Po[95]=Cl,Po[72]=[Cl,sN],Po[104]=[Cl,sN],Po[87]=[Cl,aN],Po[119]=[Cl,aN];function Cse(t,e,r){const n=this;let i,a;return s;function s(d){return!qT(d)||!cN.call(n,n.previous)||WT(n.events)?r(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(d))}function o(d){return qT(d)?(t.consume(d),o):d===64?(t.consume(d),l):r(d)}function l(d){return d===46?t.check(Sse,h,u)(d):d===45||d===95||Ji(d)?(a=!0,t.consume(d),l):h(d)}function u(d){return t.consume(d),i=!0,l}function h(d){return a&&i&&ya(n.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):r(d)}}function _se(t,e,r){const n=this;return i;function i(s){return s!==87&&s!==119||!oN.call(n,n.previous)||WT(n.events)?r(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(wse,t.attempt(rN,t.attempt(nN,a),r),r)(s))}function a(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function Ase(t,e,r){const n=this;let i="",a=!1;return s;function s(d){return(d===72||d===104)&&lN.call(n,n.previous)&&!WT(n.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),o):r(d)}function o(d){if(ya(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),o;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return r(d)}function l(d){return d===47?(t.consume(d),a?u:(a=!0,l)):r(d)}function u(d){return d===null||Hy(d)||un(d)||Bu(d)||Gy(d)?r(d):t.attempt(rN,t.attempt(nN,h),r)(d)}function h(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function Lse(t,e,r){let n=0;return i;function i(s){return(s===87||s===119)&&n<3?(n++,t.consume(s),i):s===46&&n===3?(t.consume(s),a):r(s)}function a(s){return s===null?r(s):e(s)}}function Nse(t,e,r){let n,i,a;return s;function s(u){return u===46||u===95?t.check(iN,l,o)(u):u===null||un(u)||Bu(u)||u!==45&&Gy(u)?l(u):(a=!0,t.consume(u),s)}function o(u){return u===95?n=!0:(i=n,n=void 0),t.consume(u),s}function l(u){return i||n||!a?r(u):e(u)}}function Rse(t,e){let r=0,n=0;return i;function i(s){return s===40?(r++,t.consume(s),i):s===41&&n<r?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?t.check(iN,e,a)(s):s===null||un(s)||Bu(s)?e(s):(t.consume(s),i)}function a(s){return s===41&&n++,t.consume(s),i}}function Ise(t,e,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),n):o===38?(t.consume(o),a):o===93?(t.consume(o),i):o===60||o===null||un(o)||Bu(o)?e(o):r(o)}function i(o){return o===null||o===40||o===91||un(o)||Bu(o)?e(o):n(o)}function a(o){return ya(o)?s(o):r(o)}function s(o){return o===59?(t.consume(o),n):ya(o)?(t.consume(o),s):r(o)}}function Dse(t,e,r){return n;function n(a){return t.consume(a),i}function i(a){return Ji(a)?r(a):e(a)}}function oN(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||un(t)}function lN(t){return!ya(t)}function cN(t){return!(t===47||qT(t))}function qT(t){return t===43||t===45||t===46||t===95||Ji(t)}function WT(t){let e=t.length,r=!1;for(;e--;){const n=t[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const Ose={tokenize:Hse,partial:!0};function Mse(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:$se,continuation:{tokenize:zse},exit:Use}},text:{91:{name:"gfmFootnoteCall",tokenize:Fse},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Pse,resolveTo:Bse}}}}function Pse(t,e,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return r(l);const u=oo(n.sliceSerialize({start:s.end,end:n.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?r(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function Bse(t,e){let r=t.length;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[t[r+1],t[r+2],["enter",n,e],t[r+3],t[r+4],["enter",i,e],["exit",i,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",n,e]];return t.splice(r,t.length-r+1,...o),t}function Fse(t,e,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,s;return o;function o(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?r(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(a>999||d===93&&!s||d===null||d===91||un(d))return r(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(oo(n.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):r(d)}return un(d)||(s=!0),a++,t.consume(d),d===92?h:u}function h(d){return d===91||d===92||d===93?(t.consume(d),a++,u):u(d)}}function $se(t,e,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):r(g)}function h(g){if(s>999||g===93&&!o||g===null||g===91||un(g))return r(g);if(g===93){t.exit("chunkString");const m=t.exit("gfmFootnoteDefinitionLabelString");return a=oo(n.sliceSerialize(m)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return un(g)||(o=!0),s++,t.consume(g),g===92?d:h}function d(g){return g===91||g===92||g===93?(t.consume(g),s++,h):h(g)}function f(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),i.includes(a)||i.push(a),Sr(t,p,"gfmFootnoteDefinitionWhitespace")):r(g)}function p(g){return e(g)}}function zse(t,e,r){return t.check(Np,e,t.attempt(Ose,e,r))}function Use(t){t.exit("gfmFootnoteDefinition")}function Hse(t,e,r){const n=this;return Sr(t,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(a):r(a)}}function Gse(t){let r=(t||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},d={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},f=[["enter",h,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&fs(f,f.length,0,Vy(p,s.slice(u+1,l),o)),fs(f,f.length,0,[["exit",d,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",h,o]]),fs(s,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,h=this.events;let d=0;return f;function f(g){return u===126&&h[h.length-1][1].type!=="characterEscape"?l(g):(s.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const m=Td(u);if(g===126)return d>1?l(g):(s.consume(g),d++,p);if(d<2&&!r)return l(g);const y=s.exit("strikethroughSequenceTemporary"),v=Td(g);return y._open=!v||v===2&&!!m,y._close=!m||m===2&&!!v,o(g)}}}class Vse{constructor(){this.map=[]}add(e,r,n){qse(this,e,r,n)}consume(e){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(e.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),e.length=this.map[r][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const a of i)e.push(a);i=n.pop()}this.map.length=0}}function qse(t,e,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=r,t.map[i][2].push(...n);return}i+=1}t.map.push([e,r,n])}}function Wse(t,e){let r=!1;const n=[];for(;e<t.length;){const i=t[e];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);e+=1}return n}function Yse(){return{flow:{null:{name:"table",tokenize:Xse,resolveAll:Kse}}}}function Xse(t,e,r){const n=this;let i=0,a=0,s;return o;function o(N){let C=n.events.length-1;for(;C>-1;){const A=n.events[C][1].type;if(A==="lineEnding"||A==="linePrefix")C--;else break}const D=C>-1?n.events[C][1].type:null,P=D==="tableHead"||D==="tableRow"?S:l;return P===S&&n.parser.lazy[n.now().line]?r(N):P(N)}function l(N){return t.enter("tableHead"),t.enter("tableRow"),u(N)}function u(N){return N===124||(s=!0,a+=1),h(N)}function h(N){return N===null?r(N):Wt(N)?a>1?(a=0,n.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),p):r(N):Cr(N)?Sr(t,h,"whitespace")(N):(a+=1,s&&(s=!1,i+=1),N===124?(t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),s=!0,h):(t.enter("data"),d(N)))}function d(N){return N===null||N===124||un(N)?(t.exit("data"),h(N)):(t.consume(N),N===92?f:d)}function f(N){return N===92||N===124?(t.consume(N),d):d(N)}function p(N){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(N):(t.enter("tableDelimiterRow"),s=!1,Cr(N)?Sr(t,g,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):g(N))}function g(N){return N===45||N===58?y(N):N===124?(s=!0,t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),m):w(N)}function m(N){return Cr(N)?Sr(t,y,"whitespace")(N):y(N)}function y(N){return N===58?(a+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(N),t.exit("tableDelimiterMarker"),v):N===45?(a+=1,v(N)):N===null||Wt(N)?T(N):w(N)}function v(N){return N===45?(t.enter("tableDelimiterFiller"),b(N)):w(N)}function b(N){return N===45?(t.consume(N),b):N===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(N),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(N))}function x(N){return Cr(N)?Sr(t,T,"whitespace")(N):T(N)}function T(N){return N===124?g(N):N===null||Wt(N)?!s||i!==a?w(N):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(N)):w(N)}function w(N){return r(N)}function S(N){return t.enter("tableRow"),k(N)}function k(N){return N===124?(t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),k):N===null||Wt(N)?(t.exit("tableRow"),e(N)):Cr(N)?Sr(t,k,"whitespace")(N):(t.enter("data"),L(N))}function L(N){return N===null||N===124||un(N)?(t.exit("data"),k(N)):(t.consume(N),N===92?_:L)}function _(N){return N===92||N===124?(t.consume(N),L):L(N)}}function Kse(t,e){let r=-1,n=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,h,d;const f=new Vse;for(;++r<t.length;){const p=t[r],g=p[1];p[0]==="enter"?g.type==="tableHead"?(o=!1,l!==0&&(uN(f,e,l,u,h),h=void 0,l=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(r,0,[["enter",u,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(n=!0,d=void 0,a=[0,0,0,0],s=[0,r+1,0,0],o&&(o=!1,h={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(r,0,[["enter",h,e]])),i=g.type==="tableDelimiterRow"?2:h?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(n=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],d=Ky(f,e,a,i,void 0,d),a=[0,0,0,0]),s[2]=r)):g.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(s[0]=s[1],d=Ky(f,e,a,i,void 0,d)),a=s,s=[a[1],r,0,0])):g.type==="tableHead"?(o=!0,l=r):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=r,a[1]!==0?(s[0]=s[1],d=Ky(f,e,a,i,r,d)):s[1]!==0&&(d=Ky(f,e,s,i,r,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(s[3]=r)}for(l!==0&&uN(f,e,l,u,h),f.consume(e.events),r=-1;++r<e.events.length;){const p=e.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Wse(e.events,r))}return t}function Ky(t,e,r,n,i,a){const s=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(a.end=Object.assign({},Sd(e.events,r[0])),t.add(r[0],0,[["exit",a,e]]));const l=Sd(e.events,r[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},t.add(r[1],0,[["enter",a,e]]),r[2]!==0){const u=Sd(e.events,r[2]),h=Sd(e.events,r[3]),d={type:o,start:Object.assign({},u),end:Object.assign({},h)};if(t.add(r[2],0,[["enter",d,e]]),n!==2){const f=e.events[r[2]],p=e.events[r[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",r[3]>r[2]+1){const g=r[2]+1,m=r[3]-r[2]-1;t.add(g,m,[])}}t.add(r[3]+1,0,[["exit",d,e]])}return i!==void 0&&(a.end=Object.assign({},Sd(e.events,i)),t.add(i,0,[["exit",a,e]]),a=void 0),a}function uN(t,e,r,n,i){const a=[],s=Sd(e.events,r);i&&(i.end=Object.assign({},s),a.push(["exit",i,e])),n.end=Object.assign({},s),a.push(["exit",n,e]),t.add(r+1,0,a)}function Sd(t,e){const r=t[e],n=r[0]==="enter"?"start":"end";return r[1][n]}const jse={name:"tasklistCheck",tokenize:Zse};function Qse(){return{text:{91:jse}}}function Zse(t,e,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),a)}function a(l){return un(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),s):r(l)}function s(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):r(l)}function o(l){return Wt(l)?e(l):Cr(l)?t.check({tokenize:Jse},e,r)(l):r(l)}}function Jse(t,e,r){return Sr(t,n,"whitespace");function n(i){return i===null?r(i):e(i)}}function eoe(t){return uL([kse(),Mse(),Gse(t),Yse(),Qse()])}const toe={};function roe(t){const e=this,r=t||toe,n=e.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(eoe(r)),a.push(Ese()),s.push(Tse(r))}function noe(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:a},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:o,mathText:s,mathTextData:o}};function t(l){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},l)}function e(){this.buffer()}function r(){const l=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=l}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h=this.stack[this.stack.length-1];h.type,this.exit(l),h.value=u;const d=h.data.hChildren[0];d.type,d.tagName,d.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function a(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function s(l){const u=this.resume(),h=this.stack[this.stack.length-1];h.type,this.exit(l),h.value=u,h.data.hChildren.push({type:"text",value:u})}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function ioe(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(a,s,o,l){const u=a.value||"",h=o.createTracker(l),d="$".repeat(Math.max(HL(u,"$")+1,2)),f=o.enter("mathFlow");let p=h.move(d);if(a.meta){const g=o.enter("mathFlowMeta");p+=h.move(o.safe(a.meta,{after:`
`,before:p,encode:["$"],...h.current()})),g()}return p+=h.move(`
`),u&&(p+=h.move(u+`
`)),p+=h.move(d),f(),p}function n(a,s,o){let l=a.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(l);)u++;const h="$".repeat(u);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let d=-1;for(;++d<o.unsafe.length;){const f=o.unsafe[d];if(!f.atBreak)continue;const p=o.compilePattern(f);let g;for(;g=p.exec(l);){let m=g.index;l.codePointAt(m)===10&&l.codePointAt(m-1)===13&&m--,l=l.slice(0,m)+" "+l.slice(g.index+1)}}return h+l+h}function i(){return"$"}}const aoe={tokenize:soe,concrete:!0,name:"mathFlow"},hN={tokenize:ooe,partial:!0};function soe(t,e,r){const n=this,i=n.events[n.events.length-1],a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let s=0;return o;function o(b){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(b)}function l(b){return b===36?(t.consume(b),s++,l):s<2?r(b):(t.exit("mathFlowFenceSequence"),Sr(t,u,"whitespace")(b))}function u(b){return b===null||Wt(b)?d(b):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===null||Wt(b)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),d(b)):b===36?r(b):(t.consume(b),h)}function d(b){return t.exit("mathFlowFence"),n.interrupt?e(b):t.attempt(hN,f,y)(b)}function f(b){return t.attempt({tokenize:v,partial:!0},y,p)(b)}function p(b){return(a?Sr(t,g,"linePrefix",a+1):g)(b)}function g(b){return b===null?y(b):Wt(b)?t.attempt(hN,f,y)(b):(t.enter("mathFlowValue"),m(b))}function m(b){return b===null||Wt(b)?(t.exit("mathFlowValue"),g(b)):(t.consume(b),m)}function y(b){return t.exit("mathFlow"),e(b)}function v(b,x,T){let w=0;return Sr(b,S,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function S(_){return b.enter("mathFlowFence"),b.enter("mathFlowFenceSequence"),k(_)}function k(_){return _===36?(w++,b.consume(_),k):w<s?T(_):(b.exit("mathFlowFenceSequence"),Sr(b,L,"whitespace")(_))}function L(_){return _===null||Wt(_)?(b.exit("mathFlowFence"),x(_)):T(_)}}}function ooe(t,e,r){const n=this;return i;function i(s){return s===null?e(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):e(s)}}function loe(t){let r=(t||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:coe,previous:uoe,name:"mathText"};function n(i,a,s){let o=0,l,u;return h;function h(m){return i.enter("mathText"),i.enter("mathTextSequence"),d(m)}function d(m){return m===36?(i.consume(m),o++,d):o<2&&!r?s(m):(i.exit("mathTextSequence"),f(m))}function f(m){return m===null?s(m):m===36?(u=i.enter("mathTextSequence"),l=0,g(m)):m===32?(i.enter("space"),i.consume(m),i.exit("space"),f):Wt(m)?(i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),f):(i.enter("mathTextData"),p(m))}function p(m){return m===null||m===32||m===36||Wt(m)?(i.exit("mathTextData"),f(m)):(i.consume(m),p)}function g(m){return m===36?(i.consume(m),l++,g):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),a(m)):(u.type="mathTextData",p(m))}}}function coe(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[r][1].type="mathTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="mathTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function uoe(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function hoe(t){return{flow:{36:aoe},text:{36:loe(t)}}}class ps{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new ps(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class Ds{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new Ds(r,ps.range(this,e))}}class Et{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var h;a+15<o.length?h=o.slice(a,a+15)+"…":h=o.slice(a),n+=u+l+h}var d=new Error(n);return d.name="ParseError",d.__proto__=Et.prototype,d.position=i,i!=null&&a!=null&&(d.length=a-i),d.rawMessage=e,d}}Et.prototype.__proto__=Error.prototype;var doe=function(e,r){return e.indexOf(r)!==-1},foe=function(e,r){return e===void 0?r:e},poe=/([A-Z])/g,goe=function(e){return e.replace(poe,"-$1").toLowerCase()},moe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},yoe=/[&><"']/g;function voe(t){return String(t).replace(yoe,e=>moe[e])}var dN=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},boe=function(e){var r=dN(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},xoe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Eoe=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},Zt={contains:doe,deflt:foe,escape:voe,hyphenate:goe,getBaseElem:dN,isCharacterBox:boe,protocolFromUrl:Eoe},Bp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Toe(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class YT{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in Bp)if(Bp.hasOwnProperty(r)){var n=Bp[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:Toe(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Et("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=Zt.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class Ic{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return Bo[woe[this.id]]}sub(){return Bo[Soe[this.id]]}fracNum(){return Bo[koe[this.id]]}fracDen(){return Bo[Coe[this.id]]}cramp(){return Bo[_oe[this.id]]}text(){return Bo[Aoe[this.id]]}isTight(){return this.size>=2}}var XT=0,jy=1,kd=2,_l=3,Fp=4,Os=5,Cd=6,va=7,Bo=[new Ic(XT,0,!1),new Ic(jy,0,!0),new Ic(kd,1,!1),new Ic(_l,1,!0),new Ic(Fp,2,!1),new Ic(Os,2,!0),new Ic(Cd,3,!1),new Ic(va,3,!0)],woe=[Fp,Os,Fp,Os,Cd,va,Cd,va],Soe=[Os,Os,Os,Os,va,va,va,va],koe=[kd,_l,Fp,Os,Cd,va,Cd,va],Coe=[_l,_l,Os,Os,va,va,va,va],_oe=[jy,jy,_l,_l,Os,Os,va,va],Aoe=[XT,jy,kd,_l,kd,_l,kd,_l],er={DISPLAY:Bo[XT],TEXT:Bo[kd],SCRIPT:Bo[Fp],SCRIPTSCRIPT:Bo[Cd]},KT=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Loe(t){for(var e=0;e<KT.length;e++)for(var r=KT[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var Qy=[];KT.forEach(t=>t.blocks.forEach(e=>Qy.push(...e)));function fN(t){for(var e=0;e<Qy.length;e+=2)if(t>=Qy[e]&&t<=Qy[e+1])return!0;return!1}var _d=80,Noe=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Roe=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Ioe=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Doe=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},Ooe=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},Moe=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},Poe=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},Boe=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=Noe(r,_d);break;case"sqrtSize1":i=Roe(r,_d);break;case"sqrtSize2":i=Ioe(r,_d);break;case"sqrtSize3":i=Doe(r,_d);break;case"sqrtSize4":i=Ooe(r,_d);break;case"sqrtTall":i=Poe(r,_d,n)}return i},Foe=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},pN={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},$oe=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class $p{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Zt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Fo={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Zy={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},gN={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function mN(t,e){Fo[t]=e}function jT(t,e,r){if(!Fo[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=Fo[e][n];if(!i&&t[0]in gN&&(n=gN[t[0]].charCodeAt(0),i=Fo[e][n]),!i&&r==="text"&&fN(n)&&(i=Fo[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var QT={};function zoe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!QT[e]){var r=QT[e]={cssEmPerMu:Zy.quad[e]/18};for(var n in Zy)Zy.hasOwnProperty(n)&&(r[n]=Zy[n][e])}return QT[e]}var Uoe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],yN=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],vN=function(e,r){return r.size<2?e:Uoe[e-1][r.size-1]};class Al{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Al.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=yN[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new Al(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:vN(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:yN[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=vN(Al.BASESIZE,e);return this.size===r&&this.textSize===Al.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Al.BASESIZE?["sizing","reset-size"+this.size,"size"+Al.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=zoe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Al.BASESIZE=6;var ZT={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Hoe={ex:!0,em:!0,mu:!0},bN=function(e){return typeof e!="string"&&(e=e.unit),e in ZT||e in Hoe||e==="ex"},An=function(e,r){var n;if(e.unit in ZT)n=ZT[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new Et("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},At=function(e){return+e.toFixed(4)+"em"},Dc=function(e){return e.filter(r=>r).join(" ")},xN=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},EN=function(e){var r=document.createElement(e);r.className=Dc(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},Goe=/[\s"'>/=\x00-\x1f]/,TN=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+Zt.escape(Dc(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Zt.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+Zt.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(Goe.test(a))throw new Et("Invalid attribute name '"+a+"'");r+=" "+a+'="'+Zt.escape(this.attributes[a])+'"'}r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+e+">",r};class zp{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,xN.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Zt.contains(this.classes,e)}toNode(){return EN.call(this,"span")}toMarkup(){return TN.call(this,"span")}}class JT{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,xN.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Zt.contains(this.classes,e)}toNode(){return EN.call(this,"a")}toMarkup(){return TN.call(this,"a")}}class Voe{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return Zt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+Zt.escape(this.src)+'"'+(' alt="'+Zt.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Zt.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+Zt.escape(r)+'"'),e+="'/>",e}}var qoe={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ms{constructor(e,r,n,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=Loe(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=qoe[this.text])}hasClass(e){return Zt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=At(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Dc(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=Zt.escape(Dc(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Zt.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+Zt.escape(n)+'"');var a=Zt.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class Ll{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Zt.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class Oc{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",pN[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Zt.escape(this.alternate)+'"/>':'<path d="'+Zt.escape(pN[this.pathName])+'"/>'}}class e3{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Zt.escape(this.attributes[r])+'"');return e+="/>",e}}function wN(t){if(t instanceof Ms)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Woe(t){if(t instanceof zp)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Yoe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Xoe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},fn={math:{},text:{}};function G(t,e,r,n,i,a){fn[t][i]={font:e,group:r,replace:n},a&&n&&(fn[t][n]=fn[t][i])}var q="math",gt="text",ne="main",ke="ams",wn="accent-token",Bt="bin",ba="close",Ad="inner",tr="mathord",Kn="op-token",gs="open",Jy="punct",_e="rel",Nl="spacing",Fe="textord";G(q,ne,_e,"≡","\\equiv",!0),G(q,ne,_e,"≺","\\prec",!0),G(q,ne,_e,"≻","\\succ",!0),G(q,ne,_e,"∼","\\sim",!0),G(q,ne,_e,"⊥","\\perp"),G(q,ne,_e,"⪯","\\preceq",!0),G(q,ne,_e,"⪰","\\succeq",!0),G(q,ne,_e,"≃","\\simeq",!0),G(q,ne,_e,"∣","\\mid",!0),G(q,ne,_e,"≪","\\ll",!0),G(q,ne,_e,"≫","\\gg",!0),G(q,ne,_e,"≍","\\asymp",!0),G(q,ne,_e,"∥","\\parallel"),G(q,ne,_e,"⋈","\\bowtie",!0),G(q,ne,_e,"⌣","\\smile",!0),G(q,ne,_e,"⊑","\\sqsubseteq",!0),G(q,ne,_e,"⊒","\\sqsupseteq",!0),G(q,ne,_e,"≐","\\doteq",!0),G(q,ne,_e,"⌢","\\frown",!0),G(q,ne,_e,"∋","\\ni",!0),G(q,ne,_e,"∝","\\propto",!0),G(q,ne,_e,"⊢","\\vdash",!0),G(q,ne,_e,"⊣","\\dashv",!0),G(q,ne,_e,"∋","\\owns"),G(q,ne,Jy,".","\\ldotp"),G(q,ne,Jy,"⋅","\\cdotp"),G(q,ne,Fe,"#","\\#"),G(gt,ne,Fe,"#","\\#"),G(q,ne,Fe,"&","\\&"),G(gt,ne,Fe,"&","\\&"),G(q,ne,Fe,"ℵ","\\aleph",!0),G(q,ne,Fe,"∀","\\forall",!0),G(q,ne,Fe,"ℏ","\\hbar",!0),G(q,ne,Fe,"∃","\\exists",!0),G(q,ne,Fe,"∇","\\nabla",!0),G(q,ne,Fe,"♭","\\flat",!0),G(q,ne,Fe,"ℓ","\\ell",!0),G(q,ne,Fe,"♮","\\natural",!0),G(q,ne,Fe,"♣","\\clubsuit",!0),G(q,ne,Fe,"℘","\\wp",!0),G(q,ne,Fe,"♯","\\sharp",!0),G(q,ne,Fe,"♢","\\diamondsuit",!0),G(q,ne,Fe,"ℜ","\\Re",!0),G(q,ne,Fe,"♡","\\heartsuit",!0),G(q,ne,Fe,"ℑ","\\Im",!0),G(q,ne,Fe,"♠","\\spadesuit",!0),G(q,ne,Fe,"§","\\S",!0),G(gt,ne,Fe,"§","\\S"),G(q,ne,Fe,"¶","\\P",!0),G(gt,ne,Fe,"¶","\\P"),G(q,ne,Fe,"†","\\dag"),G(gt,ne,Fe,"†","\\dag"),G(gt,ne,Fe,"†","\\textdagger"),G(q,ne,Fe,"‡","\\ddag"),G(gt,ne,Fe,"‡","\\ddag"),G(gt,ne,Fe,"‡","\\textdaggerdbl"),G(q,ne,ba,"⎱","\\rmoustache",!0),G(q,ne,gs,"⎰","\\lmoustache",!0),G(q,ne,ba,"⟯","\\rgroup",!0),G(q,ne,gs,"⟮","\\lgroup",!0),G(q,ne,Bt,"∓","\\mp",!0),G(q,ne,Bt,"⊖","\\ominus",!0),G(q,ne,Bt,"⊎","\\uplus",!0),G(q,ne,Bt,"⊓","\\sqcap",!0),G(q,ne,Bt,"∗","\\ast"),G(q,ne,Bt,"⊔","\\sqcup",!0),G(q,ne,Bt,"◯","\\bigcirc",!0),G(q,ne,Bt,"∙","\\bullet",!0),G(q,ne,Bt,"‡","\\ddagger"),G(q,ne,Bt,"≀","\\wr",!0),G(q,ne,Bt,"⨿","\\amalg"),G(q,ne,Bt,"&","\\And"),G(q,ne,_e,"⟵","\\longleftarrow",!0),G(q,ne,_e,"⇐","\\Leftarrow",!0),G(q,ne,_e,"⟸","\\Longleftarrow",!0),G(q,ne,_e,"⟶","\\longrightarrow",!0),G(q,ne,_e,"⇒","\\Rightarrow",!0),G(q,ne,_e,"⟹","\\Longrightarrow",!0),G(q,ne,_e,"↔","\\leftrightarrow",!0),G(q,ne,_e,"⟷","\\longleftrightarrow",!0),G(q,ne,_e,"⇔","\\Leftrightarrow",!0),G(q,ne,_e,"⟺","\\Longleftrightarrow",!0),G(q,ne,_e,"↦","\\mapsto",!0),G(q,ne,_e,"⟼","\\longmapsto",!0),G(q,ne,_e,"↗","\\nearrow",!0),G(q,ne,_e,"↩","\\hookleftarrow",!0),G(q,ne,_e,"↪","\\hookrightarrow",!0),G(q,ne,_e,"↘","\\searrow",!0),G(q,ne,_e,"↼","\\leftharpoonup",!0),G(q,ne,_e,"⇀","\\rightharpoonup",!0),G(q,ne,_e,"↙","\\swarrow",!0),G(q,ne,_e,"↽","\\leftharpoondown",!0),G(q,ne,_e,"⇁","\\rightharpoondown",!0),G(q,ne,_e,"↖","\\nwarrow",!0),G(q,ne,_e,"⇌","\\rightleftharpoons",!0),G(q,ke,_e,"≮","\\nless",!0),G(q,ke,_e,"","\\@nleqslant"),G(q,ke,_e,"","\\@nleqq"),G(q,ke,_e,"⪇","\\lneq",!0),G(q,ke,_e,"≨","\\lneqq",!0),G(q,ke,_e,"","\\@lvertneqq"),G(q,ke,_e,"⋦","\\lnsim",!0),G(q,ke,_e,"⪉","\\lnapprox",!0),G(q,ke,_e,"⊀","\\nprec",!0),G(q,ke,_e,"⋠","\\npreceq",!0),G(q,ke,_e,"⋨","\\precnsim",!0),G(q,ke,_e,"⪹","\\precnapprox",!0),G(q,ke,_e,"≁","\\nsim",!0),G(q,ke,_e,"","\\@nshortmid"),G(q,ke,_e,"∤","\\nmid",!0),G(q,ke,_e,"⊬","\\nvdash",!0),G(q,ke,_e,"⊭","\\nvDash",!0),G(q,ke,_e,"⋪","\\ntriangleleft"),G(q,ke,_e,"⋬","\\ntrianglelefteq",!0),G(q,ke,_e,"⊊","\\subsetneq",!0),G(q,ke,_e,"","\\@varsubsetneq"),G(q,ke,_e,"⫋","\\subsetneqq",!0),G(q,ke,_e,"","\\@varsubsetneqq"),G(q,ke,_e,"≯","\\ngtr",!0),G(q,ke,_e,"","\\@ngeqslant"),G(q,ke,_e,"","\\@ngeqq"),G(q,ke,_e,"⪈","\\gneq",!0),G(q,ke,_e,"≩","\\gneqq",!0),G(q,ke,_e,"","\\@gvertneqq"),G(q,ke,_e,"⋧","\\gnsim",!0),G(q,ke,_e,"⪊","\\gnapprox",!0),G(q,ke,_e,"⊁","\\nsucc",!0),G(q,ke,_e,"⋡","\\nsucceq",!0),G(q,ke,_e,"⋩","\\succnsim",!0),G(q,ke,_e,"⪺","\\succnapprox",!0),G(q,ke,_e,"≆","\\ncong",!0),G(q,ke,_e,"","\\@nshortparallel"),G(q,ke,_e,"∦","\\nparallel",!0),G(q,ke,_e,"⊯","\\nVDash",!0),G(q,ke,_e,"⋫","\\ntriangleright"),G(q,ke,_e,"⋭","\\ntrianglerighteq",!0),G(q,ke,_e,"","\\@nsupseteqq"),G(q,ke,_e,"⊋","\\supsetneq",!0),G(q,ke,_e,"","\\@varsupsetneq"),G(q,ke,_e,"⫌","\\supsetneqq",!0),G(q,ke,_e,"","\\@varsupsetneqq"),G(q,ke,_e,"⊮","\\nVdash",!0),G(q,ke,_e,"⪵","\\precneqq",!0),G(q,ke,_e,"⪶","\\succneqq",!0),G(q,ke,_e,"","\\@nsubseteqq"),G(q,ke,Bt,"⊴","\\unlhd"),G(q,ke,Bt,"⊵","\\unrhd"),G(q,ke,_e,"↚","\\nleftarrow",!0),G(q,ke,_e,"↛","\\nrightarrow",!0),G(q,ke,_e,"⇍","\\nLeftarrow",!0),G(q,ke,_e,"⇏","\\nRightarrow",!0),G(q,ke,_e,"↮","\\nleftrightarrow",!0),G(q,ke,_e,"⇎","\\nLeftrightarrow",!0),G(q,ke,_e,"△","\\vartriangle"),G(q,ke,Fe,"ℏ","\\hslash"),G(q,ke,Fe,"▽","\\triangledown"),G(q,ke,Fe,"◊","\\lozenge"),G(q,ke,Fe,"Ⓢ","\\circledS"),G(q,ke,Fe,"®","\\circledR"),G(gt,ke,Fe,"®","\\circledR"),G(q,ke,Fe,"∡","\\measuredangle",!0),G(q,ke,Fe,"∄","\\nexists"),G(q,ke,Fe,"℧","\\mho"),G(q,ke,Fe,"Ⅎ","\\Finv",!0),G(q,ke,Fe,"⅁","\\Game",!0),G(q,ke,Fe,"‵","\\backprime"),G(q,ke,Fe,"▲","\\blacktriangle"),G(q,ke,Fe,"▼","\\blacktriangledown"),G(q,ke,Fe,"■","\\blacksquare"),G(q,ke,Fe,"⧫","\\blacklozenge"),G(q,ke,Fe,"★","\\bigstar"),G(q,ke,Fe,"∢","\\sphericalangle",!0),G(q,ke,Fe,"∁","\\complement",!0),G(q,ke,Fe,"ð","\\eth",!0),G(gt,ne,Fe,"ð","ð"),G(q,ke,Fe,"╱","\\diagup"),G(q,ke,Fe,"╲","\\diagdown"),G(q,ke,Fe,"□","\\square"),G(q,ke,Fe,"□","\\Box"),G(q,ke,Fe,"◊","\\Diamond"),G(q,ke,Fe,"¥","\\yen",!0),G(gt,ke,Fe,"¥","\\yen",!0),G(q,ke,Fe,"✓","\\checkmark",!0),G(gt,ke,Fe,"✓","\\checkmark"),G(q,ke,Fe,"ℶ","\\beth",!0),G(q,ke,Fe,"ℸ","\\daleth",!0),G(q,ke,Fe,"ℷ","\\gimel",!0),G(q,ke,Fe,"ϝ","\\digamma",!0),G(q,ke,Fe,"ϰ","\\varkappa"),G(q,ke,gs,"┌","\\@ulcorner",!0),G(q,ke,ba,"┐","\\@urcorner",!0),G(q,ke,gs,"└","\\@llcorner",!0),G(q,ke,ba,"┘","\\@lrcorner",!0),G(q,ke,_e,"≦","\\leqq",!0),G(q,ke,_e,"⩽","\\leqslant",!0),G(q,ke,_e,"⪕","\\eqslantless",!0),G(q,ke,_e,"≲","\\lesssim",!0),G(q,ke,_e,"⪅","\\lessapprox",!0),G(q,ke,_e,"≊","\\approxeq",!0),G(q,ke,Bt,"⋖","\\lessdot"),G(q,ke,_e,"⋘","\\lll",!0),G(q,ke,_e,"≶","\\lessgtr",!0),G(q,ke,_e,"⋚","\\lesseqgtr",!0),G(q,ke,_e,"⪋","\\lesseqqgtr",!0),G(q,ke,_e,"≑","\\doteqdot"),G(q,ke,_e,"≓","\\risingdotseq",!0),G(q,ke,_e,"≒","\\fallingdotseq",!0),G(q,ke,_e,"∽","\\backsim",!0),G(q,ke,_e,"⋍","\\backsimeq",!0),G(q,ke,_e,"⫅","\\subseteqq",!0),G(q,ke,_e,"⋐","\\Subset",!0),G(q,ke,_e,"⊏","\\sqsubset",!0),G(q,ke,_e,"≼","\\preccurlyeq",!0),G(q,ke,_e,"⋞","\\curlyeqprec",!0),G(q,ke,_e,"≾","\\precsim",!0),G(q,ke,_e,"⪷","\\precapprox",!0),G(q,ke,_e,"⊲","\\vartriangleleft"),G(q,ke,_e,"⊴","\\trianglelefteq"),G(q,ke,_e,"⊨","\\vDash",!0),G(q,ke,_e,"⊪","\\Vvdash",!0),G(q,ke,_e,"⌣","\\smallsmile"),G(q,ke,_e,"⌢","\\smallfrown"),G(q,ke,_e,"≏","\\bumpeq",!0),G(q,ke,_e,"≎","\\Bumpeq",!0),G(q,ke,_e,"≧","\\geqq",!0),G(q,ke,_e,"⩾","\\geqslant",!0),G(q,ke,_e,"⪖","\\eqslantgtr",!0),G(q,ke,_e,"≳","\\gtrsim",!0),G(q,ke,_e,"⪆","\\gtrapprox",!0),G(q,ke,Bt,"⋗","\\gtrdot"),G(q,ke,_e,"⋙","\\ggg",!0),G(q,ke,_e,"≷","\\gtrless",!0),G(q,ke,_e,"⋛","\\gtreqless",!0),G(q,ke,_e,"⪌","\\gtreqqless",!0),G(q,ke,_e,"≖","\\eqcirc",!0),G(q,ke,_e,"≗","\\circeq",!0),G(q,ke,_e,"≜","\\triangleq",!0),G(q,ke,_e,"∼","\\thicksim"),G(q,ke,_e,"≈","\\thickapprox"),G(q,ke,_e,"⫆","\\supseteqq",!0),G(q,ke,_e,"⋑","\\Supset",!0),G(q,ke,_e,"⊐","\\sqsupset",!0),G(q,ke,_e,"≽","\\succcurlyeq",!0),G(q,ke,_e,"⋟","\\curlyeqsucc",!0),G(q,ke,_e,"≿","\\succsim",!0),G(q,ke,_e,"⪸","\\succapprox",!0),G(q,ke,_e,"⊳","\\vartriangleright"),G(q,ke,_e,"⊵","\\trianglerighteq"),G(q,ke,_e,"⊩","\\Vdash",!0),G(q,ke,_e,"∣","\\shortmid"),G(q,ke,_e,"∥","\\shortparallel"),G(q,ke,_e,"≬","\\between",!0),G(q,ke,_e,"⋔","\\pitchfork",!0),G(q,ke,_e,"∝","\\varpropto"),G(q,ke,_e,"◀","\\blacktriangleleft"),G(q,ke,_e,"∴","\\therefore",!0),G(q,ke,_e,"∍","\\backepsilon"),G(q,ke,_e,"▶","\\blacktriangleright"),G(q,ke,_e,"∵","\\because",!0),G(q,ke,_e,"⋘","\\llless"),G(q,ke,_e,"⋙","\\gggtr"),G(q,ke,Bt,"⊲","\\lhd"),G(q,ke,Bt,"⊳","\\rhd"),G(q,ke,_e,"≂","\\eqsim",!0),G(q,ne,_e,"⋈","\\Join"),G(q,ke,_e,"≑","\\Doteq",!0),G(q,ke,Bt,"∔","\\dotplus",!0),G(q,ke,Bt,"∖","\\smallsetminus"),G(q,ke,Bt,"⋒","\\Cap",!0),G(q,ke,Bt,"⋓","\\Cup",!0),G(q,ke,Bt,"⩞","\\doublebarwedge",!0),G(q,ke,Bt,"⊟","\\boxminus",!0),G(q,ke,Bt,"⊞","\\boxplus",!0),G(q,ke,Bt,"⋇","\\divideontimes",!0),G(q,ke,Bt,"⋉","\\ltimes",!0),G(q,ke,Bt,"⋊","\\rtimes",!0),G(q,ke,Bt,"⋋","\\leftthreetimes",!0),G(q,ke,Bt,"⋌","\\rightthreetimes",!0),G(q,ke,Bt,"⋏","\\curlywedge",!0),G(q,ke,Bt,"⋎","\\curlyvee",!0),G(q,ke,Bt,"⊝","\\circleddash",!0),G(q,ke,Bt,"⊛","\\circledast",!0),G(q,ke,Bt,"⋅","\\centerdot"),G(q,ke,Bt,"⊺","\\intercal",!0),G(q,ke,Bt,"⋒","\\doublecap"),G(q,ke,Bt,"⋓","\\doublecup"),G(q,ke,Bt,"⊠","\\boxtimes",!0),G(q,ke,_e,"⇢","\\dashrightarrow",!0),G(q,ke,_e,"⇠","\\dashleftarrow",!0),G(q,ke,_e,"⇇","\\leftleftarrows",!0),G(q,ke,_e,"⇆","\\leftrightarrows",!0),G(q,ke,_e,"⇚","\\Lleftarrow",!0),G(q,ke,_e,"↞","\\twoheadleftarrow",!0),G(q,ke,_e,"↢","\\leftarrowtail",!0),G(q,ke,_e,"↫","\\looparrowleft",!0),G(q,ke,_e,"⇋","\\leftrightharpoons",!0),G(q,ke,_e,"↶","\\curvearrowleft",!0),G(q,ke,_e,"↺","\\circlearrowleft",!0),G(q,ke,_e,"↰","\\Lsh",!0),G(q,ke,_e,"⇈","\\upuparrows",!0),G(q,ke,_e,"↿","\\upharpoonleft",!0),G(q,ke,_e,"⇃","\\downharpoonleft",!0),G(q,ne,_e,"⊶","\\origof",!0),G(q,ne,_e,"⊷","\\imageof",!0),G(q,ke,_e,"⊸","\\multimap",!0),G(q,ke,_e,"↭","\\leftrightsquigarrow",!0),G(q,ke,_e,"⇉","\\rightrightarrows",!0),G(q,ke,_e,"⇄","\\rightleftarrows",!0),G(q,ke,_e,"↠","\\twoheadrightarrow",!0),G(q,ke,_e,"↣","\\rightarrowtail",!0),G(q,ke,_e,"↬","\\looparrowright",!0),G(q,ke,_e,"↷","\\curvearrowright",!0),G(q,ke,_e,"↻","\\circlearrowright",!0),G(q,ke,_e,"↱","\\Rsh",!0),G(q,ke,_e,"⇊","\\downdownarrows",!0),G(q,ke,_e,"↾","\\upharpoonright",!0),G(q,ke,_e,"⇂","\\downharpoonright",!0),G(q,ke,_e,"⇝","\\rightsquigarrow",!0),G(q,ke,_e,"⇝","\\leadsto"),G(q,ke,_e,"⇛","\\Rrightarrow",!0),G(q,ke,_e,"↾","\\restriction"),G(q,ne,Fe,"‘","`"),G(q,ne,Fe,"$","\\$"),G(gt,ne,Fe,"$","\\$"),G(gt,ne,Fe,"$","\\textdollar"),G(q,ne,Fe,"%","\\%"),G(gt,ne,Fe,"%","\\%"),G(q,ne,Fe,"_","\\_"),G(gt,ne,Fe,"_","\\_"),G(gt,ne,Fe,"_","\\textunderscore"),G(q,ne,Fe,"∠","\\angle",!0),G(q,ne,Fe,"∞","\\infty",!0),G(q,ne,Fe,"′","\\prime"),G(q,ne,Fe,"△","\\triangle"),G(q,ne,Fe,"Γ","\\Gamma",!0),G(q,ne,Fe,"Δ","\\Delta",!0),G(q,ne,Fe,"Θ","\\Theta",!0),G(q,ne,Fe,"Λ","\\Lambda",!0),G(q,ne,Fe,"Ξ","\\Xi",!0),G(q,ne,Fe,"Π","\\Pi",!0),G(q,ne,Fe,"Σ","\\Sigma",!0),G(q,ne,Fe,"Υ","\\Upsilon",!0),G(q,ne,Fe,"Φ","\\Phi",!0),G(q,ne,Fe,"Ψ","\\Psi",!0),G(q,ne,Fe,"Ω","\\Omega",!0),G(q,ne,Fe,"A","Α"),G(q,ne,Fe,"B","Β"),G(q,ne,Fe,"E","Ε"),G(q,ne,Fe,"Z","Ζ"),G(q,ne,Fe,"H","Η"),G(q,ne,Fe,"I","Ι"),G(q,ne,Fe,"K","Κ"),G(q,ne,Fe,"M","Μ"),G(q,ne,Fe,"N","Ν"),G(q,ne,Fe,"O","Ο"),G(q,ne,Fe,"P","Ρ"),G(q,ne,Fe,"T","Τ"),G(q,ne,Fe,"X","Χ"),G(q,ne,Fe,"¬","\\neg",!0),G(q,ne,Fe,"¬","\\lnot"),G(q,ne,Fe,"⊤","\\top"),G(q,ne,Fe,"⊥","\\bot"),G(q,ne,Fe,"∅","\\emptyset"),G(q,ke,Fe,"∅","\\varnothing"),G(q,ne,tr,"α","\\alpha",!0),G(q,ne,tr,"β","\\beta",!0),G(q,ne,tr,"γ","\\gamma",!0),G(q,ne,tr,"δ","\\delta",!0),G(q,ne,tr,"ϵ","\\epsilon",!0),G(q,ne,tr,"ζ","\\zeta",!0),G(q,ne,tr,"η","\\eta",!0),G(q,ne,tr,"θ","\\theta",!0),G(q,ne,tr,"ι","\\iota",!0),G(q,ne,tr,"κ","\\kappa",!0),G(q,ne,tr,"λ","\\lambda",!0),G(q,ne,tr,"μ","\\mu",!0),G(q,ne,tr,"ν","\\nu",!0),G(q,ne,tr,"ξ","\\xi",!0),G(q,ne,tr,"ο","\\omicron",!0),G(q,ne,tr,"π","\\pi",!0),G(q,ne,tr,"ρ","\\rho",!0),G(q,ne,tr,"σ","\\sigma",!0),G(q,ne,tr,"τ","\\tau",!0),G(q,ne,tr,"υ","\\upsilon",!0),G(q,ne,tr,"ϕ","\\phi",!0),G(q,ne,tr,"χ","\\chi",!0),G(q,ne,tr,"ψ","\\psi",!0),G(q,ne,tr,"ω","\\omega",!0),G(q,ne,tr,"ε","\\varepsilon",!0),G(q,ne,tr,"ϑ","\\vartheta",!0),G(q,ne,tr,"ϖ","\\varpi",!0),G(q,ne,tr,"ϱ","\\varrho",!0),G(q,ne,tr,"ς","\\varsigma",!0),G(q,ne,tr,"φ","\\varphi",!0),G(q,ne,Bt,"∗","*",!0),G(q,ne,Bt,"+","+"),G(q,ne,Bt,"−","-",!0),G(q,ne,Bt,"⋅","\\cdot",!0),G(q,ne,Bt,"∘","\\circ",!0),G(q,ne,Bt,"÷","\\div",!0),G(q,ne,Bt,"±","\\pm",!0),G(q,ne,Bt,"×","\\times",!0),G(q,ne,Bt,"∩","\\cap",!0),G(q,ne,Bt,"∪","\\cup",!0),G(q,ne,Bt,"∖","\\setminus",!0),G(q,ne,Bt,"∧","\\land"),G(q,ne,Bt,"∨","\\lor"),G(q,ne,Bt,"∧","\\wedge",!0),G(q,ne,Bt,"∨","\\vee",!0),G(q,ne,Fe,"√","\\surd"),G(q,ne,gs,"⟨","\\langle",!0),G(q,ne,gs,"∣","\\lvert"),G(q,ne,gs,"∥","\\lVert"),G(q,ne,ba,"?","?"),G(q,ne,ba,"!","!"),G(q,ne,ba,"⟩","\\rangle",!0),G(q,ne,ba,"∣","\\rvert"),G(q,ne,ba,"∥","\\rVert"),G(q,ne,_e,"=","="),G(q,ne,_e,":",":"),G(q,ne,_e,"≈","\\approx",!0),G(q,ne,_e,"≅","\\cong",!0),G(q,ne,_e,"≥","\\ge"),G(q,ne,_e,"≥","\\geq",!0),G(q,ne,_e,"←","\\gets"),G(q,ne,_e,">","\\gt",!0),G(q,ne,_e,"∈","\\in",!0),G(q,ne,_e,"","\\@not"),G(q,ne,_e,"⊂","\\subset",!0),G(q,ne,_e,"⊃","\\supset",!0),G(q,ne,_e,"⊆","\\subseteq",!0),G(q,ne,_e,"⊇","\\supseteq",!0),G(q,ke,_e,"⊈","\\nsubseteq",!0),G(q,ke,_e,"⊉","\\nsupseteq",!0),G(q,ne,_e,"⊨","\\models"),G(q,ne,_e,"←","\\leftarrow",!0),G(q,ne,_e,"≤","\\le"),G(q,ne,_e,"≤","\\leq",!0),G(q,ne,_e,"<","\\lt",!0),G(q,ne,_e,"→","\\rightarrow",!0),G(q,ne,_e,"→","\\to"),G(q,ke,_e,"≱","\\ngeq",!0),G(q,ke,_e,"≰","\\nleq",!0),G(q,ne,Nl," ","\\ "),G(q,ne,Nl," ","\\space"),G(q,ne,Nl," ","\\nobreakspace"),G(gt,ne,Nl," ","\\ "),G(gt,ne,Nl," "," "),G(gt,ne,Nl," ","\\space"),G(gt,ne,Nl," ","\\nobreakspace"),G(q,ne,Nl,null,"\\nobreak"),G(q,ne,Nl,null,"\\allowbreak"),G(q,ne,Jy,",",","),G(q,ne,Jy,";",";"),G(q,ke,Bt,"⊼","\\barwedge",!0),G(q,ke,Bt,"⊻","\\veebar",!0),G(q,ne,Bt,"⊙","\\odot",!0),G(q,ne,Bt,"⊕","\\oplus",!0),G(q,ne,Bt,"⊗","\\otimes",!0),G(q,ne,Fe,"∂","\\partial",!0),G(q,ne,Bt,"⊘","\\oslash",!0),G(q,ke,Bt,"⊚","\\circledcirc",!0),G(q,ke,Bt,"⊡","\\boxdot",!0),G(q,ne,Bt,"△","\\bigtriangleup"),G(q,ne,Bt,"▽","\\bigtriangledown"),G(q,ne,Bt,"†","\\dagger"),G(q,ne,Bt,"⋄","\\diamond"),G(q,ne,Bt,"⋆","\\star"),G(q,ne,Bt,"◃","\\triangleleft"),G(q,ne,Bt,"▹","\\triangleright"),G(q,ne,gs,"{","\\{"),G(gt,ne,Fe,"{","\\{"),G(gt,ne,Fe,"{","\\textbraceleft"),G(q,ne,ba,"}","\\}"),G(gt,ne,Fe,"}","\\}"),G(gt,ne,Fe,"}","\\textbraceright"),G(q,ne,gs,"{","\\lbrace"),G(q,ne,ba,"}","\\rbrace"),G(q,ne,gs,"[","\\lbrack",!0),G(gt,ne,Fe,"[","\\lbrack",!0),G(q,ne,ba,"]","\\rbrack",!0),G(gt,ne,Fe,"]","\\rbrack",!0),G(q,ne,gs,"(","\\lparen",!0),G(q,ne,ba,")","\\rparen",!0),G(gt,ne,Fe,"<","\\textless",!0),G(gt,ne,Fe,">","\\textgreater",!0),G(q,ne,gs,"⌊","\\lfloor",!0),G(q,ne,ba,"⌋","\\rfloor",!0),G(q,ne,gs,"⌈","\\lceil",!0),G(q,ne,ba,"⌉","\\rceil",!0),G(q,ne,Fe,"\\","\\backslash"),G(q,ne,Fe,"∣","|"),G(q,ne,Fe,"∣","\\vert"),G(gt,ne,Fe,"|","\\textbar",!0),G(q,ne,Fe,"∥","\\|"),G(q,ne,Fe,"∥","\\Vert"),G(gt,ne,Fe,"∥","\\textbardbl"),G(gt,ne,Fe,"~","\\textasciitilde"),G(gt,ne,Fe,"\\","\\textbackslash"),G(gt,ne,Fe,"^","\\textasciicircum"),G(q,ne,_e,"↑","\\uparrow",!0),G(q,ne,_e,"⇑","\\Uparrow",!0),G(q,ne,_e,"↓","\\downarrow",!0),G(q,ne,_e,"⇓","\\Downarrow",!0),G(q,ne,_e,"↕","\\updownarrow",!0),G(q,ne,_e,"⇕","\\Updownarrow",!0),G(q,ne,Kn,"∐","\\coprod"),G(q,ne,Kn,"⋁","\\bigvee"),G(q,ne,Kn,"⋀","\\bigwedge"),G(q,ne,Kn,"⨄","\\biguplus"),G(q,ne,Kn,"⋂","\\bigcap"),G(q,ne,Kn,"⋃","\\bigcup"),G(q,ne,Kn,"∫","\\int"),G(q,ne,Kn,"∫","\\intop"),G(q,ne,Kn,"∬","\\iint"),G(q,ne,Kn,"∭","\\iiint"),G(q,ne,Kn,"∏","\\prod"),G(q,ne,Kn,"∑","\\sum"),G(q,ne,Kn,"⨂","\\bigotimes"),G(q,ne,Kn,"⨁","\\bigoplus"),G(q,ne,Kn,"⨀","\\bigodot"),G(q,ne,Kn,"∮","\\oint"),G(q,ne,Kn,"∯","\\oiint"),G(q,ne,Kn,"∰","\\oiiint"),G(q,ne,Kn,"⨆","\\bigsqcup"),G(q,ne,Kn,"∫","\\smallint"),G(gt,ne,Ad,"…","\\textellipsis"),G(q,ne,Ad,"…","\\mathellipsis"),G(gt,ne,Ad,"…","\\ldots",!0),G(q,ne,Ad,"…","\\ldots",!0),G(q,ne,Ad,"⋯","\\@cdots",!0),G(q,ne,Ad,"⋱","\\ddots",!0),G(q,ne,Fe,"⋮","\\varvdots"),G(gt,ne,Fe,"⋮","\\varvdots"),G(q,ne,wn,"ˊ","\\acute"),G(q,ne,wn,"ˋ","\\grave"),G(q,ne,wn,"¨","\\ddot"),G(q,ne,wn,"~","\\tilde"),G(q,ne,wn,"ˉ","\\bar"),G(q,ne,wn,"˘","\\breve"),G(q,ne,wn,"ˇ","\\check"),G(q,ne,wn,"^","\\hat"),G(q,ne,wn,"⃗","\\vec"),G(q,ne,wn,"˙","\\dot"),G(q,ne,wn,"˚","\\mathring"),G(q,ne,tr,"","\\@imath"),G(q,ne,tr,"","\\@jmath"),G(q,ne,Fe,"ı","ı"),G(q,ne,Fe,"ȷ","ȷ"),G(gt,ne,Fe,"ı","\\i",!0),G(gt,ne,Fe,"ȷ","\\j",!0),G(gt,ne,Fe,"ß","\\ss",!0),G(gt,ne,Fe,"æ","\\ae",!0),G(gt,ne,Fe,"œ","\\oe",!0),G(gt,ne,Fe,"ø","\\o",!0),G(gt,ne,Fe,"Æ","\\AE",!0),G(gt,ne,Fe,"Œ","\\OE",!0),G(gt,ne,Fe,"Ø","\\O",!0),G(gt,ne,wn,"ˊ","\\'"),G(gt,ne,wn,"ˋ","\\`"),G(gt,ne,wn,"ˆ","\\^"),G(gt,ne,wn,"˜","\\~"),G(gt,ne,wn,"ˉ","\\="),G(gt,ne,wn,"˘","\\u"),G(gt,ne,wn,"˙","\\."),G(gt,ne,wn,"¸","\\c"),G(gt,ne,wn,"˚","\\r"),G(gt,ne,wn,"ˇ","\\v"),G(gt,ne,wn,"¨",'\\"'),G(gt,ne,wn,"˝","\\H"),G(gt,ne,wn,"◯","\\textcircled");var SN={"--":!0,"---":!0,"``":!0,"''":!0};G(gt,ne,Fe,"–","--",!0),G(gt,ne,Fe,"–","\\textendash"),G(gt,ne,Fe,"—","---",!0),G(gt,ne,Fe,"—","\\textemdash"),G(gt,ne,Fe,"‘","`",!0),G(gt,ne,Fe,"‘","\\textquoteleft"),G(gt,ne,Fe,"’","'",!0),G(gt,ne,Fe,"’","\\textquoteright"),G(gt,ne,Fe,"“","``",!0),G(gt,ne,Fe,"“","\\textquotedblleft"),G(gt,ne,Fe,"”","''",!0),G(gt,ne,Fe,"”","\\textquotedblright"),G(q,ne,Fe,"°","\\degree",!0),G(gt,ne,Fe,"°","\\degree"),G(gt,ne,Fe,"°","\\textdegree",!0),G(q,ne,Fe,"£","\\pounds"),G(q,ne,Fe,"£","\\mathsterling",!0),G(gt,ne,Fe,"£","\\pounds"),G(gt,ne,Fe,"£","\\textsterling",!0),G(q,ke,Fe,"✠","\\maltese"),G(gt,ke,Fe,"✠","\\maltese");for(var kN='0123456789/@."',t3=0;t3<kN.length;t3++){var CN=kN.charAt(t3);G(q,ne,Fe,CN,CN)}for(var _N='0123456789!@*()-=+";:?/.,',r3=0;r3<_N.length;r3++){var AN=_N.charAt(r3);G(gt,ne,Fe,AN,AN)}for(var ev="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n3=0;n3<ev.length;n3++){var tv=ev.charAt(n3);G(q,ne,tr,tv,tv),G(gt,ne,Fe,tv,tv)}G(q,ke,Fe,"C","ℂ"),G(gt,ke,Fe,"C","ℂ"),G(q,ke,Fe,"H","ℍ"),G(gt,ke,Fe,"H","ℍ"),G(q,ke,Fe,"N","ℕ"),G(gt,ke,Fe,"N","ℕ"),G(q,ke,Fe,"P","ℙ"),G(gt,ke,Fe,"P","ℙ"),G(q,ke,Fe,"Q","ℚ"),G(gt,ke,Fe,"Q","ℚ"),G(q,ke,Fe,"R","ℝ"),G(gt,ke,Fe,"R","ℝ"),G(q,ke,Fe,"Z","ℤ"),G(gt,ke,Fe,"Z","ℤ"),G(q,ne,tr,"h","ℎ"),G(gt,ne,tr,"h","ℎ");for(var lr="",xa=0;xa<ev.length;xa++){var On=ev.charAt(xa);lr=String.fromCharCode(55349,56320+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56372+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56424+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56580+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56684+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56736+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56788+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56840+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56944+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),xa<26&&(lr=String.fromCharCode(55349,56632+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr),lr=String.fromCharCode(55349,56476+xa),G(q,ne,tr,On,lr),G(gt,ne,Fe,On,lr))}lr="𝕜",G(q,ne,tr,"k",lr),G(gt,ne,Fe,"k",lr);for(var $u=0;$u<10;$u++){var Mc=$u.toString();lr=String.fromCharCode(55349,57294+$u),G(q,ne,tr,Mc,lr),G(gt,ne,Fe,Mc,lr),lr=String.fromCharCode(55349,57314+$u),G(q,ne,tr,Mc,lr),G(gt,ne,Fe,Mc,lr),lr=String.fromCharCode(55349,57324+$u),G(q,ne,tr,Mc,lr),G(gt,ne,Fe,Mc,lr),lr=String.fromCharCode(55349,57334+$u),G(q,ne,tr,Mc,lr),G(gt,ne,Fe,Mc,lr)}for(var i3="ÐÞþ",a3=0;a3<i3.length;a3++){var rv=i3.charAt(a3);G(q,ne,tr,rv,rv),G(gt,ne,Fe,rv,rv)}var nv=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],LN=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Koe=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,s=r==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[nv[o][2],nv[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[LN[l][2],LN[l][s]]}else{if(a===120485||a===120486)return[nv[0][2],nv[0][s]];if(120486<a&&a<120782)return["",""];throw new Et("Unsupported character: "+e)}},iv=function(e,r,n){return fn[n][e]&&fn[n][e].replace&&(e=fn[n][e].replace),{value:e,metrics:jT(e,r,n)}},lo=function(e,r,n,i,a){var s=iv(e,r,n),o=s.metrics;e=s.value;var l;if(o){var u=o.italic;(n==="text"||i&&i.font==="mathit")&&(u=0),l=new Ms(e,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),l=new Ms(e,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},joe=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&iv(e,"Main-Bold",r).metrics?lo(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||fn[r][e].font==="main"?lo(e,"Main-Regular",r,n,i):lo(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},Qoe=function(e,r,n,i,a){return a!=="textord"&&iv(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Zoe=function(e,r,n){var i=e.mode,a=e.text,s=["mord"],o=i==="math"||i==="text"&&r.font,l=o?r.font:r.fontFamily,u="",h="";if(a.charCodeAt(0)===55349&&([u,h]=Koe(a,i)),u.length>0)return lo(a,u,i,r,s.concat(h));if(l){var d,f;if(l==="boldsymbol"){var p=Qoe(a,i,r,s,n);d=p.fontName,f=[p.fontClass]}else o?(d=IN[l].fontName,f=[l]):(d=av(l,r.fontWeight,r.fontShape),f=[l,r.fontWeight,r.fontShape]);if(iv(a,d,i).metrics)return lo(a,d,i,r,s.concat(f));if(SN.hasOwnProperty(a)&&d.slice(0,10)==="Typewriter"){for(var g=[],m=0;m<a.length;m++)g.push(lo(a[m],d,i,r,s.concat(f)));return RN(g)}}if(n==="mathord")return lo(a,"Math-Italic",i,r,s.concat(["mathnormal"]));if(n==="textord"){var y=fn[i][a]&&fn[i][a].font;if(y==="ams"){var v=av("amsrm",r.fontWeight,r.fontShape);return lo(a,v,i,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(y==="main"||!y){var b=av("textrm",r.fontWeight,r.fontShape);return lo(a,b,i,r,s.concat(r.fontWeight,r.fontShape))}else{var x=av(y,r.fontWeight,r.fontShape);return lo(a,x,i,r,s.concat(x,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Joe=(t,e)=>{if(Dc(t.classes)!==Dc(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},ele=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof Ms&&n instanceof Ms&&Joe(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},s3=function(e){for(var r=0,n=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>r&&(r=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},Ua=function(e,r,n,i){var a=new zp(e,r,n,i);return s3(a),a},NN=(t,e,r,n)=>new zp(t,e,r,n),tle=function(e,r,n){var i=Ua([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=At(i.height),i.maxFontSize=1,i},rle=function(e,r,n,i){var a=new JT(e,r,n,i);return s3(a),a},RN=function(e){var r=new $p(e);return s3(r),r},nle=function(e,r){return e instanceof $p?Ua([],[e],r):e},ile=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,s=1;s<r.length;s++){var o=-r[s].shift-a-r[s].elem.depth,l=o-(r[s-1].elem.height+r[s-1].elem.depth);a=a+o,n.push({type:"kern",size:l}),n.push(r[s])}return{children:n,depth:i}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var f=e.children[d];h-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var p=e.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-p.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},ale=function(e,r){for(var{children:n,depth:i}=ile(e),a=0,s=0;s<n.length;s++){var o=n[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=Ua(["pstrut"],[]);u.style.height=At(a);for(var h=[],d=i,f=i,p=i,g=0;g<n.length;g++){var m=n[g];if(m.type==="kern")p+=m.size;else{var y=m.elem,v=m.wrapperClasses||[],b=m.wrapperStyle||{},x=Ua(v,[u,y],void 0,b);x.style.top=At(-a-p-y.depth),m.marginLeft&&(x.style.marginLeft=m.marginLeft),m.marginRight&&(x.style.marginRight=m.marginRight),h.push(x),p+=y.height+y.depth}d=Math.min(d,p),f=Math.max(f,p)}var T=Ua(["vlist"],h);T.style.height=At(f);var w;if(d<0){var S=Ua([],[]),k=Ua(["vlist"],[S]);k.style.height=At(-d);var L=Ua(["vlist-s"],[new Ms("​")]);w=[Ua(["vlist-r"],[T,L]),Ua(["vlist-r"],[k])]}else w=[Ua(["vlist-r"],[T])];var _=Ua(["vlist-t"],w);return w.length===2&&_.classes.push("vlist-t2"),_.height=f,_.depth=-d,_},sle=(t,e)=>{var r=Ua(["mspace"],[],e),n=An(t,e);return r.style.marginRight=At(n),r},av=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&n==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},IN={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},DN={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},ole=function(e,r){var[n,i,a]=DN[e],s=new Oc(n),o=new Ll([s],{width:At(i),height:At(a),style:"width:"+At(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=NN(["overlay"],[o],r);return l.height=a,l.style.height=At(a),l.style.width=At(i),l},Ye={fontMap:IN,makeSymbol:lo,mathsym:joe,makeSpan:Ua,makeSvgSpan:NN,makeLineSpan:tle,makeAnchor:rle,makeFragment:RN,wrapFragment:nle,makeVList:ale,makeOrd:Zoe,makeGlue:sle,staticSvg:ole,svgData:DN,tryCombineChars:ele},Ln={number:3,unit:"mu"},zu={number:4,unit:"mu"},Rl={number:5,unit:"mu"},lle={mord:{mop:Ln,mbin:zu,mrel:Rl,minner:Ln},mop:{mord:Ln,mop:Ln,mrel:Rl,minner:Ln},mbin:{mord:zu,mop:zu,mopen:zu,minner:zu},mrel:{mord:Rl,mop:Rl,mopen:Rl,minner:Rl},mopen:{},mclose:{mop:Ln,mbin:zu,mrel:Rl,minner:Ln},mpunct:{mord:Ln,mop:Ln,mrel:Rl,mopen:Ln,mclose:Ln,mpunct:Ln,minner:Ln},minner:{mord:Ln,mop:Ln,mbin:zu,mrel:Rl,mopen:Ln,mpunct:Ln,minner:Ln}},cle={mord:{mop:Ln},mop:{mord:Ln,mop:Ln},mbin:{},mrel:{},mopen:{},mclose:{mop:Ln},mpunct:{},minner:{mop:Ln}},ON={},sv={},ov={};function Mt(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)ON[r[l]]=o;e&&(a&&(sv[e]=a),s&&(ov[e]=s))}function Uu(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;Mt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var lv=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},zn=function(e){return e.type==="ordgroup"?e.body:[e]},Il=Ye.makeSpan,ule=["leftmost","mbin","mopen","mrel","mop","mpunct"],hle=["rightmost","mrel","mclose","mpunct"],dle={display:er.DISPLAY,text:er.TEXT,script:er.SCRIPT,scriptscript:er.SCRIPTSCRIPT},fle={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ii=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=Mr(e[s],r);if(o instanceof $p){var l=o.children;a.push(...l)}else a.push(o)}if(Ye.tryCombineChars(a),!n)return a;var u=r;if(e.length===1){var h=e[0];h.type==="sizing"?u=r.havingSize(h.size):h.type==="styling"&&(u=r.havingStyle(dle[h.style]))}var d=Il([i[0]||"leftmost"],[],r),f=Il([i[1]||"rightmost"],[],r),p=n==="root";return MN(a,(g,m)=>{var y=m.classes[0],v=g.classes[0];y==="mbin"&&Zt.contains(hle,v)?m.classes[0]="mord":v==="mbin"&&Zt.contains(ule,y)&&(g.classes[0]="mord")},{node:d},f,p),MN(a,(g,m)=>{var y=o3(m),v=o3(g),b=y&&v?g.hasClass("mtight")?cle[y][v]:lle[y][v]:null;if(b)return Ye.makeGlue(b,u)},{node:d},f,p),a},MN=function t(e,r,n,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var o=e[s],l=PN(o);if(l){t(l.children,r,n,null,a);continue}var u=!o.hasClass("mspace");if(u){var h=r(o,n.node);h&&(n.insertAfter?n.insertAfter(h):(e.unshift(h),s++))}u?n.node=o:a&&o.hasClass("newline")&&(n.node=Il(["leftmost"])),n.insertAfter=(d=>f=>{e.splice(d+1,0,f),s++})(s)}i&&e.pop()},PN=function(e){return e instanceof $p||e instanceof JT||e instanceof zp&&e.hasClass("enclosing")?e:null},ple=function t(e,r){var n=PN(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},o3=function(e,r){return e?(r&&(e=ple(e,r)),fle[e.classes[0]]||null):null},Up=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Il(r.concat(n))},Mr=function(e,r,n){if(!e)return Il();if(sv[e.type]){var i=sv[e.type](e,r);if(n&&r.size!==n.size){i=Il(r.sizingClasses(n),[i],r);var a=r.sizeMultiplier/n.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new Et("Got group of unknown type: '"+e.type+"'")};function cv(t,e){var r=Il(["base"],t,e),n=Il(["strut"]);return n.style.height=At(r.height+r.depth),r.depth&&(n.style.verticalAlign=At(-r.depth)),r.children.unshift(n),r}function l3(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=ii(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],o=0;o<n.length;o++)if(s.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var l=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,s.push(n[o]),n[o].hasClass("nobreak")&&(l=!0);l||(a.push(cv(s,e)),s=[])}else n[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(cv(s,e)),s=[]),a.push(n[o]));s.length>0&&a.push(cv(s,e));var u;r?(u=cv(ii(r,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var h=Il(["katex-html"],a);if(h.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=At(h.height+h.depth),h.depth&&(d.style.verticalAlign=At(-h.depth))}return h}function BN(t){return new $p(t)}class ms{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Dc(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof $o&&this.children[n+1]instanceof $o){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof $o;)i+=this.children[++n].toText();e.appendChild(new $o(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=Zt.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+Zt.escape(Dc(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class $o{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Zt.escape(this.toText())}toText(){return this.text}}class gle{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",At(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+At(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var vt={MathNode:ms,TextNode:$o,SpaceNode:gle,newDocumentFragment:BN},Ps=function(e,r,n){return fn[r][e]&&fn[r][e].replace&&e.charCodeAt(0)!==55349&&!(SN.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=fn[r][e].replace),new vt.TextNode(e)},c3=function(e){return e.length===1?e[0]:new vt.MathNode("mrow",e)},u3=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(Zt.contains(["\\imath","\\jmath"],a))return null;fn[i][a]&&fn[i][a].replace&&(a=fn[i][a].replace);var s=Ye.fontMap[n].fontName;return jT(a,s,i)?Ye.fontMap[n].variant:null};function h3(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof $o&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof $o&&r.text===","}else return!1}var Ha=function(e,r,n){if(e.length===1){var i=hn(e[0],r);return n&&i instanceof ms&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<e.length;o++){var l=hn(e[o],r);if(l instanceof ms&&s instanceof ms){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(h3(l)&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mn"&&h3(s))l.children=[...s.children,...l.children],a.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(s.type==="mn"||h3(s))){var u=l.children[0];u instanceof ms&&u.type==="mn"&&(u.children=[...s.children,...u.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var h=s.children[0];if(h instanceof $o&&h.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof $o&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Pc=function(e,r,n){return c3(Ha(e,r,n))},hn=function(e,r){if(!e)return new vt.MathNode("mrow");if(ov[e.type]){var n=ov[e.type](e,r);return n}else throw new Et("Got group of unknown type: '"+e.type+"'")};function FN(t,e,r,n,i){var a=Ha(t,r),s;a.length===1&&a[0]instanceof ms&&Zt.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new vt.MathNode("mrow",a);var o=new vt.MathNode("annotation",[new vt.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new vt.MathNode("semantics",[s,o]),u=new vt.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var h=i?"katex":"katex-mathml";return Ye.makeSpan([h],[u])}var $N=function(e){return new Al({style:e.displayMode?er.DISPLAY:er.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},zN=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=Ye.makeSpan(n,[e])}return e},mle=function(e,r,n){var i=$N(n),a;if(n.output==="mathml")return FN(e,r,i,n.displayMode,!0);if(n.output==="html"){var s=l3(e,i);a=Ye.makeSpan(["katex"],[s])}else{var o=FN(e,r,i,n.displayMode,!1),l=l3(e,i);a=Ye.makeSpan(["katex"],[o,l])}return zN(a,n)},yle=function(e,r,n){var i=$N(n),a=l3(e,i),s=Ye.makeSpan(["katex"],[a]);return zN(s,n)},vle={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},ble=function(e){var r=new vt.MathNode("mo",[new vt.TextNode(vle[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},xle={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Ele=function(e){return e.type==="ordgroup"?e.body.length:1},Tle=function(e,r){function n(){var o=4e5,l=e.label.slice(1);if(Zt.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,h=Ele(u.base),d,f,p;if(h>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,p=.42,f=l+"4"):(d=312,o=2340,p=.34,f="tilde4");else{var g=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],d=[0,239,300,360,420][g],p=[0,.24,.3,.3,.36,.42][g],f=l+g):(o=[0,600,1033,2339,2340][g],d=[0,260,286,306,312][g],p=[0,.26,.286,.3,.306,.34][g],f="tilde"+g)}var m=new Oc(f),y=new Ll([m],{width:"100%",height:At(p),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:Ye.makeSvgSpan([],[y],r),minWidth:0,height:p}}else{var v=[],b=xle[l],[x,T,w]=b,S=w/1e3,k=x.length,L,_;if(k===1){var N=b[3];L=["hide-tail"],_=[N]}else if(k===2)L=["halfarrow-left","halfarrow-right"],_=["xMinYMin","xMaxYMin"];else if(k===3)L=["brace-left","brace-center","brace-right"],_=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+k+" children.");for(var C=0;C<k;C++){var D=new Oc(x[C]),P=new Ll([D],{width:"400em",height:At(S),viewBox:"0 0 "+o+" "+w,preserveAspectRatio:_[C]+" slice"}),A=Ye.makeSvgSpan([L[C]],[P],r);if(k===1)return{span:A,minWidth:T,height:S};A.style.height=At(S),v.push(A)}return{span:Ye.makeSpan(["stretchy"],v,r),minWidth:T,height:S}}}var{span:i,minWidth:a,height:s}=n();return i.height=s,i.style.height=At(s),a>0&&(i.style.minWidth=At(a)),i},wle=function(e,r,n,i,a){var s,o=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(s=Ye.makeSpan(["stretchy",r],[],a),r==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new e3({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new e3({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new Ll(u,{width:"100%",height:At(o)});s=Ye.makeSvgSpan([],[h],a)}return s.height=o,s.style.height=At(o),s},Dl={encloseSpan:wle,mathMLnode:ble,svgSpan:Tle};function yr(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function d3(t){var e=uv(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function uv(t){return t&&(t.type==="atom"||Xoe.hasOwnProperty(t.type))?t:null}var f3=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=yr(t.base,"accent"),r=n.base,t.base=r,i=Woe(Mr(t,e)),t.base=n):(n=yr(t,"accent"),r=n.base);var a=Mr(r,e.havingCrampedStyle()),s=n.isShifty&&Zt.isCharacterBox(r),o=0;if(s){var l=Zt.getBaseElem(r),u=Mr(l,e.havingCrampedStyle());o=wN(u).skew}var h=n.label==="\\c",d=h?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),f;if(n.isStretchy)f=Dl.svgSpan(n,e),f=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+At(2*o)+")",marginLeft:At(2*o)}:void 0}]},e);else{var p,g;n.label==="\\vec"?(p=Ye.staticSvg("vec",e),g=Ye.svgData.vec[1]):(p=Ye.makeOrd({mode:n.mode,text:n.label},e,"textord"),p=wN(p),p.italic=0,g=p.width,h&&(d+=p.depth)),f=Ye.makeSpan(["accent-body"],[p]);var m=n.label==="\\textcircled";m&&(f.classes.push("accent-full"),d=a.height);var y=o;m||(y-=g/2),f.style.left=At(y),n.label==="\\textcircled"&&(f.style.top=".2em"),f=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-d},{type:"elem",elem:f}]},e)}var v=Ye.makeSpan(["mord","accent"],[f],e);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},UN=(t,e)=>{var r=t.isStretchy?Dl.mathMLnode(t.label):new vt.MathNode("mo",[Ps(t.label,t.mode)]),n=new vt.MathNode("mover",[hn(t.base,e),r]);return n.setAttribute("accent","true"),n},Sle=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Mt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=lv(e[0]),n=!Sle.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:f3,mathmlBuilder:UN}),Mt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:f3,mathmlBuilder:UN}),Mt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Mr(t.base,e),n=Dl.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=Ye.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return Ye.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=Dl.mathMLnode(t.label),n=new vt.MathNode("munder",[hn(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var hv=t=>{var e=new vt.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Mt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=Ye.wrapFragment(Mr(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(n=e.havingStyle(r.sub()),s=Ye.wrapFragment(Mr(t.below,n,e),e),s.classes.push(a+"-arrow-pad"));var o=Dl.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var h;if(s){var d=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;h=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:d}]},e)}else h=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),Ye.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(t,e){var r=Dl.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=hv(hn(t.body,e));if(t.below){var a=hv(hn(t.below,e));n=new vt.MathNode("munderover",[r,a,i])}else n=new vt.MathNode("mover",[r,i])}else if(t.below){var s=hv(hn(t.below,e));n=new vt.MathNode("munder",[r,s])}else n=hv(),n=new vt.MathNode("mover",[r,n]);return n}});var kle=Ye.makeSpan;function HN(t,e){var r=ii(t.body,e,!0);return kle([t.mclass],r,e)}function GN(t,e){var r,n=Ha(t.body,e);return t.mclass==="minner"?r=new vt.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new vt.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new vt.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Mt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:zn(i),isCharacterBox:Zt.isCharacterBox(i)}},htmlBuilder:HN,mathmlBuilder:GN});var dv=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Mt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:dv(e[0]),body:zn(e[1]),isCharacterBox:Zt.isCharacterBox(e[1])}}}),Mt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],a=e[0],s;n!=="\\stackrel"?s=dv(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:zn(i)},l={type:"supsub",mode:a.mode,base:o,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[l],isCharacterBox:Zt.isCharacterBox(l)}},htmlBuilder:HN,mathmlBuilder:GN}),Mt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:dv(e[0]),body:zn(e[0])}},htmlBuilder(t,e){var r=ii(t.body,e,!0),n=Ye.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=Ha(t.body,e),n=new vt.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var Cle={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},VN=()=>({type:"styling",body:[],mode:"math",style:"display"}),qN=t=>t.type==="textord"&&t.text==="@",_le=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Ale(t,e,r){var n=Cle[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Lle(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Et("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],a=0;a<e.length;a++){for(var s=e[a],o=VN(),l=0;l<s.length;l++)if(!qN(s[l]))o.body.push(s[l]);else{n.push(o),l+=1;var u=d3(s[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var f=!0,p=l+1;p<s.length;p++){if(_le(s[p],u)){f=!1,l=p;break}if(qN(s[p]))throw new Et("Missing a "+u+" character to complete a CD arrow.",s[p]);h[d].body.push(s[p])}if(f)throw new Et("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new Et('Expected one of "<>AV=|." after @',s[l]);var g=Ale(u,h,t),m={type:"styling",body:[g],mode:"math",style:"display"};n.push(m),o=VN()}a%2===0?n.push(o):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var y=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:y,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Mt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=Ye.wrapFragment(Mr(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=At(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new vt.MathNode("mrow",[hn(t.label,e)]);return r=new vt.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new vt.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),Mt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=Ye.wrapFragment(Mr(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new vt.MathNode("mrow",[hn(t.fragment,e)])}}),Mt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=yr(e[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var o=yr(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new Et("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new Et("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var WN=(t,e)=>{var r=ii(t.body,e.withColor(t.color),!1);return Ye.makeFragment(r)},YN=(t,e)=>{var r=Ha(t.body,e.withColor(t.color)),n=new vt.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};Mt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=yr(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:zn(i)}},htmlBuilder:WN,mathmlBuilder:YN}),Mt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=yr(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:WN,mathmlBuilder:YN}),Mt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&yr(i,"size").value}},htmlBuilder(t,e){var r=Ye.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=At(An(t.size,e)))),r},mathmlBuilder(t,e){var r=new vt.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",At(An(t.size,e)))),r}});var p3={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},XN=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Et("Expected a control sequence",t);return e},Nle=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},KN=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};Mt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(p3[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=p3[n.text]),yr(e.parseFunction(),"internal");throw new Et("Invalid token after macro prefix",n)}}),Mt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Et("Expected a control sequence",n);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Et('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new Et('Argument number "'+n.text+'" out of order');a++,o.push([])}else{if(n.text==="EOF")throw new Et("Expected a macro definition");o[a].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},r===p3[r]),{type:"internal",mode:e.mode}}}),Mt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=XN(e.gullet.popToken());e.gullet.consumeSpaces();var i=Nle(e);return KN(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}}),Mt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=XN(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return KN(e,n,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Hp=function(e,r,n){var i=fn.math[e]&&fn.math[e].replace,a=jT(i||e,r,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},g3=function(e,r,n,i){var a=n.havingBaseStyle(r),s=Ye.makeSpan(i.concat(a.sizingClasses(n)),[e],n),o=a.sizeMultiplier/n.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},jN=function(e,r,n){var i=r.havingBaseStyle(n),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=At(a),e.height-=a,e.depth+=a},Rle=function(e,r,n,i,a,s){var o=Ye.makeSymbol(e,"Main-Regular",a,i),l=g3(o,r,i,s);return n&&jN(l,i,r),l},Ile=function(e,r,n,i){return Ye.makeSymbol(e,"Size"+r+"-Regular",n,i)},QN=function(e,r,n,i,a,s){var o=Ile(e,r,a,i),l=g3(Ye.makeSpan(["delimsizing","size"+r],[o],i),er.TEXT,i,s);return n&&jN(l,i,er.TEXT),l},m3=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=Ye.makeSpan(["delimsizinginner",i],[Ye.makeSpan([],[Ye.makeSymbol(e,r,n)])]);return{type:"elem",elem:a}},y3=function(e,r,n){var i=Fo["Size4-Regular"][e.charCodeAt(0)]?Fo["Size4-Regular"][e.charCodeAt(0)][4]:Fo["Size1-Regular"][e.charCodeAt(0)][4],a=new Oc("inner",Foe(e,Math.round(1e3*r))),s=new Ll([a],{width:At(i),height:At(r),style:"width:"+At(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=Ye.makeSvgSpan([],[s],n);return o.height=r,o.style.height=At(r),o.style.width=At(i),{type:"elem",elem:o}},v3=.008,fv={type:"kern",size:-1*v3},Dle=["|","\\lvert","\\rvert","\\vert"],Ole=["\\|","\\lVert","\\rVert","\\Vert"],ZN=function(e,r,n,i,a,s){var o,l,u,h,d="",f=0;o=u=h=e,l=null;var p="Size1-Regular";e==="\\uparrow"?u=h="⏐":e==="\\Uparrow"?u=h="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",h="\\Downarrow"):Zt.contains(Dle,e)?(u="∣",d="vert",f=333):Zt.contains(Ole,e)?(u="∥",d="doublevert",f=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",h="⎣",p="Size4-Regular",d="lbrack",f=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",h="⎦",p="Size4-Regular",d="rbrack",f=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",h="⎣",p="Size4-Regular",d="lfloor",f=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=h="⎢",p="Size4-Regular",d="lceil",f=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",h="⎦",p="Size4-Regular",d="rfloor",f=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=h="⎥",p="Size4-Regular",d="rceil",f=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",h="⎝",p="Size4-Regular",d="lparen",f=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",h="⎠",p="Size4-Regular",d="rparen",f=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",h="⎩",u="⎪",p="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",h="⎭",u="⎪",p="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",h="⎩",u="⎪",p="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",h="⎭",u="⎪",p="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",h="⎭",u="⎪",p="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",h="⎩",u="⎪",p="Size4-Regular");var g=Hp(o,p,a),m=g.height+g.depth,y=Hp(u,p,a),v=y.height+y.depth,b=Hp(h,p,a),x=b.height+b.depth,T=0,w=1;if(l!==null){var S=Hp(l,p,a);T=S.height+S.depth,w=2}var k=m+x+T,L=Math.max(0,Math.ceil((r-k)/(w*v))),_=k+L*w*v,N=i.fontMetrics().axisHeight;n&&(N*=i.sizeMultiplier);var C=_/2-N,D=[];if(d.length>0){var P=_-m-x,A=Math.round(_*1e3),R=$oe(d,Math.round(P*1e3)),O=new Oc(d,R),M=(f/1e3).toFixed(3)+"em",I=(A/1e3).toFixed(3)+"em",F=new Ll([O],{width:M,height:I,viewBox:"0 0 "+f+" "+A}),B=Ye.makeSvgSpan([],[F],i);B.height=A/1e3,B.style.width=M,B.style.height=I,D.push({type:"elem",elem:B})}else{if(D.push(m3(h,p,a)),D.push(fv),l===null){var $=_-m-x+2*v3;D.push(y3(u,$,i))}else{var V=(_-m-x-T)/2+2*v3;D.push(y3(u,V,i)),D.push(fv),D.push(m3(l,p,a)),D.push(fv),D.push(y3(u,V,i))}D.push(fv),D.push(m3(o,p,a))}var H=i.havingBaseStyle(er.TEXT),te=Ye.makeVList({positionType:"bottom",positionData:C,children:D},H);return g3(Ye.makeSpan(["delimsizing","mult"],[te],H),er.TEXT,i,s)},b3=80,x3=.08,E3=function(e,r,n,i,a){var s=Boe(e,i,n),o=new Oc(e,s),l=new Ll([o],{width:"400em",height:At(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ye.makeSvgSpan(["hide-tail"],[l],a)},Mle=function(e,r){var n=r.havingBaseSizing(),i=r9("\\surd",e*n.sizeMultiplier,t9,n),a=n.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,h=0,d;return i.type==="small"?(h=1e3+1e3*s+b3,e<1?a=1:e<1.4&&(a=.7),l=(1+s+x3)/a,u=(1+s)/a,o=E3("sqrtMain",l,h,s,r),o.style.minWidth="0.853em",d=.833/a):i.type==="large"?(h=(1e3+b3)*Gp[i.size],u=(Gp[i.size]+s)/a,l=(Gp[i.size]+s+x3)/a,o=E3("sqrtSize"+i.size,l,h,s,r),o.style.minWidth="1.02em",d=1/a):(l=e+s+x3,u=e+s,h=Math.floor(1e3*e+s)+b3,o=E3("sqrtTall",l,h,s,r),o.style.minWidth="0.742em",d=1.056),o.height=u,o.style.height=At(l),{span:o,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*a}},JN=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Ple=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],e9=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Gp=[0,1.2,1.8,2.4,3],Ble=function(e,r,n,i,a){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),Zt.contains(JN,e)||Zt.contains(e9,e))return QN(e,r,!1,n,i,a);if(Zt.contains(Ple,e))return ZN(e,Gp[r],!1,n,i,a);throw new Et("Illegal delimiter: '"+e+"'")},Fle=[{type:"small",style:er.SCRIPTSCRIPT},{type:"small",style:er.SCRIPT},{type:"small",style:er.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],$le=[{type:"small",style:er.SCRIPTSCRIPT},{type:"small",style:er.SCRIPT},{type:"small",style:er.TEXT},{type:"stack"}],t9=[{type:"small",style:er.SCRIPTSCRIPT},{type:"small",style:er.SCRIPT},{type:"small",style:er.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],zle=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},r9=function(e,r,n,i){for(var a=Math.min(2,3-i.style.size),s=a;s<n.length&&n[s].type!=="stack";s++){var o=Hp(e,zle(n[s]),"math"),l=o.height+o.depth;if(n[s].type==="small"){var u=i.havingBaseStyle(n[s].style);l*=u.sizeMultiplier}if(l>r)return n[s]}return n[n.length-1]},n9=function(e,r,n,i,a,s){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;Zt.contains(e9,e)?o=Fle:Zt.contains(JN,e)?o=t9:o=$le;var l=r9(e,r,o,i);return l.type==="small"?Rle(e,l.style,n,i,a,s):l.type==="large"?QN(e,l.size,n,i,a,s):ZN(e,r,n,i,a,s)},Ule=function(e,r,n,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,h=Math.max(r-o,n+o),d=Math.max(h/500*l,2*h-u);return n9(e,d,!0,i,a,s)},Ol={sqrtImage:Mle,sizedDelim:Ble,sizeToMaxHeight:Gp,customSizedDelim:n9,leftRightDelim:Ule},i9={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Hle=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pv(t,e){var r=uv(t);if(r&&Zt.contains(Hle,r.text))return r;throw r?new Et("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Et("Invalid delimiter type '"+t.type+"'",t)}Mt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=pv(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:i9[t.funcName].size,mclass:i9[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?Ye.makeSpan([t.mclass]):Ol.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ps(t.delim,t.mode));var r=new vt.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=At(Ol.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function a9(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Mt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Et("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:pv(e[0],t).text,color:r}}}),Mt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=pv(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=yr(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{a9(t);for(var r=ii(t.body,e,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=Up(e,["mopen"]):o=Ol.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(o),a)for(var l=1;l<r.length;l++){var u=r[l],h=u.isMiddle;h&&(r[l]=Ol.leftRightDelim(h.delim,n,i,h.options,t.mode,[]))}var d;if(t.right===".")d=Up(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;d=Ol.leftRightDelim(t.right,n,i,f,t.mode,["mclose"])}return r.push(d),Ye.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{a9(t);var r=Ha(t.body,e);if(t.left!=="."){var n=new vt.MathNode("mo",[Ps(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new vt.MathNode("mo",[Ps(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return c3(r)}}),Mt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=pv(e[0],t);if(!t.parser.leftrightDepth)throw new Et("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Up(e,[]);else{r=Ol.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?Ps("|","text"):Ps(t.delim,t.mode),n=new vt.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var T3=(t,e)=>{var r=Ye.wrapFragment(Mr(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,a,s=0,o=Zt.isCharacterBox(t.body);if(n==="sout")a=Ye.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=An({number:.6,unit:"pt"},e),u=An({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var d=r.height+r.depth+l+u;r.style.paddingLeft=At(d/2+l);var f=Math.floor(1e3*d*i),p=Moe(f),g=new Ll([new Oc("phase",p)],{width:"400em",height:At(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});a=Ye.makeSvgSpan(["hide-tail"],[g],e),a.style.height=At(d),s=r.depth+l+u}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var m=0,y=0,v=0;/box/.test(n)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(n==="colorbox"?0:v),y=m):n==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*v,y=Math.max(0,.25-r.depth)):(m=o?.2:0,y=m),a=Dl.encloseSpan(r,n,m,y,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=At(v)):n==="angl"&&v!==.049&&(a.style.borderTopWidth=At(v),a.style.borderRightWidth=At(v)),s=r.depth+y,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var b;if(t.backgroundColor)b=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var x=/cancel|phase/.test(n)?["svg-align"]:[];b=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:x}]},e)}return/cancel/.test(n)&&(b.height=r.height,b.depth=r.depth),/cancel/.test(n)&&!o?Ye.makeSpan(["mord","cancel-lap"],[b],e):Ye.makeSpan(["mord"],[b],e)},w3=(t,e)=>{var r=0,n=new vt.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[hn(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};Mt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=yr(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:T3,mathmlBuilder:w3}),Mt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=yr(e[0],"color-token").color,s=yr(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:T3,mathmlBuilder:w3}),Mt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}}),Mt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:T3,mathmlBuilder:w3}),Mt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var s9={};function zo(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)s9[r[l]]=o;a&&(sv[e]=a),s&&(ov[e]=s)}var o9={};function ce(t,e){o9[t]=e}function l9(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var gv=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Et("{"+t.envName+"} can be used only in display mode.")};function S3(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Bc(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:h,maxNumCols:d,leqno:f}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var p=t.gullet.expandMacroAsText("\\arraystretch");if(p==null)s=1;else if(s=parseFloat(p),!s||s<0)throw new Et("Invalid \\arraystretch: "+p)}t.gullet.beginGroup();var g=[],m=[g],y=[],v=[],b=l!=null?[]:void 0;function x(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function T(){b&&(t.gullet.macros.get("\\df@tag")?(b.push(t.subparse([new Ds("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):b.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),v.push(l9(t));;){var w=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),w={type:"ordgroup",mode:t.mode,body:w},r&&(w={type:"styling",mode:t.mode,style:r,body:[w]}),g.push(w);var S=t.fetch().text;if(S==="&"){if(d&&g.length===d){if(u||o)throw new Et("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(S==="\\end"){T(),g.length===1&&w.type==="styling"&&w.body[0].body.length===0&&(m.length>1||!h)&&m.pop(),v.length<m.length+1&&v.push([]);break}else if(S==="\\\\"){t.consume();var k=void 0;t.gullet.future().text!==" "&&(k=t.parseSizeGroup(!0)),y.push(k?k.value:null),T(),v.push(l9(t)),g=[],m.push(g),x()}else throw new Et("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:m,cols:a,rowGaps:y,hskipBeforeAndAfter:n,hLinesBeforeRow:v,colSeparationType:o,tags:b,leqno:f}}function k3(t){return t.slice(0,1)==="d"?"display":"text"}var Uo=function(e,r){var n,i,a=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(a),u=[],h=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,f=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var p=r.havingStyle(er.SCRIPT).sizeMultiplier;f=.2778*(p/r.sizeMultiplier)}var g=e.colSeparationType==="CD"?An({number:3,unit:"ex"},r):12*d,m=3*d,y=e.arraystretch*g,v=.7*y,b=.3*y,x=0;function T(ae){for(var Ue=0;Ue<ae.length;++Ue)Ue>0&&(x+=.25),u.push({pos:x,isDashed:ae[Ue]})}for(T(s[0]),n=0;n<e.body.length;++n){var w=e.body[n],S=v,k=b;o<w.length&&(o=w.length);var L=new Array(w.length);for(i=0;i<w.length;++i){var _=Mr(w[i],r);k<_.depth&&(k=_.depth),S<_.height&&(S=_.height),L[i]=_}var N=e.rowGaps[n],C=0;N&&(C=An(N,r),C>0&&(C+=b,k<C&&(k=C),C=0)),e.addJot&&(k+=m),L.height=S,L.depth=k,x+=S,L.pos=x,x+=k+C,l[n]=L,T(s[n+1])}var D=x/2+r.fontMetrics().axisHeight,P=e.cols||[],A=[],R,O,M=[];if(e.tags&&e.tags.some(ae=>ae))for(n=0;n<a;++n){var I=l[n],F=I.pos-D,B=e.tags[n],$=void 0;B===!0?$=Ye.makeSpan(["eqn-num"],[],r):B===!1?$=Ye.makeSpan([],[],r):$=Ye.makeSpan([],ii(B,r,!0),r),$.depth=I.depth,$.height=I.height,M.push({type:"elem",elem:$,shift:F})}for(i=0,O=0;i<o||O<P.length;++i,++O){for(var V=P[O]||{},H=!0;V.type==="separator";){if(H||(R=Ye.makeSpan(["arraycolsep"],[]),R.style.width=At(r.fontMetrics().doubleRuleSep),A.push(R)),V.separator==="|"||V.separator===":"){var te=V.separator==="|"?"solid":"dashed",X=Ye.makeSpan(["vertical-separator"],[],r);X.style.height=At(x),X.style.borderRightWidth=At(h),X.style.borderRightStyle=te,X.style.margin="0 "+At(-h/2);var ee=x-D;ee&&(X.style.verticalAlign=At(-ee)),A.push(X)}else throw new Et("Invalid separator type: "+V.separator);O++,V=P[O]||{},H=!1}if(!(i>=o)){var re=void 0;(i>0||e.hskipBeforeAndAfter)&&(re=Zt.deflt(V.pregap,f),re!==0&&(R=Ye.makeSpan(["arraycolsep"],[]),R.style.width=At(re),A.push(R)));var pe=[];for(n=0;n<a;++n){var K=l[n],W=K[i];if(W){var j=K.pos-D;W.depth=K.depth,W.height=K.height,pe.push({type:"elem",elem:W,shift:j})}}pe=Ye.makeVList({positionType:"individualShift",children:pe},r),pe=Ye.makeSpan(["col-align-"+(V.align||"c")],[pe]),A.push(pe),(i<o-1||e.hskipBeforeAndAfter)&&(re=Zt.deflt(V.postgap,f),re!==0&&(R=Ye.makeSpan(["arraycolsep"],[]),R.style.width=At(re),A.push(R)))}}if(l=Ye.makeSpan(["mtable"],A),u.length>0){for(var Y=Ye.makeLineSpan("hline",r,h),Q=Ye.makeLineSpan("hdashline",r,h),ie=[{type:"elem",elem:l,shift:0}];u.length>0;){var J=u.pop(),we=J.pos-D;J.isDashed?ie.push({type:"elem",elem:Q,shift:we}):ie.push({type:"elem",elem:Y,shift:we})}l=Ye.makeVList({positionType:"individualShift",children:ie},r)}if(M.length===0)return Ye.makeSpan(["mord"],[l],r);var ue=Ye.makeVList({positionType:"individualShift",children:M},r);return ue=Ye.makeSpan(["tag"],[ue],r),Ye.makeFragment([l,ue])},Gle={c:"center ",l:"left ",r:"right "},Ho=function(e,r){for(var n=[],i=new vt.MathNode("mtd",[],["mtr-glue"]),a=new vt.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],l=[],u=0;u<o.length;u++)l.push(new vt.MathNode("mtd",[hn(o[u],r)]));e.tags&&e.tags[s]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(a):l.push(a)),n.push(new vt.MathNode("mtr",l))}var h=new vt.MathNode("mtable",n),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",At(d));var f="",p="";if(e.cols&&e.cols.length>0){var g=e.cols,m="",y=!1,v=0,b=g.length;g[0].type==="separator"&&(f+="top ",v=1),g[g.length-1].type==="separator"&&(f+="bottom ",b-=1);for(var x=v;x<b;x++)g[x].type==="align"?(p+=Gle[g[x].align],y&&(m+="none "),y=!0):g[x].type==="separator"&&y&&(m+=g[x].separator==="|"?"solid ":"dashed ",y=!1);h.setAttribute("columnalign",p.trim()),/[sd]/.test(m)&&h.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var T=e.cols||[],w="",S=1;S<T.length;S++)w+=S%2?"0em ":"1em ";h.setAttribute("columnspacing",w.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var k="",L=e.hLinesBeforeRow;f+=L[0].length>0?"left ":"",f+=L[L.length-1].length>0?"right ":"";for(var _=1;_<L.length-1;_++)k+=L[_].length===0?"none ":L[_][0]?"dashed ":"solid ";return/[sd]/.test(k)&&h.setAttribute("rowlines",k.trim()),f!==""&&(h=new vt.MathNode("menclose",[h]),h.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(h=new vt.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},c9=function(e,r){e.envName.indexOf("ed")===-1&&gv(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=Bc(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:S3(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var h="",d=0;d<r[0].body.length;d++){var f=yr(r[0].body[d],"textord");h+=f.text}o=Number(h),l=o*2}var p=!l;s.body.forEach(function(v){for(var b=1;b<v.length;b+=2){var x=yr(v[b],"styling"),T=yr(x.body[0],"ordgroup");T.body.unshift(u)}if(p)l<v.length&&(l=v.length);else{var w=v.length/2;if(o<w)throw new Et("Too many math in a row: "+("expected "+o+", but got "+w),v[0])}});for(var g=0;g<l;++g){var m="r",y=0;g%2===1?m="l":g>0&&p&&(y=1),n[g]={type:"align",align:m,pregap:y,postgap:0}}return s.colSeparationType=p?"align":"alignat",s};zo({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=uv(e[0]),n=r?[e[0]]:yr(e[0],"ordgroup").body,i=n.map(function(s){var o=d3(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Et("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Bc(t.parser,a,k3(t.envName))},htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Et("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=Bc(t.parser,n,k3(t.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Bc(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=uv(e[0]),n=r?[e[0]]:yr(e[0],"ordgroup").body,i=n.map(function(s){var o=d3(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Et("Unknown column alignment: "+l,s)});if(i.length>1)throw new Et("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Bc(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Et("{subarray} can contain only one column");return a},htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Bc(t.parser,e,k3(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:c9,htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Zt.contains(["gather","gather*"],t.envName)&&gv(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:S3(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Bc(t.parser,e,"display")},htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:c9,htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){gv(t);var e={autoTag:S3(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Bc(t.parser,e,"display")},htmlBuilder:Uo,mathmlBuilder:Ho}),zo({type:"array",names:["CD"],props:{numArgs:0},handler(t){return gv(t),Lle(t.parser)},htmlBuilder:Uo,mathmlBuilder:Ho}),ce("\\nonumber","\\gdef\\@eqnsw{0}"),ce("\\notag","\\nonumber"),Mt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Et(t.funcName+" valid only within array environment")}});var u9=s9;Mt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new Et("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=yr(i.body[s],"textord").text;if(n==="\\begin"){if(!u9.hasOwnProperty(a))throw new Et("No such environment: "+a,i);var o=u9[a],{args:l,optArgs:u}=r.parseArguments("\\begin{"+a+"}",o),h={mode:r.mode,envName:a,parser:r},d=o.handler(h,l,u);r.expect("\\end",!1);var f=r.nextToken,p=yr(r.parseFunction(),"environment");if(p.name!==a)throw new Et("Mismatch: \\begin{"+a+"} matched by \\end{"+p.name+"}",f);return d}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var h9=(t,e)=>{var r=t.font,n=e.withFont(r);return Mr(t.body,n)},d9=(t,e)=>{var r=t.font,n=e.withFont(r);return hn(t.body,n)},f9={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Mt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=lv(e[0]),a=n;return a in f9&&(a=f9[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:h9,mathmlBuilder:d9}),Mt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=Zt.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:dv(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}}),Mt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:a}=r,s=r.parseExpression(!0,i),o="math"+n.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:h9,mathmlBuilder:d9});var p9=(t,e)=>{var r=e;return t==="display"?r=r.id>=er.SCRIPT.id?r.text():er.DISPLAY:t==="text"&&r.size===er.DISPLAY.size?r=er.TEXT:t==="script"?r=er.SCRIPT:t==="scriptscript"&&(r=er.SCRIPTSCRIPT),r},C3=(t,e)=>{var r=p9(t.size,e.style),n=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(n);var s=Mr(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=e.havingStyle(i);var u=Mr(t.denom,a,e),h,d,f;t.hasBarLine?(t.barSize?(d=An(t.barSize,e),h=Ye.makeLineSpan("frac-line",e,d)):h=Ye.makeLineSpan("frac-line",e),d=h.height,f=h.height):(h=null,d=0,f=e.fontMetrics().defaultRuleThickness);var p,g,m;r.size===er.DISPLAY.size||t.size==="display"?(p=e.fontMetrics().num1,d>0?g=3*f:g=7*f,m=e.fontMetrics().denom1):(d>0?(p=e.fontMetrics().num2,g=f):(p=e.fontMetrics().num3,g=3*f),m=e.fontMetrics().denom2);var y;if(h){var b=e.fontMetrics().axisHeight;p-s.depth-(b+.5*d)<g&&(p+=g-(p-s.depth-(b+.5*d))),b-.5*d-(u.height-m)<g&&(m+=g-(b-.5*d-(u.height-m)));var x=-(b-.5*d);y=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:h,shift:x},{type:"elem",elem:s,shift:-p}]},e)}else{var v=p-s.depth-(u.height-m);v<g&&(p+=.5*(g-v),m+=.5*(g-v)),y=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:s,shift:-p}]},e)}a=e.havingStyle(r),y.height*=a.sizeMultiplier/e.sizeMultiplier,y.depth*=a.sizeMultiplier/e.sizeMultiplier;var T;r.size===er.DISPLAY.size?T=e.fontMetrics().delim1:r.size===er.SCRIPTSCRIPT.size?T=e.havingStyle(er.SCRIPT).fontMetrics().delim2:T=e.fontMetrics().delim2;var w,S;return t.leftDelim==null?w=Up(e,["mopen"]):w=Ol.customSizedDelim(t.leftDelim,T,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?S=Ye.makeSpan([]):t.rightDelim==null?S=Up(e,["mclose"]):S=Ol.customSizedDelim(t.rightDelim,T,!0,e.havingStyle(r),t.mode,["mclose"]),Ye.makeSpan(["mord"].concat(a.sizingClasses(e)),[w,Ye.makeSpan(["mfrac"],[y]),S],e)},_3=(t,e)=>{var r=new vt.MathNode("mfrac",[hn(t.numer,e),hn(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=An(t.barSize,e);r.setAttribute("linethickness",At(n))}var i=p9(t.size,e.style);if(i.size!==e.style.size){r=new vt.MathNode("mstyle",[r]);var a=i.size===er.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var o=new vt.MathNode("mo",[new vt.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),t.rightDelim!=null){var l=new vt.MathNode("mo",[new vt.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return c3(s)}return r};Mt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1],s,o=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:C3,mathmlBuilder:_3}),Mt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Mt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var g9=["display","text","script","scriptscript"],m9=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Mt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],a=lv(e[0]),s=a.type==="atom"&&a.family==="open"?m9(a.text):null,o=lv(e[1]),l=o.type==="atom"&&o.family==="close"?m9(o.text):null,u=yr(e[2],"size"),h,d=null;u.isBlank?h=!0:(d=u.value,h=d.number>0);var f="auto",p=e[3];if(p.type==="ordgroup"){if(p.body.length>0){var g=yr(p.body[0],"textord");f=g9[Number(g.text)]}}else p=yr(p,"textord"),f=g9[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:h,barSize:d,leftDelim:s,rightDelim:l,size:f}},htmlBuilder:C3,mathmlBuilder:_3}),Mt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:yr(e[0],"size").value,token:i}}}),Mt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=xoe(yr(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:C3,mathmlBuilder:_3});var y9=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?Mr(t.sup,e.havingStyle(r.sup()),e):Mr(t.sub,e.havingStyle(r.sub()),e),i=yr(t.base,"horizBrace")):i=yr(t,"horizBrace");var a=Mr(i.base,e.havingBaseStyle(er.DISPLAY)),s=Dl.svgSpan(i,e),o;if(i.isOver?(o=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Ye.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var l=Ye.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=Ye.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return Ye.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},Vle=(t,e)=>{var r=Dl.mathMLnode(t.label);return new vt.MathNode(t.isOver?"mover":"munder",[hn(t.base,e),r])};Mt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:y9,mathmlBuilder:Vle}),Mt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=yr(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:zn(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=ii(t.body,e,!1);return Ye.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Pc(t.body,e);return r instanceof ms||(r=new ms("mrow",[r])),r.setAttribute("href",t.href),r}}),Mt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=yr(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:zn(o)}}}),Mt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:zn(e[0])}},htmlBuilder(t,e){var r=ii(t.body,e,!1);return Ye.makeFragment(r)},mathmlBuilder(t,e){return new vt.MathNode("mrow",Ha(t.body,e))}}),Mt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,a=yr(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(n){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length!==2)throw new Et("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:zn(s)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=ii(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=Ye.makeSpan(n,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>Pc(t.body,e)}),Mt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:zn(e[0]),mathml:zn(e[1])}},htmlBuilder:(t,e)=>{var r=ii(t.html,e,!1);return Ye.makeFragment(r)},mathmlBuilder:(t,e)=>Pc(t.mathml,e)});var A3=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Et("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!bN(n))throw new Et("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Mt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var l=yr(r[0],"raw").string,u=l.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length===2){var f=d[1].trim();switch(d[0].trim()){case"alt":o=f;break;case"width":i=A3(f);break;case"height":a=A3(f);break;case"totalheight":s=A3(f);break;default:throw new Et("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var p=yr(e[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:n.mode,alt:o,width:i,height:a,totalheight:s,src:p}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=An(t.height,e),n=0;t.totalheight.number>0&&(n=An(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=An(t.width,e));var a={height:At(r+n)};i>0&&(a.width=At(i)),n>0&&(a.verticalAlign=At(-n));var s=new Voe(t.src,t.alt,a);return s.height=r,s.depth=n,s},mathmlBuilder:(t,e)=>{var r=new vt.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=An(t.height,e),i=0;if(t.totalheight.number>0&&(i=An(t.totalheight,e)-n,r.setAttribute("valign",At(-i))),r.setAttribute("height",At(n+i)),t.width.number>0){var a=An(t.width,e);r.setAttribute("width",At(a))}return r.setAttribute("src",t.src),r}}),Mt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=yr(e[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return Ye.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=An(t.dimension,e);return new vt.SpaceNode(r)}}),Mt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=Ye.makeSpan([],[Mr(t.body,e)]),r=Ye.makeSpan(["inner"],[r],e)):r=Ye.makeSpan(["inner"],[Mr(t.body,e)]);var n=Ye.makeSpan(["fix"],[]),i=Ye.makeSpan([t.alignment],[r,n],e),a=Ye.makeSpan(["strut"]);return a.style.height=At(i.height+i.depth),i.depth&&(a.style.verticalAlign=At(-i.depth)),i.children.unshift(a),i=Ye.makeSpan(["thinbox"],[i],e),Ye.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new vt.MathNode("mpadded",[hn(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}}),Mt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}}),Mt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Et("Mismatched "+t.funcName)}});var v9=(t,e)=>{switch(e.style.size){case er.DISPLAY.size:return t.display;case er.TEXT.size:return t.text;case er.SCRIPT.size:return t.script;case er.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Mt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:zn(e[0]),text:zn(e[1]),script:zn(e[2]),scriptscript:zn(e[3])}},htmlBuilder:(t,e)=>{var r=v9(t,e),n=ii(r,e,!1);return Ye.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=v9(t,e);return Pc(r,e)}});var b9=(t,e,r,n,i,a,s)=>{t=Ye.makeSpan([],[t]);var o=r&&Zt.isCharacterBox(r),l,u;if(e){var h=Mr(e,n.havingStyle(i.sup()),n);u={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-h.depth)}}if(r){var d=Mr(r,n.havingStyle(i.sub()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var f;if(u&&l){var p=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+s;f=Ye.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:At(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:At(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var g=t.height-s;f=Ye.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:At(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},n)}else if(u){var m=t.depth+s;f=Ye.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:At(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var y=[f];if(l&&a!==0&&!o){var v=Ye.makeSpan(["mspace"],[],n);v.style.marginRight=At(a),y.unshift(v)}return Ye.makeSpan(["mop","op-limits"],y,n)},x9=["\\smallint"],Ld=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=yr(t.base,"op"),i=!0):a=yr(t,"op");var s=e.style,o=!1;s.size===er.DISPLAY.size&&a.symbol&&!Zt.contains(x9,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",h="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(h=a.name.slice(1),a.name=h==="oiint"?"\\iint":"\\iiint"),l=Ye.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var d=l.italic,f=Ye.staticSvg(h+"Size"+(o?"2":"1"),e);l=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:o?.08:0}]},e),a.name="\\"+h,l.classes.unshift("mop"),l.italic=d}}else if(a.body){var p=ii(a.body,e,!0);p.length===1&&p[0]instanceof Ms?(l=p[0],l.classes[0]="mop"):l=Ye.makeSpan(["mop"],p,e)}else{for(var g=[],m=1;m<a.name.length;m++)g.push(Ye.mathsym(a.name[m],a.mode,e));l=Ye.makeSpan(["mop"],g,e)}var y=0,v=0;return(l instanceof Ms||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(y=(l.height-l.depth)/2-e.fontMetrics().axisHeight,v=l.italic),i?b9(l,r,n,e,s,v,y):(y&&(l.style.position="relative",l.style.top=At(y)),l)},Vp=(t,e)=>{var r;if(t.symbol)r=new ms("mo",[Ps(t.name,t.mode)]),Zt.contains(x9,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new ms("mo",Ha(t.body,e));else{r=new ms("mi",[new $o(t.name.slice(1))]);var n=new ms("mo",[Ps("⁡","text")]);t.parentIsSupSub?r=new ms("mrow",[r,n]):r=BN([r,n])}return r},qle={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Mt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=qle[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Ld,mathmlBuilder:Vp}),Mt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:zn(n)}},htmlBuilder:Ld,mathmlBuilder:Vp});var Wle={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Mt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Ld,mathmlBuilder:Vp}),Mt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Ld,mathmlBuilder:Vp}),Mt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=Wle[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Ld,mathmlBuilder:Vp});var E9=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=yr(t.base,"operatorname"),i=!0):a=yr(t,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(d=>{var f=d.text;return typeof f=="string"?{type:"textord",mode:d.mode,text:f}:d}),l=ii(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var h=l[u];h instanceof Ms&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Ye.makeSpan(["mop"],l,e)}else s=Ye.makeSpan(["mop"],[],e);return i?b9(s,r,n,e,e.style,0,0):s},Yle=(t,e)=>{for(var r=Ha(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof vt.SpaceNode))if(a instanceof vt.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof vt.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(h=>h.toText()).join("");r=[new vt.TextNode(o)]}var l=new vt.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new vt.MathNode("mo",[Ps("⁡","text")]);return t.parentIsSupSub?new vt.MathNode("mrow",[l,u]):vt.newDocumentFragment([l,u])};Mt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:zn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:E9,mathmlBuilder:Yle}),ce("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Uu({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Ye.makeFragment(ii(t.body,e,!1)):Ye.makeSpan(["mord"],ii(t.body,e,!0),e)},mathmlBuilder(t,e){return Pc(t.body,e,!0)}}),Mt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Mr(t.body,e.havingCrampedStyle()),n=Ye.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return Ye.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new vt.MathNode("mo",[new vt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new vt.MathNode("mover",[hn(t.body,e),r]);return n.setAttribute("accent","true"),n}}),Mt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:zn(n)}},htmlBuilder:(t,e)=>{var r=ii(t.body,e.withPhantom(),!1);return Ye.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=Ha(t.body,e);return new vt.MathNode("mphantom",r)}}),Mt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Ye.makeSpan([],[Mr(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),Ye.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=Ha(zn(t.body),e),n=new vt.MathNode("mphantom",r),i=new vt.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),Mt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Ye.makeSpan(["inner"],[Mr(t.body,e.withPhantom())]),n=Ye.makeSpan(["fix"],[]);return Ye.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=Ha(zn(t.body),e),n=new vt.MathNode("mphantom",r),i=new vt.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}}),Mt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=yr(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Mr(t.body,e),n=An(t.dy,e);return Ye.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new vt.MathNode("mpadded",[hn(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}}),Mt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}}),Mt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],a=yr(e[0],"size"),s=yr(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&yr(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=Ye.makeSpan(["mord","rule"],[],e),n=An(t.width,e),i=An(t.height,e),a=t.shift?An(t.shift,e):0;return r.style.borderRightWidth=At(n),r.style.borderTopWidth=At(i),r.style.bottom=At(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=An(t.width,e),n=An(t.height,e),i=t.shift?An(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new vt.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",At(r)),s.setAttribute("height",At(n));var o=new vt.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",At(i)):(o.setAttribute("height",At(i)),o.setAttribute("depth",At(-i))),o.setAttribute("voffset",At(i)),o}});function T9(t,e,r){for(var n=ii(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+e.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return Ye.makeFragment(n)}var w9=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Xle=(t,e)=>{var r=e.havingSize(t.size);return T9(t.body,r,e)};Mt({type:"sizing",names:w9,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:w9.indexOf(n)+1,body:a}},htmlBuilder:Xle,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=Ha(t.body,r),i=new vt.MathNode("mstyle",n);return i.setAttribute("mathsize",At(r.sizeMultiplier)),i}}),Mt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,a=!1,s=r[0]&&yr(r[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var h=e[0];return{type:"smash",mode:n.mode,body:h,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=Ye.makeSpan([],[Mr(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return Ye.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new vt.MathNode("mpadded",[hn(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}}),Mt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(t,e){var r=Mr(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=Ye.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,a=i;e.style.id<er.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,o=r.height+r.depth+s+i,{span:l,ruleWidth:u,advanceWidth:h}=Ol.sqrtImage(o,e),d=l.height-u;d>r.height+r.depth+s&&(s=(s+d-r.height-r.depth)/2);var f=l.height-r.height-s-u;r.style.paddingLeft=At(h);var p=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+f)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var g=e.havingStyle(er.SCRIPTSCRIPT),m=Mr(t.index,g,e),y=.6*(p.height-p.depth),v=Ye.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:m}]},e),b=Ye.makeSpan(["root"],[v]);return Ye.makeSpan(["mord","sqrt"],[b,p],e)}else return Ye.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new vt.MathNode("mroot",[hn(r,e),hn(n,e)]):new vt.MathNode("msqrt",[hn(r,e)])}});var S9={display:er.DISPLAY,text:er.TEXT,script:er.SCRIPT,scriptscript:er.SCRIPTSCRIPT};Mt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var r=S9[t.style],n=e.havingStyle(r).withFont("");return T9(t.body,n,e)},mathmlBuilder(t,e){var r=S9[t.style],n=e.havingStyle(r),i=Ha(t.body,n),a=new vt.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var Kle=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===er.DISPLAY.size||n.alwaysHandleSupSub);return i?Ld:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(r.style.size===er.DISPLAY.size||n.limits);return a?E9:null}else{if(n.type==="accent")return Zt.isCharacterBox(n.base)?f3:null;if(n.type==="horizBrace"){var s=!e.sub;return s===n.isOver?y9:null}else return null}else return null};Uu({type:"supsub",htmlBuilder(t,e){var r=Kle(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:a}=t,s=Mr(n,e),o,l,u=e.fontMetrics(),h=0,d=0,f=n&&Zt.isCharacterBox(n);if(i){var p=e.havingStyle(e.style.sup());o=Mr(i,p,e),f||(h=s.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(a){var g=e.havingStyle(e.style.sub());l=Mr(a,g,e),f||(d=s.depth+g.fontMetrics().subDrop*g.sizeMultiplier/e.sizeMultiplier)}var m;e.style===er.DISPLAY?m=u.sup1:e.style.cramped?m=u.sup3:m=u.sup2;var y=e.sizeMultiplier,v=At(.5/u.ptPerEm/y),b=null;if(l){var x=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof Ms||x)&&(b=At(-s.italic))}var T;if(o&&l){h=Math.max(h,m,o.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var w=u.defaultRuleThickness,S=4*w;if(h-o.depth-(l.height-d)<S){d=S-(h-o.depth)+l.height;var k=.8*u.xHeight-(h-o.depth);k>0&&(h+=k,d-=k)}var L=[{type:"elem",elem:l,shift:d,marginRight:v,marginLeft:b},{type:"elem",elem:o,shift:-h,marginRight:v}];T=Ye.makeVList({positionType:"individualShift",children:L},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var _=[{type:"elem",elem:l,marginLeft:b,marginRight:v}];T=Ye.makeVList({positionType:"shift",positionData:d,children:_},e)}else if(o)h=Math.max(h,m,o.depth+.25*u.xHeight),T=Ye.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var N=o3(s,"right")||"mord";return Ye.makeSpan([N],[s,Ye.makeSpan(["msupsub"],[T])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[hn(t.base,e)];t.sub&&a.push(hn(t.sub,e)),t.sup&&a.push(hn(t.sup,e));var s;if(r)s=n?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===er.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===er.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===er.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===er.DISPLAY)?s="munder":s="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===er.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===er.DISPLAY)?s="mover":s="msup"}return new vt.MathNode(s,a)}}),Uu({type:"atom",htmlBuilder(t,e){return Ye.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new vt.MathNode("mo",[Ps(t.text,t.mode)]);if(t.family==="bin"){var n=u3(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var k9={mi:"italic",mn:"normal",mtext:"normal"};Uu({type:"mathord",htmlBuilder(t,e){return Ye.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new vt.MathNode("mi",[Ps(t.text,t.mode,e)]),n=u3(t,e)||"italic";return n!==k9[r.type]&&r.setAttribute("mathvariant",n),r}}),Uu({type:"textord",htmlBuilder(t,e){return Ye.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=Ps(t.text,t.mode,e),n=u3(t,e)||"normal",i;return t.mode==="text"?i=new vt.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new vt.MathNode("mn",[r]):t.text==="\\prime"?i=new vt.MathNode("mo",[r]):i=new vt.MathNode("mi",[r]),n!==k9[i.type]&&i.setAttribute("mathvariant",n),i}});var L3={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},N3={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Uu({type:"spacing",htmlBuilder(t,e){if(N3.hasOwnProperty(t.text)){var r=N3[t.text].className||"";if(t.mode==="text"){var n=Ye.makeOrd(t,e,"textord");return n.classes.push(r),n}else return Ye.makeSpan(["mspace",r],[Ye.mathsym(t.text,t.mode,e)],e)}else{if(L3.hasOwnProperty(t.text))return Ye.makeSpan(["mspace",L3[t.text]],[],e);throw new Et('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(N3.hasOwnProperty(t.text))r=new vt.MathNode("mtext",[new vt.TextNode(" ")]);else{if(L3.hasOwnProperty(t.text))return new vt.MathNode("mspace");throw new Et('Unknown type of space "'+t.text+'"')}return r}});var C9=()=>{var t=new vt.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Uu({type:"tag",mathmlBuilder(t,e){var r=new vt.MathNode("mtable",[new vt.MathNode("mtr",[C9(),new vt.MathNode("mtd",[Pc(t.body,e)]),C9(),new vt.MathNode("mtd",[Pc(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var _9={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},A9={"\\textbf":"textbf","\\textmd":"textmd"},jle={"\\textit":"textit","\\textup":"textup"},L9=(t,e)=>{var r=t.font;if(r){if(_9[r])return e.withTextFontFamily(_9[r]);if(A9[r])return e.withTextFontWeight(A9[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(jle[r])};Mt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:zn(i),font:n}},htmlBuilder(t,e){var r=L9(t,e),n=ii(t.body,r,!0);return Ye.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=L9(t,e);return Pc(t.body,r)}}),Mt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Mr(t.body,e),n=Ye.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=Ye.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return Ye.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new vt.MathNode("mo",[new vt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new vt.MathNode("munder",[hn(t.body,e),r]);return n.setAttribute("accentunder","true"),n}}),Mt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Mr(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Ye.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new vt.MathNode("mpadded",[hn(t.body,e)],["vcenter"])}}),Mt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Et("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=N9(t),n=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(Ye.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return Ye.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Ye.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new vt.TextNode(N9(t)),n=new vt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var N9=t=>t.body.replace(/ /g,t.star?"␣":" "),Fc=ON,R9=`[ \r
	]`,Qle="\\\\[a-zA-Z@]+",Zle="\\\\[^\uD800-\uDFFF]",Jle="("+Qle+")"+R9+"*",ece=`\\\\(
|[ \r	]+
?)[ \r	]*`,R3="[̀-ͯ]",tce=new RegExp(R3+"+$"),rce="("+R9+"+)|"+(ece+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(R3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(R3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Jle)+("|"+Zle+")");let I9=class{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(rce,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Ds("EOF",new ps(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new Et("Unexpected character: '"+e[r]+"'",new Ds(e[r],new ps(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Ds(i,new ps(this,r,this.tokenRegex.lastIndex))}};class nce{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Et("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var ice=o9;ce("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}}),ce("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}}),ce("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}}),ce("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}}),ce("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}}),ce("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ce("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var D9={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ce("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Et("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=D9[e.text],n==null||n>=r)throw new Et("Invalid base-"+r+" digit "+e.text);for(var i;(i=D9[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var I3=(t,e,r,n)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Et("\\newcommand's first argument must be a macro name");var a=i[0].text,s=t.isDefined(a);if(s&&!e)throw new Et("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!r)throw new Et("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new Et("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return s&&n||t.macros.set(a,{tokens:i,numArgs:o}),""};ce("\\newcommand",t=>I3(t,!1,!0,!1)),ce("\\renewcommand",t=>I3(t,!0,!1,!1)),ce("\\providecommand",t=>I3(t,!0,!0,!0)),ce("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""}),ce("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""}),ce("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Fc[r],fn.math[r],fn.text[r]),""}),ce("\\bgroup","{"),ce("\\egroup","}"),ce("~","\\nobreakspace"),ce("\\lq","`"),ce("\\rq","'"),ce("\\aa","\\r a"),ce("\\AA","\\r A"),ce("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),ce("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ce("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),ce("ℬ","\\mathscr{B}"),ce("ℰ","\\mathscr{E}"),ce("ℱ","\\mathscr{F}"),ce("ℋ","\\mathscr{H}"),ce("ℐ","\\mathscr{I}"),ce("ℒ","\\mathscr{L}"),ce("ℳ","\\mathscr{M}"),ce("ℛ","\\mathscr{R}"),ce("ℭ","\\mathfrak{C}"),ce("ℌ","\\mathfrak{H}"),ce("ℨ","\\mathfrak{Z}"),ce("\\Bbbk","\\Bbb{k}"),ce("·","\\cdotp"),ce("\\llap","\\mathllap{\\textrm{#1}}"),ce("\\rlap","\\mathrlap{\\textrm{#1}}"),ce("\\clap","\\mathclap{\\textrm{#1}}"),ce("\\mathstrut","\\vphantom{(}"),ce("\\underbar","\\underline{\\text{#1}}"),ce("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ce("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),ce("\\ne","\\neq"),ce("≠","\\neq"),ce("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),ce("∉","\\notin"),ce("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),ce("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),ce("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),ce("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),ce("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),ce("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),ce("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),ce("⟂","\\perp"),ce("‼","\\mathclose{!\\mkern-0.8mu!}"),ce("∌","\\notni"),ce("⌜","\\ulcorner"),ce("⌝","\\urcorner"),ce("⌞","\\llcorner"),ce("⌟","\\lrcorner"),ce("©","\\copyright"),ce("®","\\textregistered"),ce("️","\\textregistered"),ce("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ce("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ce("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ce("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ce("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),ce("⋮","\\vdots"),ce("\\varGamma","\\mathit{\\Gamma}"),ce("\\varDelta","\\mathit{\\Delta}"),ce("\\varTheta","\\mathit{\\Theta}"),ce("\\varLambda","\\mathit{\\Lambda}"),ce("\\varXi","\\mathit{\\Xi}"),ce("\\varPi","\\mathit{\\Pi}"),ce("\\varSigma","\\mathit{\\Sigma}"),ce("\\varUpsilon","\\mathit{\\Upsilon}"),ce("\\varPhi","\\mathit{\\Phi}"),ce("\\varPsi","\\mathit{\\Psi}"),ce("\\varOmega","\\mathit{\\Omega}"),ce("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ce("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),ce("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ce("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ce("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ce("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),ce("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),ce("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var O9={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ce("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in O9?e=O9[r]:(r.slice(0,4)==="\\not"||r in fn.math&&Zt.contains(["bin","rel"],fn.math[r].group))&&(e="\\dotsb"),e});var D3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ce("\\dotso",function(t){var e=t.future().text;return e in D3?"\\ldots\\,":"\\ldots"}),ce("\\dotsc",function(t){var e=t.future().text;return e in D3&&e!==","?"\\ldots\\,":"\\ldots"}),ce("\\cdots",function(t){var e=t.future().text;return e in D3?"\\@cdots\\,":"\\@cdots"}),ce("\\dotsb","\\cdots"),ce("\\dotsm","\\cdots"),ce("\\dotsi","\\!\\cdots"),ce("\\dotsx","\\ldots\\,"),ce("\\DOTSI","\\relax"),ce("\\DOTSB","\\relax"),ce("\\DOTSX","\\relax"),ce("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ce("\\,","\\tmspace+{3mu}{.1667em}"),ce("\\thinspace","\\,"),ce("\\>","\\mskip{4mu}"),ce("\\:","\\tmspace+{4mu}{.2222em}"),ce("\\medspace","\\:"),ce("\\;","\\tmspace+{5mu}{.2777em}"),ce("\\thickspace","\\;"),ce("\\!","\\tmspace-{3mu}{.1667em}"),ce("\\negthinspace","\\!"),ce("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ce("\\negthickspace","\\tmspace-{5mu}{.277em}"),ce("\\enspace","\\kern.5em "),ce("\\enskip","\\hskip.5em\\relax"),ce("\\quad","\\hskip1em\\relax"),ce("\\qquad","\\hskip2em\\relax"),ce("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ce("\\tag@paren","\\tag@literal{({#1})}"),ce("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Et("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ce("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ce("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ce("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ce("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ce("\\newline","\\\\\\relax"),ce("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var M9=At(Fo["Main-Regular"][84][1]-.7*Fo["Main-Regular"][65][1]);ce("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+M9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),ce("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+M9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),ce("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ce("\\@hspace","\\hskip #1\\relax"),ce("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ce("\\ordinarycolon",":"),ce("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ce("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ce("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ce("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ce("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ce("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ce("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ce("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ce("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ce("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ce("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ce("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ce("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ce("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ce("∷","\\dblcolon"),ce("∹","\\eqcolon"),ce("≔","\\coloneqq"),ce("≕","\\eqqcolon"),ce("⩴","\\Coloneqq"),ce("\\ratio","\\vcentcolon"),ce("\\coloncolon","\\dblcolon"),ce("\\colonequals","\\coloneqq"),ce("\\coloncolonequals","\\Coloneqq"),ce("\\equalscolon","\\eqqcolon"),ce("\\equalscoloncolon","\\Eqqcolon"),ce("\\colonminus","\\coloneq"),ce("\\coloncolonminus","\\Coloneq"),ce("\\minuscolon","\\eqcolon"),ce("\\minuscoloncolon","\\Eqcolon"),ce("\\coloncolonapprox","\\Colonapprox"),ce("\\coloncolonsim","\\Colonsim"),ce("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ce("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ce("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ce("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ce("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),ce("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ce("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ce("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ce("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ce("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ce("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ce("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ce("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ce("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),ce("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),ce("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),ce("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),ce("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),ce("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),ce("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),ce("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),ce("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),ce("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),ce("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),ce("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),ce("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),ce("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),ce("\\imath","\\html@mathml{\\@imath}{ı}"),ce("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),ce("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),ce("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),ce("⟦","\\llbracket"),ce("⟧","\\rrbracket"),ce("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),ce("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),ce("⦃","\\lBrace"),ce("⦄","\\rBrace"),ce("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),ce("⦵","\\minuso"),ce("\\darr","\\downarrow"),ce("\\dArr","\\Downarrow"),ce("\\Darr","\\Downarrow"),ce("\\lang","\\langle"),ce("\\rang","\\rangle"),ce("\\uarr","\\uparrow"),ce("\\uArr","\\Uparrow"),ce("\\Uarr","\\Uparrow"),ce("\\N","\\mathbb{N}"),ce("\\R","\\mathbb{R}"),ce("\\Z","\\mathbb{Z}"),ce("\\alef","\\aleph"),ce("\\alefsym","\\aleph"),ce("\\Alpha","\\mathrm{A}"),ce("\\Beta","\\mathrm{B}"),ce("\\bull","\\bullet"),ce("\\Chi","\\mathrm{X}"),ce("\\clubs","\\clubsuit"),ce("\\cnums","\\mathbb{C}"),ce("\\Complex","\\mathbb{C}"),ce("\\Dagger","\\ddagger"),ce("\\diamonds","\\diamondsuit"),ce("\\empty","\\emptyset"),ce("\\Epsilon","\\mathrm{E}"),ce("\\Eta","\\mathrm{H}"),ce("\\exist","\\exists"),ce("\\harr","\\leftrightarrow"),ce("\\hArr","\\Leftrightarrow"),ce("\\Harr","\\Leftrightarrow"),ce("\\hearts","\\heartsuit"),ce("\\image","\\Im"),ce("\\infin","\\infty"),ce("\\Iota","\\mathrm{I}"),ce("\\isin","\\in"),ce("\\Kappa","\\mathrm{K}"),ce("\\larr","\\leftarrow"),ce("\\lArr","\\Leftarrow"),ce("\\Larr","\\Leftarrow"),ce("\\lrarr","\\leftrightarrow"),ce("\\lrArr","\\Leftrightarrow"),ce("\\Lrarr","\\Leftrightarrow"),ce("\\Mu","\\mathrm{M}"),ce("\\natnums","\\mathbb{N}"),ce("\\Nu","\\mathrm{N}"),ce("\\Omicron","\\mathrm{O}"),ce("\\plusmn","\\pm"),ce("\\rarr","\\rightarrow"),ce("\\rArr","\\Rightarrow"),ce("\\Rarr","\\Rightarrow"),ce("\\real","\\Re"),ce("\\reals","\\mathbb{R}"),ce("\\Reals","\\mathbb{R}"),ce("\\Rho","\\mathrm{P}"),ce("\\sdot","\\cdot"),ce("\\sect","\\S"),ce("\\spades","\\spadesuit"),ce("\\sub","\\subset"),ce("\\sube","\\subseteq"),ce("\\supe","\\supseteq"),ce("\\Tau","\\mathrm{T}"),ce("\\thetasym","\\vartheta"),ce("\\weierp","\\wp"),ce("\\Zeta","\\mathrm{Z}"),ce("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ce("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ce("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ce("\\bra","\\mathinner{\\langle{#1}|}"),ce("\\ket","\\mathinner{|{#1}\\rangle}"),ce("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ce("\\Bra","\\left\\langle#1\\right|"),ce("\\Ket","\\left|#1\\right\\rangle");var P9=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>f=>{t&&(f.macros.set("|",s),i.length&&f.macros.set("\\|",o));var p=d;if(!d&&i.length){var g=f.future();g.text==="|"&&(f.popToken(),p=!0)}return{tokens:p?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,h=e.expandTokens([...a,...u,...r]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};ce("\\bra@ket",P9(!1)),ce("\\bra@set",P9(!0)),ce("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),ce("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),ce("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),ce("\\angln","{\\angl n}"),ce("\\blue","\\textcolor{##6495ed}{#1}"),ce("\\orange","\\textcolor{##ffa500}{#1}"),ce("\\pink","\\textcolor{##ff00af}{#1}"),ce("\\red","\\textcolor{##df0030}{#1}"),ce("\\green","\\textcolor{##28ae7b}{#1}"),ce("\\gray","\\textcolor{gray}{#1}"),ce("\\purple","\\textcolor{##9d38bd}{#1}"),ce("\\blueA","\\textcolor{##ccfaff}{#1}"),ce("\\blueB","\\textcolor{##80f6ff}{#1}"),ce("\\blueC","\\textcolor{##63d9ea}{#1}"),ce("\\blueD","\\textcolor{##11accd}{#1}"),ce("\\blueE","\\textcolor{##0c7f99}{#1}"),ce("\\tealA","\\textcolor{##94fff5}{#1}"),ce("\\tealB","\\textcolor{##26edd5}{#1}"),ce("\\tealC","\\textcolor{##01d1c1}{#1}"),ce("\\tealD","\\textcolor{##01a995}{#1}"),ce("\\tealE","\\textcolor{##208170}{#1}"),ce("\\greenA","\\textcolor{##b6ffb0}{#1}"),ce("\\greenB","\\textcolor{##8af281}{#1}"),ce("\\greenC","\\textcolor{##74cf70}{#1}"),ce("\\greenD","\\textcolor{##1fab54}{#1}"),ce("\\greenE","\\textcolor{##0d923f}{#1}"),ce("\\goldA","\\textcolor{##ffd0a9}{#1}"),ce("\\goldB","\\textcolor{##ffbb71}{#1}"),ce("\\goldC","\\textcolor{##ff9c39}{#1}"),ce("\\goldD","\\textcolor{##e07d10}{#1}"),ce("\\goldE","\\textcolor{##a75a05}{#1}"),ce("\\redA","\\textcolor{##fca9a9}{#1}"),ce("\\redB","\\textcolor{##ff8482}{#1}"),ce("\\redC","\\textcolor{##f9685d}{#1}"),ce("\\redD","\\textcolor{##e84d39}{#1}"),ce("\\redE","\\textcolor{##bc2612}{#1}"),ce("\\maroonA","\\textcolor{##ffbde0}{#1}"),ce("\\maroonB","\\textcolor{##ff92c6}{#1}"),ce("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ce("\\maroonD","\\textcolor{##ca337c}{#1}"),ce("\\maroonE","\\textcolor{##9e034e}{#1}"),ce("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ce("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ce("\\purpleC","\\textcolor{##aa87ff}{#1}"),ce("\\purpleD","\\textcolor{##7854ab}{#1}"),ce("\\purpleE","\\textcolor{##543b78}{#1}"),ce("\\mintA","\\textcolor{##f5f9e8}{#1}"),ce("\\mintB","\\textcolor{##edf2df}{#1}"),ce("\\mintC","\\textcolor{##e0e5cc}{#1}"),ce("\\grayA","\\textcolor{##f6f7f7}{#1}"),ce("\\grayB","\\textcolor{##f0f1f2}{#1}"),ce("\\grayC","\\textcolor{##e3e5e6}{#1}"),ce("\\grayD","\\textcolor{##d6d8da}{#1}"),ce("\\grayE","\\textcolor{##babec2}{#1}"),ce("\\grayF","\\textcolor{##888d93}{#1}"),ce("\\grayG","\\textcolor{##626569}{#1}"),ce("\\grayH","\\textcolor{##3b3e40}{#1}"),ce("\\grayI","\\textcolor{##21242c}{#1}"),ce("\\kaBlue","\\textcolor{##314453}{#1}"),ce("\\kaGreen","\\textcolor{##71B307}{#1}");var B9={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class ace{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new nce(ice,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new I9(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new Ds("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Et("Extra }",a)}else if(a.text==="EOF")throw new Et("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",a);if(e&&n)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(s!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Et("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new Et("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(r&&r[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Et("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new Et("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new Et("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new Et("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ds(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new I9(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var h={tokens:l,numArgs:a};return h}return i}isDefined(e){return this.macros.has(e)||Fc.hasOwnProperty(e)||fn.math.hasOwnProperty(e)||fn.text.hasOwnProperty(e)||B9.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Fc.hasOwnProperty(e)&&!Fc[e].primitive}}var F9=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,mv=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),O3={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},$9={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let z9=class gre{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ace(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Et("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Ds("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(gre.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Fc[i.text]&&Fc[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new Et("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var a,s,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[a,e[r],s],[]):u=this.callFunction(n,[a,s],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var a;i=this.parseGroup(e)}while(((a=i)==null?void 0:a.type)==="internal");if(!i)throw new Et("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new Et("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new Et("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Et("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new Et("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(mv[a.text]){var u=F9.test(a.text),h=[];for(h.push(new Ds(mv[a.text])),this.consume();;){var d=this.fetch().text;if(!mv[d]||F9.test(d)!==u)break;h.unshift(new Ds(mv[d])),this.consume()}var f=this.subparse(h);u?i={type:"ordgroup",mode:"math",body:f}:n={type:"ordgroup",mode:"math",body:f}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,a=Fc[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new Et("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new Et("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new Et("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,n,e)}callFunction(e,r,n,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},o=Fc[e];if(o&&o.handler)return o.handler(s,r,n);throw new Et("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var o=r.argTypes&&r.argTypes[s],l=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new Et("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new Et("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new Et("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Et("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new Et("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Et("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Et("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!bN(a))throw new Et("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(e,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:ps.range(n,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!B9.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Et("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],a=i.text;a==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:ps.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:ps.range(i,e[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:ps.range(i,e[n+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Et(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}$9.hasOwnProperty(r[0])&&!fn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=$9[r[0]]+r.slice(1));var a=tce.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var s;if(fn[this.mode][r]){this.settings.strict&&this.mode==="math"&&i3.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=fn[this.mode][r].group,l=ps.range(e),u;if(Yoe.hasOwnProperty(o)){var h=o;u={type:"atom",mode:this.mode,family:h,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};s=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(fN(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:ps.range(e),text:r};else return null;if(this.consume(),a)for(var d=0;d<a[0].length;d++){var f=a[0][d];if(!O3[f])throw new Et("Unknown accent ' "+f+"'",e);var p=O3[f][this.mode]||O3[f].text;if(!p)throw new Et("Accent "+f+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:ps.range(e),label:p,isStretchy:!1,isShifty:!0,base:s}}return s}};z9.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var M3=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new z9(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Et("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new Ds("\\df@tag")])}]}return i},P3=function(e,r,n){r.textContent="";var i=yv(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),P3=function(){throw new Et("KaTeX doesn't work in quirks mode.")});var U9=function(e,r){var n=yv(e,r).toMarkup();return n},H9=function(e,r){var n=new YT(r);return M3(e,n)},G9=function(e,r,n){if(n.throwOnError||!(e instanceof Et))throw e;var i=Ye.makeSpan(["katex-error"],[new Ms(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},yv=function(e,r){var n=new YT(r);try{var i=M3(e,n);return mle(i,e,n)}catch(a){return G9(a,e,n)}},V9=function(e,r){var n=new YT(r);try{var i=M3(e,n);return yle(i,e,n)}catch(a){return G9(a,e,n)}},q9="0.16.22",W9={Span:zp,Anchor:JT,SymbolNode:Ms,SvgNode:Ll,PathNode:Oc,LineNode:e3},B3={version:q9,render:P3,renderToString:U9,ParseError:Et,SETTINGS_SCHEMA:Bp,__parse:H9,__renderToDomTree:yv,__renderToHTMLTree:V9,__setFontMetrics:mN,__defineSymbol:G,__defineFunction:Mt,__defineMacro:ce,__domTree:W9};const sce=Object.freeze(Object.defineProperty({__proto__:null,ParseError:Et,SETTINGS_SCHEMA:Bp,__defineFunction:Mt,__defineMacro:ce,__defineSymbol:G,__domTree:W9,__parse:H9,__renderToDomTree:yv,__renderToHTMLTree:V9,__setFontMetrics:mN,default:B3,get render(){return P3},renderToString:U9,version:q9},Symbol.toStringTag,{value:"Module"})),oce={};function lce(t){const e=this,r=t||oce,n=e.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(hoe(r)),a.push(noe()),s.push(ioe(r))}function cce(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function uce(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function hce(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function dce(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function fce(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function pce(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=Ed(n.toLowerCase()),a=t.footnoteOrder.indexOf(n);let s,o=t.footnoteCounts.get(n);o===void 0?(o=0,t.footnoteOrder.push(n),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function gce(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function mce(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function Y9(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function yce(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return Y9(t,e);const i={src:Ed(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function vce(t,e){const r={src:Ed(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function bce(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function xce(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return Y9(t,e);const i={href:Ed(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Ece(t,e){const r={href:Ed(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Tce(t,e,r){const n=t.all(e),i=r?wce(r):X9(e),a={},s=[];if(typeof e.checked=="boolean"){const h=n[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const h=n[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,u),t.applyData(e,u)}function wce(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=X9(r[n])}return e}function X9(t){const e=t.spread;return e??t.children.length>1}function Sce(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,a),t.applyData(e,a)}function kce(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Cce(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function _ce(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const vv=K9("end"),Ml=K9("start");function K9(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Ace(t){const e=Ml(t),r=vv(t);if(e&&r)return{start:e,end:r}}function Lce(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},o=Ml(e.children[1]),l=vv(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Nce(t,e,r){const n=r?r.children:void 0,a=(n?n.indexOf(e):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const d=e.children[l],f={},p=s?s[l]:void 0;p&&(f.align=p);let g={type:"element",tagName:a,properties:f,children:[]};d&&(g.children=t.all(d),t.patch(d,g),g=t.applyData(d,g)),u.push(g)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,h),t.applyData(e,h)}function Rce(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const j9=9,Q9=32;function Ice(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const a=[];for(;n;)a.push(Z9(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return a.push(Z9(e.slice(i),i>0,!1)),a.join("")}function Z9(t,e,r){let n=0,i=t.length;if(e){let a=t.codePointAt(n);for(;a===j9||a===Q9;)n++,a=t.codePointAt(n)}if(r){let a=t.codePointAt(i-1);for(;a===j9||a===Q9;)i--,a=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function Dce(t,e){const r={type:"text",value:Ice(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function Oce(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const Mce={blockquote:cce,break:uce,code:hce,delete:dce,emphasis:fce,footnoteReference:pce,heading:gce,html:mce,imageReference:yce,image:vce,inlineCode:bce,linkReference:xce,link:Ece,listItem:Tce,list:Sce,paragraph:kce,root:Cce,strong:_ce,table:Lce,tableCell:Rce,tableRow:Nce,text:Dce,thematicBreak:Oce,toml:bv,yaml:bv,definition:bv,footnoteDefinition:bv};function bv(){}const J9=-1,xv=0,qp=1,Ev=2,F3=3,$3=4,z3=5,U3=6,eR=7,tR=8,rR=typeof self=="object"?self:globalThis,Pce=(t,e)=>{const r=(i,a)=>(t.set(a,i),i),n=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case xv:case J9:return r(s,i);case qp:{const o=r([],i);for(const l of s)o.push(n(l));return o}case Ev:{const o=r({},i);for(const[l,u]of s)o[n(l)]=n(u);return o}case F3:return r(new Date(s),i);case $3:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case z3:{const o=r(new Map,i);for(const[l,u]of s)o.set(n(l),n(u));return o}case U3:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case eR:{const{name:o,message:l}=s;return r(new rR[o](l),i)}case tR:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new rR[a](s),i)};return n},nR=t=>Pce(new Map,t)(0),Nd="",{toString:Bce}={},{keys:Fce}=Object,Wp=t=>{const e=typeof t;if(e!=="object"||!t)return[xv,e];const r=Bce.call(t).slice(8,-1);switch(r){case"Array":return[qp,Nd];case"Object":return[Ev,Nd];case"Date":return[F3,Nd];case"RegExp":return[$3,Nd];case"Map":return[z3,Nd];case"Set":return[U3,Nd];case"DataView":return[qp,r]}return r.includes("Array")?[qp,r]:r.includes("Error")?[eR,r]:[Ev,r]},Tv=([t,e])=>t===xv&&(e==="function"||e==="symbol"),$ce=(t,e,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=Wp(s);switch(o){case xv:{let h=s;switch(l){case"bigint":o=tR,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([J9],s)}return i([o,h],s)}case qp:{if(l){let f=s;return l==="DataView"?f=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(s)),i([l,[...f]],s)}const h=[],d=i([o,h],s);for(const f of s)h.push(a(f));return d}case Ev:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],d=i([o,h],s);for(const f of Fce(s))(t||!Tv(Wp(s[f])))&&h.push([a(f),a(s[f])]);return d}case F3:return i([o,s.toISOString()],s);case $3:{const{source:h,flags:d}=s;return i([o,{source:h,flags:d}],s)}case z3:{const h=[],d=i([o,h],s);for(const[f,p]of s)(t||!(Tv(Wp(f))||Tv(Wp(p))))&&h.push([a(f),a(p)]);return d}case U3:{const h=[],d=i([o,h],s);for(const f of s)(t||!Tv(Wp(f)))&&h.push(a(f));return d}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},iR=(t,{json:e,lossy:r}={})=>{const n=[];return $ce(!(e||r),!!e,new Map,n)(t),n},Rd=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?nR(iR(t,e)):structuredClone(t):(t,e)=>nR(iR(t,e));function zce(t,e){const r=[{type:"text",value:"↩"}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function Uce(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Hce(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||zce,n=t.options.footnoteBackLabel||Uce,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const h=t.all(u),d=String(u.identifier).toUpperCase(),f=Ed(d.toLowerCase());let p=0;const g=[],m=t.footnoteCounts.get(d);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let b=typeof r=="string"?r:r(l,p);typeof b=="string"&&(b={type:"text",value:b}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=h[h.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...g)}else h.push(...g);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(h,!0)};t.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Rd(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const H3={}.hasOwnProperty,Gce={};function Vce(t,e){const r=e||Gce,n=new Map,i=new Map,a=new Map,s={...Mce,...r.handlers},o={all:u,applyData:Wce,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch:qce,wrap:Xce};return Pp(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?n:i,f=String(h.identifier).toUpperCase();d.has(f)||d.set(f,h)}}),o;function l(h,d){const f=h.type,p=o.handlers[f];if(H3.call(o.handlers,f)&&p)return p(o,h,d);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in h){const{children:m,...y}=h,v=Rd(y);return v.children=o.all(h),v}return Rd(h)}return(o.options.unknownHandler||Yce)(o,h,d)}function u(h){const d=[];if("children"in h){const f=h.children;let p=-1;for(;++p<f.length;){const g=o.one(f[p],h);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=aR(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=aR(m.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function qce(t,e){t.position&&(e.position=Ace(t))}function Wce(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,Rd(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Yce(t,e){const r=e.data||{},n="value"in e&&!(H3.call(r,"hProperties")||H3.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xce(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function aR(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function sR(t,e){const r=Vce(t,e),n=r.one(t,void 0),i=Hce(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Kce(t,e){return t&&"run"in t?async function(r,n){const i=sR(r,{file:n,...e});await t.run(i,n)}:function(r,n){return sR(r,{file:n,...t||e})}}let Yp=class{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}};Yp.prototype.normal={},Yp.prototype.property={},Yp.prototype.space=void 0;function oR(t,e){const r={},n={};for(const i of t)Object.assign(r,i.property),Object.assign(n,i.normal);return new Yp(r,n,e)}function Xp(t){return t.toLowerCase()}let Ga=class{constructor(e,r){this.attribute=r,this.property=e}};Ga.prototype.attribute="",Ga.prototype.booleanish=!1,Ga.prototype.boolean=!1,Ga.prototype.commaOrSpaceSeparated=!1,Ga.prototype.commaSeparated=!1,Ga.prototype.defined=!1,Ga.prototype.mustUseProperty=!1,Ga.prototype.number=!1,Ga.prototype.overloadedBoolean=!1,Ga.prototype.property="",Ga.prototype.spaceSeparated=!1,Ga.prototype.space=void 0;let jce=0;const vr=Hu(),jn=Hu(),G3=Hu(),wt=Hu(),pn=Hu(),Id=Hu(),ys=Hu();function Hu(){return 2**++jce}const V3=Object.freeze(Object.defineProperty({__proto__:null,boolean:vr,booleanish:jn,commaOrSpaceSeparated:ys,commaSeparated:Id,number:wt,overloadedBoolean:G3,spaceSeparated:pn},Symbol.toStringTag,{value:"Module"})),q3=Object.keys(V3);let W3=class extends Ga{constructor(e,r,n,i){let a=-1;if(super(e,r),lR(this,"space",i),typeof n=="number")for(;++a<q3.length;){const s=q3[a];lR(this,q3[a],(n&V3[s])===V3[s])}}};W3.prototype.defined=!0;function lR(t,e,r){r&&(t[e]=r)}function Dd(t){const e={},r={};for(const[n,i]of Object.entries(t.properties)){const a=new W3(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),e[n]=a,r[Xp(n)]=n,r[Xp(a.attribute)]=n}return new Yp(e,r,t.space)}const cR=Dd({properties:{ariaActiveDescendant:null,ariaAtomic:jn,ariaAutoComplete:null,ariaBusy:jn,ariaChecked:jn,ariaColCount:wt,ariaColIndex:wt,ariaColSpan:wt,ariaControls:pn,ariaCurrent:null,ariaDescribedBy:pn,ariaDetails:null,ariaDisabled:jn,ariaDropEffect:pn,ariaErrorMessage:null,ariaExpanded:jn,ariaFlowTo:pn,ariaGrabbed:jn,ariaHasPopup:null,ariaHidden:jn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pn,ariaLevel:wt,ariaLive:null,ariaModal:jn,ariaMultiLine:jn,ariaMultiSelectable:jn,ariaOrientation:null,ariaOwns:pn,ariaPlaceholder:null,ariaPosInSet:wt,ariaPressed:jn,ariaReadOnly:jn,ariaRelevant:null,ariaRequired:jn,ariaRoleDescription:pn,ariaRowCount:wt,ariaRowIndex:wt,ariaRowSpan:wt,ariaSelected:jn,ariaSetSize:wt,ariaSort:null,ariaValueMax:wt,ariaValueMin:wt,ariaValueNow:wt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function uR(t,e){return e in t?t[e]:e}function hR(t,e){return uR(t,e.toLowerCase())}const Qce=Dd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Id,acceptCharset:pn,accessKey:pn,action:null,allow:null,allowFullScreen:vr,allowPaymentRequest:vr,allowUserMedia:vr,alt:null,as:null,async:vr,autoCapitalize:null,autoComplete:pn,autoFocus:vr,autoPlay:vr,blocking:pn,capture:null,charSet:null,checked:vr,cite:null,className:pn,cols:wt,colSpan:null,content:null,contentEditable:jn,controls:vr,controlsList:pn,coords:wt|Id,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vr,defer:vr,dir:null,dirName:null,disabled:vr,download:G3,draggable:jn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vr,formTarget:null,headers:pn,height:wt,hidden:G3,high:wt,href:null,hrefLang:null,htmlFor:pn,httpEquiv:pn,id:null,imageSizes:null,imageSrcSet:null,inert:vr,inputMode:null,integrity:null,is:null,isMap:vr,itemId:null,itemProp:pn,itemRef:pn,itemScope:vr,itemType:pn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vr,low:wt,manifest:null,max:null,maxLength:wt,media:null,method:null,min:null,minLength:wt,multiple:vr,muted:vr,name:null,nonce:null,noModule:vr,noValidate:vr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vr,optimum:wt,pattern:null,ping:pn,placeholder:null,playsInline:vr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vr,referrerPolicy:null,rel:pn,required:vr,reversed:vr,rows:wt,rowSpan:wt,sandbox:pn,scope:null,scoped:vr,seamless:vr,selected:vr,shadowRootClonable:vr,shadowRootDelegatesFocus:vr,shadowRootMode:null,shape:null,size:wt,sizes:null,slot:null,span:wt,spellCheck:jn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:wt,step:null,style:null,tabIndex:wt,target:null,title:null,translate:null,type:null,typeMustMatch:vr,useMap:null,value:jn,width:wt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pn,axis:null,background:null,bgColor:null,border:wt,borderColor:null,bottomMargin:wt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vr,declare:vr,event:null,face:null,frame:null,frameBorder:null,hSpace:wt,leftMargin:wt,link:null,longDesc:null,lowSrc:null,marginHeight:wt,marginWidth:wt,noResize:vr,noHref:vr,noShade:vr,noWrap:vr,object:null,profile:null,prompt:null,rev:null,rightMargin:wt,rules:null,scheme:null,scrolling:jn,standby:null,summary:null,text:null,topMargin:wt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:wt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vr,disableRemotePlayback:vr,prefix:null,property:null,results:wt,security:null,unselectable:null},space:"html",transform:hR}),Zce=Dd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ys,accentHeight:wt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:wt,amplitude:wt,arabicForm:null,ascent:wt,attributeName:null,attributeType:null,azimuth:wt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:wt,by:null,calcMode:null,capHeight:wt,className:pn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:wt,diffuseConstant:wt,direction:null,display:null,dur:null,divisor:wt,dominantBaseline:null,download:vr,dx:null,dy:null,edgeMode:null,editable:null,elevation:wt,enableBackground:null,end:null,event:null,exponent:wt,externalResourcesRequired:null,fill:null,fillOpacity:wt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Id,g2:Id,glyphName:Id,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:wt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:wt,horizOriginX:wt,horizOriginY:wt,id:null,ideographic:wt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:wt,k:wt,k1:wt,k2:wt,k3:wt,k4:wt,kernelMatrix:ys,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:wt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:wt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:wt,overlineThickness:wt,paintOrder:null,panose1:null,path:null,pathLength:wt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:wt,pointsAtY:wt,pointsAtZ:wt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ys,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ys,rev:ys,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ys,requiredFeatures:ys,requiredFonts:ys,requiredFormats:ys,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:wt,specularExponent:wt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:wt,strikethroughThickness:wt,string:null,stroke:null,strokeDashArray:ys,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:wt,strokeOpacity:wt,strokeWidth:null,style:null,surfaceScale:wt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ys,tabIndex:wt,tableValues:null,target:null,targetX:wt,targetY:wt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ys,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:wt,underlineThickness:wt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:wt,values:null,vAlphabetic:wt,vMathematical:wt,vectorEffect:null,vHanging:wt,vIdeographic:wt,version:null,vertAdvY:wt,vertOriginX:wt,vertOriginY:wt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:wt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:uR}),dR=Dd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),fR=Dd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:hR}),pR=Dd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Jce=/[A-Z]/g,gR=/-[a-z]/g,eue=/^data[-\w.:]+$/i;function Y3(t,e){const r=Xp(e);let n=e,i=Ga;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&eue.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(gR,rue);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!gR.test(a)){let s=a.replace(Jce,tue);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=W3}return new i(n,e)}function tue(t){return"-"+t.toLowerCase()}function rue(t){return t.charAt(1).toUpperCase()}const wv=oR([cR,Qce,dR,fR,pR],"html"),Kp=oR([cR,Zce,dR,fR,pR],"svg");function mR(t){const e=[],r=String(t||"");let n=r.indexOf(","),i=0,a=!1;for(;!a;){n===-1&&(n=r.length,a=!0);const s=r.slice(i,n).trim();(s||!a)&&e.push(s),i=n+1,n=r.indexOf(",",i)}return e}function yR(t,e){const r=e||{};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const vR=/[#.]/g;function nue(t,e){const r=t||"",n={};let i=0,a,s;for(;i<r.length;){vR.lastIndex=i;const o=vR.exec(r),l=r.slice(i,o?o.index:r.length);l&&(a?a==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:s=l,i+=l.length),o&&(a=o[0],i++)}return{type:"element",tagName:s||e||"div",properties:n,children:[]}}function Sv(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function bR(t){return t.join(" ").trim()}function xR(t,e,r){const n=r?oue(r):void 0;function i(a,s,...o){let l;if(a==null){l={type:"root",children:[]};const u=s;o.unshift(u)}else{l=nue(a,e);const u=l.tagName.toLowerCase(),h=n?n.get(u):void 0;if(l.tagName=h||u,iue(s))o.unshift(s);else for(const[d,f]of Object.entries(s))aue(t,l.properties,d,f)}for(const u of o)X3(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function iue(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,r=Object.keys(t);for(const n of r){const i=e[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const a=i;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function aue(t,e,r,n){const i=Y3(t,r);let a;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;a=n}else typeof n=="boolean"?a=n:typeof n=="string"?i.spaceSeparated?a=Sv(n):i.commaSeparated?a=mR(n):i.commaOrSpaceSeparated?a=Sv(mR(n).join(" ")):a=ER(i,i.property,n):Array.isArray(n)?a=[...n]:a=i.property==="style"?sue(n):String(n);if(Array.isArray(a)){const s=[];for(const o of a)s.push(ER(i,i.property,o));a=s}i.property==="className"&&Array.isArray(e.className)&&(a=e.className.concat(a)),e[i.property]=a}}function X3(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const r of e)X3(t,r);else if(typeof e=="object"&&"type"in e)e.type==="root"?X3(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function ER(t,e,r){if(typeof r=="string"){if(t.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((t.boolean||t.overloadedBoolean)&&(r===""||Xp(r)===Xp(e)))return!0}return r}function sue(t){const e=[];for(const[r,n]of Object.entries(t))e.push([r,n].join(": "));return e.join("; ")}function oue(t){const e=new Map;for(const r of t)e.set(r.toLowerCase(),r);return e}const lue=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Gu=xR(wv,"div"),TR=xR(Kp,"g",lue),Go={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cue(t,e){return wR(t,{})||{type:"root",children:[]}}function wR(t,e){const r=uue(t,e);return r&&e.afterTransform&&e.afterTransform(t,r),r}function uue(t,e){switch(t.nodeType){case 1:return pue(t,e);case 3:return due(t);case 8:return fue(t);case 9:return SR(t,e);case 10:return hue();case 11:return SR(t,e);default:return}}function SR(t,e){return{type:"root",children:kR(t,e)}}function hue(){return{type:"doctype"}}function due(t){return{type:"text",value:t.nodeValue||""}}function fue(t){return{type:"comment",value:t.nodeValue||""}}function pue(t,e){const r=t.namespaceURI,n=r===Go.svg?TR:Gu,i=r===Go.html?t.tagName.toLowerCase():t.tagName,a=r===Go.html&&i==="template"?t.content:t,s=t.getAttributeNames(),o={};let l=-1;for(;++l<s.length;)o[s[l]]=t.getAttribute(s[l])||"";return n(i,o,kR(a,e))}function kR(t,e){const r=t.childNodes,n=[];let i=-1;for(;++i<r.length;){const a=wR(r[i],e);a!==void 0&&n.push(a)}return n}const gue=new DOMParser;function CR(t,e){const r=e!=null&&e.fragment?mue(t):gue.parseFromString(t,"text/html");return cue(r)}function mue(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const _R=function(t,e,r){const n=wd(r);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(n(t.children[e],e,t))return t.children[e]},K3=function(t,e,r,n,i){const a=co(e);return AR(t)?a.call(i,t,r,n):!1},co=function(t){if(t==null)return bue;if(typeof t=="string")return vue(t);if(typeof t=="object")return yue(t);if(typeof t=="function")return j3(t);throw new Error("Expected function, string, or array as `test`")};function yue(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=co(t[r]);return j3(n);function n(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function vue(t){return j3(e);function e(r){return r.tagName===t}}function j3(t){return e;function e(r,n,i){return!!(AR(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function bue(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function AR(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const LR=/\n/g,NR=/[\t ]+/g,Q3=co("br"),RR=co(Cue),xue=co("p"),IR=co("tr"),Eue=co(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",kue,_ue]),DR=co(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Z3(t,e){const r=e||{},n="children"in t?t.children:[],i=DR(t),a=PR(t,{whitespace:r.whitespace||"normal"}),s=[];(t.type==="text"||t.type==="comment")&&s.push(...MR(t,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)s.push(...OR(n[o],t,{whitespace:a,breakBefore:o?void 0:i,breakAfter:o<n.length-1?Q3(n[o+1]):i}));const l=[];let u;for(o=-1;++o<s.length;){const h=s[o];typeof h=="number"?u!==void 0&&h>u&&(u=h):h&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(h))}return l.join("")}function OR(t,e,r){return t.type==="element"?Tue(t,e,r):t.type==="text"?r.whitespace==="normal"?MR(t,r):wue(t):[]}function Tue(t,e,r){const n=PR(t,r),i=t.children||[];let a=-1,s=[];if(Eue(t))return s;let o,l;for(Q3(t)||IR(t)&&_R(e,t,IR)?l=`
`:xue(t)?(o=2,l=2):DR(t)&&(o=1,l=1);++a<i.length;)s=s.concat(OR(i[a],t,{whitespace:n,breakBefore:a?void 0:o,breakAfter:a<i.length-1?Q3(i[a+1]):l}));return RR(t)&&_R(e,t,RR)&&s.push("	"),o&&s.unshift(o),l&&s.push(l),s}function MR(t,e){const r=String(t.value),n=[],i=[];let a=0;for(;a<=r.length;){LR.lastIndex=a;const l=LR.exec(r),u=l&&"index"in l?l.index:r.length;n.push(Sue(r.slice(a,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?e.breakBefore:!0,u===r.length?e.breakAfter:!0)),a=u+1}let s=-1,o;for(;++s<n.length;)n[s].charCodeAt(n[s].length-1)===8203||s<n.length-1&&n[s+1].charCodeAt(0)===8203?(i.push(n[s]),o=void 0):n[s]?(typeof o=="number"&&i.push(o),i.push(n[s]),o=0):(s===0||s===n.length-1)&&i.push(0);return i}function wue(t){return[String(t.value)]}function Sue(t,e,r){const n=[];let i=0,a;for(;i<t.length;){NR.lastIndex=i;const s=NR.exec(t);a=s?s.index:t.length,!i&&!a&&s&&!e&&n.push(""),i!==a&&n.push(t.slice(i,a)),i=s?a+s[0].length:a}return i!==a&&!r&&n.push(""),n.join(" ")}function PR(t,e){if(t.type==="element"){const r=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function kue(t){return!!(t.properties||{}).hidden}function Cue(t){return t.tagName==="td"||t.tagName==="th"}function _ue(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const Aue={},Lue=[];function Nue(t){const e=t||Aue;return function(r,n){Op(r,"element",function(i,a){const s=Array.isArray(i.properties.className)?i.properties.className:Lue,o=s.includes("language-math"),l=s.includes("math-display"),u=s.includes("math-inline");let h=l;if(!o&&!l&&!u)return;let d=a[a.length-1],f=i;if(i.tagName==="code"&&o&&d&&d.type==="element"&&d.tagName==="pre"&&(f=d,d=a[a.length-2],h=!0),!d)return;const p=Z3(f,{whitespace:"pre"});let g;try{g=B3.renderToString(p,{...e,displayMode:h,throwOnError:!0})}catch(y){const v=y,b=v.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...a,i],cause:v,place:i.position,ruleId:b,source:"rehype-katex"});try{g=B3.renderToString(p,{...e,displayMode:h,strict:"ignore",throwOnError:!1})}catch{g=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(y)},children:[{type:"text",value:p}]}]}}typeof g=="string"&&(g=CR(g,{fragment:!0}).children);const m=d.children.indexOf(f);return d.children.splice(m,1,...g),BT})}}function Rue(t){const e=t.regex,r=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+n+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],v=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],T={type:m,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},w={className:"function.dispatch",relevance:0,keywords:{_hint:v},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},S=[w,d,o,r,t.C_BLOCK_COMMENT_MODE,h,u],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:S.concat([{begin:/\(/,end:/\)/,keywords:T,contains:S.concat(["self"]),relevance:0}]),relevance:0},L={className:"function",begin:"("+s+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:T,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,h]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[r,t.C_BLOCK_COMMENT_MODE,u,h,o,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",r,t.C_BLOCK_COMMENT_MODE,u,h,o]}]},o,r,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:T,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(k,L,w,S,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:T,contains:["self",o]},{begin:t.IDENT_RE+"::",keywords:T},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Iue(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},r=Rue(t),n=r.keywords;return n.type=[...n.type,...e.type],n.literal=[...n.literal,...e.literal],n.built_in=[...n.built_in,...e.built_in],n._hints=e._hints,r.name="Arduino",r.aliases=["ino"],r.supersetOf="cpp",r}function Due(t){const e=t.regex,r={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},a=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,r,i]};i.contains.push(o);const l={match:/\\"/},u={className:"string",begin:/'/,end:/'/},h={match:/\\'/},d={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,r]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=t.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),g={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},m=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],y=["true","false"],v={match:/(\/[a-z._-]+)+/},b=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],x=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],T=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],w=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:m,literal:y,built_in:[...b,...x,"set","shopt",...T,...w]},contains:[p,t.SHEBANG(),g,d,a,s,v,o,l,u,h,r]}}function Oue(t){const e=t.regex,r=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="("+n+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",y={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},v=[d,o,r,t.C_BLOCK_COMMENT_MODE,h,u],b={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:v.concat([{begin:/\(/,end:/\)/,keywords:y,contains:v.concat(["self"]),relevance:0}]),relevance:0},x={begin:"("+s+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:y,relevance:0},{begin:p,returnBegin:!0,contains:[t.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[r,t.C_BLOCK_COMMENT_MODE,u,h,o,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",r,t.C_BLOCK_COMMENT_MODE,u,h,o]}]},o,r,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:y,disableAutodetect:!0,illegal:"</",contains:[].concat(b,x,v,[d,{begin:t.IDENT_RE+"::",keywords:y},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:d,strings:u,keywords:y}}}function Mue(t){const e=t.regex,r=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+n+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],v=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],T={type:m,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},w={className:"function.dispatch",relevance:0,keywords:{_hint:v},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},S=[w,d,o,r,t.C_BLOCK_COMMENT_MODE,h,u],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:S.concat([{begin:/\(/,end:/\)/,keywords:T,contains:S.concat(["self"]),relevance:0}]),relevance:0},L={className:"function",begin:"("+s+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:T,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,h]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[r,t.C_BLOCK_COMMENT_MODE,u,h,o,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",r,t.C_BLOCK_COMMENT_MODE,u,h,o]}]},o,r,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:T,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(k,L,w,S,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:T,contains:["self",o]},{begin:t.IDENT_RE+"::",keywords:T},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Pue(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],n=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],a=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],s={keyword:i.concat(a),built_in:e,literal:n},o=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},h={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},d=t.inherit(h,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:s},p=t.inherit(f,{illegal:/\n/}),g={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,p]},m={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},y=t.inherit(m,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});f.contains=[m,g,h,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.C_BLOCK_COMMENT_MODE],p.contains=[y,g,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const v={variants:[u,m,g,h,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},b={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},x=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",T={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:s,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},v,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,b,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,b,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+x+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:s,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,b],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,relevance:0,contains:[v,l,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},T]}}const Bue=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Fue=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],$ue=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],zue=[...Fue,...$ue],Uue=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Hue=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Gue=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Vue=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function que(t){const e=t.regex,r=Bue(t),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",a=/@-?\w[\w]*(-\w+)*/,s="[a-zA-Z-][a-zA-Z0-9_-]*",o=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,n,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+s,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Hue.join("|")+")"},{begin:":(:)?("+Gue.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Vue.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Uue.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+zue.join("|")+")\\b"}]}}function Wue(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function Yue(t){const a={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:a,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:a,illegal:/["']/}]}]}}function Xue(t){const e=t.regex,r=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(r,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Kue(t){const e=t.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},n=t.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},a={className:"literal",begin:/\bon|off|true|false|yes|no\b/},s={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[n,a,i,s,r,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,h=/'[^']*'/,d=e.either(l,u,h),f=e.concat(d,"(\\s*\\.\\s*",d,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[n,o,a,i,s,r]}}]}}var Od="[0-9](_*[0-9])*",kv=`\\.(${Od})`,Cv="[0-9a-fA-F](_*[0-9a-fA-F])*",BR={className:"number",variants:[{begin:`(\\b(${Od})((${kv})|\\.)?|(${kv}))[eE][+-]?(${Od})[fFdD]?\\b`},{begin:`\\b(${Od})((${kv})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${kv})[fFdD]?\\b`},{begin:`\\b(${Od})[fFdD]\\b`},{begin:`\\b0[xX]((${Cv})\\.?|(${Cv})?\\.(${Cv}))[pP][+-]?(${Od})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Cv})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function FR(t,e,r){return r===-1?"":t.replace(e,n=>FR(t,e,r-1))}function jue(t){const e=t.regex,r="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",n=r+FR("(?:<"+r+"~~~(?:\\s*,\\s*"+r+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+r,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},h={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,r),/\s+/,r,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,r],className:{1:"keyword",3:"title.class"},contains:[h,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,BR,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},BR,u]}}const $R="[A-Za-z$_][0-9A-Za-z$_]*",Que=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Zue=["true","false","null","undefined","NaN","Infinity"],zR=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],UR=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],HR=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Jue=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ehe=[].concat(HR,zR,UR);function the(t){const e=t.regex,r=(I,{after:F})=>{const B="</"+I[0].slice(1);return I.input.indexOf(B,F)!==-1},n=$R,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,F)=>{const B=I[0].length+I.index,$=I.input[B];if($==="<"||$===","){F.ignoreMatch();return}$===">"&&(r(I,{after:B})||F.ignoreMatch());let V;const H=I.input.substring(B);if(V=H.match(/^\s*=/)){F.ignoreMatch();return}if((V=H.match(/^\s+extends\s+/))&&V.index===0){F.ignoreMatch();return}}},o={$pattern:$R,keyword:Que,literal:Zue,built_in:ehe,"variable.language":Jue},l="[0-9](_?[0-9])*",u=`\\.(${l})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${h})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${h})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},b={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},x=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,g,m,y,{match:/\$\d+/},d];f.contains=x.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(x)});const T=[].concat(b,f.contains),w=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(T)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w},k={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},L={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...zR,...UR]}},_={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},C={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function D(I){return e.concat("(?!",I.join("|"),")")}const P={match:e.concat(/\b/,D([...HR,"super","import"].map(I=>`${I}\\s*\\(`)),n,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},A={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},R={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:L},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),_,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,g,m,y,b,{match:/\$\d+/},d,L,{scope:"attr",match:n+e.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,t.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},A,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},P,C,k,R,{match:/\$[(.]/}]}}function rhe(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],i={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:n},contains:[e,r,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Md="[0-9](_*[0-9])*",_v=`\\.(${Md})`,Av="[0-9a-fA-F](_*[0-9a-fA-F])*",nhe={className:"number",variants:[{begin:`(\\b(${Md})((${_v})|\\.)?|(${_v}))[eE][+-]?(${Md})[fFdD]?\\b`},{begin:`\\b(${Md})((${_v})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${_v})[fFdD]?\\b`},{begin:`\\b(${Md})[fFdD]\\b`},{begin:`\\b0[xX]((${Av})\\.?|(${Av})?\\.(${Av}))[pP][+-]?(${Md})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Av})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function ihe(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},a={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},s={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[a,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,a,i]}]};i.contains.push(s);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(s,{className:"string"}),"self"]}]},u=nhe,h=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=d;return f.variants[1].contains=[d],d.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,h,r,n,o,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,t.C_LINE_COMMENT_MODE,h],relevance:0},t.C_LINE_COMMENT_MODE,h,o,l,s,t.C_NUMBER_MODE]},h]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,l]},s,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const ahe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),she=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ohe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],lhe=[...she,...ohe],che=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),GR=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),VR=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),uhe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),hhe=GR.concat(VR).sort().reverse();function dhe(t){const e=ahe(t),r=hhe,n="and or not only",i="[\\w-]+",a="("+i+"|@\\{"+i+"\\})",s=[],o=[],l=function(x){return{className:"string",begin:"~?"+x+".*?"+x}},u=function(x,T,w){return{className:x,begin:T,relevance:w}},h={$pattern:/[a-z-]+/,keyword:n,attribute:che.join(" ")},d={begin:"\\(",end:"\\)",contains:o,keywords:h,relevance:0};o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,l("'"),l('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,d,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const f=o.concat({begin:/\{/,end:/\}/,contains:s}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},g={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+uhe.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},m={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:h,returnEnd:!0,contains:o,relevance:0}},y={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:f}},v={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,p,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+lhe.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,u("selector-tag",a,0),u("selector-id","#"+a),u("selector-class","\\."+a,0),u("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+GR.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+VR.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},e.FUNCTION_DISPATCH]},b={begin:i+`:(:)?(${r.join("|")})`,returnBegin:!0,contains:[v]};return s.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,m,y,b,g,v,p,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:s}}function fhe(t){const e="\\[=*\\[",r="\\]=*\\]",n={begin:e,end:r,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,r,{contains:[n],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:r,contains:[n],relevance:5}])}}function phe(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,r]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},a={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},s={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,r,n,i,a,s]}}function ghe(t){const e=t.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},a={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},s={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},h={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=t.inherit(u,{contains:[]}),f=t.inherit(h,{contains:[]});u.contains.push(f),h.contains.push(d);let p=[r,l];return[u,h,d,f].forEach(v=>{v.contains=v.contains.concat(p)}),p=p.concat(u,h),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},r,a,u,h,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,n,l,s,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function mhe(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:r,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function yhe(t){const e=t.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],n=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:r.join(" ")},a={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},s={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},h=[t.BACKSLASH_ESCAPE,a,l],d=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(m,y,v="\\1")=>{const b=v==="\\1"?v:e.concat(v,y);return e.concat(e.concat("(?:",m,")"),y,/(?:\\.|[^\\\/])*?/,b,/(?:\\.|[^\\\/])*?/,v,n)},p=(m,y,v)=>e.concat(e.concat("(?:",m,")"),y,/(?:\\.|[^\\\/])*?/,v,n),g=[l,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),s,{className:"string",contains:h,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",e.either(...d,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",e.either(...d,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,o,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return a.contains=g,s.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:g}}function vhe(t){const e=t.regex,r=/(?![A-Za-z0-9])(?![$])/,n=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),a=e.concat(/[A-Z]+/,r),s={scope:"variable",match:"\\$+"+n},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=t.inherit(t.APOS_STRING_MODE,{illegal:null}),h=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(A,R)=>{R.data._beginMatch=A[1]||A[2]},"on:end":(A,R)=>{R.data._beginMatch!==A[1]&&R.ignoreMatch()}},f=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,g={scope:"string",variants:[h,u,d,f]},m={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},y=["false","null","true"],v=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],b=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],T={keyword:v,literal:(A=>{const R=[];return A.forEach(O=>{R.push(O),O.toLowerCase()===O?R.push(O.toUpperCase()):R.push(O.toLowerCase())}),R})(y),built_in:b},w=A=>A.map(R=>R.replace(/\|\d+$/,"")),S={variants:[{match:[/new/,e.concat(p,"+"),e.concat("(?!",w(b).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},k=e.concat(n,"\\b(?!\\()"),L={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),k],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),k],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},_={scope:"attr",match:e.concat(n,e.lookahead(":"),e.lookahead(/(?!::)/))},N={relevance:0,begin:/\(/,end:/\)/,keywords:T,contains:[_,s,L,t.C_BLOCK_COMMENT_MODE,g,m,S]},C={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",w(v).join("\\b|"),"|",w(b).join("\\b|"),"\\b)"),n,e.concat(p,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[N]};N.contains.push(C);const D=[_,L,t.C_BLOCK_COMMENT_MODE,g,m,S],P={begin:e.concat(/#\[\s*\\?/,e.either(i,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:y,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:y,keyword:["new","array"]},contains:["self",...D]},...D,{scope:"meta",variants:[{match:i},{match:a}]}]};return{case_insensitive:!1,keywords:T,contains:[P,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},s,C,L,{match:[/const/,/\s/,n],scope:{1:"keyword",3:"variable.constant"}},S,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:T,contains:["self",P,s,L,t.C_BLOCK_COMMENT_MODE,g,m]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},g,m]}}function bhe(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function xhe(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Ehe(t){const e=t.regex,r=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},h={begin:/\{\{/,relevance:0},d={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,h,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,h,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,h,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,h,u]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,g=`\\b|${n.join("|")}`,m={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${g})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${f})[jJ](?=${g})`}]},y={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},v={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",l,m,d,t.HASH_COMMENT_MODE]}]};return u.contains=[d,m,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[l,m,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},d,y,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[v]},{variants:[{match:[/\bclass/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/\bclass/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[m,v,d]}]}}function The(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function whe(t){const e=t.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,n=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,a=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,n]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,n]},{scope:{1:"punctuation",2:"number"},match:[a,n]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,n]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:a},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function She(t){const e=t.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(n,/(::\w+)*/),s={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},u=[t.COMMENT("#","$",{contains:[o]}),t.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],h={className:"subst",begin:/#\{/,end:/\}/,keywords:s},d={className:"string",contains:[t.BACKSLASH_ESCAPE,h],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,h]})]}]},f="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",g={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},m={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:s}]},S=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:s},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:s},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:n,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[m]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[d,{begin:r}],relevance:0},g,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:s},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,h],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,u),relevance:0}].concat(l,u);h.contains=S,m.contains=S;const N=[{begin:/^\s*=>/,starts:{end:"$",contains:S}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:s,contains:S}}];return u.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:s,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(N).concat(u).concat(S)}}function khe(t){const e=t.regex,r=/(r#)?/,n=e.concat(r,t.UNDERSCORE_IDENT_RE),i=e.concat(r,t.IDENT_RE),a={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},s="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],h=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:h,keyword:o,literal:l,built_in:u},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+s},{begin:"\\b0o([0-7_]+)"+s},{begin:"\\b0x([A-Fa-f0-9_]+)"+s},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+s}],relevance:0},{begin:[/fn/,/\s+/,n],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,n],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,n,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:h}},{className:"punctuation",begin:"->"},a]}}const Che=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),_he=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Ahe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Lhe=[..._he,...Ahe],Nhe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Rhe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Ihe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Dhe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Ohe(t){const e=Che(t),r=Ihe,n=Rhe,i="@[a-z-]+",a="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Lhe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+r.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Dhe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,o,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:Nhe.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function Mhe(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Phe(t){const e=t.regex,r=t.COMMENT("--","$"),n={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},a=["true","false","unknown"],s=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],h=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=h,g=[...u,...l].filter(w=>!h.includes(w)),m={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},y={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},v={match:e.concat(/\b/,e.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function b(w){return e.concat(/\b/,e.either(...w.map(S=>S.replace(/\s+/,"\\s+"))),/\b/)}const x={scope:"keyword",match:b(f),relevance:0};function T(w,{exceptions:S,when:k}={}){const L=k;return S=S||[],w.map(_=>_.match(/\|\d+$/)||S.includes(_)?_:L(_)?`${_}|0`:_)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:T(g,{when:w=>w.length<3}),literal:a,type:o,built_in:d},contains:[{scope:"type",match:b(s)},x,v,m,n,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,r,y]}}function qR(t){return t?typeof t=="string"?t:t.source:null}function jp(t){return sn("(?=",t,")")}function sn(...t){return t.map(r=>qR(r)).join("")}function Bhe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Ea(...t){return"("+(Bhe(t).capture?"":"?:")+t.map(n=>qR(n)).join("|")+")"}const J3=t=>sn(/\b/,t,/\w$/.test(t)?/\b/:/\B/),Fhe=["Protocol","Type"].map(J3),WR=["init","self"].map(J3),$he=["Any","Self"],ew=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],YR=["false","nil","true"],zhe=["assignment","associativity","higherThan","left","lowerThan","none","right"],Uhe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],XR=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],KR=Ea(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),jR=Ea(KR,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),tw=sn(KR,jR,"*"),QR=Ea(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Lv=Ea(QR,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Vo=sn(QR,Lv,"*"),Nv=sn(/[A-Z]/,Lv,"*"),Hhe=["attached","autoclosure",sn(/convention\(/,Ea("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",sn(/objc\(/,Vo,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Ghe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Vhe(t){const e={match:/\s+/,relevance:0},r=t.COMMENT("/\\*","\\*/",{contains:["self"]}),n=[t.C_LINE_COMMENT_MODE,r],i={match:[/\./,Ea(...Fhe,...WR)],className:{2:"keyword"}},a={match:sn(/\./,Ea(...ew)),relevance:0},s=ew.filter(we=>typeof we=="string").concat(["_|0"]),o=ew.filter(we=>typeof we!="string").concat($he).map(J3),l={variants:[{className:"keyword",match:Ea(...o,...WR)}]},u={$pattern:Ea(/\b\w+/,/#\w+/),keyword:s.concat(Uhe),literal:YR},h=[i,a,l],d={match:sn(/\./,Ea(...XR)),relevance:0},f={className:"built_in",match:sn(/\b/,Ea(...XR),/(?=\()/)},p=[d,f],g={match:/->/,relevance:0},m={className:"operator",relevance:0,variants:[{match:tw},{match:`\\.(\\.|${jR})+`}]},y=[g,m],v="([0-9]_*)+",b="([0-9a-fA-F]_*)+",x={className:"number",relevance:0,variants:[{match:`\\b(${v})(\\.(${v}))?([eE][+-]?(${v}))?\\b`},{match:`\\b0x(${b})(\\.(${b}))?([pP][+-]?(${v}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},T=(we="")=>({className:"subst",variants:[{match:sn(/\\/,we,/[0\\tnr"']/)},{match:sn(/\\/,we,/u\{[0-9a-fA-F]{1,8}\}/)}]}),w=(we="")=>({className:"subst",match:sn(/\\/,we,/[\t ]*(?:[\r\n]|\r\n)/)}),S=(we="")=>({className:"subst",label:"interpol",begin:sn(/\\/,we,/\(/),end:/\)/}),k=(we="")=>({begin:sn(we,/"""/),end:sn(/"""/,we),contains:[T(we),w(we),S(we)]}),L=(we="")=>({begin:sn(we,/"/),end:sn(/"/,we),contains:[T(we),S(we)]}),_={className:"string",variants:[k(),k("#"),k("##"),k("###"),L(),L("#"),L("##"),L("###")]},N=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],C={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:N},D=we=>{const ue=sn(we,/\//),ae=sn(/\//,we);return{begin:ue,end:ae,contains:[...N,{scope:"comment",begin:`#(?!.*${ae})`,end:/$/}]}},P={scope:"regexp",variants:[D("###"),D("##"),D("#"),C]},A={match:sn(/`/,Vo,/`/)},R={className:"variable",match:/\$\d+/},O={className:"variable",match:`\\$${Lv}+`},M=[A,R,O],I={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Ghe,contains:[...y,x,_]}]}},F={scope:"keyword",match:sn(/@/,Ea(...Hhe),jp(Ea(/\(/,/\s+/)))},B={scope:"meta",match:sn(/@/,Vo)},$=[I,F,B],V={match:jp(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:sn(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Lv,"+")},{className:"type",match:Nv,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:sn(/\s+&\s+/,jp(Nv)),relevance:0}]},H={begin:/</,end:/>/,keywords:u,contains:[...n,...h,...$,g,V]};V.contains.push(H);const te={match:sn(Vo,/\s*:/),keywords:"_|0",relevance:0},X={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",te,...n,P,...h,...p,...y,x,_,...M,...$,V]},ee={begin:/</,end:/>/,keywords:"repeat each",contains:[...n,V]},re={begin:Ea(jp(sn(Vo,/\s*:/)),jp(sn(Vo,/\s+/,Vo,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Vo}]},pe={begin:/\(/,end:/\)/,keywords:u,contains:[re,...n,...h,...y,x,_,...$,V,X],endsParent:!0,illegal:/["']/},K={match:[/(func|macro)/,/\s+/,Ea(A.match,Vo,tw)],className:{1:"keyword",3:"title.function"},contains:[ee,pe,e],illegal:[/\[/,/%/]},W={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ee,pe,e],illegal:/\[|%/},j={match:[/operator/,/\s+/,tw],className:{1:"keyword",3:"title"}},Y={begin:[/precedencegroup/,/\s+/,Nv],className:{1:"keyword",3:"title"},contains:[V],keywords:[...zhe,...YR],end:/}/},Q={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},ie={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},J={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Vo,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[ee,...h,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:Nv},...h],relevance:0}]};for(const we of _.variants){const ue=we.contains.find(Ue=>Ue.label==="interpol");ue.keywords=u;const ae=[...h,...p,...y,x,_,...M];ue.contains=[...ae,{begin:/\(/,end:/\)/,contains:["self",...ae]}]}return{name:"Swift",keywords:u,contains:[...n,K,W,Q,ie,J,j,Y,{beginKeywords:"import",end:/$/,contains:[...n],relevance:0},P,...h,...p,...y,x,_,...M,...$,V,X]}}const Rv="[A-Za-z$_][0-9A-Za-z$_]*",ZR=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],JR=["true","false","null","undefined","NaN","Infinity"],eI=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],tI=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],rI=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],nI=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],iI=[].concat(rI,eI,tI);function qhe(t){const e=t.regex,r=(I,{after:F})=>{const B="</"+I[0].slice(1);return I.input.indexOf(B,F)!==-1},n=Rv,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,F)=>{const B=I[0].length+I.index,$=I.input[B];if($==="<"||$===","){F.ignoreMatch();return}$===">"&&(r(I,{after:B})||F.ignoreMatch());let V;const H=I.input.substring(B);if(V=H.match(/^\s*=/)){F.ignoreMatch();return}if((V=H.match(/^\s+extends\s+/))&&V.index===0){F.ignoreMatch();return}}},o={$pattern:Rv,keyword:ZR,literal:JR,built_in:iI,"variable.language":nI},l="[0-9](_?[0-9])*",u=`\\.(${l})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${h})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${h})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},b={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},x=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,g,m,y,{match:/\$\d+/},d];f.contains=x.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(x)});const T=[].concat(b,f.contains),w=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(T)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w},k={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},L={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...eI,...tI]}},_={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},C={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function D(I){return e.concat("(?!",I.join("|"),")")}const P={match:e.concat(/\b/,D([...rI,"super","import"].map(I=>`${I}\\s*\\(`)),n,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},A={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},R={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:L},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),_,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,g,m,y,b,{match:/\$\d+/},d,L,{scope:"attr",match:n+e.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,t.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},A,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},P,C,k,R,{match:/\$[(.]/}]}}function Whe(t){const e=t.regex,r=qhe(t),n=Rv,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[r.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:Rv,keyword:ZR.concat(l),literal:JR,built_in:iI.concat(i),"variable.language":nI},h={className:"meta",begin:"@"+n},d=(m,y,v)=>{const b=m.contains.findIndex(x=>x.label===y);if(b===-1)throw new Error("can not find mode to replace");m.contains.splice(b,1,v)};Object.assign(r.keywords,u),r.exports.PARAMS_CONTAINS.push(h);const f=r.contains.find(m=>m.scope==="attr"),p=Object.assign({},f,{match:e.concat(n,e.lookahead(/\s*\?:/))});r.exports.PARAMS_CONTAINS.push([r.exports.CLASS_REFERENCE,f,p]),r.contains=r.contains.concat([h,a,s,p]),d(r,"shebang",t.SHEBANG()),d(r,"use_strict",o);const g=r.contains.find(m=>m.label==="func.def");return g.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}function Yhe(t){const e=t.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},n={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,a=/\d{4}-\d{1,2}-\d{1,2}/,s=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:e.concat(/# */,e.either(a,i),/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,s,/ *#/)},{begin:e.concat(/# */,e.either(a,i),/ +/,e.either(s,o),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},h={className:"label",begin:/^\w+:/},d=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,n,l,u,h,d,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function Xhe(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const r=t.COMMENT(/;;/,/$/),n=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},a={className:"variable",begin:/\$[\w_]+/},s={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:n},contains:[r,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},a,s,i,t.QUOTE_STRING_MODE,l,u,o]}}function Khe(t){const e=t.regex,r=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},s=t.inherit(a,{begin:/\(/,end:/\)/}),o=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,l,o,s,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,s,l,o]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(r,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:u}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function jhe(t){const e="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},a={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},s={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},o=t.inherit(s,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},g={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},m={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},y=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},f,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},g,m,a,s],v=[...y];return v.pop(),v.push(o),p.contains=v,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:y}}const Qhe={arduino:Iue,bash:Due,c:Oue,cpp:Mue,csharp:Pue,css:que,diff:Wue,go:Yue,graphql:Xue,ini:Kue,java:jue,javascript:the,json:rhe,kotlin:ihe,less:dhe,lua:fhe,makefile:phe,markdown:ghe,objectivec:mhe,perl:yhe,php:vhe,"php-template":bhe,plaintext:xhe,python:Ehe,"python-repl":The,r:whe,ruby:She,rust:khe,scss:Ohe,shell:Mhe,sql:Phe,swift:Vhe,typescript:Whe,vbnet:Yhe,wasm:Xhe,xml:Khe,yaml:jhe};function Pl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rw,aI;function Zhe(){if(aI)return rw;aI=1;function t(de){return de instanceof Map?de.clear=de.delete=de.set=function(){throw new Error("map is read-only")}:de instanceof Set&&(de.add=de.clear=de.delete=function(){throw new Error("set is read-only")}),Object.freeze(de),Object.getOwnPropertyNames(de).forEach(De=>{const Le=de[De],je=typeof Le;(je==="object"||je==="function")&&!Object.isFrozen(Le)&&t(Le)}),de}class e{constructor(De){De.data===void 0&&(De.data={}),this.data=De.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(de){return de.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function n(de,...De){const Le=Object.create(null);for(const je in de)Le[je]=de[je];return De.forEach(function(je){for(const dt in je)Le[dt]=je[dt]}),Le}const i="</span>",a=de=>!!de.scope,s=(de,{prefix:De})=>{if(de.startsWith("language:"))return de.replace("language:","language-");if(de.includes(".")){const Le=de.split(".");return[`${De}${Le.shift()}`,...Le.map((je,dt)=>`${je}${"_".repeat(dt+1)}`)].join(" ")}return`${De}${de}`};class o{constructor(De,Le){this.buffer="",this.classPrefix=Le.classPrefix,De.walk(this)}addText(De){this.buffer+=r(De)}openNode(De){if(!a(De))return;const Le=s(De.scope,{prefix:this.classPrefix});this.span(Le)}closeNode(De){a(De)&&(this.buffer+=i)}value(){return this.buffer}span(De){this.buffer+=`<span class="${De}">`}}const l=(de={})=>{const De={children:[]};return Object.assign(De,de),De};class u{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(De){this.top.children.push(De)}openNode(De){const Le=l({scope:De});this.add(Le),this.stack.push(Le)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(De){return this.constructor._walk(De,this.rootNode)}static _walk(De,Le){return typeof Le=="string"?De.addText(Le):Le.children&&(De.openNode(Le),Le.children.forEach(je=>this._walk(De,je)),De.closeNode(Le)),De}static _collapse(De){typeof De!="string"&&De.children&&(De.children.every(Le=>typeof Le=="string")?De.children=[De.children.join("")]:De.children.forEach(Le=>{u._collapse(Le)}))}}class h extends u{constructor(De){super(),this.options=De}addText(De){De!==""&&this.add(De)}startScope(De){this.openNode(De)}endScope(){this.closeNode()}__addSublanguage(De,Le){const je=De.root;Le&&(je.scope=`language:${Le}`),this.add(je)}toHTML(){return new o(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function d(de){return de?typeof de=="string"?de:de.source:null}function f(de){return m("(?=",de,")")}function p(de){return m("(?:",de,")*")}function g(de){return m("(?:",de,")?")}function m(...de){return de.map(Le=>d(Le)).join("")}function y(de){const De=de[de.length-1];return typeof De=="object"&&De.constructor===Object?(de.splice(de.length-1,1),De):{}}function v(...de){return"("+(y(de).capture?"":"?:")+de.map(je=>d(je)).join("|")+")"}function b(de){return new RegExp(de.toString()+"|").exec("").length-1}function x(de,De){const Le=de&&de.exec(De);return Le&&Le.index===0}const T=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(de,{joinWith:De}){let Le=0;return de.map(je=>{Le+=1;const dt=Le;let lt=d(je),$e="";for(;lt.length>0;){const tt=T.exec(lt);if(!tt){$e+=lt;break}$e+=lt.substring(0,tt.index),lt=lt.substring(tt.index+tt[0].length),tt[0][0]==="\\"&&tt[1]?$e+="\\"+String(Number(tt[1])+dt):($e+=tt[0],tt[0]==="("&&Le++)}return $e}).map(je=>`(${je})`).join(De)}const S=/\b\B/,k="[a-zA-Z]\\w*",L="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",N="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",C="\\b(0b[01]+)",D="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",P=(de={})=>{const De=/^#![ ]*\//;return de.binary&&(de.begin=m(De,/.*\b/,de.binary,/\b.*/)),n({scope:"meta",begin:De,end:/$/,relevance:0,"on:begin":(Le,je)=>{Le.index!==0&&je.ignoreMatch()}},de)},A={begin:"\\\\[\\s\\S]",relevance:0},R={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[A]},O={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[A]},M={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},I=function(de,De,Le={}){const je=n({scope:"comment",begin:de,end:De,contains:[]},Le);je.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const dt=v("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return je.contains.push({begin:m(/[ ]+/,"(",dt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),je},F=I("//","$"),B=I("/\\*","\\*/"),$=I("#","$"),V={scope:"number",begin:_,relevance:0},H={scope:"number",begin:N,relevance:0},te={scope:"number",begin:C,relevance:0},X={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[A,{begin:/\[/,end:/\]/,relevance:0,contains:[A]}]},ee={scope:"title",begin:k,relevance:0},re={scope:"title",begin:L,relevance:0},pe={begin:"\\.\\s*"+L,relevance:0};var W=Object.freeze({__proto__:null,APOS_STRING_MODE:R,BACKSLASH_ESCAPE:A,BINARY_NUMBER_MODE:te,BINARY_NUMBER_RE:C,COMMENT:I,C_BLOCK_COMMENT_MODE:B,C_LINE_COMMENT_MODE:F,C_NUMBER_MODE:H,C_NUMBER_RE:N,END_SAME_AS_BEGIN:function(de){return Object.assign(de,{"on:begin":(De,Le)=>{Le.data._beginMatch=De[1]},"on:end":(De,Le)=>{Le.data._beginMatch!==De[1]&&Le.ignoreMatch()}})},HASH_COMMENT_MODE:$,IDENT_RE:k,MATCH_NOTHING_RE:S,METHOD_GUARD:pe,NUMBER_MODE:V,NUMBER_RE:_,PHRASAL_WORDS_MODE:M,QUOTE_STRING_MODE:O,REGEXP_MODE:X,RE_STARTERS_RE:D,SHEBANG:P,TITLE_MODE:ee,UNDERSCORE_IDENT_RE:L,UNDERSCORE_TITLE_MODE:re});function j(de,De){de.input[de.index-1]==="."&&De.ignoreMatch()}function Y(de,De){de.className!==void 0&&(de.scope=de.className,delete de.className)}function Q(de,De){De&&de.beginKeywords&&(de.begin="\\b("+de.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",de.__beforeBegin=j,de.keywords=de.keywords||de.beginKeywords,delete de.beginKeywords,de.relevance===void 0&&(de.relevance=0))}function ie(de,De){Array.isArray(de.illegal)&&(de.illegal=v(...de.illegal))}function J(de,De){if(de.match){if(de.begin||de.end)throw new Error("begin & end are not supported with match");de.begin=de.match,delete de.match}}function we(de,De){de.relevance===void 0&&(de.relevance=1)}const ue=(de,De)=>{if(!de.beforeMatch)return;if(de.starts)throw new Error("beforeMatch cannot be used with starts");const Le=Object.assign({},de);Object.keys(de).forEach(je=>{delete de[je]}),de.keywords=Le.keywords,de.begin=m(Le.beforeMatch,f(Le.begin)),de.starts={relevance:0,contains:[Object.assign(Le,{endsParent:!0})]},de.relevance=0,delete Le.beforeMatch},ae=["of","and","for","in","not","or","if","then","parent","list","value"],Ue="keyword";function xe(de,De,Le=Ue){const je=Object.create(null);return typeof de=="string"?dt(Le,de.split(" ")):Array.isArray(de)?dt(Le,de):Object.keys(de).forEach(function(lt){Object.assign(je,xe(de[lt],De,lt))}),je;function dt(lt,$e){De&&($e=$e.map(tt=>tt.toLowerCase())),$e.forEach(function(tt){const Ve=tt.split("|");je[Ve[0]]=[lt,Ze(Ve[0],Ve[1])]})}}function Ze(de,De){return De?Number(De):Je(de)?0:1}function Je(de){return ae.includes(de.toLowerCase())}const Xe={},Pe=de=>{console.error(de)},We=(de,...De)=>{console.log(`WARN: ${de}`,...De)},he=(de,De)=>{Xe[`${de}/${De}`]||(console.log(`Deprecated as of ${de}. ${De}`),Xe[`${de}/${De}`]=!0)},Te=new Error;function Be(de,De,{key:Le}){let je=0;const dt=de[Le],lt={},$e={};for(let tt=1;tt<=De.length;tt++)$e[tt+je]=dt[tt],lt[tt+je]=!0,je+=b(De[tt-1]);de[Le]=$e,de[Le]._emit=lt,de[Le]._multi=!0}function ye(de){if(Array.isArray(de.begin)){if(de.skip||de.excludeBegin||de.returnBegin)throw Pe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Te;if(typeof de.beginScope!="object"||de.beginScope===null)throw Pe("beginScope must be object"),Te;Be(de,de.begin,{key:"beginScope"}),de.begin=w(de.begin,{joinWith:""})}}function Me(de){if(Array.isArray(de.end)){if(de.skip||de.excludeEnd||de.returnEnd)throw Pe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Te;if(typeof de.endScope!="object"||de.endScope===null)throw Pe("endScope must be object"),Te;Be(de,de.end,{key:"endScope"}),de.end=w(de.end,{joinWith:""})}}function Z(de){de.scope&&typeof de.scope=="object"&&de.scope!==null&&(de.beginScope=de.scope,delete de.scope)}function fe(de){Z(de),typeof de.beginScope=="string"&&(de.beginScope={_wrap:de.beginScope}),typeof de.endScope=="string"&&(de.endScope={_wrap:de.endScope}),ye(de),Me(de)}function U(de){function De($e,tt){return new RegExp(d($e),"m"+(de.case_insensitive?"i":"")+(de.unicodeRegex?"u":"")+(tt?"g":""))}class Le{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(tt,Ve){Ve.position=this.position++,this.matchIndexes[this.matchAt]=Ve,this.regexes.push([Ve,tt]),this.matchAt+=b(tt)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const tt=this.regexes.map(Ve=>Ve[1]);this.matcherRe=De(w(tt,{joinWith:"|"}),!0),this.lastIndex=0}exec(tt){this.matcherRe.lastIndex=this.lastIndex;const Ve=this.matcherRe.exec(tt);if(!Ve)return null;const it=Ve.findIndex((Tt,kt)=>kt>0&&Tt!==void 0),ft=this.matchIndexes[it];return Ve.splice(0,it),Object.assign(Ve,ft)}}class je{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(tt){if(this.multiRegexes[tt])return this.multiRegexes[tt];const Ve=new Le;return this.rules.slice(tt).forEach(([it,ft])=>Ve.addRule(it,ft)),Ve.compile(),this.multiRegexes[tt]=Ve,Ve}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(tt,Ve){this.rules.push([tt,Ve]),Ve.type==="begin"&&this.count++}exec(tt){const Ve=this.getMatcher(this.regexIndex);Ve.lastIndex=this.lastIndex;let it=Ve.exec(tt);if(this.resumingScanAtSamePosition()&&!(it&&it.index===this.lastIndex)){const ft=this.getMatcher(0);ft.lastIndex=this.lastIndex+1,it=ft.exec(tt)}return it&&(this.regexIndex+=it.position+1,this.regexIndex===this.count&&this.considerAll()),it}}function dt($e){const tt=new je;return $e.contains.forEach(Ve=>tt.addRule(Ve.begin,{rule:Ve,type:"begin"})),$e.terminatorEnd&&tt.addRule($e.terminatorEnd,{type:"end"}),$e.illegal&&tt.addRule($e.illegal,{type:"illegal"}),tt}function lt($e,tt){const Ve=$e;if($e.isCompiled)return Ve;[Y,J,fe,ue].forEach(ft=>ft($e,tt)),de.compilerExtensions.forEach(ft=>ft($e,tt)),$e.__beforeBegin=null,[Q,ie,we].forEach(ft=>ft($e,tt)),$e.isCompiled=!0;let it=null;return typeof $e.keywords=="object"&&$e.keywords.$pattern&&($e.keywords=Object.assign({},$e.keywords),it=$e.keywords.$pattern,delete $e.keywords.$pattern),it=it||/\w+/,$e.keywords&&($e.keywords=xe($e.keywords,de.case_insensitive)),Ve.keywordPatternRe=De(it,!0),tt&&($e.begin||($e.begin=/\B|\b/),Ve.beginRe=De(Ve.begin),!$e.end&&!$e.endsWithParent&&($e.end=/\B|\b/),$e.end&&(Ve.endRe=De(Ve.end)),Ve.terminatorEnd=d(Ve.end)||"",$e.endsWithParent&&tt.terminatorEnd&&(Ve.terminatorEnd+=($e.end?"|":"")+tt.terminatorEnd)),$e.illegal&&(Ve.illegalRe=De($e.illegal)),$e.contains||($e.contains=[]),$e.contains=[].concat(...$e.contains.map(function(ft){return oe(ft==="self"?$e:ft)})),$e.contains.forEach(function(ft){lt(ft,Ve)}),$e.starts&&lt($e.starts,tt),Ve.matcher=dt(Ve),Ve}if(de.compilerExtensions||(de.compilerExtensions=[]),de.contains&&de.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return de.classNameAliases=n(de.classNameAliases||{}),lt(de)}function le(de){return de?de.endsWithParent||le(de.starts):!1}function oe(de){return de.variants&&!de.cachedVariants&&(de.cachedVariants=de.variants.map(function(De){return n(de,{variants:null},De)})),de.cachedVariants?de.cachedVariants:le(de)?n(de,{starts:de.starts?n(de.starts):null}):Object.isFrozen(de)?n(de):de}var ge="11.11.1";class me extends Error{constructor(De,Le){super(De),this.name="HTMLInjectionError",this.html=Le}}const Ce=r,Ie=n,Ne=Symbol("nomatch"),et=7,ut=function(de){const De=Object.create(null),Le=Object.create(null),je=[];let dt=!0;const lt="Could not find the language '{}', did you forget to load/include a language module?",$e={disableAutodetect:!0,name:"Plain text",contains:[]};let tt={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:h};function Ve(at){return tt.noHighlightRe.test(at)}function it(at){let st=at.className+" ";st+=at.parentNode?at.parentNode.className:"";const ct=tt.languageDetectRe.exec(st);if(ct){const ot=_t(ct[1]);return ot||(We(lt.replace("{}",ct[1])),We("Falling back to no-highlight mode for this block.",at)),ot?ct[1]:"no-highlight"}return st.split(/\s+/).find(ot=>Ve(ot)||_t(ot))}function ft(at,st,ct){let ot="",Qe="";typeof st=="object"?(ot=at,ct=st.ignoreIllegals,Qe=st.language):(he("10.7.0","highlight(lang, code, ...args) has been deprecated."),he("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Qe=at,ot=st),ct===void 0&&(ct=!0);const ar={code:ot,language:Qe};Yn("before:highlight",ar);const ve=ar.result?ar.result:Tt(ar.language,ar.code,ct);return ve.code=ar.code,Yn("after:highlight",ve),ve}function Tt(at,st,ct,ot){const Qe=Object.create(null);function ar(Ot,Pt){return Ot.keywords[Pt]}function ve(){if(!ir.keywords){Xn.addText($r);return}let Ot=0;ir.keywordPatternRe.lastIndex=0;let Pt=ir.keywordPatternRe.exec($r),wr="";for(;Pt;){wr+=$r.substring(Ot,Pt.index);const an=no.case_insensitive?Pt[0].toLowerCase():Pt[0],ga=ar(ir,an);if(ga){const[_c,BJe]=ga;if(Xn.addText(wr),wr="",Qe[an]=(Qe[an]||0)+1,Qe[an]<=et&&(Cc+=BJe),_c.startsWith("_"))wr+=Pt[0];else{const FJe=no.classNameAliases[_c]||_c;Fr(Pt[0],FJe)}}else wr+=Pt[0];Ot=ir.keywordPatternRe.lastIndex,Pt=ir.keywordPatternRe.exec($r)}wr+=$r.substring(Ot),Xn.addText(wr)}function pa(){if($r==="")return;let Ot=null;if(typeof ir.subLanguage=="string"){if(!De[ir.subLanguage]){Xn.addText($r);return}Ot=Tt(ir.subLanguage,$r,!0,$a[ir.subLanguage]),$a[ir.subLanguage]=Ot._top}else Ot=Nt($r,ir.subLanguage.length?ir.subLanguage:null);ir.relevance>0&&(Cc+=Ot.relevance),Xn.__addSublanguage(Ot._emitter,Ot.language)}function Ee(){ir.subLanguage!=null?pa():ve(),$r=""}function Fr(Ot,Pt){Ot!==""&&(Xn.startScope(Pt),Xn.addText(Ot),Xn.endScope())}function Ry(Ot,Pt){let wr=1;const an=Pt.length-1;for(;wr<=an;){if(!Ot._emit[wr]){wr++;continue}const ga=no.classNameAliases[Ot[wr]]||Ot[wr],_c=Pt[wr];ga?Fr(_c,ga):($r=_c,ve(),$r=""),wr++}}function bT(Ot,Pt){return Ot.scope&&typeof Ot.scope=="string"&&Xn.openNode(no.classNameAliases[Ot.scope]||Ot.scope),Ot.beginScope&&(Ot.beginScope._wrap?(Fr($r,no.classNameAliases[Ot.beginScope._wrap]||Ot.beginScope._wrap),$r=""):Ot.beginScope._multi&&(Ry(Ot.beginScope,Pt),$r="")),ir=Object.create(Ot,{parent:{value:ir}}),ir}function Iy(Ot,Pt,wr){let an=x(Ot.endRe,wr);if(an){if(Ot["on:end"]){const ga=new e(Ot);Ot["on:end"](Pt,ga),ga.isMatchIgnored&&(an=!1)}if(an){for(;Ot.endsParent&&Ot.parent;)Ot=Ot.parent;return Ot}}if(Ot.endsWithParent)return Iy(Ot.parent,Pt,wr)}function $7(Ot){return ir.matcher.regexIndex===0?($r+=Ot[0],1):(Mu=!0,0)}function ni(Ot){const Pt=Ot[0],wr=Ot.rule,an=new e(wr),ga=[wr.__beforeBegin,wr["on:begin"]];for(const _c of ga)if(_c&&(_c(Ot,an),an.isMatchIgnored))return $7(Pt);return wr.skip?$r+=Pt:(wr.excludeBegin&&($r+=Pt),Ee(),!wr.returnBegin&&!wr.excludeBegin&&($r=Pt)),bT(wr,Ot),wr.returnBegin?0:Pt.length}function kc(Ot){const Pt=Ot[0],wr=st.substring(Ot.index),an=Iy(ir,Ot,wr);if(!an)return Ne;const ga=ir;ir.endScope&&ir.endScope._wrap?(Ee(),Fr(Pt,ir.endScope._wrap)):ir.endScope&&ir.endScope._multi?(Ee(),Ry(ir.endScope,Ot)):ga.skip?$r+=Pt:(ga.returnEnd||ga.excludeEnd||($r+=Pt),Ee(),ga.excludeEnd&&($r=Pt));do ir.scope&&Xn.closeNode(),!ir.skip&&!ir.subLanguage&&(Cc+=ir.relevance),ir=ir.parent;while(ir!==an.parent);return an.starts&&bT(an.starts,Ot),ga.returnEnd?0:Pt.length}function Dy(){const Ot=[];for(let Pt=ir;Pt!==no;Pt=Pt.parent)Pt.scope&&Ot.unshift(Pt.scope);Ot.forEach(Pt=>Xn.openNode(Pt))}let Ou={};function xT(Ot,Pt){const wr=Pt&&Pt[0];if($r+=Ot,wr==null)return Ee(),0;if(Ou.type==="begin"&&Pt.type==="end"&&Ou.index===Pt.index&&wr===""){if($r+=st.slice(Pt.index,Pt.index+1),!dt){const an=new Error(`0 width match regex (${at})`);throw an.languageName=at,an.badRule=Ou.rule,an}return 1}if(Ou=Pt,Pt.type==="begin")return ni(Pt);if(Pt.type==="illegal"&&!ct){const an=new Error('Illegal lexeme "'+wr+'" for mode "'+(ir.scope||"<unnamed>")+'"');throw an.mode=ir,an}else if(Pt.type==="end"){const an=kc(Pt);if(an!==Ne)return an}if(Pt.type==="illegal"&&wr==="")return $r+=`
`,1;if(_p>1e5&&_p>Pt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return $r+=wr,wr.length}const no=_t(at);if(!no)throw Pe(lt.replace("{}",at)),new Error('Unknown language: "'+at+'"');const ET=U(no);let Bi="",ir=ot||ET;const $a={},Xn=new tt.__emitter(tt);Dy();let $r="",Cc=0,Zi=0,_p=0,Mu=!1;try{if(no.__emitTokens)no.__emitTokens(st,Xn);else{for(ir.matcher.considerAll();;){_p++,Mu?Mu=!1:ir.matcher.considerAll(),ir.matcher.lastIndex=Zi;const Ot=ir.matcher.exec(st);if(!Ot)break;const Pt=st.substring(Zi,Ot.index),wr=xT(Pt,Ot);Zi=Ot.index+wr}xT(st.substring(Zi))}return Xn.finalize(),Bi=Xn.toHTML(),{language:at,value:Bi,relevance:Cc,illegal:!1,_emitter:Xn,_top:ir}}catch(Ot){if(Ot.message&&Ot.message.includes("Illegal"))return{language:at,value:Ce(st),illegal:!0,relevance:0,_illegalBy:{message:Ot.message,index:Zi,context:st.slice(Zi-100,Zi+100),mode:Ot.mode,resultSoFar:Bi},_emitter:Xn};if(dt)return{language:at,value:Ce(st),illegal:!1,relevance:0,errorRaised:Ot,_emitter:Xn,_top:ir};throw Ot}}function kt(at){const st={value:Ce(at),illegal:!1,relevance:0,_top:$e,_emitter:new tt.__emitter(tt)};return st._emitter.addText(at),st}function Nt(at,st){st=st||tt.languages||Object.keys(De);const ct=kt(at),ot=st.filter(_t).filter(Gr).map(Ee=>Tt(Ee,at,!1));ot.unshift(ct);const Qe=ot.sort((Ee,Fr)=>{if(Ee.relevance!==Fr.relevance)return Fr.relevance-Ee.relevance;if(Ee.language&&Fr.language){if(_t(Ee.language).supersetOf===Fr.language)return 1;if(_t(Fr.language).supersetOf===Ee.language)return-1}return 0}),[ar,ve]=Qe,pa=ar;return pa.secondBest=ve,pa}function Tr(at,st,ct){const ot=st&&Le[st]||ct;at.classList.add("hljs"),at.classList.add(`language-${ot}`)}function Ut(at){let st=null;const ct=it(at);if(Ve(ct))return;if(Yn("before:highlightElement",{el:at,language:ct}),at.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",at);return}if(at.children.length>0&&(tt.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(at)),tt.throwUnescapedHTML))throw new me("One of your code blocks includes unescaped HTML.",at.innerHTML);st=at;const ot=st.textContent,Qe=ct?ft(ot,{language:ct,ignoreIllegals:!0}):Nt(ot);at.innerHTML=Qe.value,at.dataset.highlighted="yes",Tr(at,ct,Qe.language),at.result={language:Qe.language,re:Qe.relevance,relevance:Qe.relevance},Qe.secondBest&&(at.secondBest={language:Qe.secondBest.language,relevance:Qe.secondBest.relevance}),Yn("after:highlightElement",{el:at,result:Qe,text:ot})}function Lr(at){tt=Ie(tt,at)}const br=()=>{nn(),he("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function mr(){nn(),he("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let nr=!1;function nn(){function at(){nn()}if(document.readyState==="loading"){nr||window.addEventListener("DOMContentLoaded",at,!1),nr=!0;return}document.querySelectorAll(tt.cssSelector).forEach(Ut)}function Lt(at,st){let ct=null;try{ct=st(de)}catch(ot){if(Pe("Language definition for '{}' could not be registered.".replace("{}",at)),dt)Pe(ot);else throw ot;ct=$e}ct.name||(ct.name=at),De[at]=ct,ct.rawDefinition=st.bind(null,de),ct.aliases&&fr(ct.aliases,{languageName:at})}function Oe(at){delete De[at];for(const st of Object.keys(Le))Le[st]===at&&delete Le[st]}function ht(){return Object.keys(De)}function _t(at){return at=(at||"").toLowerCase(),De[at]||De[Le[at]]}function fr(at,{languageName:st}){typeof at=="string"&&(at=[at]),at.forEach(ct=>{Le[ct.toLowerCase()]=st})}function Gr(at){const st=_t(at);return st&&!st.disableAutodetect}function en(at){at["before:highlightBlock"]&&!at["before:highlightElement"]&&(at["before:highlightElement"]=st=>{at["before:highlightBlock"](Object.assign({block:st.el},st))}),at["after:highlightBlock"]&&!at["after:highlightElement"]&&(at["after:highlightElement"]=st=>{at["after:highlightBlock"](Object.assign({block:st.el},st))})}function Vr(at){en(at),je.push(at)}function Wn(at){const st=je.indexOf(at);st!==-1&&je.splice(st,1)}function Yn(at,st){const ct=at;je.forEach(function(ot){ot[ct]&&ot[ct](st)})}function Qi(at){return he("10.7.0","highlightBlock will be removed entirely in v12.0"),he("10.7.0","Please use highlightElement now."),Ut(at)}Object.assign(de,{highlight:ft,highlightAuto:Nt,highlightAll:nn,highlightElement:Ut,highlightBlock:Qi,configure:Lr,initHighlighting:br,initHighlightingOnLoad:mr,registerLanguage:Lt,unregisterLanguage:Oe,listLanguages:ht,getLanguage:_t,registerAliases:fr,autoDetection:Gr,inherit:Ie,addPlugin:Vr,removePlugin:Wn}),de.debugMode=function(){dt=!1},de.safeMode=function(){dt=!0},de.versionString=ge,de.regex={concat:m,lookahead:f,either:v,optional:g,anyNumberOfTimes:p};for(const at in W)typeof W[at]=="object"&&t(W[at]);return Object.assign(de,W),de},rt=ut({});return rt.newInstance=()=>ut({}),rw=rt,rt.HighlightJS=rt,rt.default=rt,rw}var Jhe=Zhe();const ede=Pl(Jhe),sI={},tde="hljs-";function rde(t){const e=ede.newInstance();return t&&a(t),{highlight:r,highlightAuto:n,listLanguages:i,register:a,registerAlias:s,registered:o};function r(l,u,h){const d=h||sI,f=typeof d.prefix=="string"?d.prefix:tde;if(!e.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");e.configure({__emitter:nde,classPrefix:f});const p=e.highlight(u,{ignoreIllegals:!0,language:l});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const g=p._emitter.root,m=g.data;return m.language=p.language,m.relevance=p.relevance,g}function n(l,u){const d=(u||sI).subset||i();let f=-1,p=0,g;for(;++f<d.length;){const m=d[f];if(!e.getLanguage(m))continue;const y=r(m,l,u);y.data&&y.data.relevance!==void 0&&y.data.relevance>p&&(p=y.data.relevance,g=y)}return g||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return e.listLanguages()}function a(l,u){if(typeof l=="string")e.registerLanguage(l,u);else{let h;for(h in l)Object.hasOwn(l,h)&&e.registerLanguage(h,l[h])}}function s(l,u){if(typeof l=="string")e.registerAliases(typeof u=="string"?u:[...u],{languageName:l});else{let h;for(h in l)if(Object.hasOwn(l,h)){const d=l[h];e.registerAliases(typeof d=="string"?d:[...d],{languageName:h})}}}function o(l){return!!e.getLanguage(l)}}class nde{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const r=this.stack[this.stack.length-1],n=r.children[r.children.length-1];n&&n.type==="text"?n.value+=e:r.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,r){const n=this.stack[this.stack.length-1],i=e.root.children;r?n.children.push({type:"element",tagName:"span",properties:{className:[r]},children:i}):n.children.push(...i)}openNode(e){const r=this,n=e.split(".").map(function(s,o){return o?s+"_".repeat(o):r.options.classPrefix+s}),i=this.stack[this.stack.length-1],a={type:"element",tagName:"span",properties:{className:n},children:[]};i.children.push(a),this.stack.push(a)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const ide={};function ade(t){const e=t||ide,r=e.aliases,n=e.detect||!1,i=e.languages||Qhe,a=e.plainText,s=e.prefix,o=e.subset;let l="hljs";const u=rde(i);if(r&&u.registerAlias(r),s){const h=s.indexOf("-");l=h===-1?s:s.slice(0,h)}return function(h,d){Pp(h,"element",function(f,p,g){if(f.tagName!=="code"||!g||g.type!=="element"||g.tagName!=="pre")return;const m=sde(f);if(m===!1||!m&&!n||m&&a&&a.includes(m))return;Array.isArray(f.properties.className)||(f.properties.className=[]),f.properties.className.includes(l)||f.properties.className.unshift(l);const y=Z3(f,{whitespace:"pre"});let v;try{v=m?u.highlight(m,y,{prefix:s}):u.highlightAuto(y,{prefix:s,subset:o})}catch(b){const x=b;if(m&&/Unknown language/.test(x.message)){d.message("Cannot highlight as `"+m+"`, it’s not registered",{ancestors:[g,f],cause:x,place:f.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw x}!m&&v.data&&v.data.language&&f.properties.className.push("language-"+v.data.language),v.children.length>0&&(f.children=v.children)})}}function sde(t){const e=t.properties.className;let r=-1;if(!Array.isArray(e))return;let n;for(;++r<e.length;){const i=String(e[r]);if(i==="no-highlight"||i==="nohighlight")return!1;!n&&i.slice(0,5)==="lang-"&&(n=i.slice(5)),!n&&i.slice(0,9)==="language-"&&(n=i.slice(9))}return n}const nw=co(function(t){return t.tagName==="audio"||t.tagName==="canvas"||t.tagName==="embed"||t.tagName==="iframe"||t.tagName==="img"||t.tagName==="math"||t.tagName==="object"||t.tagName==="picture"||t.tagName==="svg"||t.tagName==="video"}),ode=/[ \t\n\f\r]/g;function Vu(t){return typeof t=="object"?t.type==="text"?oI(t.value):!1:oI(t)}function oI(t){return t.replace(ode,"")===""}const lde=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],cde=["button","input","select","textarea"],ude=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],hde={},iw=wd(["comment","doctype"]);function dde(t,e){lI(t,{collapse:bde((e||hde).newlines?yde:vde),whitespace:"normal"})}function lI(t,e){if("children"in t){const r={...e};return(t.type==="root"||hI(t))&&(r.before=!0,r.after=!0),r.whitespace=xde(t,e),pde(t,r)}if(t.type==="text"){if(e.whitespace==="normal")return fde(t,e);e.whitespace==="nowrap"&&(t.value=e.collapse(t.value))}return{ignore:iw(t),stripAtStart:!1,remove:!1}}function fde(t,e){const r=e.collapse(t.value),n={ignore:!1,stripAtStart:!1,remove:!1};let i=0,a=r.length;return e.before&&dI(r.charAt(0))&&i++,i!==a&&dI(r.charAt(a-1))&&(e.after?a--:n.stripAtStart=!0),i===a?n.remove=!0:t.value=r.slice(i,a),n}function pde(t,e){let r=e.before;const n=e.after,i=t.children;let a=i.length,s=-1;for(;++s<a;){const o=lI(i[s],{...e,after:cI(i,s,n),before:r});o.remove?(i.splice(s,1),s--,a--):o.ignore||(r=o.stripAtStart),uI(i[s])&&(r=!1)}return{ignore:!1,stripAtStart:!!(r||n),remove:!1}}function cI(t,e,r){for(;++e<t.length;){const n=t[e];let i=gde(n);if(i===void 0&&"children"in n&&!mde(n)&&(i=cI(n.children,-1)),typeof i=="boolean")return i}return r}function gde(t){if(t.type==="element"){if(uI(t))return!1;if(hI(t))return!0}else if(t.type==="text"){if(!Vu(t))return!1}else if(!iw(t))return!1}function uI(t){return nw(t)||K3(t,cde)}function hI(t){return K3(t,lde)}function mde(t){return!!(t.type==="element"&&t.properties.hidden)||iw(t)||K3(t,ude)}function dI(t){return t===" "||t===`
`}function yde(t){const e=/\r?\n|\r/.exec(t);return e?e[0]:" "}function vde(){return" "}function bde(t){return e;function e(r){return String(r).replace(/[\t\n\v\f\r ]+/g,t)}}function xde(t,e){if("tagName"in t&&t.properties)switch(t.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return t.properties.wrap?"pre-wrap":"pre";case"td":case"th":return t.properties.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}return e.whitespace}const Ede={}.hasOwnProperty;function Tde(t,e){const r=t.type==="element"&&Ede.call(t.properties,e)&&t.properties[e];return r!=null&&r!==!1}const wde=new Set(["pingback","prefetch","stylesheet"]);function Sde(t){if(t.type!=="element"||t.tagName!=="link")return!1;if(t.properties.itemProp)return!0;const e=t.properties.rel;let r=-1;if(!Array.isArray(e)||e.length===0)return!1;for(;++r<e.length;)if(!wde.has(String(e[r])))return!1;return!0}const kde=co(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),Cde=co("meta");function _de(t){return!!(t.type==="text"||kde(t)||nw(t)||Sde(t)||Cde(t)&&Tde(t,"itemProp"))}const Ade=["pre","script","style","textarea"],Lde={};function Nde(t,e){const r=e||Lde,n={blanks:r.blanks||[],head:!1,indentInitial:r.indentInitial!==!1,indent:typeof r.indent=="number"?" ".repeat(r.indent):typeof r.indent=="string"?r.indent:"  "};dde(t,{newlines:!0}),Op(t,i);function i(s,o){if(!("children"in s))return;if(s.type==="element"&&s.tagName==="head"&&(n.head=!0),n.head&&s.type==="element"&&s.tagName==="body"&&(n.head=!1),s.type==="element"&&Ade.includes(s.tagName))return BT;if(s.children.length===0||!aw(n,s))return;let l=o.length;n.indentInitial||l--;let u=!1;for(const f of s.children)(f.type==="comment"||f.type==="text")&&(f.value.includes(`
`)&&(u=!0),f.value=f.value.replace(/ *\n/g,"$&"+n.indent.repeat(l)));const h=[];let d;for(const f of s.children)(aw(n,f)||u&&!d)&&(a(h,l,f),u=!0),d=f,h.push(f);d&&(u||aw(n,d))&&(Vu(d)&&(h.pop(),d=h[h.length-1]),a(h,l-1)),s.children=h}function a(s,o,l){const u=s[s.length-1],h=u&&Vu(u)?s[s.length-2]:u,d=(fI(n,h)&&fI(n,l)?`

`:`
`)+n.indent.repeat(Math.max(o,0));u&&u.type==="text"?u.value=Vu(u)?d:u.value+d:s.push({type:"text",value:d})}}function fI(t,e){return!!(e&&e.type==="element"&&t.blanks.length>0&&t.blanks.includes(e.tagName))}function aw(t,e){return e.type==="root"||(e.type==="element"?t.head||e.tagName==="script"||nw(e)||!_de(e):!1)}function Rde(t){return function(e){Nde(e,t)}}var Iv={exports:{}},Ide=Iv.exports,pI;function Dde(){return pI||(pI=1,function(t,e){(function(r,n){t.exports=n()})(Ide,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",u="day",h="week",d="month",f="quarter",p="year",g="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var R=["th","st","nd","rd"],O=A%100;return"["+A+(R[(O-20)%10]||R[O]||R[0])+"]"}},x=function(A,R,O){var M=String(A);return!M||M.length>=R?A:""+Array(R+1-M.length).join(O)+A},T={s:x,z:function(A){var R=-A.utcOffset(),O=Math.abs(R),M=Math.floor(O/60),I=O%60;return(R<=0?"+":"-")+x(M,2,"0")+":"+x(I,2,"0")},m:function A(R,O){if(R.date()<O.date())return-A(O,R);var M=12*(O.year()-R.year())+(O.month()-R.month()),I=R.clone().add(M,d),F=O-I<0,B=R.clone().add(M+(F?-1:1),d);return+(-(M+(O-I)/(F?I-B:B-I))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:d,y:p,w:h,d:u,D:g,h:l,m:o,s,ms:a,Q:f}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},w="en",S={};S[w]=b;var k="$isDayjsObject",L=function(A){return A instanceof D||!(!A||!A[k])},_=function A(R,O,M){var I;if(!R)return w;if(typeof R=="string"){var F=R.toLowerCase();S[F]&&(I=F),O&&(S[F]=O,I=F);var B=R.split("-");if(!I&&B.length>1)return A(B[0])}else{var $=R.name;S[$]=R,I=$}return!M&&I&&(w=I),I||!M&&w},N=function(A,R){if(L(A))return A.clone();var O=typeof R=="object"?R:{};return O.date=A,O.args=arguments,new D(O)},C=T;C.l=_,C.i=L,C.w=function(A,R){return N(A,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var D=function(){function A(O){this.$L=_(O.locale,null,!0),this.parse(O),this.$x=this.$x||O.x||{},this[k]=!0}var R=A.prototype;return R.parse=function(O){this.$d=function(M){var I=M.date,F=M.utc;if(I===null)return new Date(NaN);if(C.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var B=I.match(y);if(B){var $=B[2]-1||0,V=(B[7]||"0").substring(0,3);return F?new Date(Date.UTC(B[1],$,B[3]||1,B[4]||0,B[5]||0,B[6]||0,V)):new Date(B[1],$,B[3]||1,B[4]||0,B[5]||0,B[6]||0,V)}}return new Date(I)}(O),this.init()},R.init=function(){var O=this.$d;this.$y=O.getFullYear(),this.$M=O.getMonth(),this.$D=O.getDate(),this.$W=O.getDay(),this.$H=O.getHours(),this.$m=O.getMinutes(),this.$s=O.getSeconds(),this.$ms=O.getMilliseconds()},R.$utils=function(){return C},R.isValid=function(){return this.$d.toString()!==m},R.isSame=function(O,M){var I=N(O);return this.startOf(M)<=I&&I<=this.endOf(M)},R.isAfter=function(O,M){return N(O)<this.startOf(M)},R.isBefore=function(O,M){return this.endOf(M)<N(O)},R.$g=function(O,M,I){return C.u(O)?this[M]:this.set(I,O)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(O,M){var I=this,F=!!C.u(M)||M,B=C.p(O),$=function(K,W){var j=C.w(I.$u?Date.UTC(I.$y,W,K):new Date(I.$y,W,K),I);return F?j:j.endOf(u)},V=function(K,W){return C.w(I.toDate()[K].apply(I.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(W)),I)},H=this.$W,te=this.$M,X=this.$D,ee="set"+(this.$u?"UTC":"");switch(B){case p:return F?$(1,0):$(31,11);case d:return F?$(1,te):$(0,te+1);case h:var re=this.$locale().weekStart||0,pe=(H<re?H+7:H)-re;return $(F?X-pe:X+(6-pe),te);case u:case g:return V(ee+"Hours",0);case l:return V(ee+"Minutes",1);case o:return V(ee+"Seconds",2);case s:return V(ee+"Milliseconds",3);default:return this.clone()}},R.endOf=function(O){return this.startOf(O,!1)},R.$set=function(O,M){var I,F=C.p(O),B="set"+(this.$u?"UTC":""),$=(I={},I[u]=B+"Date",I[g]=B+"Date",I[d]=B+"Month",I[p]=B+"FullYear",I[l]=B+"Hours",I[o]=B+"Minutes",I[s]=B+"Seconds",I[a]=B+"Milliseconds",I)[F],V=F===u?this.$D+(M-this.$W):M;if(F===d||F===p){var H=this.clone().set(g,1);H.$d[$](V),H.init(),this.$d=H.set(g,Math.min(this.$D,H.daysInMonth())).$d}else $&&this.$d[$](V);return this.init(),this},R.set=function(O,M){return this.clone().$set(O,M)},R.get=function(O){return this[C.p(O)]()},R.add=function(O,M){var I,F=this;O=Number(O);var B=C.p(M),$=function(te){var X=N(F);return C.w(X.date(X.date()+Math.round(te*O)),F)};if(B===d)return this.set(d,this.$M+O);if(B===p)return this.set(p,this.$y+O);if(B===u)return $(1);if(B===h)return $(7);var V=(I={},I[o]=n,I[l]=i,I[s]=r,I)[B]||1,H=this.$d.getTime()+O*V;return C.w(H,this)},R.subtract=function(O,M){return this.add(-1*O,M)},R.format=function(O){var M=this,I=this.$locale();if(!this.isValid())return I.invalidDate||m;var F=O||"YYYY-MM-DDTHH:mm:ssZ",B=C.z(this),$=this.$H,V=this.$m,H=this.$M,te=I.weekdays,X=I.months,ee=I.meridiem,re=function(W,j,Y,Q){return W&&(W[j]||W(M,F))||Y[j].slice(0,Q)},pe=function(W){return C.s($%12||12,W,"0")},K=ee||function(W,j,Y){var Q=W<12?"AM":"PM";return Y?Q.toLowerCase():Q};return F.replace(v,function(W,j){return j||function(Y){switch(Y){case"YY":return String(M.$y).slice(-2);case"YYYY":return C.s(M.$y,4,"0");case"M":return H+1;case"MM":return C.s(H+1,2,"0");case"MMM":return re(I.monthsShort,H,X,3);case"MMMM":return re(X,H);case"D":return M.$D;case"DD":return C.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return re(I.weekdaysMin,M.$W,te,2);case"ddd":return re(I.weekdaysShort,M.$W,te,3);case"dddd":return te[M.$W];case"H":return String($);case"HH":return C.s($,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return K($,V,!0);case"A":return K($,V,!1);case"m":return String(V);case"mm":return C.s(V,2,"0");case"s":return String(M.$s);case"ss":return C.s(M.$s,2,"0");case"SSS":return C.s(M.$ms,3,"0");case"Z":return B}return null}(W)||B.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(O,M,I){var F,B=this,$=C.p(M),V=N(O),H=(V.utcOffset()-this.utcOffset())*n,te=this-V,X=function(){return C.m(B,V)};switch($){case p:F=X()/12;break;case d:F=X();break;case f:F=X()/3;break;case h:F=(te-H)/6048e5;break;case u:F=(te-H)/864e5;break;case l:F=te/i;break;case o:F=te/n;break;case s:F=te/r;break;default:F=te}return I?F:C.a(F)},R.daysInMonth=function(){return this.endOf(d).$D},R.$locale=function(){return S[this.$L]},R.locale=function(O,M){if(!O)return this.$L;var I=this.clone(),F=_(O,M,!0);return F&&(I.$L=F),I},R.clone=function(){return C.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},A}(),P=D.prototype;return N.prototype=P,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",u],["$M",d],["$y",p],["$D",g]].forEach(function(A){P[A[1]]=function(R){return this.$g(R,A[0],A[1])}}),N.extend=function(A,R){return A.$i||(A(R,D,N),A.$i=!0),N},N.locale=_,N.isDayjs=L,N.unix=function(A){return N(1e3*A)},N.en=S[w],N.Ls=S,N.p={},N})}(Iv)),Iv.exports}var Ode=Dde();const ea=Pl(Ode),Dv={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const i=r<.5?r*(1+e):r+e-r*e,a=2*r-i;switch(n){case"r":return Dv.hue2rgb(a,i,t+1/3)*255;case"g":return Dv.hue2rgb(a,i,t)*255;case"b":return Dv.hue2rgb(a,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),a=Math.min(t,e,r),s=(i+a)/2;if(n==="l")return s*100;if(i===a)return 0;const o=i-a,l=s>.5?o/(2-i-a):o/(i+a);if(n==="s")return l*100;switch(i){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}}},cr={channel:Dv,lang:{clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},unit:{dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}}},$c={};for(let t=0;t<=255;t++)$c[t]=cr.unit.dec2hex(t);const ta={ALL:0,RGB:1,HSL:2};let Mde=class{constructor(){this.type=ta.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=ta.ALL}is(e){return this.type===e}};class Pde{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new Mde}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=ta.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=cr.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=cr.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=cr.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=cr.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=cr.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=cr.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(ta.HSL)&&r!==void 0?r:(this._ensureHSL(),cr.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(ta.HSL)&&r!==void 0?r:(this._ensureHSL(),cr.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(ta.HSL)&&r!==void 0?r:(this._ensureHSL(),cr.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(ta.RGB)&&r!==void 0?r:(this._ensureRGB(),cr.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(ta.RGB)&&r!==void 0?r:(this._ensureRGB(),cr.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(ta.RGB)&&r!==void 0?r:(this._ensureRGB(),cr.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(ta.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(ta.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(ta.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(ta.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(ta.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(ta.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const Ov=new Pde({r:0,g:0,b:0,a:0},"transparent"),Pd={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Pd.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,a=i%4===0,s=i>4,o=s?1:17,l=s?8:4,u=a?0:-1,h=s?255:15;return Ov.set({r:(n>>l*(u+3)&h)*o,g:(n>>l*(u+2)&h)*o,b:(n>>l*(u+1)&h)*o,a:a?(n&h)*o/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${$c[Math.round(e)]}${$c[Math.round(r)]}${$c[Math.round(n)]}${$c[Math.round(i*255)]}`:`#${$c[Math.round(e)]}${$c[Math.round(r)]}${$c[Math.round(n)]}`}},qu={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(qu.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return cr.channel.clamp.h(parseFloat(r)*.9);case"rad":return cr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return cr.channel.clamp.h(parseFloat(r)*360)}}return cr.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(qu.re);if(!r)return;const[,n,i,a,s,o]=r;return Ov.set({h:qu._hue2deg(n),s:cr.channel.clamp.s(parseFloat(i)),l:cr.channel.clamp.l(parseFloat(a)),a:s?cr.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${cr.lang.round(e)}, ${cr.lang.round(r)}%, ${cr.lang.round(n)}%, ${i})`:`hsl(${cr.lang.round(e)}, ${cr.lang.round(r)}%, ${cr.lang.round(n)}%)`}},Qp={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Qp.colors[t];if(e)return Pd.parse(e)},stringify:t=>{const e=Pd.stringify(t);for(const r in Qp.colors)if(Qp.colors[r]===e)return r}},Zp={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(Zp.re);if(!r)return;const[,n,i,a,s,o,l,u,h]=r;return Ov.set({r:cr.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:cr.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:cr.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:u?cr.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${cr.lang.round(e)}, ${cr.lang.round(r)}, ${cr.lang.round(n)}, ${cr.lang.round(i)})`:`rgb(${cr.lang.round(e)}, ${cr.lang.round(r)}, ${cr.lang.round(n)})`}},uo={format:{keyword:Qp,hex:Pd,rgb:Zp,rgba:Zp,hsl:qu,hsla:qu},parse:t=>{if(typeof t!="string")return t;const e=Pd.parse(t)||Zp.parse(t)||qu.parse(t)||Qp.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(ta.HSL)||t.data.r===void 0?qu.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Zp.stringify(t):Pd.stringify(t)},gI=(t,e)=>{const r=uo.parse(t);for(const n in e)r[n]=cr.channel.clamp[n](e[n]);return uo.stringify(r)},zc=(t,e,r=0,n=1)=>{if(typeof t!="number")return gI(t,{a:e});const i=Ov.set({r:cr.channel.clamp.r(t),g:cr.channel.clamp.g(e),b:cr.channel.clamp.b(r),a:cr.channel.clamp.a(n)});return uo.stringify(i)},sw=(t,e)=>cr.lang.round(uo.parse(t)[e]),Bde=t=>{const{r:e,g:r,b:n}=uo.parse(t),i=.2126*cr.channel.toLinear(e)+.7152*cr.channel.toLinear(r)+.0722*cr.channel.toLinear(n);return cr.lang.round(i)},Fde=t=>Bde(t)>=.5,Uc=t=>!Fde(t),mI=(t,e,r)=>{const n=uo.parse(t),i=n[e],a=cr.channel.clamp[e](i+r);return i!==a&&(n[e]=a),uo.stringify(n)},Ft=(t,e)=>mI(t,"l",e),Yt=(t,e)=>mI(t,"l",-e),He=(t,e)=>{const r=uo.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return gI(t,n)},$de=(t,e,r=50)=>{const{r:n,g:i,b:a,a:s}=uo.parse(t),{r:o,g:l,b:u,a:h}=uo.parse(e),d=r/100,f=d*2-1,p=s-h,m=((f*p===-1?f:(f+p)/(1+f*p))+1)/2,y=1-m,v=n*m+o*y,b=i*m+l*y,x=a*m+u*y,T=s*d+h*(1-d);return zc(v,b,x,T)},It=(t,e=100)=>{const r=uo.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,$de(r,t,e)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:yI,setPrototypeOf:vI,isFrozen:zde,getPrototypeOf:Ude,getOwnPropertyDescriptor:Hde}=Object;let{freeze:Ta,seal:Bs,create:bI}=Object,{apply:ow,construct:lw}=typeof Reflect<"u"&&Reflect;Ta||(Ta=function(e){return e}),Bs||(Bs=function(e){return e}),ow||(ow=function(e,r,n){return e.apply(r,n)}),lw||(lw=function(e,r){return new e(...r)});const Mv=Sa(Array.prototype.forEach),Gde=Sa(Array.prototype.lastIndexOf),xI=Sa(Array.prototype.pop),Jp=Sa(Array.prototype.push),Vde=Sa(Array.prototype.splice),Pv=Sa(String.prototype.toLowerCase),cw=Sa(String.prototype.toString),EI=Sa(String.prototype.match),eg=Sa(String.prototype.replace),qde=Sa(String.prototype.indexOf),Wde=Sa(String.prototype.trim),ho=Sa(Object.prototype.hasOwnProperty),wa=Sa(RegExp.prototype.test),tg=Yde(TypeError);function Sa(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return ow(t,e,n)}}function Yde(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return lw(t,r)}}function _r(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pv;vI&&vI(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const a=r(i);a!==i&&(zde(e)||(e[n]=a),i=a)}t[i]=!0}return t}function Xde(t){for(let e=0;e<t.length;e++)ho(t,e)||(t[e]=null);return t}function Bl(t){const e=bI(null);for(const[r,n]of yI(t))ho(t,r)&&(Array.isArray(n)?e[r]=Xde(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Bl(n):e[r]=n);return e}function rg(t,e){for(;t!==null;){const n=Hde(t,e);if(n){if(n.get)return Sa(n.get);if(typeof n.value=="function")return Sa(n.value)}t=Ude(t)}function r(){return null}return r}const TI=Ta(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),uw=Ta(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hw=Ta(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Kde=Ta(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),dw=Ta(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),jde=Ta(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wI=Ta(["#text"]),SI=Ta(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),fw=Ta(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kI=Ta(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bv=Ta(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qde=Bs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zde=Bs(/<%[\w\W]*|[\w\W]*%>/gm),Jde=Bs(/\$\{[\w\W]*/gm),efe=Bs(/^data-[\-\w.\u00B7-\uFFFF]+$/),tfe=Bs(/^aria-[\-\w]+$/),CI=Bs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rfe=Bs(/^(?:\w+script|data):/i),nfe=Bs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_I=Bs(/^html$/i),ife=Bs(/^[a-z][.\w]*(-[.\w]+)+$/i);var AI=Object.freeze({__proto__:null,ARIA_ATTR:tfe,ATTR_WHITESPACE:nfe,CUSTOM_ELEMENT:ife,DATA_ATTR:efe,DOCTYPE_NAME:_I,ERB_EXPR:Zde,IS_ALLOWED_URI:CI,IS_SCRIPT_OR_DATA:rfe,MUSTACHE_EXPR:Qde,TMPLIT_EXPR:Jde});const ng={element:1,text:3,progressingInstruction:7,comment:8,document:9},afe=function(){return typeof window>"u"?null:window},sfe=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},LI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function NI(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:afe();const e=Lt=>NI(Lt);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==ng.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=t,g=l.prototype,m=rg(g,"cloneNode"),y=rg(g,"remove"),v=rg(g,"nextSibling"),b=rg(g,"childNodes"),x=rg(g,"parentNode");if(typeof s=="function"){const Lt=r.createElement("template");Lt.content&&Lt.content.ownerDocument&&(r=Lt.content.ownerDocument)}let T,w="";const{implementation:S,createNodeIterator:k,createDocumentFragment:L,getElementsByTagName:_}=r,{importNode:N}=n;let C=LI();e.isSupported=typeof yI=="function"&&typeof x=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:D,ERB_EXPR:P,TMPLIT_EXPR:A,DATA_ATTR:R,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:F}=AI;let{IS_ALLOWED_URI:B}=AI,$=null;const V=_r({},[...TI,...uw,...hw,...dw,...wI]);let H=null;const te=_r({},[...SI,...fw,...kI,...Bv]);let X=Object.seal(bI(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ee=null,re=null,pe=!0,K=!0,W=!1,j=!0,Y=!1,Q=!0,ie=!1,J=!1,we=!1,ue=!1,ae=!1,Ue=!1,xe=!0,Ze=!1;const Je="user-content-";let Xe=!0,Pe=!1,We={},he=null;const Te=_r({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Be=null;const ye=_r({},["audio","video","img","source","image","track"]);let Me=null;const Z=_r({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",U="http://www.w3.org/2000/svg",le="http://www.w3.org/1999/xhtml";let oe=le,ge=!1,me=null;const Ce=_r({},[fe,U,le],cw);let Ie=_r({},["mi","mo","mn","ms","mtext"]),Ne=_r({},["annotation-xml"]);const et=_r({},["title","style","font","a","script"]);let ut=null;const rt=["application/xhtml+xml","text/html"],de="text/html";let De=null,Le=null;const je=r.createElement("form"),dt=function(Oe){return Oe instanceof RegExp||Oe instanceof Function},lt=function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Le&&Le===Oe)){if((!Oe||typeof Oe!="object")&&(Oe={}),Oe=Bl(Oe),ut=rt.indexOf(Oe.PARSER_MEDIA_TYPE)===-1?de:Oe.PARSER_MEDIA_TYPE,De=ut==="application/xhtml+xml"?cw:Pv,$=ho(Oe,"ALLOWED_TAGS")?_r({},Oe.ALLOWED_TAGS,De):V,H=ho(Oe,"ALLOWED_ATTR")?_r({},Oe.ALLOWED_ATTR,De):te,me=ho(Oe,"ALLOWED_NAMESPACES")?_r({},Oe.ALLOWED_NAMESPACES,cw):Ce,Me=ho(Oe,"ADD_URI_SAFE_ATTR")?_r(Bl(Z),Oe.ADD_URI_SAFE_ATTR,De):Z,Be=ho(Oe,"ADD_DATA_URI_TAGS")?_r(Bl(ye),Oe.ADD_DATA_URI_TAGS,De):ye,he=ho(Oe,"FORBID_CONTENTS")?_r({},Oe.FORBID_CONTENTS,De):Te,ee=ho(Oe,"FORBID_TAGS")?_r({},Oe.FORBID_TAGS,De):Bl({}),re=ho(Oe,"FORBID_ATTR")?_r({},Oe.FORBID_ATTR,De):Bl({}),We=ho(Oe,"USE_PROFILES")?Oe.USE_PROFILES:!1,pe=Oe.ALLOW_ARIA_ATTR!==!1,K=Oe.ALLOW_DATA_ATTR!==!1,W=Oe.ALLOW_UNKNOWN_PROTOCOLS||!1,j=Oe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Y=Oe.SAFE_FOR_TEMPLATES||!1,Q=Oe.SAFE_FOR_XML!==!1,ie=Oe.WHOLE_DOCUMENT||!1,ue=Oe.RETURN_DOM||!1,ae=Oe.RETURN_DOM_FRAGMENT||!1,Ue=Oe.RETURN_TRUSTED_TYPE||!1,we=Oe.FORCE_BODY||!1,xe=Oe.SANITIZE_DOM!==!1,Ze=Oe.SANITIZE_NAMED_PROPS||!1,Xe=Oe.KEEP_CONTENT!==!1,Pe=Oe.IN_PLACE||!1,B=Oe.ALLOWED_URI_REGEXP||CI,oe=Oe.NAMESPACE||le,Ie=Oe.MATHML_TEXT_INTEGRATION_POINTS||Ie,Ne=Oe.HTML_INTEGRATION_POINTS||Ne,X=Oe.CUSTOM_ELEMENT_HANDLING||{},Oe.CUSTOM_ELEMENT_HANDLING&&dt(Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&dt(Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&typeof Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(K=!1),ae&&(ue=!0),We&&($=_r({},wI),H=[],We.html===!0&&(_r($,TI),_r(H,SI)),We.svg===!0&&(_r($,uw),_r(H,fw),_r(H,Bv)),We.svgFilters===!0&&(_r($,hw),_r(H,fw),_r(H,Bv)),We.mathMl===!0&&(_r($,dw),_r(H,kI),_r(H,Bv))),Oe.ADD_TAGS&&($===V&&($=Bl($)),_r($,Oe.ADD_TAGS,De)),Oe.ADD_ATTR&&(H===te&&(H=Bl(H)),_r(H,Oe.ADD_ATTR,De)),Oe.ADD_URI_SAFE_ATTR&&_r(Me,Oe.ADD_URI_SAFE_ATTR,De),Oe.FORBID_CONTENTS&&(he===Te&&(he=Bl(he)),_r(he,Oe.FORBID_CONTENTS,De)),Xe&&($["#text"]=!0),ie&&_r($,["html","head","body"]),$.table&&(_r($,["tbody"]),delete ee.tbody),Oe.TRUSTED_TYPES_POLICY){if(typeof Oe.TRUSTED_TYPES_POLICY.createHTML!="function")throw tg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Oe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw tg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=Oe.TRUSTED_TYPES_POLICY,w=T.createHTML("")}else T===void 0&&(T=sfe(p,i)),T!==null&&typeof w=="string"&&(w=T.createHTML(""));Ta&&Ta(Oe),Le=Oe}},$e=_r({},[...uw,...hw,...Kde]),tt=_r({},[...dw,...jde]),Ve=function(Oe){let ht=x(Oe);(!ht||!ht.tagName)&&(ht={namespaceURI:oe,tagName:"template"});const _t=Pv(Oe.tagName),fr=Pv(ht.tagName);return me[Oe.namespaceURI]?Oe.namespaceURI===U?ht.namespaceURI===le?_t==="svg":ht.namespaceURI===fe?_t==="svg"&&(fr==="annotation-xml"||Ie[fr]):!!$e[_t]:Oe.namespaceURI===fe?ht.namespaceURI===le?_t==="math":ht.namespaceURI===U?_t==="math"&&Ne[fr]:!!tt[_t]:Oe.namespaceURI===le?ht.namespaceURI===U&&!Ne[fr]||ht.namespaceURI===fe&&!Ie[fr]?!1:!tt[_t]&&(et[_t]||!$e[_t]):!!(ut==="application/xhtml+xml"&&me[Oe.namespaceURI]):!1},it=function(Oe){Jp(e.removed,{element:Oe});try{x(Oe).removeChild(Oe)}catch{y(Oe)}},ft=function(Oe,ht){try{Jp(e.removed,{attribute:ht.getAttributeNode(Oe),from:ht})}catch{Jp(e.removed,{attribute:null,from:ht})}if(ht.removeAttribute(Oe),Oe==="is")if(ue||ae)try{it(ht)}catch{}else try{ht.setAttribute(Oe,"")}catch{}},Tt=function(Oe){let ht=null,_t=null;if(we)Oe="<remove></remove>"+Oe;else{const en=EI(Oe,/^[\r\n\t ]+/);_t=en&&en[0]}ut==="application/xhtml+xml"&&oe===le&&(Oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Oe+"</body></html>");const fr=T?T.createHTML(Oe):Oe;if(oe===le)try{ht=new f().parseFromString(fr,ut)}catch{}if(!ht||!ht.documentElement){ht=S.createDocument(oe,"template",null);try{ht.documentElement.innerHTML=ge?w:fr}catch{}}const Gr=ht.body||ht.documentElement;return Oe&&_t&&Gr.insertBefore(r.createTextNode(_t),Gr.childNodes[0]||null),oe===le?_.call(ht,ie?"html":"body")[0]:ie?ht.documentElement:Gr},kt=function(Oe){return k.call(Oe.ownerDocument||Oe,Oe,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Nt=function(Oe){return Oe instanceof d&&(typeof Oe.nodeName!="string"||typeof Oe.textContent!="string"||typeof Oe.removeChild!="function"||!(Oe.attributes instanceof h)||typeof Oe.removeAttribute!="function"||typeof Oe.setAttribute!="function"||typeof Oe.namespaceURI!="string"||typeof Oe.insertBefore!="function"||typeof Oe.hasChildNodes!="function")},Tr=function(Oe){return typeof o=="function"&&Oe instanceof o};function Ut(Lt,Oe,ht){Mv(Lt,_t=>{_t.call(e,Oe,ht,Le)})}const Lr=function(Oe){let ht=null;if(Ut(C.beforeSanitizeElements,Oe,null),Nt(Oe))return it(Oe),!0;const _t=De(Oe.nodeName);if(Ut(C.uponSanitizeElement,Oe,{tagName:_t,allowedTags:$}),Q&&Oe.hasChildNodes()&&!Tr(Oe.firstElementChild)&&wa(/<[/\w!]/g,Oe.innerHTML)&&wa(/<[/\w!]/g,Oe.textContent)||Oe.nodeType===ng.progressingInstruction||Q&&Oe.nodeType===ng.comment&&wa(/<[/\w]/g,Oe.data))return it(Oe),!0;if(!$[_t]||ee[_t]){if(!ee[_t]&&mr(_t)&&(X.tagNameCheck instanceof RegExp&&wa(X.tagNameCheck,_t)||X.tagNameCheck instanceof Function&&X.tagNameCheck(_t)))return!1;if(Xe&&!he[_t]){const fr=x(Oe)||Oe.parentNode,Gr=b(Oe)||Oe.childNodes;if(Gr&&fr){const en=Gr.length;for(let Vr=en-1;Vr>=0;--Vr){const Wn=m(Gr[Vr],!0);Wn.__removalCount=(Oe.__removalCount||0)+1,fr.insertBefore(Wn,v(Oe))}}}return it(Oe),!0}return Oe instanceof l&&!Ve(Oe)||(_t==="noscript"||_t==="noembed"||_t==="noframes")&&wa(/<\/no(script|embed|frames)/i,Oe.innerHTML)?(it(Oe),!0):(Y&&Oe.nodeType===ng.text&&(ht=Oe.textContent,Mv([D,P,A],fr=>{ht=eg(ht,fr," ")}),Oe.textContent!==ht&&(Jp(e.removed,{element:Oe.cloneNode()}),Oe.textContent=ht)),Ut(C.afterSanitizeElements,Oe,null),!1)},br=function(Oe,ht,_t){if(xe&&(ht==="id"||ht==="name")&&(_t in r||_t in je))return!1;if(!(K&&!re[ht]&&wa(R,ht))){if(!(pe&&wa(O,ht))){if(!H[ht]||re[ht]){if(!(mr(Oe)&&(X.tagNameCheck instanceof RegExp&&wa(X.tagNameCheck,Oe)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Oe))&&(X.attributeNameCheck instanceof RegExp&&wa(X.attributeNameCheck,ht)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(ht))||ht==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&wa(X.tagNameCheck,_t)||X.tagNameCheck instanceof Function&&X.tagNameCheck(_t))))return!1}else if(!Me[ht]){if(!wa(B,eg(_t,I,""))){if(!((ht==="src"||ht==="xlink:href"||ht==="href")&&Oe!=="script"&&qde(_t,"data:")===0&&Be[Oe])){if(!(W&&!wa(M,eg(_t,I,"")))){if(_t)return!1}}}}}}return!0},mr=function(Oe){return Oe!=="annotation-xml"&&EI(Oe,F)},nr=function(Oe){Ut(C.beforeSanitizeAttributes,Oe,null);const{attributes:ht}=Oe;if(!ht||Nt(Oe))return;const _t={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let fr=ht.length;for(;fr--;){const Gr=ht[fr],{name:en,namespaceURI:Vr,value:Wn}=Gr,Yn=De(en),Qi=Wn;let at=en==="value"?Qi:Wde(Qi);if(_t.attrName=Yn,_t.attrValue=at,_t.keepAttr=!0,_t.forceKeepAttr=void 0,Ut(C.uponSanitizeAttribute,Oe,_t),at=_t.attrValue,Ze&&(Yn==="id"||Yn==="name")&&(ft(en,Oe),at=Je+at),Q&&wa(/((--!?|])>)|<\/(style|title)/i,at)){ft(en,Oe);continue}if(_t.forceKeepAttr)continue;if(!_t.keepAttr){ft(en,Oe);continue}if(!j&&wa(/\/>/i,at)){ft(en,Oe);continue}Y&&Mv([D,P,A],ct=>{at=eg(at,ct," ")});const st=De(Oe.nodeName);if(!br(st,Yn,at)){ft(en,Oe);continue}if(T&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Vr)switch(p.getAttributeType(st,Yn)){case"TrustedHTML":{at=T.createHTML(at);break}case"TrustedScriptURL":{at=T.createScriptURL(at);break}}if(at!==Qi)try{Vr?Oe.setAttributeNS(Vr,en,at):Oe.setAttribute(en,at),Nt(Oe)?it(Oe):xI(e.removed)}catch{ft(en,Oe)}}Ut(C.afterSanitizeAttributes,Oe,null)},nn=function Lt(Oe){let ht=null;const _t=kt(Oe);for(Ut(C.beforeSanitizeShadowDOM,Oe,null);ht=_t.nextNode();)Ut(C.uponSanitizeShadowNode,ht,null),Lr(ht),nr(ht),ht.content instanceof a&&Lt(ht.content);Ut(C.afterSanitizeShadowDOM,Oe,null)};return e.sanitize=function(Lt){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ht=null,_t=null,fr=null,Gr=null;if(ge=!Lt,ge&&(Lt="<!-->"),typeof Lt!="string"&&!Tr(Lt))if(typeof Lt.toString=="function"){if(Lt=Lt.toString(),typeof Lt!="string")throw tg("dirty is not a string, aborting")}else throw tg("toString is not a function");if(!e.isSupported)return Lt;if(J||lt(Oe),e.removed=[],typeof Lt=="string"&&(Pe=!1),Pe){if(Lt.nodeName){const Wn=De(Lt.nodeName);if(!$[Wn]||ee[Wn])throw tg("root node is forbidden and cannot be sanitized in-place")}}else if(Lt instanceof o)ht=Tt("<!---->"),_t=ht.ownerDocument.importNode(Lt,!0),_t.nodeType===ng.element&&_t.nodeName==="BODY"||_t.nodeName==="HTML"?ht=_t:ht.appendChild(_t);else{if(!ue&&!Y&&!ie&&Lt.indexOf("<")===-1)return T&&Ue?T.createHTML(Lt):Lt;if(ht=Tt(Lt),!ht)return ue?null:Ue?w:""}ht&&we&&it(ht.firstChild);const en=kt(Pe?Lt:ht);for(;fr=en.nextNode();)Lr(fr),nr(fr),fr.content instanceof a&&nn(fr.content);if(Pe)return Lt;if(ue){if(ae)for(Gr=L.call(ht.ownerDocument);ht.firstChild;)Gr.appendChild(ht.firstChild);else Gr=ht;return(H.shadowroot||H.shadowrootmode)&&(Gr=N.call(n,Gr,!0)),Gr}let Vr=ie?ht.outerHTML:ht.innerHTML;return ie&&$["!doctype"]&&ht.ownerDocument&&ht.ownerDocument.doctype&&ht.ownerDocument.doctype.name&&wa(_I,ht.ownerDocument.doctype.name)&&(Vr="<!DOCTYPE "+ht.ownerDocument.doctype.name+`>
`+Vr),Y&&Mv([D,P,A],Wn=>{Vr=eg(Vr,Wn," ")}),T&&Ue?T.createHTML(Vr):Vr},e.setConfig=function(){let Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lt(Lt),J=!0},e.clearConfig=function(){Le=null,J=!1},e.isValidAttribute=function(Lt,Oe,ht){Le||lt({});const _t=De(Lt),fr=De(Oe);return br(_t,fr,ht)},e.addHook=function(Lt,Oe){typeof Oe=="function"&&Jp(C[Lt],Oe)},e.removeHook=function(Lt,Oe){if(Oe!==void 0){const ht=Gde(C[Lt],Oe);return ht===-1?void 0:Vde(C[Lt],ht,1)[0]}return xI(C[Lt])},e.removeHooks=function(Lt){C[Lt]=[]},e.removeAllHooks=function(){C=LI()},e}var Bd=NI(),RI=Object.defineProperty,E=(t,e)=>RI(t,"name",{value:e,configurable:!0}),Fv=(t,e)=>{for(var r in e)RI(t,r,{get:e[r],enumerable:!0})},Fl={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},se={trace:E((...t)=>{},"trace"),debug:E((...t)=>{},"debug"),info:E((...t)=>{},"info"),warn:E((...t)=>{},"warn"),error:E((...t)=>{},"error"),fatal:E((...t)=>{},"fatal")},pw=E(function(t="fatal"){let e=Fl.fatal;typeof t=="string"?t.toLowerCase()in Fl&&(e=Fl[t]):typeof t=="number"&&(e=t),se.trace=()=>{},se.debug=()=>{},se.info=()=>{},se.warn=()=>{},se.error=()=>{},se.fatal=()=>{},e<=Fl.fatal&&(se.fatal=console.error?console.error.bind(console,Fs("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Fs("FATAL"))),e<=Fl.error&&(se.error=console.error?console.error.bind(console,Fs("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Fs("ERROR"))),e<=Fl.warn&&(se.warn=console.warn?console.warn.bind(console,Fs("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Fs("WARN"))),e<=Fl.info&&(se.info=console.info?console.info.bind(console,Fs("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Fs("INFO"))),e<=Fl.debug&&(se.debug=console.debug?console.debug.bind(console,Fs("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Fs("DEBUG"))),e<=Fl.trace&&(se.trace=console.debug?console.debug.bind(console,Fs("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Fs("TRACE")))},"setLogLevel"),Fs=E(t=>`%c${ea().format("ss.SSS")} : ${t} : `,"format"),II=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,ig=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ofe=/\s*%%.*\n/gm,DI=(P0=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},E(P0,"UnknownDiagramError"),P0),Fd={},gw=E(function(t,e){t=t.replace(II,"").replace(ig,"").replace(ofe,`
`);for(const[r,{detector:n}]of Object.entries(Fd))if(n(t,e))return r;throw new DI(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),mw=E((...t)=>{for(const{id:e,detector:r,loader:n}of t)OI(e,r,n)},"registerLazyLoadedDiagrams"),OI=E((t,e,r)=>{Fd[t]&&se.warn(`Detector with key ${t} already exists. Overwriting.`),Fd[t]={detector:e,loader:r},se.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),lfe=E(t=>Fd[t].loader,"getDiagramLoader"),yw=E((t,e,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>yw(t,a,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=yw(t[a],e[a],{depth:r-1,clobber:n})):(n||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),ai=yw,$v="#ffffff",zv="#f2f2f2",ka=E((t,e)=>e?He(t,{s:-40,l:10}):He(t,{s:-40,l:-10}),"mkBorder"),cfe=(B0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,a,s,o,l,u,h,d,f,p,g,m,y,v,b,x,T,w,S;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||He(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||He(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ka(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ka(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ka(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ka(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||It(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||It(this.tertiaryColor),this.lineColor=this.lineColor||It(this.background),this.arrowheadColor=this.arrowheadColor||It(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Yt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Yt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||It(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ft(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Yt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Yt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||He(this.primaryColor,{h:30}),this.cScale4=this.cScale4||He(this.primaryColor,{h:60}),this.cScale5=this.cScale5||He(this.primaryColor,{h:90}),this.cScale6=this.cScale6||He(this.primaryColor,{h:120}),this.cScale7=this.cScale7||He(this.primaryColor,{h:150}),this.cScale8=this.cScale8||He(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||He(this.primaryColor,{h:270}),this.cScale10=this.cScale10||He(this.primaryColor,{h:300}),this.cScale11=this.cScale11||He(this.primaryColor,{h:330}),this.darkMode)for(let k=0;k<this.THEME_COLOR_LIMIT;k++)this["cScale"+k]=Yt(this["cScale"+k],75);else for(let k=0;k<this.THEME_COLOR_LIMIT;k++)this["cScale"+k]=Yt(this["cScale"+k],25);for(let k=0;k<this.THEME_COLOR_LIMIT;k++)this["cScaleInv"+k]=this["cScaleInv"+k]||It(this["cScale"+k]);for(let k=0;k<this.THEME_COLOR_LIMIT;k++)this.darkMode?this["cScalePeer"+k]=this["cScalePeer"+k]||Ft(this["cScale"+k],10):this["cScalePeer"+k]=this["cScalePeer"+k]||Yt(this["cScale"+k],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let k=0;k<this.THEME_COLOR_LIMIT;k++)this["cScaleLabel"+k]=this["cScaleLabel"+k]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let k=0;k<5;k++)this["surface"+k]=this["surface"+k]||He(this.mainBkg,{h:180,s:-15,l:e*(5+k*3)}),this["surfacePeer"+k]=this["surfacePeer"+k]||He(this.mainBkg,{h:180,s:-15,l:e*(8+k*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||He(this.primaryColor,{h:64}),this.fillType3=this.fillType3||He(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||He(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||He(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||He(this.primaryColor,{h:128}),this.fillType7=this.fillType7||He(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||He(this.primaryColor,{l:-10}),this.pie5=this.pie5||He(this.secondaryColor,{l:-10}),this.pie6=this.pie6||He(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||He(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||He(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||He(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||He(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||He(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||He(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((u=this.radar)==null?void 0:u.graticuleOpacity)||.3,legendBoxSize:((h=this.radar)==null?void 0:h.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||He(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||He(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||He(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||He(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||He(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||He(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Uc(this.quadrant1Fill)?Ft(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((f=this.xyChart)==null?void 0:f.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((g=this.xyChart)==null?void 0:g.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((v=this.xyChart)==null?void 0:v.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((b=this.xyChart)==null?void 0:b.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((x=this.xyChart)==null?void 0:x.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((T=this.xyChart)==null?void 0:T.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((w=this.xyChart)==null?void 0:w.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Yt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||He(this.primaryColor,{h:-30}),this.git4=this.git4||He(this.primaryColor,{h:-60}),this.git5=this.git5||He(this.primaryColor,{h:-90}),this.git6=this.git6||He(this.primaryColor,{h:60}),this.git7=this.git7||He(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Yt(this.git0,25),this.git1=Yt(this.git1,25),this.git2=Yt(this.git2,25),this.git3=Yt(this.git3,25),this.git4=Yt(this.git4,25),this.git5=Yt(this.git5,25),this.git6=Yt(this.git6,25),this.git7=Yt(this.git7,25)),this.gitInv0=this.gitInv0||It(this.git0),this.gitInv1=this.gitInv1||It(this.git1),this.gitInv2=this.gitInv2||It(this.git2),this.gitInv3=this.gitInv3||It(this.git3),this.gitInv4=this.gitInv4||It(this.git4),this.gitInv5=this.gitInv5||It(this.git5),this.gitInv6=this.gitInv6||It(this.git6),this.gitInv7=this.gitInv7||It(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||$v,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||zv}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},E(B0,"Theme"),B0),ufe=E(t=>{const e=new cfe;return e.calculate(t),e},"getThemeVariables"),hfe=(F0=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ft(this.primaryColor,16),this.tertiaryColor=He(this.primaryColor,{h:-160}),this.primaryBorderColor=It(this.background),this.secondaryBorderColor=ka(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ka(this.tertiaryColor,this.darkMode),this.primaryTextColor=It(this.primaryColor),this.secondaryTextColor=It(this.secondaryColor),this.tertiaryTextColor=It(this.tertiaryColor),this.lineColor=It(this.background),this.textColor=It(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ft(It("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=zc(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Yt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Yt(this.sectionBkgColor,10),this.taskBorderColor=zc(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=zc(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ft(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Yt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,n,i,a,s,o,l,u,h,d,f,p,g,m,y,v,b,x,T,w;this.secondBkg=Ft(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ft(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ft(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=He(this.primaryColor,{h:64}),this.fillType3=He(this.secondaryColor,{h:64}),this.fillType4=He(this.primaryColor,{h:-64}),this.fillType5=He(this.secondaryColor,{h:-64}),this.fillType6=He(this.primaryColor,{h:128}),this.fillType7=He(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||He(this.primaryColor,{h:30}),this.cScale4=this.cScale4||He(this.primaryColor,{h:60}),this.cScale5=this.cScale5||He(this.primaryColor,{h:90}),this.cScale6=this.cScale6||He(this.primaryColor,{h:120}),this.cScale7=this.cScale7||He(this.primaryColor,{h:150}),this.cScale8=this.cScale8||He(this.primaryColor,{h:210}),this.cScale9=this.cScale9||He(this.primaryColor,{h:270}),this.cScale10=this.cScale10||He(this.primaryColor,{h:300}),this.cScale11=this.cScale11||He(this.primaryColor,{h:330});for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||It(this["cScale"+S]);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScalePeer"+S]=this["cScalePeer"+S]||Ft(this["cScale"+S],10);for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||He(this.mainBkg,{h:30,s:-30,l:-(-10+S*4)}),this["surfacePeer"+S]=this["surfacePeer"+S]||He(this.mainBkg,{h:30,s:-30,l:-(-7+S*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["pie"+S]=this["cScale"+S];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||He(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||He(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||He(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||He(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||He(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||He(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Uc(this.quadrant1Fill)?Ft(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((v=this.radar)==null?void 0:v.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((b=this.radar)==null?void 0:b.graticuleStrokeWidth)||1,graticuleOpacity:((x=this.radar)==null?void 0:x.graticuleOpacity)||.3,legendBoxSize:((T=this.radar)==null?void 0:T.legendBoxSize)||12,legendFontSize:((w=this.radar)==null?void 0:w.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Yt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ft(this.secondaryColor,20),this.git1=Ft(this.pie2||this.secondaryColor,20),this.git2=Ft(this.pie3||this.tertiaryColor,20),this.git3=Ft(this.pie4||He(this.primaryColor,{h:-30}),20),this.git4=Ft(this.pie5||He(this.primaryColor,{h:-60}),20),this.git5=Ft(this.pie6||He(this.primaryColor,{h:-90}),10),this.git6=Ft(this.pie7||He(this.primaryColor,{h:60}),10),this.git7=Ft(this.pie8||He(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||It(this.git0),this.gitInv1=this.gitInv1||It(this.git1),this.gitInv2=this.gitInv2||It(this.git2),this.gitInv3=this.gitInv3||It(this.git3),this.gitInv4=this.gitInv4||It(this.git4),this.gitInv5=this.gitInv5||It(this.git5),this.gitInv6=this.gitInv6||It(this.git6),this.gitInv7=this.gitInv7||It(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||It(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||It(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ft(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ft(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},E(F0,"Theme"),F0),dfe=E(t=>{const e=new hfe;return e.calculate(t),e},"getThemeVariables"),ffe=($0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=He(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=He(this.primaryColor,{h:-160}),this.primaryBorderColor=ka(this.primaryColor,this.darkMode),this.secondaryBorderColor=ka(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ka(this.tertiaryColor,this.darkMode),this.primaryTextColor=It(this.primaryColor),this.secondaryTextColor=It(this.secondaryColor),this.tertiaryTextColor=It(this.tertiaryColor),this.lineColor=It(this.background),this.textColor=It(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=zc(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,n,i,a,s,o,l,u,h,d,f,p,g,m,y,v,b,x,T,w;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||He(this.primaryColor,{h:30}),this.cScale4=this.cScale4||He(this.primaryColor,{h:60}),this.cScale5=this.cScale5||He(this.primaryColor,{h:90}),this.cScale6=this.cScale6||He(this.primaryColor,{h:120}),this.cScale7=this.cScale7||He(this.primaryColor,{h:150}),this.cScale8=this.cScale8||He(this.primaryColor,{h:210}),this.cScale9=this.cScale9||He(this.primaryColor,{h:270}),this.cScale10=this.cScale10||He(this.primaryColor,{h:300}),this.cScale11=this.cScale11||He(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Yt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Yt(this.tertiaryColor,40);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScale"+S]=Yt(this["cScale"+S],10),this["cScalePeer"+S]=this["cScalePeer"+S]||Yt(this["cScale"+S],25);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||He(this["cScale"+S],{h:180});for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||He(this.mainBkg,{h:30,l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||He(this.mainBkg,{h:30,l:-(7+S*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||It(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||It(this.labelTextColor);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ft(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=He(this.primaryColor,{h:64}),this.fillType3=He(this.secondaryColor,{h:64}),this.fillType4=He(this.primaryColor,{h:-64}),this.fillType5=He(this.secondaryColor,{h:-64}),this.fillType6=He(this.primaryColor,{h:128}),this.fillType7=He(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||He(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||He(this.primaryColor,{l:-10}),this.pie5=this.pie5||He(this.secondaryColor,{l:-30}),this.pie6=this.pie6||He(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||He(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||He(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||He(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||He(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||He(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||He(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||He(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||He(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||He(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||He(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||He(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||He(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Uc(this.quadrant1Fill)?Ft(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((s=this.radar)==null?void 0:s.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)==null?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.xyChart={backgroundColor:((d=this.xyChart)==null?void 0:d.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((v=this.xyChart)==null?void 0:v.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((b=this.xyChart)==null?void 0:b.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((x=this.xyChart)==null?void 0:x.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((T=this.xyChart)==null?void 0:T.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((w=this.xyChart)==null?void 0:w.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||He(this.primaryColor,{h:-30}),this.git4=this.git4||He(this.primaryColor,{h:-60}),this.git5=this.git5||He(this.primaryColor,{h:-90}),this.git6=this.git6||He(this.primaryColor,{h:60}),this.git7=this.git7||He(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Yt(this.git0,25),this.git1=Yt(this.git1,25),this.git2=Yt(this.git2,25),this.git3=Yt(this.git3,25),this.git4=Yt(this.git4,25),this.git5=Yt(this.git5,25),this.git6=Yt(this.git6,25),this.git7=Yt(this.git7,25)),this.gitInv0=this.gitInv0||Yt(It(this.git0),25),this.gitInv1=this.gitInv1||It(this.git1),this.gitInv2=this.gitInv2||It(this.git2),this.gitInv3=this.gitInv3||It(this.git3),this.gitInv4=this.gitInv4||It(this.git4),this.gitInv5=this.gitInv5||It(this.git5),this.gitInv6=this.gitInv6||It(this.git6),this.gitInv7=this.gitInv7||It(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||It(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||It(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||$v,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||zv}calculate(e){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},E($0,"Theme"),$0),Uv=E(t=>{const e=new ffe;return e.calculate(t),e},"getThemeVariables"),pfe=(z0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ft("#cde498",10),this.primaryBorderColor=ka(this.primaryColor,this.darkMode),this.secondaryBorderColor=ka(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ka(this.tertiaryColor,this.darkMode),this.primaryTextColor=It(this.primaryColor),this.secondaryTextColor=It(this.secondaryColor),this.tertiaryTextColor=It(this.primaryColor),this.lineColor=It(this.background),this.textColor=It(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,u,h,d,f,p,g,m,y,v,b,x,T,w;this.actorBorder=Yt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||He(this.primaryColor,{h:30}),this.cScale4=this.cScale4||He(this.primaryColor,{h:60}),this.cScale5=this.cScale5||He(this.primaryColor,{h:90}),this.cScale6=this.cScale6||He(this.primaryColor,{h:120}),this.cScale7=this.cScale7||He(this.primaryColor,{h:150}),this.cScale8=this.cScale8||He(this.primaryColor,{h:210}),this.cScale9=this.cScale9||He(this.primaryColor,{h:270}),this.cScale10=this.cScale10||He(this.primaryColor,{h:300}),this.cScale11=this.cScale11||He(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Yt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Yt(this.tertiaryColor,40);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScale"+S]=Yt(this["cScale"+S],10),this["cScalePeer"+S]=this["cScalePeer"+S]||Yt(this["cScale"+S],25);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||He(this["cScale"+S],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||He(this.mainBkg,{h:30,s:-30,l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||He(this.mainBkg,{h:30,s:-30,l:-(8+S*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=He(this.primaryColor,{h:64}),this.fillType3=He(this.secondaryColor,{h:64}),this.fillType4=He(this.primaryColor,{h:-64}),this.fillType5=He(this.secondaryColor,{h:-64}),this.fillType6=He(this.primaryColor,{h:128}),this.fillType7=He(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||He(this.primaryColor,{l:-30}),this.pie5=this.pie5||He(this.secondaryColor,{l:-30}),this.pie6=this.pie6||He(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||He(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||He(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||He(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||He(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||He(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||He(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||He(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||He(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||He(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||He(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||He(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||He(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Uc(this.quadrant1Fill)?Ft(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((s=this.radar)==null?void 0:s.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)==null?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.xyChart={backgroundColor:((d=this.xyChart)==null?void 0:d.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((v=this.xyChart)==null?void 0:v.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((b=this.xyChart)==null?void 0:b.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((x=this.xyChart)==null?void 0:x.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((T=this.xyChart)==null?void 0:T.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((w=this.xyChart)==null?void 0:w.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||He(this.primaryColor,{h:-30}),this.git4=this.git4||He(this.primaryColor,{h:-60}),this.git5=this.git5||He(this.primaryColor,{h:-90}),this.git6=this.git6||He(this.primaryColor,{h:60}),this.git7=this.git7||He(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Yt(this.git0,25),this.git1=Yt(this.git1,25),this.git2=Yt(this.git2,25),this.git3=Yt(this.git3,25),this.git4=Yt(this.git4,25),this.git5=Yt(this.git5,25),this.git6=Yt(this.git6,25),this.git7=Yt(this.git7,25)),this.gitInv0=this.gitInv0||It(this.git0),this.gitInv1=this.gitInv1||It(this.git1),this.gitInv2=this.gitInv2||It(this.git2),this.gitInv3=this.gitInv3||It(this.git3),this.gitInv4=this.gitInv4||It(this.git4),this.gitInv5=this.gitInv5||It(this.git5),this.gitInv6=this.gitInv6||It(this.git6),this.gitInv7=this.gitInv7||It(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||It(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||It(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||$v,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||zv}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},E(z0,"Theme"),z0),gfe=E(t=>{const e=new pfe;return e.calculate(t),e},"getThemeVariables"),mfe=(U0=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ft(this.contrast,55),this.background="#ffffff",this.tertiaryColor=He(this.primaryColor,{h:-160}),this.primaryBorderColor=ka(this.primaryColor,this.darkMode),this.secondaryBorderColor=ka(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ka(this.tertiaryColor,this.darkMode),this.primaryTextColor=It(this.primaryColor),this.secondaryTextColor=It(this.secondaryColor),this.tertiaryTextColor=It(this.tertiaryColor),this.lineColor=It(this.background),this.textColor=It(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,u,h,d,f,p,g,m,y,v,b,x,T,w;this.secondBkg=Ft(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||It(this["cScale"+S]);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this.darkMode?this["cScalePeer"+S]=this["cScalePeer"+S]||Ft(this["cScale"+S],10):this["cScalePeer"+S]=this["cScalePeer"+S]||Yt(this["cScale"+S],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||He(this.mainBkg,{l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||He(this.mainBkg,{l:-(8+S*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ft(this.contrast,30),this.sectionBkgColor2=Ft(this.contrast,30),this.taskBorderColor=Yt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ft(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Yt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=He(this.primaryColor,{h:64}),this.fillType3=He(this.secondaryColor,{h:64}),this.fillType4=He(this.primaryColor,{h:-64}),this.fillType5=He(this.secondaryColor,{h:-64}),this.fillType6=He(this.primaryColor,{h:128}),this.fillType7=He(this.secondaryColor,{h:128});for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["pie"+S]=this["cScale"+S];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||He(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||He(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||He(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||He(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||He(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||He(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Uc(this.quadrant1Fill)?Ft(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((v=this.radar)==null?void 0:v.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((b=this.radar)==null?void 0:b.graticuleStrokeWidth)||1,graticuleOpacity:((x=this.radar)==null?void 0:x.graticuleOpacity)||.3,legendBoxSize:((T=this.radar)==null?void 0:T.legendBoxSize)||12,legendFontSize:((w=this.radar)==null?void 0:w.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Yt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||He(this.primaryColor,{h:-30}),this.git4=this.pie5||He(this.primaryColor,{h:-60}),this.git5=this.pie6||He(this.primaryColor,{h:-90}),this.git6=this.pie7||He(this.primaryColor,{h:60}),this.git7=this.pie8||He(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||It(this.git0),this.gitInv1=this.gitInv1||It(this.git1),this.gitInv2=this.gitInv2||It(this.git2),this.gitInv3=this.gitInv3||It(this.git3),this.gitInv4=this.gitInv4||It(this.git4),this.gitInv5=this.gitInv5||It(this.git5),this.gitInv6=this.gitInv6||It(this.git6),this.gitInv7=this.gitInv7||It(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||$v,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||zv}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},E(U0,"Theme"),U0),yfe=E(t=>{const e=new mfe;return e.calculate(t),e},"getThemeVariables"),$l={base:{getThemeVariables:ufe},dark:{getThemeVariables:dfe},default:{getThemeVariables:Uv},forest:{getThemeVariables:gfe},neutral:{getThemeVariables:yfe}},qo={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},MI={...qo,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:$l.default.getThemeVariables(),sequence:{...qo.sequence,messageFont:E(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:E(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:E(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...qo.gantt,tickInterval:void 0,useWidth:void 0},c4:{...qo.c4,useWidth:void 0,personFont:E(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...qo.flowchart,inheritDir:!1},external_personFont:E(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:E(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:E(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:E(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:E(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:E(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:E(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:E(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:E(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:E(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:E(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:E(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:E(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:E(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:E(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:E(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:E(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:E(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:E(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:E(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:E(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...qo.pie,useWidth:984},xyChart:{...qo.xyChart,useWidth:void 0},requirement:{...qo.requirement,useWidth:void 0},packet:{...qo.packet},radar:{...qo.radar}},PI=E((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,...PI(t[n],"")]:[...r,e+n],[]),"keyify"),vfe=new Set(PI(MI,"")),Rr=MI,Hv=E(t=>{if(se.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>Hv(e));return}for(const e of Object.keys(t)){if(se.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!vfe.has(e)||t[e]==null){se.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){se.debug("sanitizing object",e),Hv(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(se.debug("sanitizing css option",e),t[e]=bfe(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}se.debug("After sanitization",t)}},"sanitizeDirective"),bfe=E(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),$d=Object.freeze(Rr),Va=ai({},$d),BI,zd=[],ag=ai({},$d),Gv=E((t,e)=>{let r=ai({},t),n={};for(const i of e)zI(i),n=ai(n,i);if(r=ai(r,n),n.theme&&n.theme in $l){const i=ai({},BI),a=ai(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in $l&&(r.themeVariables=$l[r.theme].getThemeVariables(a))}return ag=r,HI(ag),ag},"updateCurrentConfig"),xfe=E(t=>(Va=ai({},$d),Va=ai(Va,t),t.theme&&$l[t.theme]&&(Va.themeVariables=$l[t.theme].getThemeVariables(t.themeVariables)),Gv(Va,zd),Va),"setSiteConfig"),Efe=E(t=>{BI=ai({},t)},"saveConfigFromInitialize"),Tfe=E(t=>(Va=ai(Va,t),Gv(Va,zd),Va),"updateSiteConfig"),FI=E(()=>ai({},Va),"getSiteConfig"),$I=E(t=>(HI(t),ai(ag,t),qr()),"setConfig"),qr=E(()=>ai({},ag),"getConfig"),zI=E(t=>{t&&(["secure",...Va.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(se.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&zI(t[e])}))},"sanitize"),wfe=E(t=>{var e;Hv(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),zd.push(t),Gv(Va,zd)},"addDirective"),Vv=E((t=Va)=>{zd=[],Gv(t,zd)},"reset"),Sfe={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},UI={},kfe=E(t=>{UI[t]||(se.warn(Sfe[t]),UI[t]=!0)},"issueWarning"),HI=E(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&kfe("LAZY_LOAD_DEPRECATED")},"checkConfig"),Ud=/<br\s*\/?>/gi,Cfe=E(t=>t?WI(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),_fe=(()=>{let t=!1;return()=>{t||(GI(),t=!0)}})();function GI(){const t="data-temp-href-target";Bd.addHook("beforeSanitizeAttributes",e=>{e instanceof Element&&e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Bd.addHook("afterSanitizeAttributes",e=>{e instanceof Element&&e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}E(GI,"setupDompurifyHooks");var VI=E(t=>(_fe(),Bd.sanitize(t)),"removeScript"),qI=E((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=VI(t):n!=="loose"&&(t=WI(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=Rfe(t))}return t},"sanitizeMore"),on=E((t,e)=>t&&(e.dompurifyConfig?t=Bd.sanitize(qI(t,e),e.dompurifyConfig).toString():t=Bd.sanitize(qI(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),Afe=E((t,e)=>typeof t=="string"?on(t,e):t.flat().map(r=>on(r,e)),"sanitizeTextOrArray"),Lfe=E(t=>Ud.test(t),"hasBreaks"),Nfe=E(t=>t.split(Ud),"splitBreaks"),Rfe=E(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),WI=E(t=>t.replace(Ud,"#br#"),"breakToPlaceholder"),sg=E(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),tn=E(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),Ife=E(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),Dfe=E(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),Hc=E(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i===","&&n>0&&n+1<e.length){const a=e[n-1],s=e[n+1];Ofe(a,s)&&(i=a+","+s,n++,r.pop())}r.push(Mfe(i))}return r.join("")},"parseGenericTypes"),vw=E((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Ofe=E((t,e)=>{const r=vw(t,"~"),n=vw(e,"~");return r===1&&n===1},"shouldCombineSets"),Mfe=E(t=>{const e=vw(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),YI=E(()=>window.MathMLElement!==void 0,"isMathMLSupported"),bw=/\$\$(.*)\$\$/g,ra=E(t=>{var e;return(((e=t.match(bw))==null?void 0:e.length)??0)>0},"hasKatex"),og=E(async(t,e)=>{t=await lg(t,e);const r=document.createElement("div");r.innerHTML=t,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),lg=E(async(t,e)=>{if(!ra(t))return t;if(!(YI()||e.legacyMathML||e.forceLegacyMathML))return t.replace(bw,"MathML is unsupported in this environment.");{const{default:r}=await Promise.resolve().then(()=>sce),n=e.forceLegacyMathML||!YI()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(Ud).map(i=>ra(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(bw,(i,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatex"),xt={getRows:Cfe,sanitizeText:on,sanitizeTextOrArray:Afe,hasBreaks:Lfe,splitBreaks:Nfe,lineBreakRegex:Ud,removeScript:VI,getUrl:sg,evaluate:tn,getMax:Ife,getMin:Dfe},Pfe=E(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),Bfe=E(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),qa=E(function(t,e,r,n){const i=Bfe(e,r,n);Pfe(t,i)},"configureSvgSize"),Hd=E(function(t,e,r,n){const i=e.node().getBBox(),a=i.width,s=i.height;se.info(`SVG bounds: ${a}x${s}`,i);let o=0,l=0;se.info(`Graph bounds: ${o}x${l}`,t),o=a+r*2,l=s+r*2,se.info(`Calculated bounds: ${o}x${l}`),qa(e,l,o,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;e.attr("viewBox",u)},"setupGraphViewbox"),qv={},Ffe=E((t,e,r)=>{let n="";return t in qv&&qv[t]?n=qv[t](r):se.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),$fe=E((t,e)=>{e!==void 0&&(qv[t]=e)},"addStylesForDiagram"),zfe=Ffe,xw={};Fv(xw,{clear:()=>si,getAccDescription:()=>_i,getAccTitle:()=>ki,getDiagramTitle:()=>li,setAccDescription:()=>Ci,setAccTitle:()=>oi,setDiagramTitle:()=>Fi});var Ew="",Tw="",ww="",Sw=E(t=>on(t,qr()),"sanitizeText"),si=E(()=>{Ew="",ww="",Tw=""},"clear"),oi=E(t=>{Ew=Sw(t).replace(/^\s+/g,"")},"setAccTitle"),ki=E(()=>Ew,"getAccTitle"),Ci=E(t=>{ww=Sw(t).replace(/\n\s+/g,`
`)},"setAccDescription"),_i=E(()=>ww,"getAccDescription"),Fi=E(t=>{Tw=Sw(t)},"setDiagramTitle"),li=E(()=>Tw,"getDiagramTitle"),XI=se,Ufe=pw,Re=qr,kw=$I,KI=$d,Wv=E(t=>on(t,Re()),"sanitizeText"),jI=Hd,Hfe=E(()=>xw,"getCommonDb"),Yv={},Xv=E((t,e,r)=>{var n;Yv[t]&&XI.warn(`Diagram with id ${t} already registered. Overwriting.`),Yv[t]=e,r&&OI(t,r),$fe(t,e.styles),(n=e.injectUtils)==null||n.call(e,XI,Ufe,Re,Wv,jI,Hfe(),()=>{})},"registerDiagram"),Cw=E(t=>{if(t in Yv)return Yv[t];throw new Gfe(t)},"getDiagram"),Gfe=(H0=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},E(H0,"DiagramNotFoundError"),H0);function _w(t){return typeof t>"u"||t===null}E(_w,"isNothing");function QI(t){return typeof t=="object"&&t!==null}E(QI,"isObject");function ZI(t){return Array.isArray(t)?t:_w(t)?[]:[t]}E(ZI,"toArray");function JI(t,e){var r,n,i,a;if(e)for(a=Object.keys(e),r=0,n=a.length;r<n;r+=1)i=a[r],t[i]=e[i];return t}E(JI,"extend");function eD(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}E(eD,"repeat");function tD(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}E(tD,"isNegativeZero");var Vfe=_w,qfe=QI,Wfe=ZI,Yfe=eD,Xfe=tD,Kfe=JI,ci={isNothing:Vfe,isObject:qfe,toArray:Wfe,repeat:Yfe,isNegativeZero:Xfe,extend:Kfe};function Aw(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}E(Aw,"formatError");function Gd(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Aw(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}E(Gd,"YAMLException$1"),Gd.prototype=Object.create(Error.prototype),Gd.prototype.constructor=Gd,Gd.prototype.toString=E(function(e){return this.name+": "+Aw(this,e)},"toString");var Wa=Gd;function Kv(t,e,r,n,i){var a="",s="",o=Math.floor(i/2)-1;return n-e>o&&(a=" ... ",e=n-o+a.length),r-n>o&&(s=" ...",r=n+o-s.length),{str:a+t.slice(e,r).replace(/\t/g,"→")+s,pos:n-e+a.length}}E(Kv,"getLine");function jv(t,e){return ci.repeat(" ",e-t.length)+t}E(jv,"padStart");function rD(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,s=-1;a=r.exec(t.buffer);)i.push(a.index),n.push(a.index+a[0].length),t.position<=a.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var o="",l,u,h=Math.min(t.line+e.linesAfter,i.length).toString().length,d=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(s-l<0);l++)u=Kv(t.buffer,n[s-l],i[s-l],t.position-(n[s]-n[s-l]),d),o=ci.repeat(" ",e.indent)+jv((t.line-l+1).toString(),h)+" | "+u.str+`
`+o;for(u=Kv(t.buffer,n[s],i[s],t.position,d),o+=ci.repeat(" ",e.indent)+jv((t.line+1).toString(),h)+" | "+u.str+`
`,o+=ci.repeat("-",e.indent+h+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(s+l>=i.length);l++)u=Kv(t.buffer,n[s+l],i[s+l],t.position-(n[s]-n[s+l]),d),o+=ci.repeat(" ",e.indent)+jv((t.line+l+1).toString(),h)+" | "+u.str+`
`;return o.replace(/\n$/,"")}E(rD,"makeSnippet");var jfe=rD,Qfe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Zfe=["scalar","sequence","mapping"];function nD(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}E(nD,"compileStyleAliases");function iD(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(Qfe.indexOf(r)===-1)throw new Wa('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=nD(e.styleAliases||null),Zfe.indexOf(this.kind)===-1)throw new Wa('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}E(iD,"Type$1");var na=iD;function Lw(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}E(Lw,"compileList");function aD(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(E(n,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}E(aD,"compileMap");function Qv(t){return this.extend(t)}E(Qv,"Schema$1"),Qv.prototype.extend=E(function(e){var r=[],n=[];if(e instanceof na)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new Wa("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof na))throw new Wa("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Wa("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Wa("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof na))throw new Wa("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Qv.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Lw(i,"implicit"),i.compiledExplicit=Lw(i,"explicit"),i.compiledTypeMap=aD(i.compiledImplicit,i.compiledExplicit),i},"extend");var Jfe=Qv,e0e=new na("tag:yaml.org,2002:str",{kind:"scalar",construct:E(function(t){return t!==null?t:""},"construct")}),t0e=new na("tag:yaml.org,2002:seq",{kind:"sequence",construct:E(function(t){return t!==null?t:[]},"construct")}),r0e=new na("tag:yaml.org,2002:map",{kind:"mapping",construct:E(function(t){return t!==null?t:{}},"construct")}),n0e=new Jfe({explicit:[e0e,t0e,r0e]});function sD(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}E(sD,"resolveYamlNull");function oD(){return null}E(oD,"constructYamlNull");function lD(t){return t===null}E(lD,"isNull");var i0e=new na("tag:yaml.org,2002:null",{kind:"scalar",resolve:sD,construct:oD,predicate:lD,represent:{canonical:E(function(){return"~"},"canonical"),lowercase:E(function(){return"null"},"lowercase"),uppercase:E(function(){return"NULL"},"uppercase"),camelcase:E(function(){return"Null"},"camelcase"),empty:E(function(){return""},"empty")},defaultStyle:"lowercase"});function cD(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}E(cD,"resolveYamlBoolean");function uD(t){return t==="true"||t==="True"||t==="TRUE"}E(uD,"constructYamlBoolean");function hD(t){return Object.prototype.toString.call(t)==="[object Boolean]"}E(hD,"isBoolean");var a0e=new na("tag:yaml.org,2002:bool",{kind:"scalar",resolve:cD,construct:uD,predicate:hD,represent:{lowercase:E(function(t){return t?"true":"false"},"lowercase"),uppercase:E(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:E(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function dD(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}E(dD,"isHexCode");function fD(t){return 48<=t&&t<=55}E(fD,"isOctCode");function pD(t){return 48<=t&&t<=57}E(pD,"isDecCode");function gD(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!dD(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!fD(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!pD(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}E(gD,"resolveYamlInteger");function mD(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}E(mD,"constructYamlInteger");function yD(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ci.isNegativeZero(t)}E(yD,"isInteger");var s0e=new na("tag:yaml.org,2002:int",{kind:"scalar",resolve:gD,construct:mD,predicate:yD,represent:{binary:E(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:E(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:E(function(t){return t.toString(10)},"decimal"),hexadecimal:E(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),o0e=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function vD(t){return!(t===null||!o0e.test(t)||t[t.length-1]==="_")}E(vD,"resolveYamlFloat");function bD(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}E(bD,"constructYamlFloat");var l0e=/^[-+]?[0-9]+e/;function xD(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ci.isNegativeZero(t))return"-0.0";return r=t.toString(10),l0e.test(r)?r.replace("e",".e"):r}E(xD,"representYamlFloat");function ED(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ci.isNegativeZero(t))}E(ED,"isFloat");var c0e=new na("tag:yaml.org,2002:float",{kind:"scalar",resolve:vD,construct:bD,predicate:ED,represent:xD,defaultStyle:"lowercase"}),TD=n0e.extend({implicit:[i0e,a0e,s0e,c0e]}),u0e=TD,wD=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),SD=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function kD(t){return t===null?!1:wD.exec(t)!==null||SD.exec(t)!==null}E(kD,"resolveYamlTimestamp");function CD(t){var e,r,n,i,a,s,o,l=0,u=null,h,d,f;if(e=wD.exec(t),e===null&&(e=SD.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(a=+e[4],s=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],d=+(e[11]||0),u=(h*60+d)*6e4,e[9]==="-"&&(u=-u)),f=new Date(Date.UTC(r,n,i,a,s,o,l)),u&&f.setTime(f.getTime()-u),f}E(CD,"constructYamlTimestamp");function _D(t){return t.toISOString()}E(_D,"representYamlTimestamp");var h0e=new na("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:kD,construct:CD,instanceOf:Date,represent:_D});function AD(t){return t==="<<"||t===null}E(AD,"resolveYamlMerge");var d0e=new na("tag:yaml.org,2002:merge",{kind:"scalar",resolve:AD}),Nw=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function LD(t){if(t===null)return!1;var e,r,n=0,i=t.length,a=Nw;for(r=0;r<i;r++)if(e=a.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}E(LD,"resolveYamlBinary");function ND(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,a=Nw,s=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(n.charAt(e));return r=i%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}E(ND,"constructYamlBinary");function RD(t){var e="",r=0,n,i,a=t.length,s=Nw;for(n=0;n<a;n++)n%3===0&&n&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[n];return i=a%3,i===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):i===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):i===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}E(RD,"representYamlBinary");function ID(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}E(ID,"isBinary");var f0e=new na("tag:yaml.org,2002:binary",{kind:"scalar",resolve:LD,construct:ND,predicate:ID,represent:RD}),p0e=Object.prototype.hasOwnProperty,g0e=Object.prototype.toString;function DD(t){if(t===null)return!0;var e=[],r,n,i,a,s,o=t;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],s=!1,g0e.call(i)!=="[object Object]")return!1;for(a in i)if(p0e.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}E(DD,"resolveYamlOmap");function OD(t){return t!==null?t:[]}E(OD,"constructYamlOmap");var m0e=new na("tag:yaml.org,2002:omap",{kind:"sequence",resolve:DD,construct:OD}),y0e=Object.prototype.toString;function MD(t){if(t===null)return!0;var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(n=s[e],y0e.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[e]=[i[0],n[i[0]]]}return!0}E(MD,"resolveYamlPairs");function PD(t){if(t===null)return[];var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1)n=s[e],i=Object.keys(n),a[e]=[i[0],n[i[0]]];return a}E(PD,"constructYamlPairs");var v0e=new na("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:MD,construct:PD}),b0e=Object.prototype.hasOwnProperty;function BD(t){if(t===null)return!0;var e,r=t;for(e in r)if(b0e.call(r,e)&&r[e]!==null)return!1;return!0}E(BD,"resolveYamlSet");function FD(t){return t!==null?t:{}}E(FD,"constructYamlSet");var x0e=new na("tag:yaml.org,2002:set",{kind:"mapping",resolve:BD,construct:FD}),$D=u0e.extend({implicit:[h0e,d0e],explicit:[f0e,m0e,v0e,x0e]}),Gc=Object.prototype.hasOwnProperty,Zv=1,zD=2,UD=3,Jv=4,Rw=1,E0e=2,HD=3,T0e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,w0e=/[\x85\u2028\u2029]/,S0e=/[,\[\]\{\}]/,GD=/^(?:!|!!|![a-z\-]+!)$/i,VD=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Iw(t){return Object.prototype.toString.call(t)}E(Iw,"_class");function fo(t){return t===10||t===13}E(fo,"is_EOL");function Vc(t){return t===9||t===32}E(Vc,"is_WHITE_SPACE");function Ca(t){return t===9||t===32||t===10||t===13}E(Ca,"is_WS_OR_EOL");function Wu(t){return t===44||t===91||t===93||t===123||t===125}E(Wu,"is_FLOW_INDICATOR");function qD(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}E(qD,"fromHexCode");function WD(t){return t===120?2:t===117?4:t===85?8:0}E(WD,"escapedHexLen");function YD(t){return 48<=t&&t<=57?t-48:-1}E(YD,"fromDecimalCode");function Dw(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}E(Dw,"simpleEscapeSequence");function XD(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}E(XD,"charFromCodepoint");var KD=new Array(256),jD=new Array(256);for(Yu=0;Yu<256;Yu++)KD[Yu]=Dw(Yu)?1:0,jD[Yu]=Dw(Yu);var Yu;function QD(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||$D,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}E(QD,"State$1");function Ow(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=jfe(r),new Wa(e,r)}E(Ow,"generateError");function jt(t,e){throw Ow(t,e)}E(jt,"throwError");function cg(t,e){t.onWarning&&t.onWarning.call(null,Ow(t,e))}E(cg,"throwWarning");var ZD={YAML:E(function(e,r,n){var i,a,s;e.version!==null&&jt(e,"duplication of %YAML directive"),n.length!==1&&jt(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&jt(e,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&jt(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&cg(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:E(function(e,r,n){var i,a;n.length!==2&&jt(e,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],GD.test(i)||jt(e,"ill-formed tag handle (first argument) of the TAG directive"),Gc.call(e.tagMap,i)&&jt(e,'there is a previously declared suffix for "'+i+'" tag handle'),VD.test(a)||jt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{jt(e,"tag prefix is malformed: "+a)}e.tagMap[i]=a},"handleTagDirective")};function zl(t,e,r,n){var i,a,s,o;if(e<r){if(o=t.input.slice(e,r),n)for(i=0,a=o.length;i<a;i+=1)s=o.charCodeAt(i),s===9||32<=s&&s<=1114111||jt(t,"expected valid JSON character");else T0e.test(o)&&jt(t,"the stream contains non-printable characters");t.result+=o}}E(zl,"captureSegment");function Mw(t,e,r,n){var i,a,s,o;for(ci.isObject(r)||jt(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,o=i.length;s<o;s+=1)a=i[s],Gc.call(e,a)||(e[a]=r[a],n[a]=!0)}E(Mw,"mergeMappings");function Xu(t,e,r,n,i,a,s,o,l){var u,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,h=i.length;u<h;u+=1)Array.isArray(i[u])&&jt(t,"nested arrays are not supported inside keys"),typeof i=="object"&&Iw(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Iw(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,h=a.length;u<h;u+=1)Mw(t,e,a[u],r);else Mw(t,e,a,r);else!t.json&&!Gc.call(r,i)&&Gc.call(e,i)&&(t.line=s||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,jt(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[i]=a,delete r[i];return e}E(Xu,"storeMappingPair");function e2(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):jt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}E(e2,"readLineBreak");function Un(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Vc(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(fo(i))for(e2(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&cg(t,"deficient indentation"),n}E(Un,"skipSeparationSpace");function ug(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||Ca(r)))}E(ug,"testDocumentSeparator");function t2(t,e){e===1?t.result+=" ":e>1&&(t.result+=ci.repeat(`
`,e-1))}E(t2,"writeFoldedLines");function JD(t,e,r){var n,i,a,s,o,l,u,h,d=t.kind,f=t.result,p;if(p=t.input.charCodeAt(t.position),Ca(p)||Wu(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),Ca(i)||r&&Wu(i)))return!1;for(t.kind="scalar",t.result="",a=s=t.position,o=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),Ca(i)||r&&Wu(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),Ca(n))break}else{if(t.position===t.lineStart&&ug(t)||r&&Wu(p))break;if(fo(p))if(l=t.line,u=t.lineStart,h=t.lineIndent,Un(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=l,t.lineStart=u,t.lineIndent=h;break}}o&&(zl(t,a,s,!1),t2(t,t.line-l),a=s=t.position,o=!1),Vc(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return zl(t,a,s,!1),t.result?!0:(t.kind=d,t.result=f,!1)}E(JD,"readPlainScalar");function eO(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(zl(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else fo(r)?(zl(t,n,i,!0),t2(t,Un(t,!1,e)),n=i=t.position):t.position===t.lineStart&&ug(t)?jt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);jt(t,"unexpected end of the stream within a single quoted scalar")}E(eO,"readSingleQuotedScalar");function tO(t,e){var r,n,i,a,s,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return zl(t,r,t.position,!0),t.position++,!0;if(o===92){if(zl(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),fo(o))Un(t,!1,e);else if(o<256&&KD[o])t.result+=jD[o],t.position++;else if((s=WD(o))>0){for(i=s,a=0;i>0;i--)o=t.input.charCodeAt(++t.position),(s=qD(o))>=0?a=(a<<4)+s:jt(t,"expected hexadecimal character");t.result+=XD(a),t.position++}else jt(t,"unknown escape sequence");r=n=t.position}else fo(o)?(zl(t,r,n,!0),t2(t,Un(t,!1,e)),r=n=t.position):t.position===t.lineStart&&ug(t)?jt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}jt(t,"unexpected end of the stream within a double quoted scalar")}E(tO,"readDoubleQuotedScalar");function rO(t,e){var r=!0,n,i,a,s=t.tag,o,l=t.anchor,u,h,d,f,p,g=Object.create(null),m,y,v,b;if(b=t.input.charCodeAt(t.position),b===91)h=93,p=!1,o=[];else if(b===123)h=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),b=t.input.charCodeAt(++t.position);b!==0;){if(Un(t,!0,e),b=t.input.charCodeAt(t.position),b===h)return t.position++,t.tag=s,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=o,!0;r?b===44&&jt(t,"expected the node content, but found ','"):jt(t,"missed comma between flow collection entries"),y=m=v=null,d=f=!1,b===63&&(u=t.input.charCodeAt(t.position+1),Ca(u)&&(d=f=!0,t.position++,Un(t,!0,e))),n=t.line,i=t.lineStart,a=t.position,Ku(t,e,Zv,!1,!0),y=t.tag,m=t.result,Un(t,!0,e),b=t.input.charCodeAt(t.position),(f||t.line===n)&&b===58&&(d=!0,b=t.input.charCodeAt(++t.position),Un(t,!0,e),Ku(t,e,Zv,!1,!0),v=t.result),p?Xu(t,o,g,y,m,v,n,i,a):d?o.push(Xu(t,null,g,y,m,v,n,i,a)):o.push(m),Un(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(r=!0,b=t.input.charCodeAt(++t.position)):r=!1}jt(t,"unexpected end of the stream within a flow collection")}E(rO,"readFlowCollection");function nO(t,e){var r,n,i=Rw,a=!1,s=!1,o=e,l=0,u=!1,h,d;if(d=t.input.charCodeAt(t.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)Rw===i?i=d===43?HD:E0e:jt(t,"repeat of a chomping mode identifier");else if((h=YD(d))>=0)h===0?jt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?jt(t,"repeat of an indentation width identifier"):(o=e+h-1,s=!0);else break;if(Vc(d)){do d=t.input.charCodeAt(++t.position);while(Vc(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!fo(d)&&d!==0)}for(;d!==0;){for(e2(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!s||t.lineIndent<o)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>o&&(o=t.lineIndent),fo(d)){l++;continue}if(t.lineIndent<o){i===HD?t.result+=ci.repeat(`
`,a?1+l:l):i===Rw&&a&&(t.result+=`
`);break}for(n?Vc(d)?(u=!0,t.result+=ci.repeat(`
`,a?1+l:l)):u?(u=!1,t.result+=ci.repeat(`
`,l+1)):l===0?a&&(t.result+=" "):t.result+=ci.repeat(`
`,l):t.result+=ci.repeat(`
`,a?1+l:l),a=!0,s=!0,l=0,r=t.position;!fo(d)&&d!==0;)d=t.input.charCodeAt(++t.position);zl(t,r,t.position,!1)}return!0}E(nO,"readBlockScalar");function Pw(t,e){var r,n=t.tag,i=t.anchor,a=[],s,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,jt(t,"tab characters must not be used in indentation")),!(l!==45||(s=t.input.charCodeAt(t.position+1),!Ca(s))));){if(o=!0,t.position++,Un(t,!0,-1)&&t.lineIndent<=e){a.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,Ku(t,e,UD,!1,!0),a.push(t.result),Un(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)jt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=a,!0):!1}E(Pw,"readBlockSequence");function iO(t,e,r){var n,i,a,s,o,l,u=t.tag,h=t.anchor,d={},f=Object.create(null),p=null,g=null,m=null,y=!1,v=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),b=t.input.charCodeAt(t.position);b!==0;){if(!y&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,jt(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),a=t.line,(b===63||b===58)&&Ca(n))b===63?(y&&(Xu(t,d,f,p,g,null,s,o,l),p=g=m=null),v=!0,y=!0,i=!0):y?(y=!1,i=!0):jt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=n;else{if(s=t.line,o=t.lineStart,l=t.position,!Ku(t,r,zD,!1,!0))break;if(t.line===a){for(b=t.input.charCodeAt(t.position);Vc(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),Ca(b)||jt(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Xu(t,d,f,p,g,null,s,o,l),p=g=m=null),v=!0,y=!1,i=!1,p=t.tag,g=t.result;else if(v)jt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=h,!0}else if(v)jt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=h,!0}if((t.line===a||t.lineIndent>e)&&(y&&(s=t.line,o=t.lineStart,l=t.position),Ku(t,e,Jv,!0,i)&&(y?g=t.result:m=t.result),y||(Xu(t,d,f,p,g,m,s,o,l),p=g=m=null),Un(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&b!==0)jt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&Xu(t,d,f,p,g,null,s,o,l),v&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=d),v}E(iO,"readBlockMapping");function aO(t){var e,r=!1,n=!1,i,a,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&jt(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(n=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(a=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):jt(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Ca(s);)s===33&&(n?jt(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),GD.test(i)||jt(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),S0e.test(a)&&jt(t,"tag suffix cannot contain flow indicator characters")}a&&!VD.test(a)&&jt(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{jt(t,"tag name is malformed: "+a)}return r?t.tag=a:Gc.call(t.tagMap,i)?t.tag=t.tagMap[i]+a:i==="!"?t.tag="!"+a:i==="!!"?t.tag="tag:yaml.org,2002:"+a:jt(t,'undeclared tag handle "'+i+'"'),!0}E(aO,"readTagProperty");function sO(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&jt(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Ca(r)&&!Wu(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&jt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}E(sO,"readAnchorProperty");function oO(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ca(n)&&!Wu(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&jt(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Gc.call(t.anchorMap,r)||jt(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Un(t,!0,-1),!0}E(oO,"readAlias");function Ku(t,e,r,n,i){var a,s,o,l=1,u=!1,h=!1,d,f,p,g,m,y;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=o=Jv===r||UD===r,n&&Un(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;aO(t)||sO(t);)Un(t,!0,-1)?(u=!0,o=a,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||Jv===r)&&(Zv===r||zD===r?m=e:m=e+1,y=t.position-t.lineStart,l===1?o&&(Pw(t,y)||iO(t,y,m))||rO(t,m)?h=!0:(s&&nO(t,m)||eO(t,m)||tO(t,m)?h=!0:oO(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&jt(t,"alias node should not have any properties")):JD(t,m,Zv===r)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=o&&Pw(t,y))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&jt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(g=t.implicitTypes[d],g.resolve(t.result)){t.result=g.construct(t.result),t.tag=g.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Gc.call(t.typeMap[t.kind||"fallback"],t.tag))g=t.typeMap[t.kind||"fallback"][t.tag];else for(g=null,p=t.typeMap.multi[t.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(t.tag.slice(0,p[d].tag.length)===p[d].tag){g=p[d];break}g||jt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&g.kind!==t.kind&&jt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+g.kind+'", not "'+t.kind+'"'),g.resolve(t.result,t.tag)?(t.result=g.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):jt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}E(Ku,"composeNode");function lO(t){var e=t.position,r,n,i,a=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Un(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(a=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!Ca(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&jt(t,"directive name must not be less than one character in length");s!==0;){for(;Vc(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!fo(s));break}if(fo(s))break;for(r=t.position;s!==0&&!Ca(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}s!==0&&e2(t),Gc.call(ZD,n)?ZD[n](t,n,i):cg(t,'unknown document directive "'+n+'"')}if(Un(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Un(t,!0,-1)):a&&jt(t,"directives end mark is expected"),Ku(t,t.lineIndent-1,Jv,!1,!0),Un(t,!0,-1),t.checkLineBreaks&&w0e.test(t.input.slice(e,t.position))&&cg(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&ug(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Un(t,!0,-1));return}if(t.position<t.length-1)jt(t,"end of the stream or a document separator is expected");else return}E(lO,"readDocument");function Bw(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new QD(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,jt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)lO(r);return r.documents}E(Bw,"loadDocuments");function k0e(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=Bw(t,r);if(typeof e!="function")return n;for(var i=0,a=n.length;i<a;i+=1)e(n[i])}E(k0e,"loadAll$1");function cO(t,e){var r=Bw(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new Wa("expected a single document in the stream, but found more")}}E(cO,"load$1");var C0e=cO,_0e={load:C0e},uO=Object.prototype.toString,hO=Object.prototype.hasOwnProperty,Fw=65279,A0e=9,hg=10,L0e=13,N0e=32,R0e=33,I0e=34,$w=35,D0e=37,O0e=38,M0e=39,P0e=42,dO=44,B0e=45,r2=58,F0e=61,$0e=62,z0e=63,U0e=64,fO=91,pO=93,H0e=96,gO=123,G0e=124,mO=125,ia={};ia[0]="\\0",ia[7]="\\a",ia[8]="\\b",ia[9]="\\t",ia[10]="\\n",ia[11]="\\v",ia[12]="\\f",ia[13]="\\r",ia[27]="\\e",ia[34]='\\"',ia[92]="\\\\",ia[133]="\\N",ia[160]="\\_",ia[8232]="\\L",ia[8233]="\\P";var V0e=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],q0e=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function yO(t,e){var r,n,i,a,s,o,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,a=n.length;i<a;i+=1)s=n[i],o=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=t.compiledTypeMap.fallback[s],l&&hO.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[s]=o;return r}E(yO,"compileStyleMap");function vO(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new Wa("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ci.repeat("0",n-e.length)+e}E(vO,"encodeHex");var W0e=1,dg=2;function bO(t){this.schema=t.schema||$D,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ci.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=yO(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?dg:W0e,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}E(bO,"State");function zw(t,e){for(var r=ci.repeat(" ",e),n=0,i=-1,a="",s,o=t.length;n<o;)i=t.indexOf(`
`,n),i===-1?(s=t.slice(n),n=o):(s=t.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}E(zw,"indentString");function n2(t,e){return`
`+ci.repeat(" ",t.indent*e)}E(n2,"generateNextLine");function xO(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}E(xO,"testImplicitResolving");function fg(t){return t===N0e||t===A0e}E(fg,"isWhitespace");function Vd(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Fw||65536<=t&&t<=1114111}E(Vd,"isPrintable");function Uw(t){return Vd(t)&&t!==Fw&&t!==L0e&&t!==hg}E(Uw,"isNsCharOrWhitespace");function Hw(t,e,r){var n=Uw(t),i=n&&!fg(t);return(r?n:n&&t!==dO&&t!==fO&&t!==pO&&t!==gO&&t!==mO)&&t!==$w&&!(e===r2&&!i)||Uw(e)&&!fg(e)&&t===$w||e===r2&&i}E(Hw,"isPlainSafe");function EO(t){return Vd(t)&&t!==Fw&&!fg(t)&&t!==B0e&&t!==z0e&&t!==r2&&t!==dO&&t!==fO&&t!==pO&&t!==gO&&t!==mO&&t!==$w&&t!==O0e&&t!==P0e&&t!==R0e&&t!==G0e&&t!==F0e&&t!==$0e&&t!==M0e&&t!==I0e&&t!==D0e&&t!==U0e&&t!==H0e}E(EO,"isPlainSafeFirst");function TO(t){return!fg(t)&&t!==r2}E(TO,"isPlainSafeLast");function qd(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}E(qd,"codePointAt");function Gw(t){var e=/^\n* /;return e.test(t)}E(Gw,"needIndentIndicator");var wO=1,Vw=2,SO=3,kO=4,Wd=5;function CO(t,e,r,n,i,a,s,o){var l,u=0,h=null,d=!1,f=!1,p=n!==-1,g=-1,m=EO(qd(t,0))&&TO(qd(t,t.length-1));if(e||s)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=qd(t,l),!Vd(u))return Wd;m=m&&Hw(u,h,o),h=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=qd(t,l),u===hg)d=!0,p&&(f=f||l-g-1>n&&t[g+1]!==" ",g=l);else if(!Vd(u))return Wd;m=m&&Hw(u,h,o),h=u}f=f||p&&l-g-1>n&&t[g+1]!==" "}return!d&&!f?m&&!s&&!i(t)?wO:a===dg?Wd:Vw:r>9&&Gw(t)?Wd:s?a===dg?Wd:Vw:f?kO:SO}E(CO,"chooseScalarStyle");function _O(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===dg?'""':"''";if(!t.noCompatMode&&(V0e.indexOf(e)!==-1||q0e.test(e)))return t.quotingType===dg?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),o=n||t.flowLevel>-1&&r>=t.flowLevel;function l(u){return xO(t,u)}switch(E(l,"testAmbiguity"),CO(e,o,t.indent,s,l,t.quotingType,t.forceQuotes&&!n,i)){case wO:return e;case Vw:return"'"+e.replace(/'/g,"''")+"'";case SO:return"|"+qw(e,t.indent)+Ww(zw(e,a));case kO:return">"+qw(e,t.indent)+Ww(zw(AO(e,s),a));case Wd:return'"'+LO(e)+'"';default:throw new Wa("impossible error: invalid scalar style")}}()}E(_O,"writeScalar");function qw(t,e){var r=Gw(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),a=i?"+":n?"":"-";return r+a+`
`}E(qw,"blockHeader");function Ww(t){return t[t.length-1]===`
`?t.slice(0,-1):t}E(Ww,"dropEndingNewline");function AO(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,r.lastIndex=u,Yw(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",a,s;s=r.exec(t);){var o=s[1],l=s[2];a=l[0]===" ",n+=o+(!i&&!a&&l!==""?`
`:"")+Yw(l,e),i=a}return n}E(AO,"foldString");function Yw(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,a,s=0,o=0,l="";n=r.exec(t);)o=n.index,o-i>e&&(a=s>i?s:o,l+=`
`+t.slice(i,a),i=a+1),s=o;return l+=`
`,t.length-i>e&&s>i?l+=t.slice(i,s)+`
`+t.slice(s+1):l+=t.slice(i),l.slice(1)}E(Yw,"foldLine");function LO(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=qd(t,i),n=ia[r],!n&&Vd(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||vO(r);return e}E(LO,"escapeString");function NO(t,e,r){var n="",i=t.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],t.replacer&&(o=t.replacer.call(r,String(a),o)),(Wo(t,e,o,!1,!1)||typeof o>"u"&&Wo(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}E(NO,"writeFlowSequence");function Xw(t,e,r,n){var i="",a=t.tag,s,o,l;for(s=0,o=r.length;s<o;s+=1)l=r[s],t.replacer&&(l=t.replacer.call(r,String(s),l)),(Wo(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Wo(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=n2(t,e)),t.dump&&hg===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=a,t.dump=i||"[]"}E(Xw,"writeBlockSequence");function RO(t,e,r){var n="",i=t.tag,a=Object.keys(r),s,o,l,u,h;for(s=0,o=a.length;s<o;s+=1)h="",n!==""&&(h+=", "),t.condenseFlow&&(h+='"'),l=a[s],u=r[l],t.replacer&&(u=t.replacer.call(r,l,u)),Wo(t,e,l,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Wo(t,e,u,!1,!1)&&(h+=t.dump,n+=h));t.tag=i,t.dump="{"+n+"}"}E(RO,"writeFlowMapping");function IO(t,e,r,n){var i="",a=t.tag,s=Object.keys(r),o,l,u,h,d,f;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Wa("sortKeys must be a boolean or a function");for(o=0,l=s.length;o<l;o+=1)f="",(!n||i!=="")&&(f+=n2(t,e)),u=s[o],h=r[u],t.replacer&&(h=t.replacer.call(r,u,h)),Wo(t,e+1,u,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&hg===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,d&&(f+=n2(t,e)),Wo(t,e+1,h,!0,d)&&(t.dump&&hg===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,i+=f));t.tag=a,t.dump=i||"{}"}E(IO,"writeBlockMapping");function Kw(t,e,r){var n,i,a,s,o,l;for(i=r?t.explicitTypes:t.implicitTypes,a=0,s=i.length;a<s;a+=1)if(o=i[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,uO.call(o.represent)==="[object Function]")n=o.represent(e,l);else if(hO.call(o.represent,l))n=o.represent[l](e,l);else throw new Wa("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}E(Kw,"detectType");function Wo(t,e,r,n,i,a,s){t.tag=null,t.dump=r,Kw(t,r,!1)||Kw(t,r,!0);var o=uO.call(t.dump),l=n,u;n&&(n=t.flowLevel<0||t.flowLevel>e);var h=o==="[object Object]"||o==="[object Array]",d,f;if(h&&(d=t.duplicates.indexOf(r),f=d!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(i=!1),f&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(h&&f&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(IO(t,e,t.dump,i),f&&(t.dump="&ref_"+d+t.dump)):(RO(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(o==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?Xw(t,e-1,t.dump,i):Xw(t,e,t.dump,i),f&&(t.dump="&ref_"+d+t.dump)):(NO(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&_O(t,t.dump,e,a,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Wa("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}E(Wo,"writeNode");function DO(t,e){var r=[],n=[],i,a;for(i2(t,r,n),i=0,a=n.length;i<a;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(a)}E(DO,"getDuplicateReferences");function i2(t,e,r){var n,i,a;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,a=t.length;i<a;i+=1)i2(t[i],e,r);else for(n=Object.keys(t),i=0,a=n.length;i<a;i+=1)i2(t[n[i]],e,r)}E(i2,"inspectNode");function Y0e(t,e){e=e||{};var r=new bO(e);r.noRefs||DO(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Wo(r,0,n,!0,!0)?r.dump+`
`:""}E(Y0e,"dump$1");function X0e(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}E(X0e,"renamed");var jw=TD,Qw=_0e.load;/*! Bundled license information:

  js-yaml/dist/js-yaml.mjs:
    (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
  */var $s={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function pg(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Sn(t),e=Sn(e);const[r,n]=[t.x,t.y],[i,a]=[e.x,e.y],s=i-r,o=a-n;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}E(pg,"calculateDeltaAndAngle");var Sn=E(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),OO=E(t=>({x:E(function(e,r,n){let i=0;const a=Sn(n[0]).x<Sn(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn($s,t.arrowTypeStart)){const{angle:p,deltaX:g}=pg(n[0],n[1]);i=$s[t.arrowTypeStart]*Math.cos(p)*(g>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn($s,t.arrowTypeEnd)){const{angle:p,deltaX:g}=pg(n[n.length-1],n[n.length-2]);i=$s[t.arrowTypeEnd]*Math.cos(p)*(g>=0?1:-1)}const s=Math.abs(Sn(e).x-Sn(n[n.length-1]).x),o=Math.abs(Sn(e).y-Sn(n[n.length-1]).y),l=Math.abs(Sn(e).x-Sn(n[0]).x),u=Math.abs(Sn(e).y-Sn(n[0]).y),h=$s[t.arrowTypeStart],d=$s[t.arrowTypeEnd],f=1;if(s<d&&s>0&&o<d){let p=d+f-s;p*=a==="right"?-1:1,i-=p}if(l<h&&l>0&&u<h){let p=h+f-l;p*=a==="right"?-1:1,i+=p}return Sn(e).x+i},"x"),y:E(function(e,r,n){let i=0;const a=Sn(n[0]).y<Sn(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn($s,t.arrowTypeStart)){const{angle:p,deltaY:g}=pg(n[0],n[1]);i=$s[t.arrowTypeStart]*Math.abs(Math.sin(p))*(g>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn($s,t.arrowTypeEnd)){const{angle:p,deltaY:g}=pg(n[n.length-1],n[n.length-2]);i=$s[t.arrowTypeEnd]*Math.abs(Math.sin(p))*(g>=0?1:-1)}const s=Math.abs(Sn(e).y-Sn(n[n.length-1]).y),o=Math.abs(Sn(e).x-Sn(n[n.length-1]).x),l=Math.abs(Sn(e).y-Sn(n[0]).y),u=Math.abs(Sn(e).x-Sn(n[0]).x),h=$s[t.arrowTypeStart],d=$s[t.arrowTypeEnd],f=1;if(s<d&&s>0&&o<d){let p=d+f-s;p*=a==="up"?-1:1,i-=p}if(l<h&&l>0&&u<h){let p=h+f-l;p*=a==="up"?-1:1,i+=p}return Sn(e).y+i},"y")}),"getLineFunctionsWithOffset"),gg=E(({flowchart:t})=>{var i,a;const e=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.top)??0,r=((a=t==null?void 0:t.subGraphTitleMargin)==null?void 0:a.bottom)??0,n=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),mg={},ui={},MO;function K0e(){return MO||(MO=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.BLANK_URL=ui.relativeFirstCharacters=ui.whitespaceEscapeCharsRegex=ui.urlSchemeRegex=ui.ctrlCharactersRegex=ui.htmlCtrlEntityRegex=ui.htmlEntitiesRegex=ui.invalidProtocolRegex=void 0,ui.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,ui.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,ui.htmlCtrlEntityRegex=/&(newline|tab);/gi,ui.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ui.urlSchemeRegex=/^.+(:|&colon;)/gim,ui.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,ui.relativeFirstCharacters=[".","/"],ui.BLANK_URL="about:blank"),ui}var PO;function j0e(){if(PO)return mg;PO=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.sanitizeUrl=void 0;var t=K0e();function e(s){return t.relativeFirstCharacters.indexOf(s[0])>-1}function r(s){var o=s.replace(t.ctrlCharactersRegex,"");return o.replace(t.htmlEntitiesRegex,function(l,u){return String.fromCharCode(u)})}function n(s){return URL.canParse(s)}function i(s){try{return decodeURIComponent(s)}catch{return s}}function a(s){if(!s)return t.BLANK_URL;var o,l=i(s.trim());do l=r(l).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(t.ctrlCharactersRegex)||l.match(t.htmlEntitiesRegex)||l.match(t.htmlCtrlEntityRegex)||l.match(t.whitespaceEscapeCharsRegex);while(o&&o.length>0);var u=l;if(!u)return t.BLANK_URL;if(e(u))return u;var h=u.trimStart(),d=h.match(t.urlSchemeRegex);if(!d)return u;var f=d[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(f))return t.BLANK_URL;var p=h.replace(/\\/g,"/");if(f==="mailto:"||f.includes("://"))return p;if(f==="http:"||f==="https:"){if(!n(p))return t.BLANK_URL;var g=new URL(p);return g.protocol=g.protocol.toLowerCase(),g.hostname=g.hostname.toLowerCase(),g.toString()}return p}return mg.sanitizeUrl=a,mg}var ju=j0e();function a2(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q0e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zw(t){let e,r,n;t.length!==2?(e=a2,r=(o,l)=>a2(t(o),l),n=(o,l)=>t(o)-l):(e=t===a2||t===Q0e?t:Z0e,r=t,n=t);function i(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;r(o[d],l)<0?u=d+1:h=d}while(u<h)}return u}function a(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;r(o[d],l)<=0?u=d+1:h=d}while(u<h)}return u}function s(o,l,u=0,h=o.length){const d=i(o,l,u,h-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Z0e(){return 0}function J0e(t){return t===null?NaN:+t}const epe=Zw(a2).right;Zw(J0e).center;class BO extends Map{constructor(e,r=npe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(FO(this,e))}has(e){return super.has(FO(this,e))}set(e,r){return super.set(tpe(this,e),r)}delete(e){return super.delete(rpe(this,e))}}function FO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function tpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function rpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function npe(t){return t!==null&&typeof t=="object"?t.valueOf():t}const ipe=Math.sqrt(50),ape=Math.sqrt(10),spe=Math.sqrt(2);function s2(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=ipe?10:a>=ape?5:a>=spe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?s2(t,e,r*2):[o,l,u]}function ope(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?s2(e,t,r):s2(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Jw(t,e,r){return e=+e,t=+t,r=+r,s2(t,e,r)[2]}function e5(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Jw(e,t,r):Jw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function lpe(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function cpe(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function upe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function hpe(t){return t}var o2=1,t5=2,r5=3,l2=4,$O=1e-6;function dpe(t){return"translate("+t+",0)"}function fpe(t){return"translate(0,"+t+")"}function ppe(t){return e=>+t(e)}function gpe(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function mpe(){return!this.__axis}function zO(t,e){var r=[],n=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===o2||t===l2?-1:1,h=t===l2||t===t5?"x":"y",d=t===o2||t===r5?dpe:fpe;function f(p){var g=n??(e.ticks?e.ticks.apply(e,r):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,r):hpe),y=Math.max(a,0)+o,v=e.range(),b=+v[0]+l,x=+v[v.length-1]+l,T=(e.bandwidth?gpe:ppe)(e.copy(),l),w=p.selection?p.selection():p,S=w.selectAll(".domain").data([null]),k=w.selectAll(".tick").data(g,e).order(),L=k.exit(),_=k.enter().append("g").attr("class","tick"),N=k.select("line"),C=k.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(_),N=N.merge(_.append("line").attr("stroke","currentColor").attr(h+"2",u*a)),C=C.merge(_.append("text").attr("fill","currentColor").attr(h,u*y).attr("dy",t===o2?"0em":t===r5?"0.71em":"0.32em")),p!==w&&(S=S.transition(p),k=k.transition(p),N=N.transition(p),C=C.transition(p),L=L.transition(p).attr("opacity",$O).attr("transform",function(D){return isFinite(D=T(D))?d(D+l):this.getAttribute("transform")}),_.attr("opacity",$O).attr("transform",function(D){var P=this.parentNode.__axis;return d((P&&isFinite(P=P(D))?P:T(D))+l)})),L.remove(),S.attr("d",t===l2||t===t5?s?"M"+u*s+","+b+"H"+l+"V"+x+"H"+u*s:"M"+l+","+b+"V"+x:s?"M"+b+","+u*s+"V"+l+"H"+x+"V"+u*s:"M"+b+","+l+"H"+x),k.attr("opacity",1).attr("transform",function(D){return d(T(D)+l)}),N.attr(h+"2",u*a),C.attr(h,u*y).text(m),w.filter(mpe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===t5?"start":t===l2?"end":"middle"),w.each(function(){this.__axis=T})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),f):n&&n.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(a=s=+p,f):a},f.tickSizeInner=function(p){return arguments.length?(a=+p,f):a},f.tickSizeOuter=function(p){return arguments.length?(s=+p,f):s},f.tickPadding=function(p){return arguments.length?(o=+p,f):o},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function ype(t){return zO(o2,t)}function vpe(t){return zO(r5,t)}var bpe={value:()=>{}};function UO(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new c2(r)}function c2(t){this._=t}function xpe(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}c2.prototype=UO.prototype={constructor:c2,on:function(t,e){var r=this._,n=xpe(t+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(t=n[a]).type)&&(i=Epe(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=n[a]).type)r[i]=HO(r[i],t.name,e);else if(e==null)for(i in r)r[i]=HO(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new c2(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,i=a.length;n<i;++n)a[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,a=n.length;i<a;++i)n[i].value.apply(e,r)}};function Epe(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function HO(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=bpe,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var n5="http://www.w3.org/1999/xhtml";const GO={svg:"http://www.w3.org/2000/svg",xhtml:n5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function u2(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),GO.hasOwnProperty(e)?{space:GO[e],local:t}:t}function Tpe(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===n5&&e.documentElement.namespaceURI===n5?e.createElement(t):e.createElementNS(r,t)}}function wpe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function VO(t){var e=u2(t);return(e.local?wpe:Tpe)(e)}function Spe(){}function i5(t){return t==null?Spe:function(){return this.querySelector(t)}}function kpe(t){typeof t!="function"&&(t=i5(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=new Array(s),l,u,h=0;h<s;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new vs(n,this._parents)}function Cpe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _pe(){return[]}function qO(t){return t==null?_pe:function(){return this.querySelectorAll(t)}}function Ape(t){return function(){return Cpe(t.apply(this,arguments))}}function Lpe(t){typeof t=="function"?t=Ape(t):t=qO(t);for(var e=this._groups,r=e.length,n=[],i=[],a=0;a<r;++a)for(var s=e[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(n.push(t.call(l,l.__data__,u,s)),i.push(l));return new vs(n,i)}function WO(t){return function(){return this.matches(t)}}function YO(t){return function(e){return e.matches(t)}}var Npe=Array.prototype.find;function Rpe(t){return function(){return Npe.call(this.children,t)}}function Ipe(){return this.firstElementChild}function Dpe(t){return this.select(t==null?Ipe:Rpe(typeof t=="function"?t:YO(t)))}var Ope=Array.prototype.filter;function Mpe(){return Array.from(this.children)}function Ppe(t){return function(){return Ope.call(this.children,t)}}function Bpe(t){return this.selectAll(t==null?Mpe:Ppe(typeof t=="function"?t:YO(t)))}function Fpe(t){typeof t!="function"&&(t=WO(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new vs(n,this._parents)}function XO(t){return new Array(t.length)}function $pe(){return new vs(this._enter||this._groups.map(XO),this._parents)}function h2(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}h2.prototype={constructor:h2,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function zpe(t){return function(){return t}}function Upe(t,e,r,n,i,a){for(var s=0,o,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],n[s]=o):r[s]=new h2(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function Hpe(t,e,r,n,i,a,s){var o,l,u=new Map,h=e.length,d=a.length,f=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(f[o]=p=s.call(l,l.__data__,o,e)+"",u.has(p)?i[o]=l:u.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=u.get(p))?(n[o]=l,l.__data__=a[o],u.delete(p)):r[o]=new h2(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(f[o])===l&&(i[o]=l)}function Gpe(t){return t.__data__}function Vpe(t,e){if(!arguments.length)return Array.from(this,Gpe);var r=e?Hpe:Upe,n=this._parents,i=this._groups;typeof t!="function"&&(t=zpe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var h=n[u],d=i[u],f=d.length,p=qpe(t.call(h,h&&h.__data__,u,n)),g=p.length,m=o[u]=new Array(g),y=s[u]=new Array(g),v=l[u]=new Array(f);r(h,d,m,y,v,p,e);for(var b=0,x=0,T,w;b<g;++b)if(T=m[b]){for(b>=x&&(x=b+1);!(w=y[x])&&++x<g;);T._next=w||null}}return s=new vs(s,n),s._enter=o,s._exit=l,s}function qpe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wpe(){return new vs(this._exit||this._groups.map(XO),this._parents)}function Ype(t,e,r){var n=this.enter(),i=this,a=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function Xpe(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=r[l],h=n[l],d=u.length,f=o[l]=new Array(d),p,g=0;g<d;++g)(p=u[g]||h[g])&&(f[g]=p);for(;l<i;++l)o[l]=r[l];return new vs(o,this._parents)}function Kpe(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function jpe(t){t||(t=Qpe);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],o=s.length,l=i[a]=new Array(o),u,h=0;h<o;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new vs(i,this._parents).order()}function Qpe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zpe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Jpe(){return Array.from(this)}function ege(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function tge(){let t=0;for(const e of this)++t;return t}function rge(){return!this.node()}function nge(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function ige(t){return function(){this.removeAttribute(t)}}function age(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sge(t,e){return function(){this.setAttribute(t,e)}}function oge(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function lge(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function cge(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function uge(t,e){var r=u2(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?age:ige:typeof e=="function"?r.local?cge:lge:r.local?oge:sge)(r,e))}function KO(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function hge(t){return function(){this.style.removeProperty(t)}}function dge(t,e,r){return function(){this.style.setProperty(t,e,r)}}function fge(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function pge(t,e,r){return arguments.length>1?this.each((e==null?hge:typeof e=="function"?fge:dge)(t,e,r??"")):Yd(this.node(),t)}function Yd(t,e){return t.style.getPropertyValue(e)||KO(t).getComputedStyle(t,null).getPropertyValue(e)}function gge(t){return function(){delete this[t]}}function mge(t,e){return function(){this[t]=e}}function yge(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function vge(t,e){return arguments.length>1?this.each((e==null?gge:typeof e=="function"?yge:mge)(t,e)):this.node()[t]}function jO(t){return t.trim().split(/^|\s+/)}function a5(t){return t.classList||new QO(t)}function QO(t){this._node=t,this._names=jO(t.getAttribute("class")||"")}QO.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ZO(t,e){for(var r=a5(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function JO(t,e){for(var r=a5(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function bge(t){return function(){ZO(this,t)}}function xge(t){return function(){JO(this,t)}}function Ege(t,e){return function(){(e.apply(this,arguments)?ZO:JO)(this,t)}}function Tge(t,e){var r=jO(t+"");if(arguments.length<2){for(var n=a5(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?Ege:e?bge:xge)(r,e))}function wge(){this.textContent=""}function Sge(t){return function(){this.textContent=t}}function kge(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Cge(t){return arguments.length?this.each(t==null?wge:(typeof t=="function"?kge:Sge)(t)):this.node().textContent}function _ge(){this.innerHTML=""}function Age(t){return function(){this.innerHTML=t}}function Lge(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Nge(t){return arguments.length?this.each(t==null?_ge:(typeof t=="function"?Lge:Age)(t)):this.node().innerHTML}function Rge(){this.nextSibling&&this.parentNode.appendChild(this)}function Ige(){return this.each(Rge)}function Dge(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oge(){return this.each(Dge)}function Mge(t){var e=typeof t=="function"?t:VO(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Pge(){return null}function Bge(t,e){var r=typeof t=="function"?t:VO(t),n=e==null?Pge:typeof e=="function"?e:i5(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Fge(){var t=this.parentNode;t&&t.removeChild(this)}function $ge(){return this.each(Fge)}function zge(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Uge(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hge(t){return this.select(t?Uge:zge)}function Gge(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Vge(t){return function(e){t.call(this,e,this.__data__)}}function qge(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function Wge(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,a;r<i;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++n]=a;++n?e.length=n:delete this.__on}}}function Yge(t,e,r){return function(){var n=this.__on,i,a=Vge(e);if(n){for(var s=0,o=n.length;s<o;++s)if((i=n[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=e;return}}this.addEventListener(t.type,a,r),i={type:t.type,name:t.name,value:e,listener:a,options:r},n?n.push(i):this.__on=[i]}}function Xge(t,e,r){var n=qge(t+""),i,a=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,h;l<u;++l)for(i=0,h=o[l];i<a;++i)if((s=n[i]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?Yge:Wge,i=0;i<a;++i)this.each(o(n[i],e,r));return this}function eM(t,e,r){var n=KO(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Kge(t,e){return function(){return eM(this,t,e)}}function jge(t,e){return function(){return eM(this,t,e.apply(this,arguments))}}function Qge(t,e){return this.each((typeof e=="function"?jge:Kge)(t,e))}function*Zge(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var tM=[null];function vs(t,e){this._groups=t,this._parents=e}function yg(){return new vs([[document.documentElement]],tM)}function Jge(){return this}vs.prototype=yg.prototype={constructor:vs,select:kpe,selectAll:Lpe,selectChild:Dpe,selectChildren:Bpe,filter:Fpe,data:Vpe,enter:$pe,exit:Wpe,join:Ype,merge:Xpe,selection:Jge,order:Kpe,sort:jpe,call:Zpe,nodes:Jpe,node:ege,size:tge,empty:rge,each:nge,attr:uge,style:pge,property:vge,classed:Tge,text:Cge,html:Nge,raise:Ige,lower:Oge,append:Mge,insert:Bge,remove:$ge,clone:Hge,datum:Gge,on:Xge,dispatch:Qge,[Symbol.iterator]:Zge};function mt(t){return typeof t=="string"?new vs([[document.querySelector(t)]],[document.documentElement]):new vs([[t]],tM)}function vg(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function d2(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Qu(){}var bg=.7,f2=1/bg,Xd="\\s*([+-]?\\d+)\\s*",xg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e1e=/^#([0-9a-f]{3,8})$/,t1e=new RegExp(`^rgb\\(${Xd},${Xd},${Xd}\\)$`),r1e=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),n1e=new RegExp(`^rgba\\(${Xd},${Xd},${Xd},${xg}\\)$`),i1e=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${xg}\\)$`),a1e=new RegExp(`^hsl\\(${xg},${Yo},${Yo}\\)$`),s1e=new RegExp(`^hsla\\(${xg},${Yo},${Yo},${xg}\\)$`),rM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vg(Qu,Zu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nM,formatHex:nM,formatHex8:o1e,formatHsl:l1e,formatRgb:iM,toString:iM});function nM(){return this.rgb().formatHex()}function o1e(){return this.rgb().formatHex8()}function l1e(){return uM(this).formatHsl()}function iM(){return this.rgb().formatRgb()}function Zu(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=e1e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?aM(e):r===3?new aa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?p2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?p2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=t1e.exec(t))?new aa(e[1],e[2],e[3],1):(e=r1e.exec(t))?new aa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=n1e.exec(t))?p2(e[1],e[2],e[3],e[4]):(e=i1e.exec(t))?p2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=a1e.exec(t))?cM(e[1],e[2]/100,e[3]/100,1):(e=s1e.exec(t))?cM(e[1],e[2]/100,e[3]/100,e[4]):rM.hasOwnProperty(t)?aM(rM[t]):t==="transparent"?new aa(NaN,NaN,NaN,0):null}function aM(t){return new aa(t>>16&255,t>>8&255,t&255,1)}function p2(t,e,r,n){return n<=0&&(t=e=r=NaN),new aa(t,e,r,n)}function sM(t){return t instanceof Qu||(t=Zu(t)),t?(t=t.rgb(),new aa(t.r,t.g,t.b,t.opacity)):new aa}function s5(t,e,r,n){return arguments.length===1?sM(t):new aa(t,e,r,n??1)}function aa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}vg(aa,s5,d2(Qu,{brighter(t){return t=t==null?f2:Math.pow(f2,t),new aa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bg:Math.pow(bg,t),new aa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new aa(Ju(this.r),Ju(this.g),Ju(this.b),g2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oM,formatHex:oM,formatHex8:c1e,formatRgb:lM,toString:lM}));function oM(){return`#${eh(this.r)}${eh(this.g)}${eh(this.b)}`}function c1e(){return`#${eh(this.r)}${eh(this.g)}${eh(this.b)}${eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function lM(){const t=g2(this.opacity);return`${t===1?"rgb(":"rgba("}${Ju(this.r)}, ${Ju(this.g)}, ${Ju(this.b)}${t===1?")":`, ${t})`}`}function g2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ju(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eh(t){return t=Ju(t),(t<16?"0":"")+t.toString(16)}function cM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new po(t,e,r,n)}function uM(t){if(t instanceof po)return new po(t.h,t.s,t.l,t.opacity);if(t instanceof Qu||(t=Zu(t)),!t)return new po;if(t instanceof po)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new po(s,o,l,t.opacity)}function u1e(t,e,r,n){return arguments.length===1?uM(t):new po(t,e,r,n??1)}function po(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}vg(po,u1e,d2(Qu,{brighter(t){return t=t==null?f2:Math.pow(f2,t),new po(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bg:Math.pow(bg,t),new po(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new aa(o5(t>=240?t-240:t+120,i,n),o5(t,i,n),o5(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new po(hM(this.h),m2(this.s),m2(this.l),g2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=g2(this.opacity);return`${t===1?"hsl(":"hsla("}${hM(this.h)}, ${m2(this.s)*100}%, ${m2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hM(t){return t=(t||0)%360,t<0?t+360:t}function m2(t){return Math.max(0,Math.min(1,t||0))}function o5(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const h1e=Math.PI/180,d1e=180/Math.PI,y2=18,dM=.96422,fM=1,pM=.82521,gM=4/29,Kd=6/29,mM=3*Kd*Kd,f1e=Kd*Kd*Kd;function yM(t){if(t instanceof Xo)return new Xo(t.l,t.a,t.b,t.opacity);if(t instanceof Ul)return vM(t);t instanceof aa||(t=sM(t));var e=h5(t.r),r=h5(t.g),n=h5(t.b),i=l5((.2225045*e+.7168786*r+.0606169*n)/fM),a,s;return e===r&&r===n?a=s=i:(a=l5((.4360747*e+.3850649*r+.1430804*n)/dM),s=l5((.0139322*e+.0971045*r+.7141733*n)/pM)),new Xo(116*i-16,500*(a-i),200*(i-s),t.opacity)}function p1e(t,e,r,n){return arguments.length===1?yM(t):new Xo(t,e,r,n??1)}function Xo(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}vg(Xo,p1e,d2(Qu,{brighter(t){return new Xo(this.l+y2*(t??1),this.a,this.b,this.opacity)},darker(t){return new Xo(this.l-y2*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=dM*c5(e),t=fM*c5(t),r=pM*c5(r),new aa(u5(3.1338561*e-1.6168667*t-.4906146*r),u5(-.9787684*e+1.9161415*t+.033454*r),u5(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function l5(t){return t>f1e?Math.pow(t,1/3):t/mM+gM}function c5(t){return t>Kd?t*t*t:mM*(t-gM)}function u5(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function h5(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function g1e(t){if(t instanceof Ul)return new Ul(t.h,t.c,t.l,t.opacity);if(t instanceof Xo||(t=yM(t)),t.a===0&&t.b===0)return new Ul(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*d1e;return new Ul(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function d5(t,e,r,n){return arguments.length===1?g1e(t):new Ul(t,e,r,n??1)}function Ul(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function vM(t){if(isNaN(t.h))return new Xo(t.l,0,0,t.opacity);var e=t.h*h1e;return new Xo(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}vg(Ul,d5,d2(Qu,{brighter(t){return new Ul(this.h,this.c,this.l+y2*(t??1),this.opacity)},darker(t){return new Ul(this.h,this.c,this.l-y2*(t??1),this.opacity)},rgb(){return vM(this).rgb()}}));const v2=t=>()=>t;function bM(t,e){return function(r){return t+r*e}}function m1e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function y1e(t,e){var r=e-t;return r?bM(t,r>180||r<-180?r-360*Math.round(r/360):r):v2(isNaN(t)?e:t)}function v1e(t){return(t=+t)==1?Eg:function(e,r){return r-e?m1e(e,r,t):v2(isNaN(e)?r:e)}}function Eg(t,e){var r=e-t;return r?bM(t,r):v2(isNaN(t)?e:t)}const b2=function t(e){var r=v1e(e);function n(i,a){var s=r((i=s5(i)).r,(a=s5(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=Eg(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=u(h),i+""}}return n.gamma=t,n}(1);function b1e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function x1e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function E1e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=g5(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function T1e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function go(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function w1e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=g5(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var f5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p5=new RegExp(f5.source,"g");function S1e(t){return function(){return t}}function k1e(t){return function(e){return t(e)+""}}function xM(t,e){var r=f5.lastIndex=p5.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=f5.exec(t))&&(i=p5.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:go(n,i)})),r=p5.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?k1e(l[0].x):S1e(e):(e=l.length,function(u){for(var h=0,d;h<e;++h)o[(d=l[h]).i]=d.x(u);return o.join("")})}function g5(t,e){var r=typeof e,n;return e==null||r==="boolean"?v2(e):(r==="number"?go:r==="string"?(n=Zu(e))?(e=n,b2):xM:e instanceof Zu?b2:e instanceof Date?T1e:x1e(e)?b1e:Array.isArray(e)?E1e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?w1e:go)(t,e)}function C1e(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var EM=180/Math.PI,m5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TM(t,e,r,n,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*EM,skewX:Math.atan(l)*EM,scaleX:s,scaleY:o}}var x2;function _1e(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?m5:TM(e.a,e.b,e.c,e.d,e.e,e.f)}function A1e(t){return t==null||(x2||(x2=document.createElementNS("http://www.w3.org/2000/svg","g")),x2.setAttribute("transform",t),!(t=x2.transform.baseVal.consolidate()))?m5:(t=t.matrix,TM(t.a,t.b,t.c,t.d,t.e,t.f))}function wM(t,e,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,h,d,f,p,g){if(u!==d||h!==f){var m=p.push("translate(",null,e,null,r);g.push({i:m-4,x:go(u,d)},{i:m-2,x:go(h,f)})}else(d||f)&&p.push("translate("+d+e+f+r)}function s(u,h,d,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,n)-2,x:go(u,h)})):h&&d.push(i(d)+"rotate("+h+n)}function o(u,h,d,f){u!==h?f.push({i:d.push(i(d)+"skewX(",null,n)-2,x:go(u,h)}):h&&d.push(i(d)+"skewX("+h+n)}function l(u,h,d,f,p,g){if(u!==d||h!==f){var m=p.push(i(p)+"scale(",null,",",null,")");g.push({i:m-4,x:go(u,d)},{i:m-2,x:go(h,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,h){var d=[],f=[];return u=t(u),h=t(h),a(u.translateX,u.translateY,h.translateX,h.translateY,d,f),s(u.rotate,h.rotate,d,f),o(u.skewX,h.skewX,d,f),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,f),u=h=null,function(p){for(var g=-1,m=f.length,y;++g<m;)d[(y=f[g]).i]=y.x(p);return d.join("")}}}var L1e=wM(_1e,"px, ","px)","deg)"),N1e=wM(A1e,", ",")",")");function R1e(t){return function(e,r){var n=t((e=d5(e)).h,(r=d5(r)).h),i=Eg(e.c,r.c),a=Eg(e.l,r.l),s=Eg(e.opacity,r.opacity);return function(o){return e.h=n(o),e.c=i(o),e.l=a(o),e.opacity=s(o),e+""}}}const I1e=R1e(y1e);var jd=0,Tg=0,wg=0,SM=1e3,E2,Sg,T2=0,th=0,w2=0,kg=typeof performance=="object"&&performance.now?performance:Date,kM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function y5(){return th||(kM(D1e),th=kg.now()+w2)}function D1e(){th=0}function S2(){this._call=this._time=this._next=null}S2.prototype=CM.prototype={constructor:S2,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?y5():+r)+(e==null?0:+e),!this._next&&Sg!==this&&(Sg?Sg._next=this:E2=this,Sg=this),this._call=t,this._time=r,v5()},stop:function(){this._call&&(this._call=null,this._time=1/0,v5())}};function CM(t,e,r){var n=new S2;return n.restart(t,e,r),n}function O1e(){y5(),++jd;for(var t=E2,e;t;)(e=th-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jd}function _M(){th=(T2=kg.now())+w2,jd=Tg=0;try{O1e()}finally{jd=0,P1e(),th=0}}function M1e(){var t=kg.now(),e=t-T2;e>SM&&(w2-=e,T2=t)}function P1e(){for(var t,e=E2,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:E2=r);Sg=t,v5(n)}function v5(t){if(!jd){Tg&&(Tg=clearTimeout(Tg));var e=t-th;e>24?(t<1/0&&(Tg=setTimeout(_M,t-kg.now()-w2)),wg&&(wg=clearInterval(wg))):(wg||(T2=kg.now(),wg=setInterval(M1e,SM)),jd=1,kM(_M))}}function AM(t,e,r){var n=new S2;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var B1e=UO("start","end","cancel","interrupt"),F1e=[],LM=0,NM=1,b5=2,k2=3,RM=4,x5=5,C2=6;function _2(t,e,r,n,i,a){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;$1e(t,r,{name:e,index:n,group:i,on:B1e,tween:F1e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:LM})}function E5(t,e){var r=mo(t,e);if(r.state>LM)throw new Error("too late; already scheduled");return r}function Ko(t,e){var r=mo(t,e);if(r.state>k2)throw new Error("too late; already running");return r}function mo(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function $1e(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=CM(a,0,r.time);function a(u){r.state=NM,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var h,d,f,p;if(r.state!==NM)return l();for(h in n)if(p=n[h],p.name===r.name){if(p.state===k2)return AM(s);p.state===RM?(p.state=C2,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[h]):+h<e&&(p.state=C2,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[h])}if(AM(function(){r.state===k2&&(r.state=RM,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=b5,r.on.call("start",t,t.__data__,r.index,r.group),r.state===b5){for(r.state=k2,i=new Array(f=r.tween.length),h=0,d=-1;h<f;++h)(p=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(i[++d]=p);i.length=d+1}}function o(u){for(var h=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=x5,1),d=-1,f=i.length;++d<f;)i[d].call(t,h);r.state===x5&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=C2,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function z1e(t,e){var r=t.__transition,n,i,a=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((n=r[s]).name!==e){a=!1;continue}i=n.state>b5&&n.state<x5,n.state=C2,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[s]}a&&delete t.__transition}}function U1e(t){return this.each(function(){z1e(this,t)})}function H1e(t,e){var r,n;return function(){var i=Ko(this,t),a=i.tween;if(a!==r){n=r=a;for(var s=0,o=n.length;s<o;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function G1e(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=Ko(this,t),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:e,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function V1e(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=mo(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===t)return s.value;return null}return this.each((e==null?H1e:G1e)(r,t,e))}function T5(t,e,r){var n=t._id;return t.each(function(){var i=Ko(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return mo(i,n).value[e]}}function IM(t,e){var r;return(typeof e=="number"?go:e instanceof Zu?b2:(r=Zu(e))?(e=r,b2):xM)(t,e)}function q1e(t){return function(){this.removeAttribute(t)}}function W1e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Y1e(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===n?a:a=e(n=s,r)}}function X1e(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===n?a:a=e(n=s,r)}}function K1e(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function j1e(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function Q1e(t,e){var r=u2(t),n=r==="transform"?N1e:IM;return this.attrTween(t,typeof e=="function"?(r.local?j1e:K1e)(r,n,T5(this,"attr."+t,e)):e==null?(r.local?W1e:q1e)(r):(r.local?X1e:Y1e)(r,n,e))}function Z1e(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function J1e(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function eme(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&J1e(t,a)),r}return i._value=e,i}function tme(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&Z1e(t,a)),r}return i._value=e,i}function rme(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=u2(t);return this.tween(r,(n.local?eme:tme)(n,e))}function nme(t,e){return function(){E5(this,t).delay=+e.apply(this,arguments)}}function ime(t,e){return e=+e,function(){E5(this,t).delay=e}}function ame(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nme:ime)(e,t)):mo(this.node(),e).delay}function sme(t,e){return function(){Ko(this,t).duration=+e.apply(this,arguments)}}function ome(t,e){return e=+e,function(){Ko(this,t).duration=e}}function lme(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sme:ome)(e,t)):mo(this.node(),e).duration}function cme(t,e){if(typeof e!="function")throw new Error;return function(){Ko(this,t).ease=e}}function ume(t){var e=this._id;return arguments.length?this.each(cme(e,t)):mo(this.node(),e).ease}function hme(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Ko(this,t).ease=r}}function dme(t){if(typeof t!="function")throw new Error;return this.each(hme(this._id,t))}function fme(t){typeof t!="function"&&(t=WO(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new Hl(n,this._parents,this._name,this._id)}function pme(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var l=e[o],u=r[o],h=l.length,d=s[o]=new Array(h),f,p=0;p<h;++p)(f=l[p]||u[p])&&(d[p]=f);for(;o<n;++o)s[o]=e[o];return new Hl(s,this._parents,this._name,this._id)}function gme(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function mme(t,e,r){var n,i,a=gme(e)?E5:Ko;return function(){var s=a(this,t),o=s.on;o!==n&&(i=(n=o).copy()).on(e,r),s.on=i}}function yme(t,e){var r=this._id;return arguments.length<2?mo(this.node(),r).on.on(t):this.each(mme(r,t,e))}function vme(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function bme(){return this.on("end.remove",vme(this._id))}function xme(t){var e=this._name,r=this._id;typeof t!="function"&&(t=i5(t));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o=n[s],l=o.length,u=a[s]=new Array(l),h,d,f=0;f<l;++f)(h=o[f])&&(d=t.call(h,h.__data__,f,o))&&("__data__"in h&&(d.__data__=h.__data__),u[f]=d,_2(u[f],e,r,f,u,mo(h,r)));return new Hl(a,this._parents,e,r)}function Eme(t){var e=this._name,r=this._id;typeof t!="function"&&(t=qO(t));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var l=n[o],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var f=t.call(h,h.__data__,d,l),p,g=mo(h,r),m=0,y=f.length;m<y;++m)(p=f[m])&&_2(p,e,r,m,f,g);a.push(f),s.push(h)}return new Hl(a,s,e,r)}var Tme=yg.prototype.constructor;function wme(){return new Tme(this._groups,this._parents)}function Sme(t,e){var r,n,i;return function(){var a=Yd(this,t),s=(this.style.removeProperty(t),Yd(this,t));return a===s?null:a===r&&s===n?i:i=e(r=a,n=s)}}function DM(t){return function(){this.style.removeProperty(t)}}function kme(t,e,r){var n,i=r+"",a;return function(){var s=Yd(this,t);return s===i?null:s===n?a:a=e(n=s,r)}}function Cme(t,e,r){var n,i,a;return function(){var s=Yd(this,t),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Yd(this,t))),s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o))}}function _me(t,e){var r,n,i,a="style."+e,s="end."+a,o;return function(){var l=Ko(this,t),u=l.on,h=l.value[a]==null?o||(o=DM(e)):void 0;(u!==r||i!==h)&&(n=(r=u).copy()).on(s,i=h),l.on=n}}function Ame(t,e,r){var n=(t+="")=="transform"?L1e:IM;return e==null?this.styleTween(t,Sme(t,n)).on("end.style."+t,DM(t)):typeof e=="function"?this.styleTween(t,Cme(t,n,T5(this,"style."+t,e))).each(_me(this._id,t)):this.styleTween(t,kme(t,n,e),r).on("end.style."+t,null)}function Lme(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function Nme(t,e,r){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Lme(t,s,r)),n}return a._value=e,a}function Rme(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Nme(t,e,r??""))}function Ime(t){return function(){this.textContent=t}}function Dme(t){return function(){var e=t(this);this.textContent=e??""}}function Ome(t){return this.tween("text",typeof t=="function"?Dme(T5(this,"text",t)):Ime(t==null?"":t+""))}function Mme(t){return function(e){this.textContent=t.call(this,e)}}function Pme(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&Mme(i)),e}return n._value=t,n}function Bme(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Pme(t))}function Fme(){for(var t=this._name,e=this._id,r=OM(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var h=mo(l,e);_2(l,t,r,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Hl(n,this._parents,t,r)}function $me(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};r.each(function(){var u=Ko(this,n),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&a()})}var zme=0;function Hl(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function OM(){return++zme}var Gl=yg.prototype;Hl.prototype={constructor:Hl,select:xme,selectAll:Eme,selectChild:Gl.selectChild,selectChildren:Gl.selectChildren,filter:fme,merge:pme,selection:wme,transition:Fme,call:Gl.call,nodes:Gl.nodes,node:Gl.node,size:Gl.size,empty:Gl.empty,each:Gl.each,on:yme,attr:Q1e,attrTween:rme,style:Ame,styleTween:Rme,text:Ome,textTween:Bme,remove:bme,tween:V1e,delay:ame,duration:lme,ease:ume,easeVarying:dme,end:$me,[Symbol.iterator]:Gl[Symbol.iterator]};function Ume(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Hme={time:null,delay:0,duration:250,ease:Ume};function Gme(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Vme(t){var e,r;t instanceof Hl?(e=t._id,t=t._name):(e=OM(),(r=Hme).time=y5(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&_2(l,t,e,u,s,r||Gme(l,e));return new Hl(n,this._parents,t,e)}yg.prototype.interrupt=U1e,yg.prototype.transition=Vme;const w5=Math.PI,S5=2*w5,rh=1e-6,qme=S5-rh;function MM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Wme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MM;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let Yme=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MM:Wme(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,h=s-e,d=o-r,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>rh)if(!(Math.abs(d*l-u*h)>rh)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,g=i-o,m=l*l+u*u,y=p*p+g*g,v=Math.sqrt(m),b=Math.sqrt(f),x=a*Math.tan((w5-Math.acos((m+f-y)/(2*v*b)))/2),T=x/b,w=x/v;Math.abs(T-1)>rh&&this._append`L${e+T*h},${r+T*d}`,this._append`A${a},${a},0,0,${+(d*p>h*g)},${this._x1=e+w*l},${this._y1=r+w*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,h=r+l,d=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>rh||Math.abs(this._y1-h)>rh)&&this._append`L${u},${h}`,n&&(f<0&&(f=f%S5+S5),f>qme?this._append`A${n},${n},0,1,${d},${e-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=h}`:f>rh&&this._append`A${n},${n},0,${+(f>=w5)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function Xme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function A2(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Qd(t){return t=A2(Math.abs(t)),t?t[1]:NaN}function Kme(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function jme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Qme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function L2(t){if(!(e=Qme.exec(t)))throw new Error("invalid format: "+t);var e;return new k5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}L2.prototype=k5.prototype;function k5(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}k5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zme(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var PM;function Jme(t,e){var r=A2(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(PM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+A2(t,Math.max(0,e+a-1))[0]}function BM(t,e){var r=A2(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const FM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>BM(t*100,e),r:BM,s:Jme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $M(t){return t}var zM=Array.prototype.map,UM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eye(t){var e=t.grouping===void 0||t.thousands===void 0?$M:Kme(zM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?$M:jme(zM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=L2(d);var f=d.fill,p=d.align,g=d.sign,m=d.symbol,y=d.zero,v=d.width,b=d.comma,x=d.precision,T=d.trim,w=d.type;w==="n"?(b=!0,w="g"):FM[w]||(x===void 0&&(x=12),T=!0,w="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=m==="$"?n:/[%p]/.test(w)?s:"",L=FM[w],_=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function N(C){var D=S,P=k,A,R,O;if(w==="c")P=L(C)+P,C="";else{C=+C;var M=C<0||1/C<0;if(C=isNaN(C)?l:L(Math.abs(C),x),T&&(C=Zme(C)),M&&+C==0&&g!=="+"&&(M=!1),D=(M?g==="("?g:o:g==="-"||g==="("?"":g)+D,P=(w==="s"?UM[8+PM/3]:"")+P+(M&&g==="("?")":""),_){for(A=-1,R=C.length;++A<R;)if(O=C.charCodeAt(A),48>O||O>57){P=(O===46?i+C.slice(A+1):C.slice(A))+P,C=C.slice(0,A);break}}}b&&!y&&(C=e(C,1/0));var I=D.length+C.length+P.length,F=I<v?new Array(v-I+1).join(f):"";switch(b&&y&&(C=e(F+C,F.length?v-P.length:1/0),F=""),p){case"<":C=D+C+P+F;break;case"=":C=D+F+C+P;break;case"^":C=F.slice(0,I=F.length>>1)+D+C+P+F.slice(I);break;default:C=F+D+C+P;break}return a(C)}return N.toString=function(){return d+""},N}function h(d,f){var p=u((d=L2(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Qd(f)/3)))*3,m=Math.pow(10,-g),y=UM[8+g/3];return function(v){return p(m*v)+y}}return{format:u,formatPrefix:h}}var N2,HM,GM;tye({thousands:",",grouping:[3],currency:["$",""]});function tye(t){return N2=eye(t),HM=N2.format,GM=N2.formatPrefix,N2}function rye(t){return Math.max(0,-Qd(Math.abs(t)))}function nye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qd(e)/3)))*3-Qd(Math.abs(t)))}function iye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qd(e)-Qd(t))+1}function R2(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const VM=Symbol("implicit");function I2(){var t=new BO,e=[],r=[],n=VM;function i(a){let s=t.get(a);if(s===void 0){if(n!==VM)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new BO;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return I2(e,r).unknown(n)},R2.apply(i,arguments),i}function C5(){var t=I2().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,h=.5;delete t.unknown;function d(){var f=e().length,p=i<n,g=p?i:n,m=p?n:i;a=(m-g)/Math.max(1,f-l+u*2),o&&(a=Math.floor(a)),g+=(m-g-a*(f-l))*h,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=upe(f).map(function(v){return g+a*v});return r(p?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),d()):h},t.copy=function(){return C5(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(h)},R2.apply(d(),arguments)}function aye(t){return function(){return t}}function sye(t){return+t}var qM=[0,1];function Zd(t){return t}function _5(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:aye(isNaN(e)?NaN:.5)}function oye(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function lye(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=_5(i,n),a=r(s,a)):(n=_5(n,i),a=r(a,s)),function(o){return a(n(o))}}function cye(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=_5(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=epe(t,o,1,n)-1;return a[l](i[l](o))}}function WM(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function uye(){var t=qM,e=qM,r=g5,n,i,a,s=Zd,o,l,u;function h(){var f=Math.min(t.length,e.length);return s!==Zd&&(s=oye(t[0],t[f-1])),o=f>2?cye:lye,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=o(t.map(n),e,r)))(n(s(f)))}return d.invert=function(f){return s(i((u||(u=o(e,t.map(n),go)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,sye),h()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),h()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=C1e,h()},d.clamp=function(f){return arguments.length?(s=f?!0:Zd,h()):s!==Zd},d.interpolate=function(f){return arguments.length?(r=f,h()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return n=f,i=p,h()}}function YM(){return uye()(Zd,Zd)}function hye(t,e,r,n){var i=e5(t,e,r),a;switch(n=L2(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=nye(i,s))&&(n.precision=a),GM(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=iye(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=rye(i))&&(n.precision=a-(n.type==="%")*2);break}}return HM(n)}function dye(t){var e=t.domain;return t.ticks=function(r){var n=e();return ope(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return hye(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,h=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);h-- >0;){if(u=Jw(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Jd(){var t=YM();return t.copy=function(){return WM(t,Jd())},R2.apply(t,arguments),dye(t)}function fye(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}const A5=new Date,L5=new Date;function hi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>hi(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(A5.setTime(+a),L5.setTime(+s),t(A5),t(L5),Math.floor(r(A5,L5))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ef=hi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ef.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ef),ef.range;const Vl=1e3,zs=Vl*60,ql=zs*60,Wl=ql*24,N5=Wl*7,XM=Wl*30,R5=Wl*365,qc=hi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vl)},(t,e)=>(e-t)/Vl,t=>t.getUTCSeconds());qc.range;const Cg=hi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vl)},(t,e)=>{t.setTime(+t+e*zs)},(t,e)=>(e-t)/zs,t=>t.getMinutes());Cg.range,hi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zs)},(t,e)=>(e-t)/zs,t=>t.getUTCMinutes()).range;const _g=hi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vl-t.getMinutes()*zs)},(t,e)=>{t.setTime(+t+e*ql)},(t,e)=>(e-t)/ql,t=>t.getHours());_g.range,hi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ql)},(t,e)=>(e-t)/ql,t=>t.getUTCHours()).range;const nh=hi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zs)/Wl,t=>t.getDate()-1);nh.range;const I5=hi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wl,t=>t.getUTCDate()-1);I5.range,hi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wl,t=>Math.floor(t/Wl)).range;function ih(t){return hi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zs)/N5)}const Ag=ih(0),Lg=ih(1),KM=ih(2),jM=ih(3),ah=ih(4),QM=ih(5),ZM=ih(6);Ag.range,Lg.range,KM.range,jM.range,ah.range,QM.range,ZM.range;function sh(t){return hi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/N5)}const JM=sh(0),D2=sh(1),pye=sh(2),gye=sh(3),tf=sh(4),mye=sh(5),yye=sh(6);JM.range,D2.range,pye.range,gye.range,tf.range,mye.range,yye.range;const Ng=hi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ng.range,hi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()).range;const Yl=hi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Yl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)}),Yl.range;const oh=hi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)}),oh.range;function vye(t,e,r,n,i,a){const s=[[qc,1,Vl],[qc,5,5*Vl],[qc,15,15*Vl],[qc,30,30*Vl],[a,1,zs],[a,5,5*zs],[a,15,15*zs],[a,30,30*zs],[i,1,ql],[i,3,3*ql],[i,6,6*ql],[i,12,12*ql],[n,1,Wl],[n,2,2*Wl],[r,1,N5],[e,1,XM],[e,3,3*XM],[t,1,R5]];function o(u,h,d){const f=h<u;f&&([u,h]=[h,u]);const p=d&&typeof d.range=="function"?d:l(u,h,d),g=p?p.range(u,+h+1):[];return f?g.reverse():g}function l(u,h,d){const f=Math.abs(h-u)/d,p=Zw(([,,y])=>y).right(s,f);if(p===s.length)return t.every(e5(u/R5,h/R5,d));if(p===0)return ef.every(Math.max(e5(u,h,d),1));const[g,m]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return g.every(m)}return[o,l]}const[bye,xye]=vye(Yl,Ng,Ag,nh,_g,Cg);function D5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function O5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Eye(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=Ig(i),h=Dg(i),d=Ig(a),f=Dg(a),p=Ig(s),g=Dg(s),m=Ig(o),y=Dg(o),v=Ig(l),b=Dg(l),x={a:M,A:I,b:F,B,c:null,d:aP,e:aP,f:Vye,g:eve,G:rve,H:Uye,I:Hye,j:Gye,L:sP,m:qye,M:Wye,p:$,q:V,Q:dP,s:fP,S:Yye,u:Xye,U:Kye,V:jye,w:Qye,W:Zye,x:null,X:null,y:Jye,Y:tve,Z:nve,"%":hP},T={a:H,A:te,b:X,B:ee,c:null,d:lP,e:lP,f:ove,g:yve,G:bve,H:ive,I:ave,j:sve,L:cP,m:lve,M:cve,p:re,q:pe,Q:dP,s:fP,S:uve,u:hve,U:dve,V:fve,w:pve,W:gve,x:null,X:null,y:mve,Y:vve,Z:xve,"%":hP},w={a:N,A:C,b:D,B:P,c:A,d:nP,e:nP,f:Bye,g:rP,G:tP,H:iP,I:iP,j:Dye,L:Pye,m:Iye,M:Oye,p:_,q:Rye,Q:$ye,s:zye,S:Mye,u:Cye,U:_ye,V:Aye,w:kye,W:Lye,x:R,X:O,y:rP,Y:tP,Z:Nye,"%":Fye};x.x=S(r,x),x.X=S(n,x),x.c=S(e,x),T.x=S(r,T),T.X=S(n,T),T.c=S(e,T);function S(K,W){return function(j){var Y=[],Q=-1,ie=0,J=K.length,we,ue,ae;for(j instanceof Date||(j=new Date(+j));++Q<J;)K.charCodeAt(Q)===37&&(Y.push(K.slice(ie,Q)),(ue=eP[we=K.charAt(++Q)])!=null?we=K.charAt(++Q):ue=we==="e"?" ":"0",(ae=W[we])&&(we=ae(j,ue)),Y.push(we),ie=Q+1);return Y.push(K.slice(ie,Q)),Y.join("")}}function k(K,W){return function(j){var Y=Rg(1900,void 0,1),Q=L(Y,K,j+="",0),ie,J;if(Q!=j.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(W&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ie=O5(Rg(Y.y,0,1)),J=ie.getUTCDay(),ie=J>4||J===0?D2.ceil(ie):D2(ie),ie=I5.offset(ie,(Y.V-1)*7),Y.y=ie.getUTCFullYear(),Y.m=ie.getUTCMonth(),Y.d=ie.getUTCDate()+(Y.w+6)%7):(ie=D5(Rg(Y.y,0,1)),J=ie.getDay(),ie=J>4||J===0?Lg.ceil(ie):Lg(ie),ie=nh.offset(ie,(Y.V-1)*7),Y.y=ie.getFullYear(),Y.m=ie.getMonth(),Y.d=ie.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),J="Z"in Y?O5(Rg(Y.y,0,1)).getUTCDay():D5(Rg(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(J+5)%7:Y.w+Y.U*7-(J+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,O5(Y)):D5(Y)}}function L(K,W,j,Y){for(var Q=0,ie=W.length,J=j.length,we,ue;Q<ie;){if(Y>=J)return-1;if(we=W.charCodeAt(Q++),we===37){if(we=W.charAt(Q++),ue=w[we in eP?W.charAt(Q++):we],!ue||(Y=ue(K,j,Y))<0)return-1}else if(we!=j.charCodeAt(Y++))return-1}return Y}function _(K,W,j){var Y=u.exec(W.slice(j));return Y?(K.p=h.get(Y[0].toLowerCase()),j+Y[0].length):-1}function N(K,W,j){var Y=p.exec(W.slice(j));return Y?(K.w=g.get(Y[0].toLowerCase()),j+Y[0].length):-1}function C(K,W,j){var Y=d.exec(W.slice(j));return Y?(K.w=f.get(Y[0].toLowerCase()),j+Y[0].length):-1}function D(K,W,j){var Y=v.exec(W.slice(j));return Y?(K.m=b.get(Y[0].toLowerCase()),j+Y[0].length):-1}function P(K,W,j){var Y=m.exec(W.slice(j));return Y?(K.m=y.get(Y[0].toLowerCase()),j+Y[0].length):-1}function A(K,W,j){return L(K,e,W,j)}function R(K,W,j){return L(K,r,W,j)}function O(K,W,j){return L(K,n,W,j)}function M(K){return s[K.getDay()]}function I(K){return a[K.getDay()]}function F(K){return l[K.getMonth()]}function B(K){return o[K.getMonth()]}function $(K){return i[+(K.getHours()>=12)]}function V(K){return 1+~~(K.getMonth()/3)}function H(K){return s[K.getUTCDay()]}function te(K){return a[K.getUTCDay()]}function X(K){return l[K.getUTCMonth()]}function ee(K){return o[K.getUTCMonth()]}function re(K){return i[+(K.getUTCHours()>=12)]}function pe(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var W=S(K+="",x);return W.toString=function(){return K},W},parse:function(K){var W=k(K+="",!1);return W.toString=function(){return K},W},utcFormat:function(K){var W=S(K+="",T);return W.toString=function(){return K},W},utcParse:function(K){var W=k(K+="",!0);return W.toString=function(){return K},W}}}var eP={"-":"",_:" ",0:"0"},Ai=/^\s*\d+/,Tye=/^%/,wye=/[\\^$*+?|[\]().{}]/g;function zr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Sye(t){return t.replace(wye,"\\$&")}function Ig(t){return new RegExp("^(?:"+t.map(Sye).join("|")+")","i")}function Dg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function kye(t,e,r){var n=Ai.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Cye(t,e,r){var n=Ai.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function _ye(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Aye(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Lye(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function tP(t,e,r){var n=Ai.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function rP(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Nye(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Rye(t,e,r){var n=Ai.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Iye(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function nP(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Dye(t,e,r){var n=Ai.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function iP(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Oye(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Mye(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Pye(t,e,r){var n=Ai.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Bye(t,e,r){var n=Ai.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Fye(t,e,r){var n=Tye.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function $ye(t,e,r){var n=Ai.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function zye(t,e,r){var n=Ai.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function aP(t,e){return zr(t.getDate(),e,2)}function Uye(t,e){return zr(t.getHours(),e,2)}function Hye(t,e){return zr(t.getHours()%12||12,e,2)}function Gye(t,e){return zr(1+nh.count(Yl(t),t),e,3)}function sP(t,e){return zr(t.getMilliseconds(),e,3)}function Vye(t,e){return sP(t,e)+"000"}function qye(t,e){return zr(t.getMonth()+1,e,2)}function Wye(t,e){return zr(t.getMinutes(),e,2)}function Yye(t,e){return zr(t.getSeconds(),e,2)}function Xye(t){var e=t.getDay();return e===0?7:e}function Kye(t,e){return zr(Ag.count(Yl(t)-1,t),e,2)}function oP(t){var e=t.getDay();return e>=4||e===0?ah(t):ah.ceil(t)}function jye(t,e){return t=oP(t),zr(ah.count(Yl(t),t)+(Yl(t).getDay()===4),e,2)}function Qye(t){return t.getDay()}function Zye(t,e){return zr(Lg.count(Yl(t)-1,t),e,2)}function Jye(t,e){return zr(t.getFullYear()%100,e,2)}function eve(t,e){return t=oP(t),zr(t.getFullYear()%100,e,2)}function tve(t,e){return zr(t.getFullYear()%1e4,e,4)}function rve(t,e){var r=t.getDay();return t=r>=4||r===0?ah(t):ah.ceil(t),zr(t.getFullYear()%1e4,e,4)}function nve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zr(e/60|0,"0",2)+zr(e%60,"0",2)}function lP(t,e){return zr(t.getUTCDate(),e,2)}function ive(t,e){return zr(t.getUTCHours(),e,2)}function ave(t,e){return zr(t.getUTCHours()%12||12,e,2)}function sve(t,e){return zr(1+I5.count(oh(t),t),e,3)}function cP(t,e){return zr(t.getUTCMilliseconds(),e,3)}function ove(t,e){return cP(t,e)+"000"}function lve(t,e){return zr(t.getUTCMonth()+1,e,2)}function cve(t,e){return zr(t.getUTCMinutes(),e,2)}function uve(t,e){return zr(t.getUTCSeconds(),e,2)}function hve(t){var e=t.getUTCDay();return e===0?7:e}function dve(t,e){return zr(JM.count(oh(t)-1,t),e,2)}function uP(t){var e=t.getUTCDay();return e>=4||e===0?tf(t):tf.ceil(t)}function fve(t,e){return t=uP(t),zr(tf.count(oh(t),t)+(oh(t).getUTCDay()===4),e,2)}function pve(t){return t.getUTCDay()}function gve(t,e){return zr(D2.count(oh(t)-1,t),e,2)}function mve(t,e){return zr(t.getUTCFullYear()%100,e,2)}function yve(t,e){return t=uP(t),zr(t.getUTCFullYear()%100,e,2)}function vve(t,e){return zr(t.getUTCFullYear()%1e4,e,4)}function bve(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tf(t):tf.ceil(t),zr(t.getUTCFullYear()%1e4,e,4)}function xve(){return"+0000"}function hP(){return"%"}function dP(t){return+t}function fP(t){return Math.floor(+t/1e3)}var rf,O2;Eve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eve(t){return rf=Eye(t),O2=rf.format,rf.parse,rf.utcFormat,rf.utcParse,rf}function Tve(t){return new Date(t)}function wve(t){return t instanceof Date?+t:+new Date(+t)}function pP(t,e,r,n,i,a,s,o,l,u){var h=YM(),d=h.invert,f=h.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),b=u("%b %d"),x=u("%B"),T=u("%Y");function w(S){return(l(S)<S?p:o(S)<S?g:s(S)<S?m:a(S)<S?y:n(S)<S?i(S)<S?v:b:r(S)<S?x:T)(S)}return h.invert=function(S){return new Date(d(S))},h.domain=function(S){return arguments.length?f(Array.from(S,wve)):f().map(Tve)},h.ticks=function(S){var k=f();return t(k[0],k[k.length-1],S??10)},h.tickFormat=function(S,k){return k==null?w:u(k)},h.nice=function(S){var k=f();return(!S||typeof S.range!="function")&&(S=e(k[0],k[k.length-1],S??10)),S?f(fye(k,S)):h},h.copy=function(){return WM(h,pP(t,e,r,n,i,a,s,o,l,u))},h}function Sve(){return R2.apply(pP(bye,xye,Yl,Ng,Ag,nh,_g,Cg,qc,O2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kve(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}const Cve=kve("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Hn(t){return function(){return t}}const gP=Math.abs,sa=Math.atan2,lh=Math.cos,_ve=Math.max,M5=Math.min,jo=Math.sin,nf=Math.sqrt,oa=1e-12,Og=Math.PI,M2=Og/2,P2=2*Og;function Ave(t){return t>1?0:t<-1?Og:Math.acos(t)}function mP(t){return t>=1?M2:t<=-1?-M2:Math.asin(t)}function yP(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Yme(e)}function Lve(t){return t.innerRadius}function Nve(t){return t.outerRadius}function Rve(t){return t.startAngle}function Ive(t){return t.endAngle}function Dve(t){return t&&t.padAngle}function Ove(t,e,r,n,i,a,s,o){var l=r-t,u=n-e,h=s-i,d=o-a,f=d*l-h*u;if(!(f*f<oa))return f=(h*(e-a)-d*(t-i))/f,[t+f*l,e+f*u]}function B2(t,e,r,n,i,a,s){var o=t-r,l=e-n,u=(s?a:-a)/nf(o*o+l*l),h=u*l,d=-u*o,f=t+h,p=e+d,g=r+h,m=n+d,y=(f+g)/2,v=(p+m)/2,b=g-f,x=m-p,T=b*b+x*x,w=i-a,S=f*m-g*p,k=(x<0?-1:1)*nf(_ve(0,w*w*T-S*S)),L=(S*x-b*k)/T,_=(-S*b-x*k)/T,N=(S*x+b*k)/T,C=(-S*b+x*k)/T,D=L-y,P=_-v,A=N-y,R=C-v;return D*D+P*P>A*A+R*R&&(L=N,_=C),{cx:L,cy:_,x01:-h,y01:-d,x11:L*(i/w-1),y11:_*(i/w-1)}}function af(){var t=Lve,e=Nve,r=Hn(0),n=null,i=Rve,a=Ive,s=Dve,o=null,l=yP(u);function u(){var h,d,f=+t.apply(this,arguments),p=+e.apply(this,arguments),g=i.apply(this,arguments)-M2,m=a.apply(this,arguments)-M2,y=gP(m-g),v=m>g;if(o||(o=h=l()),p<f&&(d=p,p=f,f=d),!(p>oa))o.moveTo(0,0);else if(y>P2-oa)o.moveTo(p*lh(g),p*jo(g)),o.arc(0,0,p,g,m,!v),f>oa&&(o.moveTo(f*lh(m),f*jo(m)),o.arc(0,0,f,m,g,v));else{var b=g,x=m,T=g,w=m,S=y,k=y,L=s.apply(this,arguments)/2,_=L>oa&&(n?+n.apply(this,arguments):nf(f*f+p*p)),N=M5(gP(p-f)/2,+r.apply(this,arguments)),C=N,D=N,P,A;if(_>oa){var R=mP(_/f*jo(L)),O=mP(_/p*jo(L));(S-=R*2)>oa?(R*=v?1:-1,T+=R,w-=R):(S=0,T=w=(g+m)/2),(k-=O*2)>oa?(O*=v?1:-1,b+=O,x-=O):(k=0,b=x=(g+m)/2)}var M=p*lh(b),I=p*jo(b),F=f*lh(w),B=f*jo(w);if(N>oa){var $=p*lh(x),V=p*jo(x),H=f*lh(T),te=f*jo(T),X;if(y<Og)if(X=Ove(M,I,H,te,$,V,F,B)){var ee=M-X[0],re=I-X[1],pe=$-X[0],K=V-X[1],W=1/jo(Ave((ee*pe+re*K)/(nf(ee*ee+re*re)*nf(pe*pe+K*K)))/2),j=nf(X[0]*X[0]+X[1]*X[1]);C=M5(N,(f-j)/(W-1)),D=M5(N,(p-j)/(W+1))}else C=D=0}k>oa?D>oa?(P=B2(H,te,M,I,p,D,v),A=B2($,V,F,B,p,D,v),o.moveTo(P.cx+P.x01,P.cy+P.y01),D<N?o.arc(P.cx,P.cy,D,sa(P.y01,P.x01),sa(A.y01,A.x01),!v):(o.arc(P.cx,P.cy,D,sa(P.y01,P.x01),sa(P.y11,P.x11),!v),o.arc(0,0,p,sa(P.cy+P.y11,P.cx+P.x11),sa(A.cy+A.y11,A.cx+A.x11),!v),o.arc(A.cx,A.cy,D,sa(A.y11,A.x11),sa(A.y01,A.x01),!v))):(o.moveTo(M,I),o.arc(0,0,p,b,x,!v)):o.moveTo(M,I),!(f>oa)||!(S>oa)?o.lineTo(F,B):C>oa?(P=B2(F,B,$,V,f,-C,v),A=B2(M,I,H,te,f,-C,v),o.lineTo(P.cx+P.x01,P.cy+P.y01),C<N?o.arc(P.cx,P.cy,C,sa(P.y01,P.x01),sa(A.y01,A.x01),!v):(o.arc(P.cx,P.cy,C,sa(P.y01,P.x01),sa(P.y11,P.x11),!v),o.arc(0,0,f,sa(P.cy+P.y11,P.cx+P.x11),sa(A.cy+A.y11,A.cx+A.x11),v),o.arc(A.cx,A.cy,C,sa(A.y11,A.x11),sa(A.y01,A.x01),!v))):o.arc(0,0,f,w,T,v)}if(o.closePath(),h)return o=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Og/2;return[lh(d)*h,jo(d)*h]},u.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Hn(+h),u):t},u.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Hn(+h),u):e},u.cornerRadius=function(h){return arguments.length?(r=typeof h=="function"?h:Hn(+h),u):r},u.padRadius=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Hn(+h),u):n},u.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Hn(+h),u):i},u.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Hn(+h),u):a},u.padAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Hn(+h),u):s},u.context=function(h){return arguments.length?(o=h??null,u):o},u}function vP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bP(t){this._context=t}bP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function F2(t){return new bP(t)}function Mve(t){return t[0]}function Pve(t){return t[1]}function Mg(t,e){var r=Hn(!0),n=null,i=F2,a=null,s=yP(o);t=typeof t=="function"?t:t===void 0?Mve:Hn(t),e=typeof e=="function"?e:e===void 0?Pve:Hn(e);function o(l){var u,h=(l=vP(l)).length,d,f=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=h;++u)!(u<h&&r(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,u,l),+e(d,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Hn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Hn(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Hn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Bve(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Fve(t){return t}function $ve(){var t=Fve,e=Bve,r=null,n=Hn(0),i=Hn(P2),a=Hn(0);function s(o){var l,u=(o=vP(o)).length,h,d,f=0,p=new Array(u),g=new Array(u),m=+n.apply(this,arguments),y=Math.min(P2,Math.max(-P2,i.apply(this,arguments)-m)),v,b=Math.min(Math.abs(y)/u,a.apply(this,arguments)),x=b*(y<0?-1:1),T;for(l=0;l<u;++l)(T=g[p[l]=l]=+t(o[l],l,o))>0&&(f+=T);for(e!=null?p.sort(function(w,S){return e(g[w],g[S])}):r!=null&&p.sort(function(w,S){return r(o[w],o[S])}),l=0,d=f?(y-u*x)/f:0;l<u;++l,m=v)h=p[l],T=g[h],v=m+(T>0?T*d:0)+x,g[h]={data:o[h],index:l,value:T,startAngle:m,endAngle:v,padAngle:b};return g}return s.value=function(o){return arguments.length?(t=typeof o=="function"?o:Hn(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,r=null,s):e},s.sort=function(o){return arguments.length?(r=o,e=null,s):r},s.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Hn(+o),s):n},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Hn(+o),s):i},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Hn(+o),s):a},s}class xP{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function EP(t){return new xP(t,!0)}function TP(t){return new xP(t,!1)}function Wc(){}function $2(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function z2(t){this._context=t}z2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sf(t){return new z2(t)}function wP(t){this._context=t}wP.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zve(t){return new wP(t)}function SP(t){this._context=t}SP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uve(t){return new SP(t)}function kP(t,e){this._basis=new z2(t),this._beta=e}kP.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],i=e[0],a=t[r]-n,s=e[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+l*a),this._beta*e[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Hve=function t(e){function r(n){return e===1?new z2(n):new kP(n,e)}return r.beta=function(n){return t(+n)},r}(.85);function U2(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function P5(t,e){this._context=t,this._k=(1-e)/6}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:U2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:U2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const CP=function t(e){function r(n){return new P5(n,e)}return r.tension=function(n){return t(+n)},r}(0);function B5(t,e){this._context=t,this._k=(1-e)/6}B5.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:U2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Gve=function t(e){function r(n){return new B5(n,e)}return r.tension=function(n){return t(+n)},r}(0);function F5(t,e){this._context=t,this._k=(1-e)/6}F5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:U2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Vve=function t(e){function r(n){return new F5(n,e)}return r.tension=function(n){return t(+n)},r}(0);function $5(t,e,r){var n=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>oa){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>oa){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*u+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(n,i,a,s,t._x2,t._y2)}function _P(t,e){this._context=t,this._alpha=e}_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:$5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const AP=function t(e){function r(n){return e?new _P(n,e):new P5(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function LP(t,e){this._context=t,this._alpha=e}LP.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:$5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const qve=function t(e){function r(n){return e?new LP(n,e):new B5(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function NP(t,e){this._context=t,this._alpha=e}NP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Wve=function t(e){function r(n){return e?new NP(n,e):new F5(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function RP(t){this._context=t}RP.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Yve(t){return new RP(t)}function IP(t){return t<0?-1:1}function DP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(IP(a)+IP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function OP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function z5(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function H2(t){this._context=t}H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z5(this,this._t0,OP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,z5(this,OP(this,r=DP(this,t,e)),r);break;default:z5(this,this._t0,r=DP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function MP(t){this._context=new PP(t)}(MP.prototype=Object.create(H2.prototype)).point=function(t,e){H2.prototype.point.call(this,e,t)};function PP(t){this._context=t}PP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function BP(t){return new H2(t)}function FP(t){return new MP(t)}function $P(t){this._context=t}$P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=zP(t),i=zP(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function UP(t){return new $P(t)}function G2(t,e){this._context=t,this._t=e}G2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function HP(t){return new G2(t,.5)}function GP(t){return new G2(t,0)}function VP(t){return new G2(t,1)}function Pg(t,e,r){this.k=t,this.x=e,this.y=r}Pg.prototype={constructor:Pg,scale:function(t){return t===1?this:new Pg(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Pg(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Pg.prototype;var qP=typeof global=="object"&&global&&global.Object===Object&&global,Xve=typeof self=="object"&&self&&self.Object===Object&&self,Qo=qP||Xve||Function("return this")(),Us=Qo.Symbol,WP=Object.prototype,Kve=WP.hasOwnProperty,jve=WP.toString,Bg=Us?Us.toStringTag:void 0;function Qve(t){var e=Kve.call(t,Bg),r=t[Bg];try{t[Bg]=void 0;var n=!0}catch{}var i=jve.call(t);return n&&(e?t[Bg]=r:delete t[Bg]),i}var Zve=Object.prototype,Jve=Zve.toString;function e2e(t){return Jve.call(t)}var t2e="[object Null]",r2e="[object Undefined]",YP=Us?Us.toStringTag:void 0;function Xl(t){return t==null?t===void 0?r2e:t2e:YP&&YP in Object(t)?Qve(t):e2e(t)}function Ya(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var n2e="[object AsyncFunction]",i2e="[object Function]",a2e="[object GeneratorFunction]",s2e="[object Proxy]";function Hs(t){if(!Ya(t))return!1;var e=Xl(t);return e==i2e||e==a2e||e==n2e||e==s2e}var U5=Qo["__core-js_shared__"],XP=function(){var t=/[^.]+$/.exec(U5&&U5.keys&&U5.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o2e(t){return!!XP&&XP in t}var l2e=Function.prototype,c2e=l2e.toString;function ch(t){if(t!=null){try{return c2e.call(t)}catch{}try{return t+""}catch{}}return""}var u2e=/[\\^$.*+?()[\]{}|]/g,h2e=/^\[object .+?Constructor\]$/,d2e=Function.prototype,f2e=Object.prototype,p2e=d2e.toString,g2e=f2e.hasOwnProperty,m2e=RegExp("^"+p2e.call(g2e).replace(u2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y2e(t){if(!Ya(t)||o2e(t))return!1;var e=Hs(t)?m2e:h2e;return e.test(ch(t))}function v2e(t,e){return t==null?void 0:t[e]}function uh(t,e){var r=v2e(t,e);return y2e(r)?r:void 0}var Fg=uh(Object,"create");function b2e(){this.__data__=Fg?Fg(null):{},this.size=0}function x2e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var E2e="__lodash_hash_undefined__",T2e=Object.prototype,w2e=T2e.hasOwnProperty;function S2e(t){var e=this.__data__;if(Fg){var r=e[t];return r===E2e?void 0:r}return w2e.call(e,t)?e[t]:void 0}var k2e=Object.prototype,C2e=k2e.hasOwnProperty;function _2e(t){var e=this.__data__;return Fg?e[t]!==void 0:C2e.call(e,t)}var A2e="__lodash_hash_undefined__";function L2e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Fg&&e===void 0?A2e:e,this}function hh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hh.prototype.clear=b2e,hh.prototype.delete=x2e,hh.prototype.get=S2e,hh.prototype.has=_2e,hh.prototype.set=L2e;function N2e(){this.__data__=[],this.size=0}function of(t,e){return t===e||t!==t&&e!==e}function V2(t,e){for(var r=t.length;r--;)if(of(t[r][0],e))return r;return-1}var R2e=Array.prototype,I2e=R2e.splice;function D2e(t){var e=this.__data__,r=V2(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():I2e.call(e,r,1),--this.size,!0}function O2e(t){var e=this.__data__,r=V2(e,t);return r<0?void 0:e[r][1]}function M2e(t){return V2(this.__data__,t)>-1}function P2e(t,e){var r=this.__data__,n=V2(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Kl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kl.prototype.clear=N2e,Kl.prototype.delete=D2e,Kl.prototype.get=O2e,Kl.prototype.has=M2e,Kl.prototype.set=P2e;var $g=uh(Qo,"Map");function B2e(){this.size=0,this.__data__={hash:new hh,map:new($g||Kl),string:new hh}}function F2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function q2(t,e){var r=t.__data__;return F2e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function $2e(t){var e=q2(this,t).delete(t);return this.size-=e?1:0,e}function z2e(t){return q2(this,t).get(t)}function U2e(t){return q2(this,t).has(t)}function H2e(t,e){var r=q2(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function jl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jl.prototype.clear=B2e,jl.prototype.delete=$2e,jl.prototype.get=z2e,jl.prototype.has=U2e,jl.prototype.set=H2e;var G2e="Expected a function";function lf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(G2e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(lf.Cache||jl),r}lf.Cache=jl;function V2e(){this.__data__=new Kl,this.size=0}function q2e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function W2e(t){return this.__data__.get(t)}function Y2e(t){return this.__data__.has(t)}var X2e=200;function K2e(t,e){var r=this.__data__;if(r instanceof Kl){var n=r.__data__;if(!$g||n.length<X2e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new jl(n)}return r.set(t,e),this.size=r.size,this}function yo(t){var e=this.__data__=new Kl(t);this.size=e.size}yo.prototype.clear=V2e,yo.prototype.delete=q2e,yo.prototype.get=W2e,yo.prototype.has=Y2e,yo.prototype.set=K2e;var W2=function(){try{var t=uh(Object,"defineProperty");return t({},"",{}),t}catch{}}();function zg(t,e,r){e=="__proto__"&&W2?W2(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function H5(t,e,r){(r!==void 0&&!of(t[e],r)||r===void 0&&!(e in t))&&zg(t,e,r)}function j2e(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[++i];if(r(a[l],l,a)===!1)break}return e}}var G5=j2e(),KP=typeof bn=="object"&&bn&&!bn.nodeType&&bn,jP=KP&&typeof module=="object"&&module&&!module.nodeType&&module,Q2e=jP&&jP.exports===KP,QP=Q2e?Qo.Buffer:void 0,ZP=QP?QP.allocUnsafe:void 0;function JP(t,e){if(e)return t.slice();var r=t.length,n=ZP?ZP(r):new t.constructor(r);return t.copy(n),n}var Y2=Qo.Uint8Array;function V5(t){var e=new t.constructor(t.byteLength);return new Y2(e).set(new Y2(t)),e}function eB(t,e){var r=e?V5(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function tB(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var rB=Object.create,Z2e=function(){function t(){}return function(e){if(!Ya(e))return{};if(rB)return rB(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function nB(t,e){return function(r){return t(e(r))}}var q5=nB(Object.getPrototypeOf,Object),J2e=Object.prototype;function Ug(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||J2e;return t===r}function iB(t){return typeof t.constructor=="function"&&!Ug(t)?Z2e(q5(t)):{}}function Gs(t){return t!=null&&typeof t=="object"}var ebe="[object Arguments]";function aB(t){return Gs(t)&&Xl(t)==ebe}var sB=Object.prototype,tbe=sB.hasOwnProperty,rbe=sB.propertyIsEnumerable,cf=aB(function(){return arguments}())?aB:function(t){return Gs(t)&&tbe.call(t,"callee")&&!rbe.call(t,"callee")},Ar=Array.isArray,nbe=9007199254740991;function W5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nbe}function Zo(t){return t!=null&&W5(t.length)&&!Hs(t)}function X2(t){return Gs(t)&&Zo(t)}function ibe(){return!1}var oB=typeof bn=="object"&&bn&&!bn.nodeType&&bn,lB=oB&&typeof module=="object"&&module&&!module.nodeType&&module,abe=lB&&lB.exports===oB,cB=abe?Qo.Buffer:void 0,sbe=cB?cB.isBuffer:void 0,uf=sbe||ibe,obe="[object Object]",lbe=Function.prototype,cbe=Object.prototype,uB=lbe.toString,ube=cbe.hasOwnProperty,hbe=uB.call(Object);function dbe(t){if(!Gs(t)||Xl(t)!=obe)return!1;var e=q5(t);if(e===null)return!0;var r=ube.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&uB.call(r)==hbe}var fbe="[object Arguments]",pbe="[object Array]",gbe="[object Boolean]",mbe="[object Date]",ybe="[object Error]",vbe="[object Function]",bbe="[object Map]",xbe="[object Number]",Ebe="[object Object]",Tbe="[object RegExp]",wbe="[object Set]",Sbe="[object String]",kbe="[object WeakMap]",Cbe="[object ArrayBuffer]",_be="[object DataView]",Abe="[object Float32Array]",Lbe="[object Float64Array]",Nbe="[object Int8Array]",Rbe="[object Int16Array]",Ibe="[object Int32Array]",Dbe="[object Uint8Array]",Obe="[object Uint8ClampedArray]",Mbe="[object Uint16Array]",Pbe="[object Uint32Array]",xn={};xn[Abe]=xn[Lbe]=xn[Nbe]=xn[Rbe]=xn[Ibe]=xn[Dbe]=xn[Obe]=xn[Mbe]=xn[Pbe]=!0,xn[fbe]=xn[pbe]=xn[Cbe]=xn[gbe]=xn[_be]=xn[mbe]=xn[ybe]=xn[vbe]=xn[bbe]=xn[xbe]=xn[Ebe]=xn[Tbe]=xn[wbe]=xn[Sbe]=xn[kbe]=!1;function Bbe(t){return Gs(t)&&W5(t.length)&&!!xn[Xl(t)]}function Hg(t){return function(e){return t(e)}}var hB=typeof bn=="object"&&bn&&!bn.nodeType&&bn,Gg=hB&&typeof module=="object"&&module&&!module.nodeType&&module,Fbe=Gg&&Gg.exports===hB,Y5=Fbe&&qP.process,Yc=function(){try{var t=Gg&&Gg.require&&Gg.require("util").types;return t||Y5&&Y5.binding&&Y5.binding("util")}catch{}}(),dB=Yc&&Yc.isTypedArray,K2=dB?Hg(dB):Bbe;function X5(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var $be=Object.prototype,zbe=$be.hasOwnProperty;function Vg(t,e,r){var n=t[e];(!(zbe.call(t,e)&&of(n,r))||r===void 0&&!(e in t))&&zg(t,e,r)}function hf(t,e,r,n){var i=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=void 0;l===void 0&&(l=t[o]),i?zg(r,o,l):Vg(r,o,l)}return r}function Ube(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Hbe=9007199254740991,Gbe=/^(?:0|[1-9]\d*)$/;function j2(t,e){var r=typeof t;return e=e??Hbe,!!e&&(r=="number"||r!="symbol"&&Gbe.test(t))&&t>-1&&t%1==0&&t<e}var Vbe=Object.prototype,qbe=Vbe.hasOwnProperty;function fB(t,e){var r=Ar(t),n=!r&&cf(t),i=!r&&!n&&uf(t),a=!r&&!n&&!i&&K2(t),s=r||n||i||a,o=s?Ube(t.length,String):[],l=o.length;for(var u in t)(e||qbe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||j2(u,l)))&&o.push(u);return o}function Wbe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Ybe=Object.prototype,Xbe=Ybe.hasOwnProperty;function Kbe(t){if(!Ya(t))return Wbe(t);var e=Ug(t),r=[];for(var n in t)n=="constructor"&&(e||!Xbe.call(t,n))||r.push(n);return r}function dh(t){return Zo(t)?fB(t,!0):Kbe(t)}function jbe(t){return hf(t,dh(t))}function Qbe(t,e,r,n,i,a,s){var o=X5(t,r),l=X5(e,r),u=s.get(l);if(u){H5(t,r,u);return}var h=a?a(o,l,r+"",t,e,s):void 0,d=h===void 0;if(d){var f=Ar(l),p=!f&&uf(l),g=!f&&!p&&K2(l);h=l,f||p||g?Ar(o)?h=o:X2(o)?h=tB(o):p?(d=!1,h=JP(l,!0)):g?(d=!1,h=eB(l,!0)):h=[]:dbe(l)||cf(l)?(h=o,cf(o)?h=jbe(o):(!Ya(o)||Hs(o))&&(h=iB(l))):d=!1}d&&(s.set(l,h),i(h,l,n,a,s),s.delete(l)),H5(t,r,h)}function pB(t,e,r,n,i){t!==e&&G5(e,function(a,s){if(i||(i=new yo),Ya(a))Qbe(t,e,s,r,pB,n,i);else{var o=n?n(X5(t,s),a,s+"",t,e,i):void 0;o===void 0&&(o=a),H5(t,s,o)}},dh)}function Ql(t){return t}function Zbe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var gB=Math.max;function mB(t,e,r){return e=gB(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=gB(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Zbe(t,this,o)}}function df(t){return function(){return t}}var Jbe=W2?function(t,e){return W2(t,"toString",{configurable:!0,enumerable:!1,value:df(e),writable:!0})}:Ql,exe=800,txe=16,rxe=Date.now;function nxe(t){var e=0,r=0;return function(){var n=rxe(),i=txe-(n-r);if(r=n,i>0){if(++e>=exe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var yB=nxe(Jbe);function qg(t,e){return yB(mB(t,e,Ql),t+"")}function Wg(t,e,r){if(!Ya(r))return!1;var n=typeof e;return(n=="number"?Zo(r)&&j2(e,r.length):n=="string"&&e in r)?of(r[e],t):!1}function vB(t){return qg(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,s&&Wg(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,a)}return e})}var Q2=vB(function(t,e,r){pB(t,e,r)}),bB="​",ixe={curveBasis:sf,curveBasisClosed:zve,curveBasisOpen:Uve,curveBumpX:EP,curveBumpY:TP,curveBundle:Hve,curveCardinalClosed:Gve,curveCardinalOpen:Vve,curveCardinal:CP,curveCatmullRomClosed:qve,curveCatmullRomOpen:Wve,curveCatmullRom:AP,curveLinear:F2,curveLinearClosed:Yve,curveMonotoneX:BP,curveMonotoneY:FP,curveNatural:UP,curveStep:HP,curveStepAfter:VP,curveStepBefore:GP},axe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,sxe=E(function(t,e){const r=xB(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const s=r.map(o=>o.args);Hv(s),n=ai(n,[...s])}else n=r.args;if(!n)return;let i=gw(t,e);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},"detectInit"),xB=E(function(t,e=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${axe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),se.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let a;const s=[];for(;(a=ig.exec(t))!==null;)if(a.index===ig.lastIndex&&ig.lastIndex++,a&&!e||e&&((r=a[1])!=null&&r.match(e))||e&&((n=a[2])!=null&&n.match(e))){const o=a[1]?a[1]:a[2],l=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:o,args:l})}return s.length===0?{type:t,args:null}:s.length===1?s[0]:s}catch(i){return se.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),oxe=E(function(t){return t.replace(ig,"")},"removeDirectives"),lxe=E(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function K5(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return ixe[r]??e}E(K5,"interpolateToCurve");function EB(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?ju.sanitizeUrl(r):r}E(EB,"formatUrl");var cxe=E((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let a=window;for(let s=0;s<n;s++)if(a=a[r[s]],!a){se.error(`Function name: ${t} not found in window`);return}a[i](...e)},"runFunc");function j5(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}E(j5,"distance");function TB(t){let e,r=0;t.forEach(i=>{r+=j5(i,e),e=i});const n=r/2;return Q5(t,n)}E(TB,"traverseEdge");function wB(t){return t.length===1?t[0]:TB(t)}E(wB,"calcLabelPosition");var SB=E((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),Q5=E((t,e)=>{let r,n=e;for(const i of t){if(r){const a=j5(i,r);if(a===0)return r;if(a<n)n-=a;else{const s=n/a;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:SB((1-s)*r.x+s*i.x,5),y:SB((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),uxe=E((t,e,r)=>{se.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const i=Q5(e,25),a=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(s)*a+(e[0].x+i.x)/2,o.y=-Math.cos(s)*a+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function kB(t,e,r){const n=structuredClone(r);se.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const i=25+t,a=Q5(n,i),s=10+t*.5,o=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(o+Math.PI)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o+Math.PI)*s+(n[0].y+a.y)/2):e==="end_right"?(l.x=Math.sin(o-Math.PI)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o-Math.PI)*s+(n[0].y+a.y)/2-5):e==="end_left"?(l.x=Math.sin(o)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2-5):(l.x=Math.sin(o)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2),l}E(kB,"calcTerminalLabelPosition");function Z5(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}E(Z5,"getStylesFromArray");var CB=0,_B=E(()=>(CB++,"id-"+Math.random().toString(36).substr(2,12)+"-"+CB),"generateId");function AB(t){let e="";const r="0123456789abcdef",n=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*n));return e}E(AB,"makeRandomHex");var LB=E(t=>AB(t.length),"random"),hxe=E(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),dxe=E(function(t,e){const r=e.text.replace(xt.lineBreakRegex," "),[,n]=Xc(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const a=i.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(r),i},"drawSimpleText"),NB=lf((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),xt.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),i=[];let a="";return n.forEach((s,o)=>{const l=_a(`${s} `,r),u=_a(a,r);if(l>e){const{hyphenatedStrings:f,remainingWord:p}=fxe(s,e,"-",r);i.push(a,...f),a=p}else u+l>=e?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===n.length&&i.push(a)}),i.filter(s=>s!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),fxe=lf((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...t],a=[];let s="";return i.forEach((o,l)=>{const u=`${s}${o}`;if(_a(u,n)>=e){const d=l+1,f=i.length===d,p=`${u}${r}`;a.push(f?u:p),s=""}else s=u}),{hyphenatedStrings:a,remainingWord:s}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function Z2(t,e){return J5(t,e).height}E(Z2,"calculateTextHeight");function _a(t,e){return J5(t,e).width}E(_a,"calculateTextWidth");var J5=lf((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,a]=Xc(r),s=["sans-serif",n],o=t.split(xt.lineBreakRegex),l=[],u=mt("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const f of s){let p=0;const g={width:0,height:0,lineHeight:0};for(const m of o){const y=hxe();y.text=m||bB;const v=dxe(h,y).style("font-size",a).style("font-weight",i).style("font-family",f),b=(v._groups||v)[0][0].getBBox();if(b.width===0&&b.height===0)throw new Error("svg element not in render tree");g.width=Math.round(Math.max(g.width,b.width)),p=Math.round(b.height),g.height+=p,g.lineHeight=Math.round(Math.max(g.lineHeight,p))}l.push(g)}h.remove();const d=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[d]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),pxe=(G0=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},E(G0,"InitIDGenerator"),G0),J2,gxe=E(function(t){return J2=J2||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),J2.innerHTML=t,unescape(J2.textContent)},"entityDecode");function e6(t){return"str"in t}E(e6,"isDetailedError");var mxe=E((t,e,r,n)=>{var a;if(!n)return;const i=(a=t.node())==null?void 0:a.getBBox();i&&t.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),Xc=E(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function bs(t,e){return Q2({},t,e)}E(bs,"cleanAndMerge");var dr={assignWithDepth:ai,wrapLabel:NB,calculateTextHeight:Z2,calculateTextWidth:_a,calculateTextDimensions:J5,cleanAndMerge:bs,detectInit:sxe,detectDirective:xB,isSubstringInArray:lxe,interpolateToCurve:K5,calcLabelPosition:wB,calcCardinalityPosition:uxe,calcTerminalLabelPosition:kB,formatUrl:EB,getStylesFromArray:Z5,generateId:_B,random:LB,runFunc:cxe,entityDecode:gxe,insertTitle:mxe,parseFontSize:Xc,InitIDGenerator:pxe},yxe=E(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),e},"encodeEntities"),Jo=E(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),Yg=E((t,e,{counter:r=0,prefix:n,suffix:i},a)=>a||`${n?`${n}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function Aa(t){return t??null}E(Aa,"handleUndefinedAttr");const vxe=Object.freeze({left:0,top:0,width:16,height:16}),eb=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),RB=Object.freeze({...vxe,...eb}),bxe=Object.freeze({...RB,body:"",hidden:!1}),xxe=Object.freeze({width:null,height:null}),Exe=Object.freeze({...xxe,...eb}),Txe=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:o};return t6(u)?u:null}const a=i[0],s=a.split("-");if(s.length>1){const o={provider:n,prefix:s.shift(),name:s.join("-")};return t6(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:a};return t6(o,r)?o:null}return null},t6=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function wxe(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function IB(t,e){const r=wxe(t,e);for(const n in bxe)n in eb?n in t&&!(n in r)&&(r[n]=eb[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function Sxe(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function a(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;const o=n[s]&&n[s].parent,l=o&&a(o);l&&(i[s]=[o].concat(l))}return i[s]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(a),i}function DB(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let a={};function s(o){a=IB(n[o]||i[o],a)}return s(e),r.forEach(s),IB(t,a)}function kxe(t,e){if(t.icons[e])return DB(t,e,[]);const r=Sxe(t,[e])[e];return r?DB(t,e,r):null}const Cxe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,_xe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function OB(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(Cxe);if(n===null||!n.length)return t;const i=[];let a=n.shift(),s=_xe.test(a);for(;;){if(s){const o=parseFloat(a);isNaN(o)?i.push(a):i.push(Math.ceil(o*e*r)/r)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");s=!s}}function Axe(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),a=t.indexOf("</"+e);if(i===-1||a===-1)break;const s=t.indexOf(">",a);if(s===-1)break;r+=t.slice(i+1,a).trim(),t=t.slice(0,n).trim()+t.slice(s+1)}return{defs:r,content:t}}function Lxe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function Nxe(t,e,r){const n=Axe(t);return Lxe(n.defs,e+n.content+r)}const Rxe=t=>t==="unset"||t==="undefined"||t==="none";function Ixe(t,e){const r={...RB,...t},n={...Exe,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach(m=>{const y=[],v=m.hFlip,b=m.vFlip;let x=m.rotate;v?b?x+=2:(y.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),y.push("scale(-1 1)"),i.top=i.left=0):b&&(y.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),y.push("scale(1 -1)"),i.top=i.left=0);let T;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:T=i.height/2+i.top,y.unshift("rotate(90 "+T.toString()+" "+T.toString()+")");break;case 2:y.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:T=i.width/2+i.left,y.unshift("rotate(-90 "+T.toString()+" "+T.toString()+")");break}x%2===1&&(i.left!==i.top&&(T=i.left,i.left=i.top,i.top=T),i.width!==i.height&&(T=i.width,i.width=i.height,i.height=T)),y.length&&(a=Nxe(a,'<g transform="'+y.join(" ")+'">',"</g>"))});const s=n.width,o=n.height,l=i.width,u=i.height;let h,d;s===null?(d=o===null?"1em":o==="auto"?u:o,h=OB(d,l/u)):(h=s==="auto"?l:s,d=o===null?OB(h,u/l):o==="auto"?u:o);const f={},p=(m,y)=>{Rxe(y)||(f[m]=y.toString())};p("width",h),p("height",d);const g=[i.left,i.top,l,u];return f.viewBox=g.join(" "),{attributes:f,viewBox:g,body:a}}const Dxe=/\sid="(\S+)"/g,Oxe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Mxe=0;function Pxe(t,e=Oxe){const r=[];let n;for(;n=Dxe.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{const s=typeof e=="function"?e(a):e+(Mxe++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}function Bxe(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function r6(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var fh=r6();function MB(t){fh=t}var Xg={exec:()=>null};function Wr(t,e=""){let r=typeof t=="string"?t:t.source;const n={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(La.caret,"$1"),r=r.replace(i,s),n},getRegex:()=>new RegExp(r,e)};return n}var La={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Fxe=/^(?:[ \t]*(?:\n|$))+/,$xe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,zxe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Kg=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Uxe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,n6=/(?:[*+-]|\d{1,9}[.)])/,PB=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,BB=Wr(PB).replace(/bull/g,n6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Hxe=Wr(PB).replace(/bull/g,n6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),i6=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Gxe=/^[^\n]+/,a6=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Vxe=Wr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",a6).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),qxe=Wr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,n6).getRegex(),tb="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",s6=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Wxe=Wr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",s6).replace("tag",tb).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),FB=Wr(i6).replace("hr",Kg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tb).getRegex(),Yxe=Wr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",FB).getRegex(),o6={blockquote:Yxe,code:$xe,def:Vxe,fences:zxe,heading:Uxe,hr:Kg,html:Wxe,lheading:BB,list:qxe,newline:Fxe,paragraph:FB,table:Xg,text:Gxe},$B=Wr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Kg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tb).getRegex(),Xxe={...o6,lheading:Hxe,table:$B,paragraph:Wr(i6).replace("hr",Kg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$B).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tb).getRegex()},Kxe={...o6,html:Wr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",s6).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Xg,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Wr(i6).replace("hr",Kg).replace("heading",` *#{1,6} *[^
]`).replace("lheading",BB).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},jxe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Qxe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,zB=/^( {2,}|\\)\n(?!\s*$)/,Zxe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,rb=/[\p{P}\p{S}]/u,l6=/[\s\p{P}\p{S}]/u,UB=/[^\s\p{P}\p{S}]/u,Jxe=Wr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,l6).getRegex(),HB=/(?!~)[\p{P}\p{S}]/u,eEe=/(?!~)[\s\p{P}\p{S}]/u,tEe=/(?:[^\s\p{P}\p{S}]|~)/u,rEe=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,GB=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,nEe=Wr(GB,"u").replace(/punct/g,rb).getRegex(),iEe=Wr(GB,"u").replace(/punct/g,HB).getRegex(),VB="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",aEe=Wr(VB,"gu").replace(/notPunctSpace/g,UB).replace(/punctSpace/g,l6).replace(/punct/g,rb).getRegex(),sEe=Wr(VB,"gu").replace(/notPunctSpace/g,tEe).replace(/punctSpace/g,eEe).replace(/punct/g,HB).getRegex(),oEe=Wr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,UB).replace(/punctSpace/g,l6).replace(/punct/g,rb).getRegex(),lEe=Wr(/\\(punct)/,"gu").replace(/punct/g,rb).getRegex(),cEe=Wr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),uEe=Wr(s6).replace("(?:-->|$)","-->").getRegex(),hEe=Wr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",uEe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),nb=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,dEe=Wr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",nb).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),qB=Wr(/^!?\[(label)\]\[(ref)\]/).replace("label",nb).replace("ref",a6).getRegex(),WB=Wr(/^!?\[(ref)\](?:\[\])?/).replace("ref",a6).getRegex(),fEe=Wr("reflink|nolink(?!\\()","g").replace("reflink",qB).replace("nolink",WB).getRegex(),c6={_backpedal:Xg,anyPunctuation:lEe,autolink:cEe,blockSkip:rEe,br:zB,code:Qxe,del:Xg,emStrongLDelim:nEe,emStrongRDelimAst:aEe,emStrongRDelimUnd:oEe,escape:jxe,link:dEe,nolink:WB,punctuation:Jxe,reflink:qB,reflinkSearch:fEe,tag:hEe,text:Zxe,url:Xg},pEe={...c6,link:Wr(/^!?\[(label)\]\((.*?)\)/).replace("label",nb).getRegex(),reflink:Wr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nb).getRegex()},u6={...c6,emStrongRDelimAst:sEe,emStrongLDelim:iEe,url:Wr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},gEe={...u6,br:Wr(zB).replace("{2,}","*").getRegex(),text:Wr(u6.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ib={normal:o6,gfm:Xxe,pedantic:Kxe},jg={normal:c6,gfm:u6,breaks:gEe,pedantic:pEe},mEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YB=t=>mEe[t];function el(t,e){if(e){if(La.escapeTest.test(t))return t.replace(La.escapeReplace,YB)}else if(La.escapeTestNoEncode.test(t))return t.replace(La.escapeReplaceNoEncode,YB);return t}function XB(t){try{t=encodeURI(t).replace(La.percentDecode,"%")}catch{return null}return t}function KB(t,e){var a;const r=t.replace(La.findPipe,(s,o,l)=>{let u=!1,h=o;for(;--h>=0&&l[h]==="\\";)u=!u;return u?"|":" |"}),n=r.split(La.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((a=n.at(-1))!=null&&a.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(La.slashPipe,"|");return n}function Qg(t,e,r){const n=t.length;if(n===0)return"";let i=0;for(;i<n&&t.charAt(n-i-1)===e;)i++;return t.slice(0,n-i)}function yEe(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function jB(t,e,r,n,i){const a=e.href,s=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;const l={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:a,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function vEe(t,e,r){const n=t.match(r.other.indentCodeCompensation);if(n===null)return e;const i=n[1];return e.split(`
`).map(a=>{const s=a.match(r.other.beginningSpace);if(s===null)return a;const[o]=s;return o.length>=i.length?a.slice(i.length):a}).join(`
`)}var ab=class{constructor(t){Or(this,"options");Or(this,"rules");Or(this,"lexer");this.options=t||fh}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Qg(r,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],n=vEe(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){const n=Qg(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Qg(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let r=Qg(e[0],`
`).split(`
`),n="",i="";const a=[];for(;r.length>0;){let s=!1;const o=[];let l;for(l=0;l<r.length;l++)if(this.rules.other.blockquoteStart.test(r[l]))o.push(r[l]),s=!0;else if(!s)o.push(r[l]);else break;r=r.slice(l);const u=o.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${u}`:u,i=i?`${i}
${h}`:h;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=d,r.length===0)break;const f=a.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const p=f,g=p.raw+`
`+r.join(`
`),m=this.blockquote(g);a[a.length-1]=m,n=n.substring(0,n.length-p.raw.length)+m.raw,i=i.substring(0,i.length-p.text.length)+m.text;break}else if((f==null?void 0:f.type)==="list"){const p=f,g=p.raw+`
`+r.join(`
`),m=this.list(g);a[a.length-1]=m,n=n.substring(0,n.length-f.raw.length)+m.raw,i=i.substring(0,i.length-p.raw.length)+m.raw,r=g.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:a,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim();const n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const a=this.rules.other.listItemRegex(r);let s=!1;for(;t;){let l=!1,u="",h="";if(!(e=a.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),f=t.split(`
`,1)[0],p=!d.trim(),g=0;if(this.options.pedantic?(g=2,h=d.trimStart()):p?g=e[1].length+1:(g=e[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,h=d.slice(g),g+=e[1].length),p&&this.rules.other.blankLine.test(f)&&(u+=f+`
`,t=t.substring(f.length+1),l=!0),!l){const v=this.rules.other.nextBulletRegex(g),b=this.rules.other.hrRegex(g),x=this.rules.other.fencesBeginRegex(g),T=this.rules.other.headingBeginRegex(g),w=this.rules.other.htmlBeginRegex(g);for(;t;){const S=t.split(`
`,1)[0];let k;if(f=S,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),k=f):k=f.replace(this.rules.other.tabCharGlobal,"    "),x.test(f)||T.test(f)||w.test(f)||v.test(f)||b.test(f))break;if(k.search(this.rules.other.nonSpaceChar)>=g||!f.trim())h+=`
`+k.slice(g);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(d)||T.test(d)||b.test(d))break;h+=`
`+f}!p&&!f.trim()&&(p=!0),u+=S+`
`,t=t.substring(S.length+1),d=k.slice(g)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(s=!0));let m=null,y;this.options.gfm&&(m=this.rules.other.listIsTask.exec(h),m&&(y=m[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:u,task:!!m,checked:y,loose:!1,text:h,tokens:[]}),i.raw+=u}const o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){const u=i.items[l].tokens.filter(d=>d.type==="space"),h=u.length>0&&u.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=h}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:n,title:i}}}table(t){var s;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const r=KB(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(s=e[3])!=null&&s.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const o of n)this.rules.other.tableAlignRight.test(o)?a.align.push("right"):this.rules.other.tableAlignCenter.test(o)?a.align.push("center"):this.rules.other.tableAlignLeft.test(o)?a.align.push("left"):a.align.push(null);for(let o=0;o<r.length;o++)a.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:a.align[o]});for(const o of i)a.rows.push(KB(o,a.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[u]})));return a}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const a=Qg(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=yEe(e[2],"()");if(a===-2)return;if(a>-1){const o=(e[0].indexOf("!")===0?5:4)+e[1].length+a;e[2]=e[2].substring(0,a),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let n=e[2],i="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(n);a&&(n=a[1],i=a[3])}else i=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),jB(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[n.toLowerCase()];if(!i){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return jB(r,i,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=[...n[0]].length-1;let s,o,l=a,u=0;const h=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+a);(n=h.exec(e))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(o=[...s].length,n[3]||n[4]){l+=o;continue}else if((n[5]||n[6])&&a%3&&!((a+o)%3)){u+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+u);const d=[...n[0]][0].length,f=t.slice(0,a+n.index+d+o);if(Math.min(a,o)%2){const g=f.slice(1,-1);return{type:"em",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}const p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let r,n;return e[2]==="@"?(r=e[1],n="mailto:"+r):(r=e[1],n=r),{type:"link",raw:e[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let e;if(e=this.rules.inline.url.exec(t)){let n,i;if(e[2]==="@")n=e[0],i="mailto:"+n;else{let a;do a=e[0],e[0]=((r=this.rules.inline._backpedal.exec(e[0]))==null?void 0:r[0])??"";while(a!==e[0]);n=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},Zl=class z7{constructor(e){Or(this,"tokens");Or(this,"options");Or(this,"state");Or(this,"tokenizer");Or(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||fh,this.options.tokenizer=this.options.tokenizer||new ab,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:La,block:ib.normal,inline:jg.normal};this.options.pedantic?(r.block=ib.pedantic,r.inline=jg.pedantic):this.options.gfm&&(r.block=ib.gfm,this.options.breaks?r.inline=jg.breaks:r.inline=jg.gfm),this.tokenizer.rules=r}static get rules(){return{block:ib,inline:jg}}static lex(e,r){return new z7(r).lex(e)}static lexInline(e,r){return new z7(r).inlineTokens(e)}lex(e){e=e.replace(La.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){var i,a,s;for(this.options.pedantic&&(e=e.replace(La.tabCharGlobal,"    ").replace(La.spaceLine,""));e;){let o;if((a=(i=this.options.extensions)==null?void 0:i.block)!=null&&a.some(u=>(o=u.call({lexer:this},e,r))?(e=e.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);const u=r.at(-1);o.raw.length===1&&u!==void 0?u.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);const u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.at(-1).src=u.text):r.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);const u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),r.push(o);continue}let l=e;if((s=this.options.extensions)!=null&&s.startBlock){let u=1/0;const h=e.slice(1);let d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},h),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(l=e.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){const u=r.at(-1);n&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(o),n=l.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);const u=r.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(o);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var o,l,u;let n=e,i=null;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)h.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let a=!1,s="";for(;e;){a||(s=""),a=!1;let h;if((l=(o=this.options.extensions)==null?void 0:o.inline)!=null&&l.some(f=>(h=f.call({lexer:this},e,r))?(e=e.substring(h.raw.length),r.push(h),!0):!1))continue;if(h=this.tokenizer.escape(e)){e=e.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.tag(e)){e=e.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.link(e)){e=e.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(h.raw.length);const f=r.at(-1);h.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=h.raw,f.text+=h.text):r.push(h);continue}if(h=this.tokenizer.emStrong(e,n,s)){e=e.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.codespan(e)){e=e.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.br(e)){e=e.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.del(e)){e=e.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.autolink(e)){e=e.substring(h.raw.length),r.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(e))){e=e.substring(h.raw.length),r.push(h);continue}let d=e;if((u=this.options.extensions)!=null&&u.startInline){let f=1/0;const p=e.slice(1);let g;this.options.extensions.startInline.forEach(m=>{g=m.call({lexer:this},p),typeof g=="number"&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(d=e.substring(0,f+1))}if(h=this.tokenizer.inlineText(d)){e=e.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(s=h.raw.slice(-1)),a=!0;const f=r.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=h.raw,f.text+=h.text):r.push(h);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}},sb=class{constructor(t){Or(this,"options");Or(this,"parser");this.options=t||fh}space(t){return""}code({text:t,lang:e,escaped:r}){var a;const n=(a=(e||"").match(La.notSpaceStart))==null?void 0:a[0],i=t.replace(La.endingNewline,"")+`
`;return n?'<pre><code class="language-'+el(n)+'">'+(r?i:el(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:el(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,r=t.start;let n="";for(let s=0;s<t.items.length;s++){const o=t.items[s];n+=this.listitem(o)}const i=e?"ol":"ul",a=e&&r!==1?' start="'+r+'"':"";return"<"+i+a+`>
`+n+"</"+i+`>
`}listitem(t){var r;let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?((r=t.tokens[0])==null?void 0:r.type)==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+el(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let i=0;i<t.header.length;i++)r+=this.tablecell(t.header[i]);e+=this.tablerow({text:r});let n="";for(let i=0;i<t.rows.length;i++){const a=t.rows[i];r="";for(let s=0;s<a.length;s++)r+=this.tablecell(a[s]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${el(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){const n=this.parser.parseInline(r),i=XB(t);if(i===null)return n;t=i;let a='<a href="'+t+'"';return e&&(a+=' title="'+el(e)+'"'),a+=">"+n+"</a>",a}image({href:t,title:e,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));const i=XB(t);if(i===null)return el(r);t=i;let a=`<img src="${t}" alt="${r}"`;return e&&(a+=` title="${el(e)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:el(t.text)}},h6=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Jl=class U7{constructor(e){Or(this,"options");Or(this,"renderer");Or(this,"textRenderer");this.options=e||fh,this.options.renderer=this.options.renderer||new sb,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new h6}static parse(e,r){return new U7(r).parse(e)}static parseInline(e,r){return new U7(r).parseInline(e)}parse(e,r=!0){var i,a;let n="";for(let s=0;s<e.length;s++){const o=e[s];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[o.type]){const u=o,h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){n+=h||"";continue}}const l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let u=l,h=this.renderer.text(u);for(;s+1<e.length&&e[s+1].type==="text";)u=e[++s],h+=`
`+this.renderer.text(u);r?n+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):n+=h;continue}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(e,r=this.renderer){var i,a;let n="";for(let s=0;s<e.length;s++){const o=e[s];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=u||"";continue}}const l=o;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}},ob=(F7=class{constructor(t){Or(this,"options");Or(this,"block");this.options=t||fh}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Zl.lex:Zl.lexInline}provideParser(){return this.block?Jl.parse:Jl.parseInline}},Or(F7,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),F7),bEe=class{constructor(...t){Or(this,"defaults",r6());Or(this,"options",this.setOptions);Or(this,"parse",this.parseMarkdown(!0));Or(this,"parseInline",this.parseMarkdown(!1));Or(this,"Parser",Jl);Or(this,"Renderer",sb);Or(this,"TextRenderer",h6);Or(this,"Lexer",Zl);Or(this,"Tokenizer",ab);Or(this,"Hooks",ob);this.use(...t)}walkTokens(t,e){var n,i;let r=[];for(const a of t)switch(r=r.concat(e.call(this,a)),a.type){case"table":{const s=a;for(const o of s.header)r=r.concat(this.walkTokens(o.tokens,e));for(const o of s.rows)for(const l of o)r=r.concat(this.walkTokens(l.tokens,e));break}case"list":{const s=a;r=r.concat(this.walkTokens(s.items,e));break}default:{const s=a;(i=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&i[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{const l=s[o].flat(1/0);r=r.concat(this.walkTokens(l,e))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,e)))}}return r}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const a=e.renderers[i.name];a?e.renderers[i.name]=function(...s){let o=i.renderer.apply(this,s);return o===!1&&(o=a.apply(this,s)),o}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=e[i.level];a?a.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),r.renderer){const i=this.defaults.renderer||new sb(this.defaults);for(const a in r.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const s=a,o=r.renderer[s],l=i[s];i[s]=(...u)=>{let h=o.apply(i,u);return h===!1&&(h=l.apply(i,u)),h||""}}n.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new ab(this.defaults);for(const a in r.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const s=a,o=r.tokenizer[s],l=i[s];i[s]=(...u)=>{let h=o.apply(i,u);return h===!1&&(h=l.apply(i,u)),h}}n.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new ob;for(const a in r.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const s=a,o=r.hooks[s],l=i[s];ob.passThroughHooks.has(a)?i[s]=u=>{if(this.defaults.async)return Promise.resolve(o.call(i,u)).then(d=>l.call(i,d));const h=o.call(i,u);return l.call(i,h)}:i[s]=(...u)=>{let h=o.apply(i,u);return h===!1&&(h=l.apply(i,u)),h}}n.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,a=r.walkTokens;n.walkTokens=function(s){let o=[];return o.push(a.call(this,s)),i&&(o=o.concat(i.call(this,s))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Zl.lex(t,e??this.defaults)}parser(t,e){return Jl.parse(t,e??this.defaults)}parseMarkdown(t){return(r,n)=>{const i={...n},a={...this.defaults,...i},s=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=t);const o=a.hooks?a.hooks.provideLexer():t?Zl.lex:Zl.lexInline,l=a.hooks?a.hooks.provideParser():t?Jl.parse:Jl.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(u=>o(u,a)).then(u=>a.hooks?a.hooks.processAllTokens(u):u).then(u=>a.walkTokens?Promise.all(this.walkTokens(u,a.walkTokens)).then(()=>u):u).then(u=>l(u,a)).then(u=>a.hooks?a.hooks.postprocess(u):u).catch(s);try{a.hooks&&(r=a.hooks.preprocess(r));let u=o(r,a);a.hooks&&(u=a.hooks.processAllTokens(u)),a.walkTokens&&this.walkTokens(u,a.walkTokens);let h=l(u,a);return a.hooks&&(h=a.hooks.postprocess(h)),h}catch(u){return s(u)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const n="<p>An error occurred:</p><pre>"+el(r.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(r);throw r}}},ph=new bEe;function Yr(t,e){return ph.parse(t,e)}Yr.options=Yr.setOptions=function(t){return ph.setOptions(t),Yr.defaults=ph.defaults,MB(Yr.defaults),Yr},Yr.getDefaults=r6,Yr.defaults=fh,Yr.use=function(...t){return ph.use(...t),Yr.defaults=ph.defaults,MB(Yr.defaults),Yr},Yr.walkTokens=function(t,e){return ph.walkTokens(t,e)},Yr.parseInline=ph.parseInline,Yr.Parser=Jl,Yr.parser=Jl.parse,Yr.Renderer=sb,Yr.TextRenderer=h6,Yr.Lexer=Zl,Yr.lexer=Zl.lex,Yr.Tokenizer=ab,Yr.Hooks=ob,Yr.parse=Yr,Yr.options,Yr.setOptions,Yr.use,Yr.walkTokens,Yr.parseInline,Jl.parse,Zl.lex;function QB(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?o.concat(u.map(function(h){var d,f;return(f=(d=h.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&f!==void 0?f:0})):o},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return e.forEach(function(o,l){var u=s.match(/(?:^|\n)( *)$/),h=u?u[1]:"",d=o;typeof o=="string"&&o.includes(`
`)&&(d=String(o).split(`
`).map(function(f,p){return p===0?f:""+h+f}).join(`
`)),s+=d+n[l+1]}),s}var ZB={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},d6=new Map,JB=new Map,eF=E(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(se.debug("Registering icon pack:",e.name),"loader"in e)JB.set(e.name,e.loader);else if("icons"in e)d6.set(e.name,e.icons);else throw se.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),tF=E(async(t,e)=>{const r=Txe(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let i=d6.get(n);if(!i){const s=JB.get(n);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await s(),prefix:n},d6.set(n,i)}catch(o){throw se.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const a=kxe(i,r.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),xEe=E(async t=>{try{return await tF(t),!0}catch{return!1}},"isIconAvailable"),Kc=E(async(t,e,r)=>{let n;try{n=await tF(t,e==null?void 0:e.fallbackPrefix)}catch(s){se.error(s),n=ZB}const i=Ixe(n,e);return Bxe(Pxe(i.body),{...i.attributes,...r})},"getIconSVG");function rF(t,{markdownAutoWrap:e}){const n=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=QB(n);return e===!1?i.replace(/ /g,"&nbsp;"):i}E(rF,"preprocessMarkdown");function nF(t,e={}){const r=rF(t,e),n=Yr.lexer(r),i=[[]];let a=0;function s(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,d)=>{d!==0&&(a++,i.push([])),h.split(" ").forEach(f=>{f=f.replace(/&#39;/g,"'"),f&&i[a].push({content:f,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(u=>{s(u,o.type)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}return E(s,"processNode"),n.forEach(o=>{var l;o.type==="paragraph"?(l=o.tokens)==null||l.forEach(u=>{s(u)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}),i}E(nF,"markdownToLines");function iF(t,{markdownAutoWrap:e}={}){const r=Yr.lexer(t);function n(i){var a,s,o;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(a=i.tokens)==null?void 0:a.map(n).join("")}</strong>`:i.type==="em"?`<em>${(s=i.tokens)==null?void 0:s.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(o=i.tokens)==null?void 0:o.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return E(n,"output"),r.map(n).join("")}E(iF,"markdownToHTML");function aF(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}E(aF,"splitTextToChars");function sF(t,e){const r=aF(e.content);return f6(t,[],r,e.type)}E(sF,"splitWordToFitWidth");function f6(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[i,...a]=r,s=[...e,i];return t([{content:s.join(""),type:n}])?f6(t,s,a,n):(e.length===0&&i&&(e.push(i),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}E(f6,"splitWordToFitWidthRecursion");function oF(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return lb(t,e)}E(oF,"splitLineToFitWidth");function lb(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";t[0].content===" "&&(i=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),e(s))return lb(t,e,r,s);if(n.length>0)r.push(n),t.unshift(a);else if(a.content){const[o,l]=sF(e,a);r.push([o]),l.content&&t.unshift(l)}return lb(t,e,r)}E(lb,"splitLineToFitWidthRecursion");function p6(t,e){e&&t.attr("style",e)}E(p6,"applyStyle");async function lF(t,e,r,n,i=!1){const a=t.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const s=a.append("xhtml:div");let o=e.label;e.label&&ra(e.label)&&(o=await lg(e.label.replace(xt.lineBreakRegex,`
`),Re()));const l=e.isNode?"nodeLabel":"edgeLabel",u=s.append("span");u.html(o),p6(u,e.labelStyle),u.attr("class",`${l} ${n}`),p6(s,e.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();return h.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),h=s.node().getBoundingClientRect()),a.node()}E(lF,"addHtmlSpan");function cb(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}E(cb,"createTspan");function cF(t,e,r){const n=t.append("text"),i=cb(n,1,e);ub(i,r);const a=i.node().getComputedTextLength();return n.remove(),a}E(cF,"computeWidthOfText");function uF(t,e,r){var s;const n=t.append("text"),i=cb(n,1,e);ub(i,[{content:r,type:"normal"}]);const a=(s=i.node())==null?void 0:s.getBoundingClientRect();return a&&n.remove(),a}E(uF,"computeDimensionOfText");function hF(t,e,r,n=!1){const a=e.append("g"),s=a.insert("rect").attr("class","background").attr("style","stroke: none"),o=a.append("text").attr("y","-10.1");let l=0;for(const u of r){const h=E(f=>cF(a,1.1,f)<=t,"checkWidth"),d=h(u)?[u]:oF(u,h);for(const f of d){const p=cb(o,l,1.1);ub(p,f),l++}}if(n){const u=o.node().getBBox(),h=2;return s.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),a.node()}else return o.node()}E(hF,"createFormattedText");function ub(t,e){t.text(""),e.forEach((r,n)=>{const i=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}E(ub,"updateTextContentAndStyles");async function g6(t){const e=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,i,a)=>(e.push((async()=>{const s=`${i}:${a}`;return await xEe(s)?await Kc(s,void 0,{class:"label-icon"}):`<i class='${Wv(n).replace(":"," ")}'></i>`})()),n));const r=await Promise.all(e);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}E(g6,"replaceIconSubstring");var Xa=E(async(t,e="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:l=!1}={},u)=>{if(se.debug("XYZ createText",e,r,n,i,a,s,"addSvgBackground: ",l),a){const h=iF(e,u),d=await g6(Jo(h)),f=e.replace(/\\\\/g,"\\"),p={isNode:s,label:ra(e)?f:d,labelStyle:r.replace("fill:","color:")};return await lF(t,p,o,i,l)}else{const h=e.replace(/<br\s*\/?>/g,"<br/>"),d=nF(h.replace("<br>","<br/>"),u),f=hF(o,t,d,e?l:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");mt(f).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");mt(f).select("rect").attr("style",p.replace(/background:/g,"fill:"));const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");mt(f).select("text").attr("style",g)}return f}},"createText");function m6(t,e,r){if(t&&t.length){const[n,i]=e,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(const l of t){const[u,h]=l;l[0]=(u-n)*s-(h-i)*o+n,l[1]=(u-n)*o+(h-i)*s+i}}}function EEe(t,e){return t[0]===e[0]&&t[1]===e[1]}function TEe(t,e,r,n=1){const i=r,a=Math.max(e,.1),s=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const u of s)m6(u,o,i);const l=function(u,h,d){const f=[];for(const b of u){const x=[...b];EEe(x[0],x[x.length-1])||x.push([x[0][0],x[0][1]]),x.length>2&&f.push(x)}const p=[];h=Math.max(h,.1);const g=[];for(const b of f)for(let x=0;x<b.length-1;x++){const T=b[x],w=b[x+1];if(T[1]!==w[1]){const S=Math.min(T[1],w[1]);g.push({ymin:S,ymax:Math.max(T[1],w[1]),x:S===T[1]?T[0]:w[0],islope:(w[0]-T[0])/(w[1]-T[1])})}}if(g.sort((b,x)=>b.ymin<x.ymin?-1:b.ymin>x.ymin?1:b.x<x.x?-1:b.x>x.x?1:b.ymax===x.ymax?0:(b.ymax-x.ymax)/Math.abs(b.ymax-x.ymax)),!g.length)return p;let m=[],y=g[0].ymin,v=0;for(;m.length||g.length;){if(g.length){let b=-1;for(let x=0;x<g.length&&!(g[x].ymin>y);x++)b=x;g.splice(0,b+1).forEach(x=>{m.push({s:y,edge:x})})}if(m=m.filter(b=>!(b.edge.ymax<=y)),m.sort((b,x)=>b.edge.x===x.edge.x?0:(b.edge.x-x.edge.x)/Math.abs(b.edge.x-x.edge.x)),(d!==1||v%h==0)&&m.length>1)for(let b=0;b<m.length;b+=2){const x=b+1;if(x>=m.length)break;const T=m[b].edge,w=m[x].edge;p.push([[Math.round(T.x),y],[Math.round(w.x),y]])}y+=d,m.forEach(b=>{b.edge.x=b.edge.x+d*b.edge.islope}),v++}return p}(s,a,n);if(i){for(const u of s)m6(u,o,-i);(function(u,h,d){const f=[];u.forEach(p=>f.push(...p)),m6(f,h,d)})(l,o,-i)}return l}function Zg(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=i),TEe(t,i,n,a||1)}class y6{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=Zg(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function hb(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class wEe extends y6{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=Zg(e,Object.assign({},r,{hachureGap:n})),a=Math.PI/180*r.hachureAngle,s=[],o=.5*n*Math.cos(a),l=.5*n*Math.sin(a);for(const[u,h]of i)hb([u,h])&&s.push([[u[0]-o,u[1]+l],[...h]],[[u[0]+o,u[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(s,r)}}}class SEe extends y6{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(e,i);return n.ops=n.ops.concat(a.ops),n}}let kEe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=Zg(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const s=i/4;for(const o of e){const l=hb(o),u=l/i,h=Math.ceil(u)-1,d=l-h*i,f=(o[0][0]+o[1][0])/2-i/4,p=Math.min(o[0][1],o[1][1]);for(let g=0;g<h;g++){const m=p+d+g*i,y=f-s+2*Math.random()*s,v=m-s+2*Math.random()*s,b=this.helper.ellipse(y,v,a,a,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}},CEe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=Zg(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return e.forEach(s=>{const o=hb(s),l=Math.floor(o/(n+i)),u=(o+i-l*(n+i))/2;let h=s[0],d=s[1];h[0]>d[0]&&(h=s[1],d=s[0]);const f=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let p=0;p<l;p++){const g=p*(n+i),m=g+n,y=[h[0]+g*Math.cos(f)+u*Math.cos(f),h[1]+g*Math.sin(f)+u*Math.sin(f)],v=[h[0]+m*Math.cos(f)+u*Math.cos(f),h[1]+m*Math.sin(f)+u*Math.sin(f)];a.push(...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],r))}}),a}};class _Ee{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,a=Zg(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach(a=>{const s=hb(a),o=Math.round(s/(2*r));let l=a[0],u=a[1];l[0]>u[0]&&(l=a[1],u=a[0]);const h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let d=0;d<o;d++){const f=2*d*r,p=2*(d+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],y=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],v=[m[0]+g*Math.cos(h+Math.PI/4),m[1]+g*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],v[0],v[1],n),...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],n))}}),i}}const Ka={};let AEe=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const LEe=0,v6=1,dF=2,db={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function b6(t,e){return t.type===e}function x6(t){const e=[],r=function(s){const o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:LEe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:v6,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:dF,text:""},o}(t);let n="BOD",i=0,a=r[i];for(;!b6(a,dF);){let s=0;const o=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return x6("M0,0"+t);i++,s=db[a.text],n=a.text}else b6(a,v6)?s=db[n]:(i++,s=db[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let l=i;l<i+s;l++){const u=r[l];if(!b6(u,v6))throw new Error("Param not a number: "+n+","+u.text);o[o.length]=+u.text}if(typeof db[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};e.push(l),i+=s,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function fF(t){let e=0,r=0,n=0,i=0;const a=[];for(const{key:s,data:o}of t)switch(s){case"M":a.push({key:"M",data:[...o]}),[e,r]=o,[n,i]=o;break;case"m":e+=o[0],r+=o[1],a.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":a.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],a.push({key:"L",data:[e,r]});break;case"C":a.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":a.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":a.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":a.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":a.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],a.push({key:"T",data:[e,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=n,r=i}return a}function pF(t){const e=[];let r="",n=0,i=0,a=0,s=0,o=0,l=0;for(const{key:u,data:h}of t){switch(u){case"M":e.push({key:"M",data:[...h]}),[n,i]=h,[a,s]=h;break;case"C":e.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],e.push({key:"L",data:[n,i]});break;case"V":i=h[0],e.push({key:"L",data:[n,i]});break;case"S":{let d=0,f=0;r==="C"||r==="S"?(d=n+(n-o),f=i+(i-l)):(d=n,f=i),e.push({key:"C",data:[d,f,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[d,f]=h;let p=0,g=0;r==="Q"||r==="T"?(p=n+(n-o),g=i+(i-l)):(p=n,g=i);const m=n+2*(p-n)/3,y=i+2*(g-i)/3,v=d+2*(p-d)/3,b=f+2*(g-f)/3;e.push({key:"C",data:[m,y,v,b,d,f]}),o=p,l=g,n=d,i=f;break}case"Q":{const[d,f,p,g]=h,m=n+2*(d-n)/3,y=i+2*(f-i)/3,v=p+2*(d-p)/3,b=g+2*(f-g)/3;e.push({key:"C",data:[m,y,v,b,p,g]}),o=d,l=f,n=p,i=g;break}case"A":{const d=Math.abs(h[0]),f=Math.abs(h[1]),p=h[2],g=h[3],m=h[4],y=h[5],v=h[6];d===0||f===0?(e.push({key:"C",data:[n,i,y,v,y,v]}),n=y,i=v):(n!==y||i!==v)&&(gF(n,i,y,v,d,f,p,g,m).forEach(function(b){e.push({key:"C",data:b})}),n=y,i=v);break}case"Z":e.push({key:"Z",data:[]}),n=a,i=s}r=u}return e}function Jg(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function gF(t,e,r,n,i,a,s,o,l,u){const h=(d=s,Math.PI*d/180);var d;let f=[],p=0,g=0,m=0,y=0;if(u)[p,g,m,y]=u;else{[t,e]=Jg(t,e,-h),[r,n]=Jg(r,n,-h);const P=(t-r)/2,A=(e-n)/2;let R=P*P/(i*i)+A*A/(a*a);R>1&&(R=Math.sqrt(R),i*=R,a*=R);const O=i*i,M=a*a,I=O*M-O*A*A-M*P*P,F=O*A*A+M*P*P,B=(o===l?-1:1)*Math.sqrt(Math.abs(I/F));m=B*i*A/a+(t+r)/2,y=B*-a*P/i+(e+n)/2,p=Math.asin(parseFloat(((e-y)/a).toFixed(9))),g=Math.asin(parseFloat(((n-y)/a).toFixed(9))),t<m&&(p=Math.PI-p),r<m&&(g=Math.PI-g),p<0&&(p=2*Math.PI+p),g<0&&(g=2*Math.PI+g),l&&p>g&&(p-=2*Math.PI),!l&&g>p&&(g-=2*Math.PI)}let v=g-p;if(Math.abs(v)>120*Math.PI/180){const P=g,A=r,R=n;g=l&&g>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,f=gF(r=m+i*Math.cos(g),n=y+a*Math.sin(g),A,R,i,a,s,0,l,[g,P,m,y])}v=g-p;const b=Math.cos(p),x=Math.sin(p),T=Math.cos(g),w=Math.sin(g),S=Math.tan(v/4),k=4/3*i*S,L=4/3*a*S,_=[t,e],N=[t+k*x,e-L*b],C=[r+k*w,n-L*T],D=[r,n];if(N[0]=2*_[0]-N[0],N[1]=2*_[1]-N[1],u)return[N,C,D].concat(f);{f=[N,C,D].concat(f);const P=[];for(let A=0;A<f.length;A+=3){const R=Jg(f[A][0],f[A][1],h),O=Jg(f[A+1][0],f[A+1][1],h),M=Jg(f[A+2][0],f[A+2][1],h);P.push([R[0],R[1],O[0],O[1],M[0],M[1]])}return P}}const NEe={randOffset:function(t,e){return sr(t,e)},randOffsetWithRange:function(t,e,r){return pb(t,e,r)},ellipse:function(t,e,r,n,i){const a=vF(r,n,i);return E6(t,e,i,a).opset},doubleLineOps:function(t,e,r,n,i){return jc(t,e,r,n,i,!0)}};function mF(t,e,r,n,i){return{type:"path",ops:jc(t,e,r,n,i)}}function fb(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let a=0;a<n-1;a++)i.push(...jc(t[a][0],t[a][1],t[a+1][0],t[a+1][1],r));return e&&i.push(...jc(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?mF(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function REe(t,e,r,n,i){return function(a,s){return fb(a,!0,s)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function yF(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=gb(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:gb(r[0],1.5*(1+.22*e.roughness),EF(e));for(let a=1;a<r.length;a++){const s=r[a];if(s.length){const o=gb(s,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:gb(s,1.5*(1+.22*e.roughness),EF(e));for(const u of o)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function vF(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i;let s=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return s+=sr(s*l,r),o+=sr(o*l,r),{increment:a,rx:s,ry:o}}function E6(t,e,r,n){const[i,a]=wF(n.increment,t,e,n.rx,n.ry,1,n.increment*pb(.1,pb(.4,1,r),r),r);let s=mb(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=wF(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=mb(o,null,r);s=s.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function bF(t,e,r,n,i,a,s,o,l){const u=t,h=e;let d=Math.abs(r/2),f=Math.abs(n/2);d+=sr(.01*d,l),f+=sr(.01*f,l);let p=i,g=a;for(;p<0;)p+=2*Math.PI,g+=2*Math.PI;g-p>2*Math.PI&&(p=0,g=2*Math.PI);const m=2*Math.PI/l.curveStepCount,y=Math.min(m/2,(g-p)/2),v=SF(y,u,h,d,f,p,g,1,l);if(!l.disableMultiStroke){const b=SF(y,u,h,d,f,p,g,1.5,l);v.push(...b)}return s&&(o?v.push(...jc(u,h,u+d*Math.cos(p),h+f*Math.sin(p),l),...jc(u,h,u+d*Math.cos(g),h+f*Math.sin(g),l)):v.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+d*Math.cos(p),h+f*Math.sin(p)]})),{type:"path",ops:v}}function xF(t,e){const r=pF(fF(x6(t))),n=[];let i=[0,0],a=[0,0];for(const{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...jc(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]];break;case"C":{const[l,u,h,d,f,p]=o;n.push(...IEe(l,u,h,d,f,p,a,e)),a=[f,p];break}case"Z":n.push(...jc(a[0],a[1],i[0],i[1],e)),a=[i[0],i[1]]}return{type:"path",ops:n}}function T6(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+sr(i,e),n[0][1]+sr(i,e)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[n[s][0]+sr(i,e),n[s][1]+sr(i,e)]})}}return{type:"fillPath",ops:r}}function ff(t,e){return function(r,n){let i=r.fillStyle||"hachure";if(!Ka[i])switch(i){case"zigzag":Ka[i]||(Ka[i]=new wEe(n));break;case"cross-hatch":Ka[i]||(Ka[i]=new SEe(n));break;case"dots":Ka[i]||(Ka[i]=new kEe(n));break;case"dashed":Ka[i]||(Ka[i]=new CEe(n));break;case"zigzag-line":Ka[i]||(Ka[i]=new _Ee(n));break;default:i="hachure",Ka[i]||(Ka[i]=new y6(n))}return Ka[i]}(e,NEe).fillPolygons(t,e)}function EF(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function TF(t){return t.randomizer||(t.randomizer=new AEe(t.seed||0)),t.randomizer.next()}function pb(t,e,r,n=1){return r.roughness*n*(TF(r)*(e-t)+t)}function sr(t,e,r=1){return pb(-t,t,e,r)}function jc(t,e,r,n,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,o=w6(t,e,r,n,i,!0,!1);if(s)return o;const l=w6(t,e,r,n,i,!0,!0);return o.concat(l)}function w6(t,e,r,n,i,a,s){const o=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(o);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const d=h/2,f=.2+.2*TF(i);let p=i.bowing*i.maxRandomnessOffset*(n-e)/200,g=i.bowing*i.maxRandomnessOffset*(t-r)/200;p=sr(p,i,u),g=sr(g,i,u);const m=[],y=()=>sr(d,i,u),v=()=>sr(h,i,u),b=i.preserveVertices;return s?m.push({op:"move",data:[t+(b?0:y()),e+(b?0:y())]}):m.push({op:"move",data:[t+(b?0:sr(h,i,u)),e+(b?0:sr(h,i,u))]}),s?m.push({op:"bcurveTo",data:[p+t+(r-t)*f+y(),g+e+(n-e)*f+y(),p+t+2*(r-t)*f+y(),g+e+2*(n-e)*f+y(),r+(b?0:y()),n+(b?0:y())]}):m.push({op:"bcurveTo",data:[p+t+(r-t)*f+v(),g+e+(n-e)*f+v(),p+t+2*(r-t)*f+v(),g+e+2*(n-e)*f+v(),r+(b?0:v()),n+(b?0:v())]}),m}function gb(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+sr(e,r),t[0][1]+sr(e,r)]),n.push([t[0][0]+sr(e,r),t[0][1]+sr(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+sr(e,r),t[i][1]+sr(e,r)]),i===t.length-1&&n.push([t[i][0]+sr(e,r),t[i][1]+sr(e,r)]);return mb(n,null,r)}function mb(t,e,r){const n=t.length,i=[];if(n>3){const a=[],s=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<n;o++){const l=t[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*t[o+1][0]-s*t[o-1][0])/6,l[1]+(s*t[o+1][1]-s*t[o-1][1])/6],a[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],a[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...w6(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function wF(t,e,r,n,i,a,s,o){const l=[],u=[];if(o.roughness===0){t/=4,u.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const d=[e+n*Math.cos(h),r+i*Math.sin(h)];l.push(d),u.push(d)}u.push([e+n*Math.cos(0),r+i*Math.sin(0)]),u.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const h=sr(.5,o)-Math.PI/2;u.push([sr(a,o)+e+.9*n*Math.cos(h-t),sr(a,o)+r+.9*i*Math.sin(h-t)]);const d=2*Math.PI+h-.01;for(let f=h;f<d;f+=t){const p=[sr(a,o)+e+n*Math.cos(f),sr(a,o)+r+i*Math.sin(f)];l.push(p),u.push(p)}u.push([sr(a,o)+e+n*Math.cos(h+2*Math.PI+.5*s),sr(a,o)+r+i*Math.sin(h+2*Math.PI+.5*s)]),u.push([sr(a,o)+e+.98*n*Math.cos(h+s),sr(a,o)+r+.98*i*Math.sin(h+s)]),u.push([sr(a,o)+e+.9*n*Math.cos(h+.5*s),sr(a,o)+r+.9*i*Math.sin(h+.5*s)])}return[u,l]}function SF(t,e,r,n,i,a,s,o,l){const u=a+sr(.1,l),h=[];h.push([sr(o,l)+e+.9*n*Math.cos(u-t),sr(o,l)+r+.9*i*Math.sin(u-t)]);for(let d=u;d<=s;d+=t)h.push([sr(o,l)+e+n*Math.cos(d),sr(o,l)+r+i*Math.sin(d)]);return h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),mb(h,null,l)}function IEe(t,e,r,n,i,a,s,o){const l=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const d=o.disableMultiStroke?1:2,f=o.preserveVertices;for(let p=0;p<d;p++)p===0?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(f?0:sr(u[0],o)),s[1]+(f?0:sr(u[0],o))]}),h=f?[i,a]:[i+sr(u[p],o),a+sr(u[p],o)],l.push({op:"bcurveTo",data:[t+sr(u[p],o),e+sr(u[p],o),r+sr(u[p],o),n+sr(u[p],o),h[0],h[1]]});return l}function e1(t){return[...t]}function kF(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(e1(t[0]),e1(t[1]),e1(t[2]),e1(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const a=[],s=1-e;n.push(e1(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*i[o+1][0]-s*i[o-1][0])/6,l[1]+(s*i[o+1][1]-s*i[o-1][1])/6],a[2]=[i[o+1][0]+(s*i[o][0]-s*i[o+2][0])/6,i[o+1][1]+(s*i[o][1]-s*i[o+2][1])/6],a[3]=[i[o+1][0],i[o+1][1]],n.push(a[1],a[2],a[3])}}return n}function yb(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function DEe(t,e,r){const n=yb(e,r);if(n===0)return yb(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),yb(t,gh(e,r,i))}function gh(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function S6(t,e,r,n){const i=n||[];if(function(o,l){const u=o[l+0],h=o[l+1],d=o[l+2],f=o[l+3];let p=3*h[0]-2*u[0]-f[0];p*=p;let g=3*h[1]-2*u[1]-f[1];g*=g;let m=3*d[0]-2*f[0]-u[0];m*=m;let y=3*d[1]-2*f[1]-u[1];return y*=y,p<m&&(p=m),g<y&&(g=y),p+g}(t,e)<r){const o=t[e+0];i.length?(a=i[i.length-1],s=o,Math.sqrt(yb(a,s))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],u=t[e+1],h=t[e+2],d=t[e+3],f=gh(l,u,.5),p=gh(u,h,.5),g=gh(h,d,.5),m=gh(f,p,.5),y=gh(p,g,.5),v=gh(m,y,.5);S6([l,f,m,v],0,r,i),S6([v,y,g,d],0,r,i)}var a,s;return i}function OEe(t,e){return vb(t,0,t.length,e)}function vb(t,e,r,n,i){const a=i||[],s=t[e],o=t[r-1];let l=0,u=1;for(let h=e+1;h<r-1;++h){const d=DEe(t[h],s,o);d>l&&(l=d,u=h)}return Math.sqrt(l)>n?(vb(t,e,u+1,n,a),vb(t,u,r,n,a)):(a.length||a.push(s),a.push(o)),a}function k6(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let a=0;a<i;a++)S6(t,3*a,e,n);return r&&r>0?vb(n,0,n.length,r):n}const xs="none";class bb{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,a){const s=this._o(a);return this._d("line",[mF(e,r,n,i,s)],s)}rectangle(e,r,n,i,a){const s=this._o(a),o=[],l=REe(e,r,n,i,s);if(s.fill){const u=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];s.fillStyle==="solid"?o.push(T6([u],s)):o.push(ff([u],s))}return s.stroke!==xs&&o.push(l),this._d("rectangle",o,s)}ellipse(e,r,n,i,a){const s=this._o(a),o=[],l=vF(n,i,s),u=E6(e,r,s,l);if(s.fill)if(s.fillStyle==="solid"){const h=E6(e,r,s,l).opset;h.type="fillPath",o.push(h)}else o.push(ff([u.estimatedPoints],s));return s.stroke!==xs&&o.push(u.opset),this._d("ellipse",o,s)}circle(e,r,n,i){const a=this.ellipse(e,r,n,n,i);return a.shape="circle",a}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[fb(e,!1,n)],n)}arc(e,r,n,i,a,s,o=!1,l){const u=this._o(l),h=[],d=bF(e,r,n,i,a,s,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const f=Object.assign({},u);f.disableMultiStroke=!0;const p=bF(e,r,n,i,a,s,!0,!1,f);p.type="fillPath",h.push(p)}else h.push(function(f,p,g,m,y,v,b){const x=f,T=p;let w=Math.abs(g/2),S=Math.abs(m/2);w+=sr(.01*w,b),S+=sr(.01*S,b);let k=y,L=v;for(;k<0;)k+=2*Math.PI,L+=2*Math.PI;L-k>2*Math.PI&&(k=0,L=2*Math.PI);const _=(L-k)/b.curveStepCount,N=[];for(let C=k;C<=L;C+=_)N.push([x+w*Math.cos(C),T+S*Math.sin(C)]);return N.push([x+w*Math.cos(L),T+S*Math.sin(L)]),N.push([x,T]),ff([N],b)}(e,r,n,i,a,s,u));return u.stroke!==xs&&h.push(d),this._d("arc",h,u)}curve(e,r){const n=this._o(r),i=[],a=yF(e,n);if(n.fill&&n.fill!==xs)if(n.fillStyle==="solid"){const s=yF(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const u of l)u.length<3?s.push(...u):u.length===3?s.push(...k6(kF([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):s.push(...k6(kF(u),10,(1+n.roughness)/2))}s.length&&i.push(ff([s],n))}return n.stroke!==xs&&i.push(a),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],a=fb(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(T6([e],n)):i.push(ff([e],n))),n.stroke!==xs&&i.push(a),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=n.fill&&n.fill!=="transparent"&&n.fill!==xs,s=n.stroke!==xs,o=!!(n.simplification&&n.simplification<1),l=function(h,d,f){const p=pF(fF(x6(h))),g=[];let m=[],y=[0,0],v=[];const b=()=>{v.length>=4&&m.push(...k6(v,d)),v=[]},x=()=>{b(),m.length&&(g.push(m),m=[])};for(const{key:w,data:S}of p)switch(w){case"M":x(),y=[S[0],S[1]],m.push(y);break;case"L":b(),m.push([S[0],S[1]]);break;case"C":if(!v.length){const k=m.length?m[m.length-1]:y;v.push([k[0],k[1]])}v.push([S[0],S[1]]),v.push([S[2],S[3]]),v.push([S[4],S[5]]);break;case"Z":b(),m.push([y[0],y[1]])}if(x(),!f)return g;const T=[];for(const w of g){const S=OEe(w,f);S.length&&T.push(S)}return T}(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),u=xF(e,n);if(a)if(n.fillStyle==="solid")if(l.length===1){const h=xF(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(T6(l,n));else i.push(ff(l,n));return s&&(o?l.forEach(h=>{i.push(fb(h,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const a=typeof r=="number"&&r>=0?i.data.map(s=>+s.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":n+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":n+=`L${a[0]} ${a[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const a of r){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:xs};break;case"fillPath":s={d:this.opsToPath(a),stroke:xs,strokeWidth:0,fill:n.fill||xs};break;case"fillSketch":s=this.fillSketch(a,n)}s&&i.push(s)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||xs,strokeWidth:n,fill:xs}}_mergedShape(e){return e.filter((r,n)=>n===0||r.op!=="move")}}class MEe{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new bb(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const s of r)switch(s.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,s,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,s,a,o),i.restore();break}case"fillSketch":this.fillSketch(i,s,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const a of r.ops){const s=typeof n=="number"&&n>=0?a.data.map(o=>+o.toFixed(n)):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s),s}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s),s}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s),s}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a),a}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,a,s,o=!1,l){const u=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(u),u}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const xb="http://www.w3.org/2000/svg";class PEe{constructor(e,r){this.svg=e,this.gen=new bb(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(xb,"g"),s=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(xb,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(xb,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&a.appendChild(l)}return a}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const a=e.createElementNS(xb,"path");return a.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s)}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s)}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s)}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,a,s,o=!1,l){const u=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(u)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var Gt={canvas:(t,e)=>new MEe(t,e),svg:(t,e)=>new PEe(t,e),generator:t=>new bb(t),newSeed:()=>bb.newSeed()},hr=E(async(t,e,r)=>{var d,f;let n;const i=e.useHtmlLabels||tn((d=Re())==null?void 0:d.htmlLabels);r?n=r:n="node default";const a=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",Aa(e.labelStyle));let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];const l=await Xa(s,on(Jo(o),Re()),{useHtmlLabels:i,width:e.width||((f=Re().flowchart)==null?void 0:f.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let u=l.getBBox();const h=((e==null?void 0:e.padding)??0)/2;if(i){const p=l.children[0],g=mt(l),m=p.getElementsByTagName("img");if(m){const y=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(v=>new Promise(b=>{function x(){if(v.style.display="flex",v.style.flexDirection="column",y){const T=Re().fontSize?Re().fontSize:window.getComputedStyle(document.body).fontSize,w=5,[S=Rr.fontSize]=Xc(T),k=S*w+"px";v.style.minWidth=k,v.style.maxWidth=k}else v.style.width="100%";b(v)}E(x,"setupImage"),setTimeout(()=>{v.complete&&x()}),v.addEventListener("error",x),v.addEventListener("load",x)})))}u=p.getBoundingClientRect(),g.attr("width",u.width),g.attr("height",u.height)}return i?s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):s.attr("transform","translate(0, "+-u.height/2+")"),e.centerLabel&&s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:u,halfPadding:h,label:s}},"labelHelper"),C6=E(async(t,e,r)=>{var l,u,h,d,f,p;const n=r.useHtmlLabels||tn((u=(l=Re())==null?void 0:l.flowchart)==null?void 0:u.htmlLabels),i=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await Xa(i,on(Jo(e),Re()),{useHtmlLabels:n,width:r.width||((d=(h=Re())==null?void 0:h.flowchart)==null?void 0:d.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let s=a.getBBox();const o=r.padding/2;if(tn((p=(f=Re())==null?void 0:f.flowchart)==null?void 0:p.htmlLabels)){const g=a.children[0],m=mt(a);s=g.getBoundingClientRect(),m.attr("width",s.width),m.attr("height",s.height)}return n?i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):i.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:s,halfPadding:o,label:i}},"insertLabel"),Xt=E((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),or=E((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Ir(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}E(Ir,"createPathFromPoints");function Qc(t,e,r,n,i,a){const s=[],l=r-t,u=n-e,h=l/a,d=2*Math.PI/h,f=e+u/2;for(let p=0;p<=50;p++){const g=p/50,m=t+g*l,y=f+i*Math.sin(d*(m-t));s.push({x:m,y})}return s}E(Qc,"generateFullSineWavePoints");function _6(t,e,r,n,i,a){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const f=o+d*h,p=t+r*Math.cos(f),g=e+r*Math.sin(f);s.push({x:-p,y:-g})}return s}E(_6,"generateCirclePoints");var BEe=E((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:r+l,y:n+u}},"intersectRect"),pf=BEe;function CF(t,e){e&&t.attr("style",e)}E(CF,"applyStyle");async function _F(t){const e=mt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div");let n=t.label;t.label&&ra(t.label)&&(n=await lg(t.label.replace(xt.lineBreakRegex,`
`),Re()));const i=t.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>"),CF(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}E(_F,"addHtmlLabel");var FEe=E(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),tn(Re().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),se.info("vertexText"+i);const a={isNode:n,label:Jo(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await _F(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),mh=FEe,ec=E((t,e,r,n,i)=>["M",t+i,e,"H",t+r-i,"A",i,i,0,0,1,t+r,e+i,"V",e+n-i,"A",i,i,0,0,1,t+r-i,e+n,"H",t+i,"A",i,i,0,0,1,t,e+n-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),$Ee=E(t=>{const{handDrawnSeed:e}=Re();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),gf=E(t=>{const e=zEe([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),zEe=E(t=>{const e=new Map;return t.forEach(r=>{const[n,i]=r.split(":");e.set(n.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),AF=E(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Kt=E(t=>{const{stylesArray:e}=gf(t),r=[],n=[],i=[],a=[];return e.forEach(s=>{const o=s[0];AF(o)?r.push(s.join(":")+" !important"):(n.push(s.join(":")+" !important"),o.includes("stroke")&&i.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:a}},"styles2String"),Vt=E((t,e)=>{var l;const{themeVariables:r,handDrawnSeed:n}=Re(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:s}=gf(t);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:n,strokeWidth:((l=s.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),LF=E(async(t,e)=>{se.info("Creating subgraph rect for ",e.id,e);const r=Re(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:h}=Kt(e),d=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),f=tn(r.flowchart.htmlLabels),p=d.insert("g").attr("class","cluster-label "),g=await Xa(p,e.label,{style:e.labelStyle,useHtmlLabels:f,isNode:!0});let m=g.getBBox();if(tn(r.flowchart.htmlLabels)){const k=g.children[0],L=mt(g);m=k.getBoundingClientRect(),L.attr("width",m.width),L.attr("height",m.height)}const y=e.width<=m.width+e.padding?m.width+e.padding:e.width;e.width<=m.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const v=e.height,b=e.x-y/2,x=e.y-v/2;se.trace("Data ",e,JSON.stringify(e));let T;if(e.look==="handDrawn"){const k=Gt.svg(d),L=Vt(e,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),_=k.path(ec(b,x,y,v,0),L);T=d.insert(()=>(se.debug("Rough node insert CXC",_),_),":first-child"),T.select("path:nth-child(2)").attr("style",u.join(";")),T.select("path").attr("style",h.join(";").replace("fill","stroke"))}else T=d.insert("rect",":first-child"),T.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",b).attr("y",x).attr("width",y).attr("height",v);const{subGraphTitleTopMargin:w}=gg(r);if(p.attr("transform",`translate(${e.x-m.width/2}, ${e.y-e.height/2+w})`),o){const k=p.select("span");k&&k.attr("style",o)}const S=T.node().getBBox();return e.offsetX=0,e.width=S.width,e.height=S.height,e.offsetY=m.height-e.padding/2,e.intersect=function(k){return pf(e,k)},{cluster:d,labelBBox:m}},"rect"),UEe=E((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return pf(e,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),HEe=E(async(t,e)=>{const r=Re(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:l}=n,u=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),h=u.insert("g",":first-child"),d=u.insert("g").attr("class","cluster-label");let f=u.append("rect");const p=d.node().appendChild(await mh(e.label,e.labelStyle,void 0,!0));let g=p.getBBox();if(tn(r.flowchart.htmlLabels)){const _=p.children[0],N=mt(p);g=_.getBoundingClientRect(),N.attr("width",g.width),N.attr("height",g.height)}const m=0*e.padding,y=m/2,v=(e.width<=g.width+e.padding?g.width+e.padding:e.width)+m;e.width<=g.width+e.padding?e.diff=(v-e.width)/2-e.padding:e.diff=-e.padding;const b=e.height+m,x=e.height+m-g.height-6,T=e.x-v/2,w=e.y-b/2;e.width=v;const S=e.y-e.height/2-y+g.height+2;let k;if(e.look==="handDrawn"){const _=e.cssClasses.includes("statediagram-cluster-alt"),N=Gt.svg(u),C=e.rx||e.ry?N.path(ec(T,w,v,b,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):N.rectangle(T,w,v,b,{seed:i});k=u.insert(()=>C,":first-child");const D=N.rectangle(T,S,v,x,{fill:_?a:s,fillStyle:_?"hachure":"solid",stroke:l,seed:i});k=u.insert(()=>C,":first-child"),f=u.insert(()=>D)}else k=h.insert("rect",":first-child"),k.attr("class","outer").attr("x",T).attr("y",w).attr("width",v).attr("height",b).attr("data-look",e.look),f.attr("class","inner").attr("x",T).attr("y",S).attr("width",v).attr("height",x);d.attr("transform",`translate(${e.x-g.width/2}, ${w+1-(tn(r.flowchart.htmlLabels)?0:3)})`);const L=k.node().getBBox();return e.height=L.height,e.offsetX=0,e.offsetY=g.height-e.padding/2,e.labelBBox=g,e.intersect=function(_){return pf(e,_)},{cluster:u,labelBBox:g}},"roundedWithTitle"),GEe=E(async(t,e)=>{se.info("Creating subgraph rect for ",e.id,e);const r=Re(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:h}=Kt(e),d=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),f=tn(r.flowchart.htmlLabels),p=d.insert("g").attr("class","cluster-label "),g=await Xa(p,e.label,{style:e.labelStyle,useHtmlLabels:f,isNode:!0,width:e.width});let m=g.getBBox();if(tn(r.flowchart.htmlLabels)){const k=g.children[0],L=mt(g);m=k.getBoundingClientRect(),L.attr("width",m.width),L.attr("height",m.height)}const y=e.width<=m.width+e.padding?m.width+e.padding:e.width;e.width<=m.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const v=e.height,b=e.x-y/2,x=e.y-v/2;se.trace("Data ",e,JSON.stringify(e));let T;if(e.look==="handDrawn"){const k=Gt.svg(d),L=Vt(e,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:i}),_=k.path(ec(b,x,y,v,e.rx),L);T=d.insert(()=>(se.debug("Rough node insert CXC",_),_),":first-child"),T.select("path:nth-child(2)").attr("style",u.join(";")),T.select("path").attr("style",h.join(";").replace("fill","stroke"))}else T=d.insert("rect",":first-child"),T.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",b).attr("y",x).attr("width",y).attr("height",v);const{subGraphTitleTopMargin:w}=gg(r);if(p.attr("transform",`translate(${e.x-m.width/2}, ${e.y-e.height/2+w})`),o){const k=p.select("span");k&&k.attr("style",o)}const S=T.node().getBBox();return e.offsetX=0,e.width=S.width,e.height=S.height,e.offsetY=m.height-e.padding/2,e.intersect=function(k){return pf(e,k)},{cluster:d,labelBBox:m}},"kanbanSection"),VEe=E((t,e)=>{const r=Re(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=s.insert("g",":first-child"),l=0*e.padding,u=e.width+l;e.diff=-e.padding;const h=e.height+l,d=e.x-u/2,f=e.y-h/2;e.width=u;let p;if(e.look==="handDrawn"){const y=Gt.svg(s).rectangle(d,f,u,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});p=s.insert(()=>y,":first-child")}else p=o.insert("rect",":first-child"),p.attr("class","divider").attr("x",d).attr("y",f).attr("width",u).attr("height",h).attr("data-look",e.look);const g=p.node().getBBox();return e.height=g.height,e.offsetX=0,e.offsetY=0,e.intersect=function(m){return pf(e,m)},{cluster:s,labelBBox:{}}},"divider"),qEe=LF,WEe={rect:LF,squareRect:qEe,roundedWithTitle:HEe,noteGroup:UEe,divider:VEe,kanbanSection:GEe},NF=new Map,A6=E(async(t,e)=>{const r=e.shape||"rect",n=await WEe[r](t,e);return NF.set(e.id,n),n},"insertCluster"),YEe=E(()=>{NF=new Map},"clear");function RF(t,e){return t.intersect(e)}E(RF,"intersectNode");var XEe=RF;function IF(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/l);n.x<i&&(u=-u);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+u,y:a+h}}E(IF,"intersectEllipse");var DF=IF;function OF(t,e,r){return DF(t,e,e,r)}E(OF,"intersectCircle");var KEe=OF;function MF(t,e,r,n){var i,a,s,o,l,u,h,d,f,p,g,m,y,v,b;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*r.x+s*r.y+l,p=i*n.x+s*n.y+l,!(f!==0&&p!==0&&L6(f,p))&&(a=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+u,d=a*e.x+o*e.y+u,!(h!==0&&d!==0&&L6(h,d))&&(g=i*o-a*s,g!==0)))return m=Math.abs(g/2),y=s*u-o*l,v=y<0?(y-m)/g:(y+m)/g,y=a*l-i*u,b=y<0?(y-m)/g:(y+m)/g,{x:v,y:b}}E(MF,"intersectLine");function L6(t,e){return t*e>0}E(L6,"sameSign");var jEe=MF;function PF(t,e,r){let n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(h){s=Math.min(s,h.x),o=Math.min(o,h.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));let l=n-t.width/2-s,u=i-t.height/2-o;for(let h=0;h<e.length;h++){let d=e[h],f=e[h<e.length-1?h+1:0],p=jEe(t,r,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(h,d){let f=h.x-r.x,p=h.y-r.y,g=Math.sqrt(f*f+p*p),m=d.x-r.x,y=d.y-r.y,v=Math.sqrt(m*m+y*y);return g<v?-1:g===v?0:1}),a[0]):t}E(PF,"intersectPolygon");var QEe=PF,Ht={node:XEe,circle:KEe,ellipse:DF,polygon:QEe,rect:pf};function BF(t,e){const{labelStyles:r}=Kt(e);e.labelStyle=r;const n=or(e);let i=n;n||(i="anchor");const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=1,{cssStyles:o}=e,l=Gt.svg(a),u=Vt(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const h=l.circle(0,0,s*2,u),d=a.insert(()=>h,":first-child");return d.attr("class","anchor").attr("style",Aa(o)),Xt(e,d),e.intersect=function(f){return se.info("Circle intersect",e,s,f),Ht.circle(e,s,f)},a}E(BF,"anchor");function N6(t,e,r,n,i,a,s){const l=(t+r)/2,u=(e+n)/2,h=Math.atan2(n-e,r-t),d=(r-t)/2,f=(n-e)/2,p=d/i,g=f/a,m=Math.sqrt(p**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-m**2),v=l+y*a*Math.sin(h)*(s?-1:1),b=u-y*i*Math.cos(h)*(s?-1:1),x=Math.atan2((e-b)/a,(t-v)/i);let w=Math.atan2((n-b)/a,(r-v)/i)-x;s&&w<0&&(w+=2*Math.PI),!s&&w>0&&(w-=2*Math.PI);const S=[];for(let k=0;k<20;k++){const L=k/19,_=x+L*w,N=v+i*Math.cos(_),C=b+a*Math.sin(_);S.push({x:N,y:C})}return S}E(N6,"generateArcPoints");async function FF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=a.width+e.padding+20,o=a.height+e.padding,l=o/2,u=l/(2.5+o/50),{cssStyles:h}=e,d=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...N6(-s/2,-o/2,-s/2,o/2,u,l,!1),{x:s/2,y:o/2},...N6(s/2,o/2,s/2,-o/2,u,l,!0)],f=Gt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=Ir(d),m=f.path(g,p),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(${u/2}, 0)`),Xt(e,y),e.intersect=function(v){return Ht.polygon(e,d,v)},i}E(FF,"bowTieRect");function tc(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}E(tc,"insertPolygonShape");async function $F(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=a.height+e.padding,o=12,l=a.width+e.padding+o,u=0,h=l,d=-s,f=0,p=[{x:u+o,y:d},{x:h,y:d},{x:h,y:f},{x:u,y:f},{x:u,y:d+o},{x:u+o,y:d}];let g;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=Gt.svg(i),v=Vt(e,{}),b=Ir(p),x=y.path(b,v);g=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2}, ${s/2})`),m&&g.attr("style",m)}else g=tc(i,l,s,p);return n&&g.attr("style",n),Xt(e,g),e.intersect=function(y){return Ht.polygon(e,p,y)},i}E($F,"card");function zF(t,e){const{nodeStyles:r}=Kt(e);e.label="";const n=t.insert("g").attr("class",or(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,a=Math.max(28,e.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=Gt.svg(n),l=Vt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=Ir(s),h=o.path(u,l),d=n.insert(()=>h,":first-child");return i&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(f){return Ht.polygon(e,s,f)},n}E(zF,"choice");async function UF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await hr(t,e,or(e)),o=a.width/2+s;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=Gt.svg(i),d=Vt(e,{}),f=h.circle(0,0,o*2,d);l=i.insert(()=>f,":first-child"),l.attr("class","basic label-container").attr("style",Aa(u))}else l=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",o).attr("cx",0).attr("cy",0);return Xt(e,l),e.intersect=function(h){return se.info("Circle intersect",e,o,h),Ht.circle(e,o,h)},i}E(UF,"circle");function HF(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=t*2,i={x:n/2*e,y:n/2*r},a={x:-(n/2)*e,y:n/2*r},s={x:-(n/2)*e,y:-(n/2)*r},o={x:n/2*e,y:-(n/2)*r};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}E(HF,"createLine");function GF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r,e.label="";const i=t.insert("g").attr("class",or(e)).attr("id",e.domId??e.id),a=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:s}=e,o=Gt.svg(i),l=Vt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=o.circle(0,0,a*2,l),h=HF(a),d=o.path(h,l),f=i.insert(()=>u,":first-child");return f.insert(()=>d),s&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",s),n&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",n),Xt(e,f),e.intersect=function(p){return se.info("crossedCircle intersect",e,{radius:a,point:p}),Ht.circle(e,a,p)},i}E(GF,"crossedCircle");function rc(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const f=o+d*h,p=t+r*Math.cos(f),g=e+r*Math.sin(f);s.push({x:-p,y:-g})}return s}E(rc,"generateCirclePoints");async function VF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,d=[...rc(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...rc(o/2+u*2,-u,u,20,-180,-270),...rc(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...rc(o/2,l/2,u,20,0,90)],f=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...rc(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...rc(o/2+o*.1,-u,u,20,-180,-270),...rc(o/2+o*.1,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...rc(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2,y:l/2+u}],p=Gt.svg(i),g=Vt(e,{fill:"none"});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Ir(d).replace("Z",""),v=p.path(y,g),b=Ir(f),x=p.path(b,{...g}),T=i.insert("g",":first-child");return T.insert(()=>x,":first-child").attr("stroke-opacity",0),T.insert(()=>v,":first-child"),T.attr("class","text"),h&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(${u}, 0)`),s.attr("transform",`translate(${-o/2+u-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Xt(e,T),e.intersect=function(w){return Ht.polygon(e,f,w)},i}E(VF,"curlyBraceLeft");function nc(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const f=o+d*h,p=t+r*Math.cos(f),g=e+r*Math.sin(f);s.push({x:p,y:g})}return s}E(nc,"generateCirclePoints");async function qF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,d=[...nc(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...nc(o/2+u*2,-u,u,20,-180,-270),...nc(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...nc(o/2,l/2,u,20,0,90)],f=[{x:-o/2,y:-l/2-u},{x:o/2,y:-l/2-u},...nc(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...nc(o/2+u*2,-u,u,20,-180,-270),...nc(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...nc(o/2,l/2,u,20,0,90),{x:o/2,y:l/2+u},{x:-o/2,y:l/2+u}],p=Gt.svg(i),g=Vt(e,{fill:"none"});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Ir(d).replace("Z",""),v=p.path(y,g),b=Ir(f),x=p.path(b,{...g}),T=i.insert("g",":first-child");return T.insert(()=>x,":first-child").attr("stroke-opacity",0),T.insert(()=>v,":first-child"),T.attr("class","text"),h&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(${-u}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Xt(e,T),e.intersect=function(w){return Ht.polygon(e,f,w)},i}E(qF,"curlyBraceRight");function $i(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const f=o+d*h,p=t+r*Math.cos(f),g=e+r*Math.sin(f);s.push({x:-p,y:-g})}return s}E($i,"generateCirclePoints");async function WF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,d=[...$i(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...$i(o/2+u*2,-u,u,20,-180,-270),...$i(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...$i(o/2,l/2,u,20,0,90)],f=[...$i(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...$i(-o/2-u/2,-u,u,20,0,90),...$i(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...$i(-o/2+u+u/2,l/2,u,30,-180,-270)],p=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...$i(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...$i(o/2+u*2,-u,u,20,-180,-270),...$i(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...$i(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2-u-u/2,y:l/2+u},...$i(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...$i(-o/2-u/2,-u,u,20,0,90),...$i(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...$i(-o/2+u+u/2,l/2,u,30,-180,-270)],g=Gt.svg(i),m=Vt(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=Ir(d).replace("Z",""),b=g.path(v,m),T=Ir(f).replace("Z",""),w=g.path(T,m),S=Ir(p),k=g.path(S,{...m}),L=i.insert("g",":first-child");return L.insert(()=>k,":first-child").attr("stroke-opacity",0),L.insert(()=>b,":first-child"),L.insert(()=>w,":first-child"),L.attr("class","text"),h&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",n),L.attr("transform",`translate(${u-u/4}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Xt(e,L),e.intersect=function(_){return Ht.polygon(e,p,_)},i}E(WF,"curlyBraces");async function YF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=80,o=20,l=Math.max(s,(a.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=u/2,{cssStyles:d}=e,f=Gt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=l,m=u,y=g-h,v=m/4,b=[{x:y,y:0},{x:v,y:0},{x:0,y:m/2},{x:v,y:m},{x:y,y:m},..._6(-y,-m/2,h,50,270,90)],x=Ir(b),T=f.path(x,p),w=i.insert(()=>T,":first-child");return w.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),w.attr("transform",`translate(${-l/2}, ${-u/2})`),Xt(e,w),e.intersect=function(S){return Ht.polygon(e,b,S)},i}E(YF,"curvedTrapezoid");var ZEe=E((t,e,r,n,i,a)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),JEe=E((t,e,r,n,i,a)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),e4e=E((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function XF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+e.padding,e.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(a.height+u+e.padding,e.height??0);let d;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=Gt.svg(i),g=JEe(0,0,o,h,l,u),m=e4e(0,u,o,h,l,u),y=p.path(g,Vt(e,{})),v=p.path(m,Vt(e,{fill:"none"}));d=i.insert(()=>v,":first-child"),d=i.insert(()=>y,":first-child"),d.attr("class","basic label-container"),f&&d.attr("style",f)}else{const p=ZEe(0,0,o,h,l,u);d=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Aa(f)).attr("style",n)}return d.attr("label-offset-y",u),d.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),Xt(e,d),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(p){const g=Ht.rect(e,p),m=g.x-(e.x??0);if(l!=0&&(Math.abs(m)<(e.width??0)/2||Math.abs(m)==(e.width??0)/2&&Math.abs(g.y-(e.y??0))>(e.height??0)/2-u)){let y=u*u*(1-m*m/(l*l));y>0&&(y=Math.sqrt(y)),y=u-y,p.y-(e.y??0)>0&&(y=-y),g.y+=y}return g},i}E(XF,"cylinder");async function KF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=a.width+e.padding,l=a.height+e.padding,u=l*.2,h=-o/2,d=-l/2-u/2,{cssStyles:f}=e,p=Gt.svg(i),g=Vt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:d+u},{x:-h,y:d+u},{x:-h,y:-d},{x:h,y:-d},{x:h,y:d},{x:-h,y:d},{x:-h,y:d+u}],y=p.polygon(m.map(b=>[b.x,b.y]),g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${h+(e.padding??0)/2-(a.x-(a.left??0))}, ${d+u+(e.padding??0)/2-(a.y-(a.top??0))})`),Xt(e,v),e.intersect=function(b){return Ht.rect(e,b)},i}E(KF,"dividedRectangle");async function jF(t,e){var f,p;const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await hr(t,e,or(e)),l=a.width/2+s+5,u=a.width/2+s;let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const g=Gt.svg(i),m=Vt(e,{roughness:.2,strokeWidth:2.5}),y=Vt(e,{roughness:.2,strokeWidth:1.5}),v=g.circle(0,0,l*2,m),b=g.circle(0,0,u*2,y);h=i.insert("g",":first-child"),h.attr("class",Aa(e.cssClasses)).attr("style",Aa(d)),(f=h.node())==null||f.appendChild(v),(p=h.node())==null||p.appendChild(b)}else{h=i.insert("g",":first-child");const g=h.insert("circle",":first-child"),m=h.insert("circle");h.attr("class","basic label-container").attr("style",n),g.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return Xt(e,h),e.intersect=function(g){return se.info("DoubleCircle intersect",e,l,g),Ht.circle(e,l,g)},i}E(jF,"doublecircle");function QF(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Kt(e);e.label="",e.labelStyle=n;const a=t.insert("g").attr("class",or(e)).attr("id",e.domId??e.id),s=7,{cssStyles:o}=e,l=Gt.svg(a),{nodeBorder:u}=r,h=Vt(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const d=l.circle(0,0,s*2,h),f=a.insert(()=>d,":first-child");return f.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",i),Xt(e,f),e.intersect=function(p){return se.info("filledCircle intersect",e,{radius:s,point:p}),Ht.circle(e,s,p)},a}E(QF,"filledCircle");async function ZF(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=a.width+(e.padding??0),l=o+a.height,u=o+a.height,h=[{x:0,y:-l},{x:u,y:-l},{x:u/2,y:0}],{cssStyles:d}=e,f=Gt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=Ir(h),m=f.path(g,p),y=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return d&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),e.width=o,e.height=l,Xt(e,y),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-l/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(v){return se.info("Triangle intersect",e,h,v),Ht.polygon(e,h,v)},i}E(ZF,"flippedTriangle");function JF(t,e,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:a}=Kt(e);e.label="";const s=t.insert("g").attr("class",or(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),u=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),u=Math.max(70,(e==null?void 0:e.height)??0));const h=-1*l/2,d=-1*u/2,f=Gt.svg(s),p=Vt(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=f.rectangle(h,d,l,u,p),m=s.insert(()=>g,":first-child");o&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",o),a&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",a),Xt(e,m);const y=(n==null?void 0:n.padding)??0;return e.width&&e.height&&(e.width+=y/2||0,e.height+=y/2||0),e.intersect=function(v){return Ht.rect(e,v)},s}E(JF,"forkJoin");async function e$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const i=80,a=50,{shapeSvg:s,bbox:o}=await hr(t,e,or(e)),l=Math.max(i,o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a,o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=u/2,{cssStyles:d}=e,f=Gt.svg(s),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-l/2,y:-u/2},{x:l/2-h,y:-u/2},..._6(-l/2+h,0,h,50,90,270),{x:l/2-h,y:u/2},{x:-l/2,y:u/2}],m=Ir(g),y=f.path(m,p),v=s.insert(()=>y,":first-child");return v.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),Xt(e,v),e.intersect=function(b){return se.info("Pill intersect",e,{radius:h,point:b}),Ht.polygon(e,g,b)},s}E(e$,"halfRoundedRectangle");var t4e=E((t,e,r,n,i)=>[`M${t+i},${e}`,`L${t+r-i},${e}`,`L${t+r},${e-n/2}`,`L${t+r-i},${e-n}`,`L${t+i},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createHexagonPathD");async function t$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=4,o=a.height+e.padding,l=o/s,u=a.width+2*l+e.padding,h=[{x:l,y:0},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}];let d;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=Gt.svg(i),g=Vt(e,{}),m=t4e(0,0,u,o,l),y=p.path(m,g);d=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${o/2})`),f&&d.attr("style",f)}else d=tc(i,u,o,h);return n&&d.attr("style",n),e.width=u,e.height=o,Xt(e,d),e.intersect=function(p){return Ht.polygon(e,h,p)},i}E(t$,"hexagon");async function r$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.label="",e.labelStyle=r;const{shapeSvg:i}=await hr(t,e,or(e)),a=Math.max(30,(e==null?void 0:e.width)??0),s=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:o}=e,l=Gt.svg(i),u=Vt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],d=Ir(h),f=l.path(d,u),p=i.insert(()=>f,":first-child");return p.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",o),n&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-a/2}, ${-s/2})`),Xt(e,p),e.intersect=function(g){return se.info("Pill intersect",e,{points:h}),Ht.polygon(e,h,g)},i}E(r$,"hourglass");async function n$(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Kt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:d}=await hr(t,e,"icon-shape default"),f=e.pos==="t",p=o,g=o,{nodeBorder:m}=r,{stylesMap:y}=gf(e),v=-g/2,b=-p/2,x=e.label?8:0,T=Gt.svg(u),w=Vt(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const S=T.rectangle(v,b,g,p,w),k=Math.max(g,h.width),L=p+h.height+x,_=T.rectangle(-k/2,-L/2,k,L,{...w,fill:"transparent",stroke:"none"}),N=u.insert(()=>S,":first-child"),C=u.insert(()=>_);if(e.icon){const D=u.append("g");D.html(`<g>${await Kc(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const P=D.node().getBBox(),A=P.width,R=P.height,O=P.x,M=P.y;D.attr("transform",`translate(${-A/2-O},${f?h.height/2+x/2-R/2-M:-h.height/2-x/2-R/2-M})`),D.attr("style",`color: ${y.get("stroke")??m};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-L/2:L/2-h.height})`),N.attr("transform",`translate(0,${f?h.height/2+x/2:-h.height/2-x/2})`),Xt(e,C),e.intersect=function(D){if(se.info("iconSquare intersect",e,D),!e.label)return Ht.rect(e,D);const P=e.x??0,A=e.y??0,R=e.height??0;let O=[];return f?O=[{x:P-h.width/2,y:A-R/2},{x:P+h.width/2,y:A-R/2},{x:P+h.width/2,y:A-R/2+h.height+x},{x:P+g/2,y:A-R/2+h.height+x},{x:P+g/2,y:A+R/2},{x:P-g/2,y:A+R/2},{x:P-g/2,y:A-R/2+h.height+x},{x:P-h.width/2,y:A-R/2+h.height+x}]:O=[{x:P-g/2,y:A-R/2},{x:P+g/2,y:A-R/2},{x:P+g/2,y:A-R/2+p},{x:P+h.width/2,y:A-R/2+p},{x:P+h.width/2/2,y:A+R/2},{x:P-h.width/2,y:A+R/2},{x:P-h.width/2,y:A-R/2+p},{x:P-g/2,y:A-R/2+p}],Ht.polygon(e,O,D)},u}E(n$,"icon");async function i$(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Kt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:d}=await hr(t,e,"icon-shape default"),f=20,p=e.label?8:0,g=e.pos==="t",{nodeBorder:m,mainBkg:y}=r,{stylesMap:v}=gf(e),b=Gt.svg(u),x=Vt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const T=v.get("fill");x.stroke=T??y;const w=u.append("g");e.icon&&w.html(`<g>${await Kc(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const S=w.node().getBBox(),k=S.width,L=S.height,_=S.x,N=S.y,C=Math.max(k,L)*Math.SQRT2+f*2,D=b.circle(0,0,C,x),P=Math.max(C,h.width),A=C+h.height+p,R=b.rectangle(-P/2,-A/2,P,A,{...x,fill:"transparent",stroke:"none"}),O=u.insert(()=>D,":first-child"),M=u.insert(()=>R);return w.attr("transform",`translate(${-k/2-_},${g?h.height/2+p/2-L/2-N:-h.height/2-p/2-L/2-N})`),w.attr("style",`color: ${v.get("stroke")??m};`),d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${g?-A/2:A/2-h.height})`),O.attr("transform",`translate(0,${g?h.height/2+p/2:-h.height/2-p/2})`),Xt(e,M),e.intersect=function(I){return se.info("iconSquare intersect",e,I),Ht.rect(e,I)},u}E(i$,"iconCircle");async function a$(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Kt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:d,label:f}=await hr(t,e,"icon-shape default"),p=e.pos==="t",g=o+d*2,m=o+d*2,{nodeBorder:y,mainBkg:v}=r,{stylesMap:b}=gf(e),x=-m/2,T=-g/2,w=e.label?8:0,S=Gt.svg(u),k=Vt(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const L=b.get("fill");k.stroke=L??v;const _=S.path(ec(x,T,m,g,5),k),N=Math.max(m,h.width),C=g+h.height+w,D=S.rectangle(-N/2,-C/2,N,C,{...k,fill:"transparent",stroke:"none"}),P=u.insert(()=>_,":first-child").attr("class","icon-shape2"),A=u.insert(()=>D);if(e.icon){const R=u.append("g");R.html(`<g>${await Kc(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const O=R.node().getBBox(),M=O.width,I=O.height,F=O.x,B=O.y;R.attr("transform",`translate(${-M/2-F},${p?h.height/2+w/2-I/2-B:-h.height/2-w/2-I/2-B})`),R.attr("style",`color: ${b.get("stroke")??y};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-C/2:C/2-h.height})`),P.attr("transform",`translate(0,${p?h.height/2+w/2:-h.height/2-w/2})`),Xt(e,A),e.intersect=function(R){if(se.info("iconSquare intersect",e,R),!e.label)return Ht.rect(e,R);const O=e.x??0,M=e.y??0,I=e.height??0;let F=[];return p?F=[{x:O-h.width/2,y:M-I/2},{x:O+h.width/2,y:M-I/2},{x:O+h.width/2,y:M-I/2+h.height+w},{x:O+m/2,y:M-I/2+h.height+w},{x:O+m/2,y:M+I/2},{x:O-m/2,y:M+I/2},{x:O-m/2,y:M-I/2+h.height+w},{x:O-h.width/2,y:M-I/2+h.height+w}]:F=[{x:O-m/2,y:M-I/2},{x:O+m/2,y:M-I/2},{x:O+m/2,y:M-I/2+g},{x:O+h.width/2,y:M-I/2+g},{x:O+h.width/2/2,y:M+I/2},{x:O-h.width/2,y:M+I/2},{x:O-h.width/2,y:M-I/2+g},{x:O-m/2,y:M-I/2+g}],Ht.polygon(e,F,R)},u}E(a$,"iconRounded");async function s$(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Kt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:d,label:f}=await hr(t,e,"icon-shape default"),p=e.pos==="t",g=o+d*2,m=o+d*2,{nodeBorder:y,mainBkg:v}=r,{stylesMap:b}=gf(e),x=-m/2,T=-g/2,w=e.label?8:0,S=Gt.svg(u),k=Vt(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const L=b.get("fill");k.stroke=L??v;const _=S.path(ec(x,T,m,g,.1),k),N=Math.max(m,h.width),C=g+h.height+w,D=S.rectangle(-N/2,-C/2,N,C,{...k,fill:"transparent",stroke:"none"}),P=u.insert(()=>_,":first-child"),A=u.insert(()=>D);if(e.icon){const R=u.append("g");R.html(`<g>${await Kc(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const O=R.node().getBBox(),M=O.width,I=O.height,F=O.x,B=O.y;R.attr("transform",`translate(${-M/2-F},${p?h.height/2+w/2-I/2-B:-h.height/2-w/2-I/2-B})`),R.attr("style",`color: ${b.get("stroke")??y};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-C/2:C/2-h.height})`),P.attr("transform",`translate(0,${p?h.height/2+w/2:-h.height/2-w/2})`),Xt(e,A),e.intersect=function(R){if(se.info("iconSquare intersect",e,R),!e.label)return Ht.rect(e,R);const O=e.x??0,M=e.y??0,I=e.height??0;let F=[];return p?F=[{x:O-h.width/2,y:M-I/2},{x:O+h.width/2,y:M-I/2},{x:O+h.width/2,y:M-I/2+h.height+w},{x:O+m/2,y:M-I/2+h.height+w},{x:O+m/2,y:M+I/2},{x:O-m/2,y:M+I/2},{x:O-m/2,y:M-I/2+h.height+w},{x:O-h.width/2,y:M-I/2+h.height+w}]:F=[{x:O-m/2,y:M-I/2},{x:O+m/2,y:M-I/2},{x:O+m/2,y:M-I/2+g},{x:O+h.width/2,y:M-I/2+g},{x:O+h.width/2/2,y:M+I/2},{x:O-h.width/2,y:M+I/2},{x:O-h.width/2,y:M-I/2+g},{x:O-m/2,y:M-I/2+g}],Ht.polygon(e,F,R)},u}E(s$,"iconSquare");async function o$(t,e,{config:{flowchart:r}}){const n=new Image;n.src=(e==null?void 0:e.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/a;const{labelStyles:s}=Kt(e);e.labelStyle=s;const o=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(e.label?o??0:0,(e==null?void 0:e.assetWidth)??i),u=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:l,h=e.constraint==="on"?u/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??a;e.width=Math.max(u,o??0);const{shapeSvg:d,bbox:f,label:p}=await hr(t,e,"image-shape default"),g=e.pos==="t",m=-u/2,y=-h/2,v=e.label?8:0,b=Gt.svg(d),x=Vt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const T=b.rectangle(m,y,u,h,x),w=Math.max(u,f.width),S=h+f.height+v,k=b.rectangle(-w/2,-S/2,w,S,{...x,fill:"none",stroke:"none"}),L=d.insert(()=>T,":first-child"),_=d.insert(()=>k);if(e.img){const N=d.append("image");N.attr("href",e.img),N.attr("width",u),N.attr("height",h),N.attr("preserveAspectRatio","none"),N.attr("transform",`translate(${-u/2},${g?S/2-h:-S/2})`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${g?-h/2-f.height/2-v/2:h/2-f.height/2+v/2})`),L.attr("transform",`translate(0,${g?f.height/2+v/2:-f.height/2-v/2})`),Xt(e,_),e.intersect=function(N){if(se.info("iconSquare intersect",e,N),!e.label)return Ht.rect(e,N);const C=e.x??0,D=e.y??0,P=e.height??0;let A=[];return g?A=[{x:C-f.width/2,y:D-P/2},{x:C+f.width/2,y:D-P/2},{x:C+f.width/2,y:D-P/2+f.height+v},{x:C+u/2,y:D-P/2+f.height+v},{x:C+u/2,y:D+P/2},{x:C-u/2,y:D+P/2},{x:C-u/2,y:D-P/2+f.height+v},{x:C-f.width/2,y:D-P/2+f.height+v}]:A=[{x:C-u/2,y:D-P/2},{x:C+u/2,y:D-P/2},{x:C+u/2,y:D-P/2+h},{x:C+f.width/2,y:D-P/2+h},{x:C+f.width/2/2,y:D+P/2},{x:C-f.width/2,y:D+P/2},{x:C-f.width/2,y:D-P/2+h},{x:C-u/2,y:D-P/2+h}],Ht.polygon(e,A,N)},d}E(o$,"imageSquare");async function l$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=Gt.svg(i),f=Vt(e,{}),p=Ir(l),g=d.path(p,f);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=tc(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,Xt(e,u),e.intersect=function(d){return Ht.polygon(e,l,d)},i}E(l$,"inv_trapezoid");async function t1(t,e,r){const{labelStyles:n,nodeStyles:i}=Kt(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await hr(t,e,or(e)),o=Math.max(s.width+r.labelPaddingX*2,(e==null?void 0:e.width)||0),l=Math.max(s.height+r.labelPaddingY*2,(e==null?void 0:e.height)||0),u=-o/2,h=-l/2;let d,{rx:f,ry:p}=e;const{cssStyles:g}=e;if(r!=null&&r.rx&&r.ry&&(f=r.rx,p=r.ry),e.look==="handDrawn"){const m=Gt.svg(a),y=Vt(e,{}),v=f||p?m.path(ec(u,h,o,l,f||0),y):m.rectangle(u,h,o,l,y);d=a.insert(()=>v,":first-child"),d.attr("class","basic label-container").attr("style",Aa(g))}else d=a.insert("rect",":first-child"),d.attr("class","basic label-container").attr("style",i).attr("rx",Aa(f)).attr("ry",Aa(p)).attr("x",u).attr("y",h).attr("width",o).attr("height",l);return Xt(e,d),e.intersect=function(m){return Ht.rect(e,m)},a}E(t1,"drawRect");async function c$(t,e){const{shapeSvg:r,bbox:n,label:i}=await hr(t,e,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Xt(e,a),e.intersect=function(l){return Ht.rect(e,l)},r}E(c$,"labelRect");async function u$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=Gt.svg(i),f=Vt(e,{}),p=Ir(l),g=d.path(p,f);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=tc(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,Xt(e,u),e.intersect=function(d){return Ht.polygon(e,l,d)},i}E(u$,"lean_left");async function h$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=Gt.svg(i),f=Vt(e,{}),p=Ir(l),g=d.path(p,f);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=tc(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,Xt(e,u),e.intersect=function(d){return Ht.polygon(e,l,d)},i}E(h$,"lean_right");function d$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.label="",e.labelStyle=r;const i=t.insert("g").attr("class",or(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=Math.max(35,(e==null?void 0:e.width)??0),o=Math.max(35,(e==null?void 0:e.height)??0),l=7,u=[{x:s,y:0},{x:0,y:o+l/2},{x:s-2*l,y:o+l/2},{x:0,y:2*o},{x:s,y:o-l/2},{x:2*l,y:o-l/2}],h=Gt.svg(i),d=Vt(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=Ir(u),p=h.path(f,d),g=i.insert(()=>p,":first-child");return a&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",n),g.attr("transform",`translate(-${s/2},${-o})`),Xt(e,g),e.intersect=function(m){return se.info("lightningBolt intersect",e,m),Ht.polygon(e,u,m)},i}E(d$,"lightningBolt");var r4e=E((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),n4e=E((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),i4e=E((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function f$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0),e.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(a.height+u+(e.padding??0),e.height??0),d=h*.1;let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const g=Gt.svg(i),m=n4e(0,0,o,h,l,u,d),y=i4e(0,u,o,h,l,u),v=Vt(e,{}),b=g.path(m,v),x=g.path(y,v);i.insert(()=>x,":first-child").attr("class","line"),f=i.insert(()=>b,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const g=r4e(0,0,o,h,l,u,d);f=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",Aa(p)).attr("style",n)}return f.attr("label-offset-y",u),f.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),Xt(e,f),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),e.intersect=function(g){const m=Ht.rect(e,g),y=m.x-(e.x??0);if(l!=0&&(Math.abs(y)<(e.width??0)/2||Math.abs(y)==(e.width??0)/2&&Math.abs(m.y-(e.y??0))>(e.height??0)/2-u)){let v=u*u*(1-y*y/(l*l));v>0&&(v=Math.sqrt(v)),v=u-v,g.y-(e.y??0)>0&&(v=-v),m.y+=v}return m},i}E(f$,"linedCylinder");async function p$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=l+u,{cssStyles:d}=e,f=Gt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...Qc(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,u,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],m=f.polygon(g.map(v=>[v.x,v.y]),p),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),Xt(e,y),e.intersect=function(v){return Ht.polygon(e,g,v)},i}E(p$,"linedWaveEdgedRect");async function g$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,h=-o/2,d=-l/2,{cssStyles:f}=e,p=Gt.svg(i),g=Vt(e,{}),m=[{x:h-u,y:d+u},{x:h-u,y:d+l+u},{x:h+o-u,y:d+l+u},{x:h+o-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d+l-u},{x:h+o+u,y:d+l-u},{x:h+o+u,y:d-u},{x:h+u,y:d-u},{x:h+u,y:d},{x:h,y:d},{x:h,y:d+u}],y=[{x:h,y:d+u},{x:h+o-u,y:d+u},{x:h+o-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d},{x:h,y:d}];e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=Ir(m),b=p.path(v,g),x=Ir(y),T=p.path(x,{...g,fill:"none"}),w=i.insert(()=>T,":first-child");return w.insert(()=>b,":first-child"),w.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)-u-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),Xt(e,w),e.intersect=function(S){return Ht.polygon(e,m,S)},i}E(g$,"multiRect");async function m$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=l+u,d=-o/2,f=-h/2,p=5,{cssStyles:g}=e,m=Qc(d-p,f+h+p,d+o-p,f+h+p,u,.8),y=m==null?void 0:m[m.length-1],v=[{x:d-p,y:f+p},{x:d-p,y:f+h+p},...m,{x:d+o-p,y:y.y-p},{x:d+o,y:y.y-p},{x:d+o,y:y.y-2*p},{x:d+o+p,y:y.y-2*p},{x:d+o+p,y:f-p},{x:d+p,y:f-p},{x:d+p,y:f},{x:d,y:f},{x:d,y:f+p}],b=[{x:d,y:f+p},{x:d+o-p,y:f+p},{x:d+o-p,y:y.y-p},{x:d+o,y:y.y-p},{x:d+o,y:f},{x:d,y:f}],x=Gt.svg(i),T=Vt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const w=Ir(v),S=x.path(w,T),k=Ir(b),L=x.path(k,T),_=i.insert(()=>S,":first-child");return _.insert(()=>L),_.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",n),_.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)+p-u/2-(a.y-(a.top??0))})`),Xt(e,_),e.intersect=function(N){return Ht.polygon(e,v,N)},i}E(m$,"multiWaveEdgedRectangle");async function y$(t,e,{config:{themeVariables:r}}){var v;const{labelStyles:n,nodeStyles:i}=Kt(e);e.labelStyle=n,e.useHtmlLabels||((v=qr().flowchart)==null?void 0:v.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:s,bbox:o}=await hr(t,e,or(e)),l=Math.max(o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-l/2,d=-u/2,{cssStyles:f}=e,p=Gt.svg(s),g=Vt(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=p.rectangle(h,d,l,u,g),y=s.insert(()=>m,":first-child");return y.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",f),i&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",i),Xt(e,y),e.intersect=function(b){return Ht.rect(e,b)},s}E(y$,"note");var a4e=E((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function v$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=a.width+e.padding,o=a.height+e.padding,l=s+o,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const f=Gt.svg(i),p=Vt(e,{}),g=a4e(0,0,l),m=f.path(g,p);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`),d&&h.attr("style",d)}else h=tc(i,l,l,u);return n&&h.attr("style",n),Xt(e,h),e.intersect=function(f){return se.debug(`APA12 Intersect called SPLIT
point:`,f,`
node:
`,e,`
res:`,Ht.polygon(e,u,f)),Ht.polygon(e,u,f)},i}E(v$,"question");async function b$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,d=h/2,f=[{x:u+d,y:h},{x:u,y:0},{x:u+d,y:-h},{x:-u,y:-h},{x:-u,y:h}],{cssStyles:p}=e,g=Gt.svg(i),m=Vt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=Ir(f),v=g.path(y,m),b=i.insert(()=>v,":first-child");return b.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-d/2},0)`),s.attr("transform",`translate(${-d/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Xt(e,b),e.intersect=function(x){return Ht.polygon(e,f,x)},i}E(b$,"rect_left_inv_arrow");async function x$(t,e){var L,_;const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",n),l=e.description,u=e.label,h=o.node().appendChild(await mh(u,e.labelStyle,!0,!0));let d={width:0,height:0};if(tn((_=(L=Re())==null?void 0:L.flowchart)==null?void 0:_.htmlLabels)){const N=h.children[0],C=mt(h);d=N.getBoundingClientRect(),C.attr("width",d.width),C.attr("height",d.height)}se.info("Text 2",l);const f=l||[],p=h.getBBox(),g=o.node().appendChild(await mh(f.join?f.join("<br/>"):f,e.labelStyle,!0,!0)),m=g.children[0],y=mt(g);d=m.getBoundingClientRect(),y.attr("width",d.width),y.attr("height",d.height);const v=(e.padding||0)/2;mt(g).attr("transform","translate( "+(d.width>p.width?0:(p.width-d.width)/2)+", "+(p.height+v+5)+")"),mt(h).attr("transform","translate( "+(d.width<p.width?0:-(p.width-d.width)/2)+", 0)"),d=o.node().getBBox(),o.attr("transform","translate("+-d.width/2+", "+(-d.height/2-v+3)+")");const b=d.width+(e.padding||0),x=d.height+(e.padding||0),T=-d.width/2-v,w=-d.height/2-v;let S,k;if(e.look==="handDrawn"){const N=Gt.svg(a),C=Vt(e,{}),D=N.path(ec(T,w,b,x,e.rx||0),C),P=N.line(-d.width/2-v,-d.height/2-v+p.height+v,d.width/2+v,-d.height/2-v+p.height+v,C);k=a.insert(()=>(se.debug("Rough node insert CXC",D),P),":first-child"),S=a.insert(()=>(se.debug("Rough node insert CXC",D),D),":first-child")}else S=s.insert("rect",":first-child"),k=s.insert("line"),S.attr("class","outer title-state").attr("style",n).attr("x",-d.width/2-v).attr("y",-d.height/2-v).attr("width",d.width+(e.padding||0)).attr("height",d.height+(e.padding||0)),k.attr("class","divider").attr("x1",-d.width/2-v).attr("x2",d.width/2+v).attr("y1",-d.height/2-v+p.height+v).attr("y2",-d.height/2-v+p.height+v);return Xt(e,S),e.intersect=function(N){return Ht.rect(e,N)},a}E(x$,"rectWithTitle");async function E$(t,e){const r={rx:5,ry:5,labelPaddingX:((e==null?void 0:e.padding)||0)*1,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return t1(t,e,r)}E(E$,"roundedRect");async function T$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=(e==null?void 0:e.padding)??0,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-a.width/2-o,d=-a.height/2-o,{cssStyles:f}=e,p=Gt.svg(i),g=Vt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:d},{x:h+l+8,y:d},{x:h+l+8,y:d+u},{x:h-8,y:d+u},{x:h-8,y:d},{x:h,y:d},{x:h,y:d+u}],y=p.polygon(m.map(b=>[b.x,b.y]),g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container").attr("style",Aa(f)),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),f&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${-l/2+4+(e.padding??0)-(a.x-(a.left??0))},${-u/2+(e.padding??0)-(a.y-(a.top??0))})`),Xt(e,v),e.intersect=function(b){return Ht.rect(e,b)},i}E(T$,"shadedProcess");async function w$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,{cssStyles:d}=e,f=Gt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:u,y:h},{x:u,y:h+l},{x:u+o,y:h+l},{x:u+o,y:h-l/2}],m=Ir(g),y=f.path(m,p),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),v.attr("transform",`translate(0, ${l/4})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))}, ${-l/4+(e.padding??0)-(a.y-(a.top??0))})`),Xt(e,v),e.intersect=function(b){return Ht.polygon(e,g,b)},i}E(w$,"slopedRect");async function S$(t,e){const r={rx:0,ry:0,labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return t1(t,e,r)}E(S$,"squareRect");async function k$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=a.height+e.padding,o=a.width+s/4+e.padding;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=Gt.svg(i),d=Vt(e,{}),f=ec(-o/2,-s/2,o,s,s/2),p=h.path(f,d);l=i.insert(()=>p,":first-child"),l.attr("class","basic label-container").attr("style",Aa(u))}else l=i.insert("rect",":first-child"),l.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return Xt(e,l),e.intersect=function(h){return Ht.rect(e,h)},i}E(k$,"stadium");async function C$(t,e){return t1(t,e,{rx:5,ry:5})}E(C$,"state");function _$(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Kt(e);e.labelStyle=n;const{cssStyles:a}=e,{lineColor:s,stateBorder:o,nodeBorder:l}=r,u=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),h=Gt.svg(u),d=Vt(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=h.circle(0,0,14,{...d,stroke:s,strokeWidth:2}),p=o??l,g=h.circle(0,0,5,{...d,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),m=u.insert(()=>f,":first-child");return m.insert(()=>g),a&&m.selectAll("path").attr("style",a),i&&m.selectAll("path").attr("style",i),Xt(e,m),e.intersect=function(y){return Ht.circle(e,7,y)},u}E(_$,"stateEnd");function A$(t,e,{config:{themeVariables:r}}){const{lineColor:n}=r,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let a;if(e.look==="handDrawn"){const o=Gt.svg(i).circle(0,0,14,$Ee(n));a=i.insert(()=>o),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Xt(e,a),e.intersect=function(s){return Ht.circle(e,7,s)},i}E(A$,"stateStart");async function L$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=((e==null?void 0:e.padding)||0)/2,o=a.width+e.padding,l=a.height+e.padding,u=-a.width/2-s,h=-a.height/2-s,d=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const f=Gt.svg(i),p=Vt(e,{}),g=f.rectangle(u-8,h,o+16,l,p),m=f.line(u,h,u,h+l,p),y=f.line(u+o,h,u+o,h+l,p);i.insert(()=>m,":first-child"),i.insert(()=>y,":first-child");const v=i.insert(()=>g,":first-child"),{cssStyles:b}=e;v.attr("class","basic label-container").attr("style",Aa(b)),Xt(e,v)}else{const f=tc(i,o,l,d);n&&f.attr("style",n),Xt(e,f)}return e.intersect=function(f){return Ht.polygon(e,d,f)},i}E(L$,"subroutine");async function N$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=-s/2,u=-o/2,h=.2*o,d=.2*o,{cssStyles:f}=e,p=Gt.svg(i),g=Vt(e,{}),m=[{x:l-h/2,y:u},{x:l+s+h/2,y:u},{x:l+s+h/2,y:u+o},{x:l-h/2,y:u+o}],y=[{x:l+s-h/2,y:u+o},{x:l+s+h/2,y:u+o},{x:l+s+h/2,y:u+o-d}];e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=Ir(m),b=p.path(v,g),x=Ir(y),T=p.path(x,{...g,fillStyle:"solid"}),w=i.insert(()=>T,":first-child");return w.insert(()=>b,":first-child"),w.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),Xt(e,w),e.intersect=function(S){return Ht.polygon(e,m,S)},i}E(N$,"taggedRect");async function R$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=.2*o,d=.2*l,f=l+u,{cssStyles:p}=e,g=Gt.svg(i),m=Vt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-o/2-o/2*.1,y:f/2},...Qc(-o/2-o/2*.1,f/2,o/2+o/2*.1,f/2,u,.8),{x:o/2+o/2*.1,y:-f/2},{x:-o/2-o/2*.1,y:-f/2}],v=-o/2+o/2*.1,b=-f/2-d*.4,x=[{x:v+o-h,y:(b+l)*1.4},{x:v+o,y:b+l-d},{x:v+o,y:(b+l)*.9},...Qc(v+o,(b+l)*1.3,v+o-h,(b+l)*1.5,-l*.03,.5)],T=Ir(y),w=g.path(T,m),S=Ir(x),k=g.path(S,{...m,fillStyle:"solid"}),L=i.insert(()=>k,":first-child");return L.insert(()=>w,":first-child"),L.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",n),L.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),Xt(e,L),e.intersect=function(_){return Ht.polygon(e,y,_)},i}E(R$,"taggedWaveEdgedRectangle");async function I$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=Math.max(a.width+e.padding,(e==null?void 0:e.width)||0),o=Math.max(a.height+e.padding,(e==null?void 0:e.height)||0),l=-s/2,u=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",s).attr("height",o),Xt(e,h),e.intersect=function(d){return Ht.rect(e,d)},i}E(I$,"text");var s4e=E((t,e,r,n,i,a)=>`M${t},${e}
    a${i},${a} 0,0,1 0,${-n}
    l${r},0
    a${i},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),o4e=E((t,e,r,n,i,a)=>[`M${t},${e}`,`M${t+r},${e}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),l4e=E((t,e,r,n,i,a)=>[`M${t+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function D$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s,halfPadding:o}=await hr(t,e,or(e)),l=e.look==="neo"?o*2:o,u=a.height+l,h=u/2,d=h/(2.5+u/50),f=a.width+d+l,{cssStyles:p}=e;let g;if(e.look==="handDrawn"){const m=Gt.svg(i),y=o4e(0,0,f,u,d,h),v=l4e(0,0,f,u,d,h),b=m.path(y,Vt(e,{})),x=m.path(v,Vt(e,{fill:"none"}));g=i.insert(()=>x,":first-child"),g=i.insert(()=>b,":first-child"),g.attr("class","basic label-container"),p&&g.attr("style",p)}else{const m=s4e(0,0,f,u,d,h);g=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Aa(p)).attr("style",n),g.attr("class","basic label-container"),p&&g.selectAll("path").attr("style",p),n&&g.selectAll("path").attr("style",n)}return g.attr("label-offset-x",d),g.attr("transform",`translate(${-f/2}, ${u/2} )`),s.attr("transform",`translate(${-(a.width/2)-d-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Xt(e,g),e.intersect=function(m){const y=Ht.rect(e,m),v=y.y-(e.y??0);if(h!=0&&(Math.abs(v)<(e.height??0)/2||Math.abs(v)==(e.height??0)/2&&Math.abs(y.x-(e.x??0))>(e.width??0)/2-d)){let b=d*d*(1-v*v/(h*h));b!=0&&(b=Math.sqrt(Math.abs(b))),b=d-b,m.x-(e.x??0)>0&&(b=-b),y.x+=b}return y},i}E(D$,"tiltedCylinder");async function O$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=a.width+e.padding,o=a.height+e.padding,l=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=Gt.svg(i),f=Vt(e,{}),p=Ir(l),g=d.path(p,f);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=tc(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,Xt(e,u),e.intersect=function(d){return Ht.polygon(e,l,d)},i}E(O$,"trapezoid");async function M$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=60,o=20,l=Math.max(s,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:h}=e,d=Gt.svg(i),f=Vt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-l/2*.8,y:-u/2},{x:l/2*.8,y:-u/2},{x:l/2,y:-u/2*.6},{x:l/2,y:u/2},{x:-l/2,y:u/2},{x:-l/2,y:-u/2*.6}],g=Ir(p),m=d.path(g,f),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),Xt(e,y),e.intersect=function(v){return Ht.polygon(e,p,v)},i}E(M$,"trapezoidalPentagon");async function P$(t,e){var b;const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=tn((b=Re().flowchart)==null?void 0:b.htmlLabels),l=a.width+(e.padding??0),u=l+a.height,h=l+a.height,d=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-u}],{cssStyles:f}=e,p=Gt.svg(i),g=Vt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=Ir(d),y=p.path(m,g),v=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return f&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),e.width=l,e.height=u,Xt(e,v),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${u/2-(a.height+(e.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(x){return se.info("Triangle intersect",e,d,x),Ht.polygon(e,d,x)},i}E(P$,"triangle");async function B$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/8,h=l+u,{cssStyles:d}=e,p=70-o,g=p>0?p/2:0,m=Gt.svg(i),y=Vt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const v=[{x:-o/2-g,y:h/2},...Qc(-o/2-g,h/2,o/2+g,h/2,u,.8),{x:o/2+g,y:-h/2},{x:-o/2-g,y:-h/2}],b=Ir(v),x=m.path(b,y),T=i.insert(()=>x,":first-child");return T.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u-(a.y-(a.top??0))})`),Xt(e,T),e.intersect=function(w){return Ht.polygon(e,v,w)},i}E(B$,"waveEdgedRectangle");async function F$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await hr(t,e,or(e)),s=100,o=50,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=l/u;let d=l,f=u;d>f*h?f=d/h:d=f*h,d=Math.max(d,s),f=Math.max(f,o);const p=Math.min(f*.2,f/4),g=f+p*2,{cssStyles:m}=e,y=Gt.svg(i),v=Vt(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=[{x:-d/2,y:g/2},...Qc(-d/2,g/2,d/2,g/2,p,1),{x:d/2,y:-g/2},...Qc(d/2,-g/2,-d/2,-g/2,p,-1)],x=Ir(b),T=y.path(x,v),w=i.insert(()=>T,":first-child");return w.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",m),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),Xt(e,w),e.intersect=function(S){return Ht.polygon(e,b,S)},i}E(F$,"waveRectangle");async function $$(t,e){const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await hr(t,e,or(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,h=-o/2,d=-l/2,{cssStyles:f}=e,p=Gt.svg(i),g=Vt(e,{}),m=[{x:h-u,y:d-u},{x:h-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d-u}],y=`M${h-u},${d-u} L${h+o},${d-u} L${h+o},${d+l} L${h-u},${d+l} L${h-u},${d-u}
                M${h-u},${d} L${h+o},${d}
                M${h},${d-u} L${h},${d+l}`;e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=p.path(y,g),b=i.insert(()=>v,":first-child");return b.attr("transform",`translate(${u/2}, ${u/2})`),b.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)+u/2-(a.x-(a.left??0))}, ${-(a.height/2)+u/2-(a.y-(a.top??0))})`),Xt(e,b),e.intersect=function(x){return Ht.polygon(e,m,x)},i}E($$,"windowPane");async function R6(t,e){var V,H,te,X;const r=e;if(r.alias&&(e.label=r.alias),e.look==="handDrawn"){const{themeVariables:ee}=qr(),{background:re}=ee,pe={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${re}`]};await R6(t,pe)}const n=qr();e.useHtmlLabels=n.htmlLabels;let i=((V=n.er)==null?void 0:V.diagramPadding)??10,a=((H=n.er)==null?void 0:H.entityPadding)??6;const{cssStyles:s}=e,{labelStyles:o,nodeStyles:l}=Kt(e);if(r.attributes.length===0&&e.label){const ee={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};_a(e.label,n)+ee.labelPaddingX*2<n.er.minEntityWidth&&(e.width=n.er.minEntityWidth);const re=await t1(t,e,ee);if(!tn(n.htmlLabels)){const pe=re.select("text"),K=(te=pe.node())==null?void 0:te.getBBox();pe.attr("transform",`translate(${-K.width/2}, 0)`)}return re}n.htmlLabels||(i*=1.25,a*=1.25);let u=or(e);u||(u="node default");const h=t.insert("g").attr("class",u).attr("id",e.domId||e.id),d=await mf(h,e.label??"",n,0,0,["name"],o);d.height+=a;let f=0;const p=[],g=[];let m=0,y=0,v=0,b=0,x=!0,T=!0;for(const ee of r.attributes){const re=await mf(h,ee.type,n,0,f,["attribute-type"],o);m=Math.max(m,re.width+i);const pe=await mf(h,ee.name,n,0,f,["attribute-name"],o);y=Math.max(y,pe.width+i);const K=await mf(h,ee.keys.join(),n,0,f,["attribute-keys"],o);v=Math.max(v,K.width+i);const W=await mf(h,ee.comment,n,0,f,["attribute-comment"],o);b=Math.max(b,W.width+i);const j=Math.max(re.height,pe.height,K.height,W.height)+a;g.push({yOffset:f,rowHeight:j}),f+=j}let w=4;v<=i&&(x=!1,v=0,w--),b<=i&&(T=!1,b=0,w--);const S=h.node().getBBox();if(d.width+i*2-(m+y+v+b)>0){const ee=d.width+i*2-(m+y+v+b);m+=ee/w,y+=ee/w,v>0&&(v+=ee/w),b>0&&(b+=ee/w)}const k=m+y+v+b,L=Gt.svg(h),_=Vt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");let N=0;g.length>0&&(N=g.reduce((ee,re)=>ee+((re==null?void 0:re.rowHeight)??0),0));const C=Math.max(S.width+i*2,(e==null?void 0:e.width)||0,k),D=Math.max((N??0)+d.height,(e==null?void 0:e.height)||0),P=-C/2,A=-D/2;h.selectAll("g:not(:first-child)").each((ee,re,pe)=>{const K=mt(pe[re]),W=K.attr("transform");let j=0,Y=0;if(W){const ie=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(W);ie&&(j=parseFloat(ie[1]),Y=parseFloat(ie[2]),K.attr("class").includes("attribute-name")?j+=m:K.attr("class").includes("attribute-keys")?j+=m+y:K.attr("class").includes("attribute-comment")&&(j+=m+y+v))}K.attr("transform",`translate(${P+i/2+j}, ${Y+A+d.height+a/2})`)}),h.select(".name").attr("transform","translate("+-d.width/2+", "+(A+a/2)+")");const R=L.rectangle(P,A,C,D,_),O=h.insert(()=>R,":first-child").attr("style",s.join("")),{themeVariables:M}=qr(),{rowEven:I,rowOdd:F,nodeBorder:B}=M;p.push(0);for(const[ee,re]of g.entries()){const K=(ee+1)%2===0&&re.yOffset!==0,W=L.rectangle(P,d.height+A+(re==null?void 0:re.yOffset),C,re==null?void 0:re.rowHeight,{..._,fill:K?I:F,stroke:B});h.insert(()=>W,"g.label").attr("style",s.join("")).attr("class",`row-rect-${K?"even":"odd"}`)}let $=L.line(P,d.height+A,C+P,d.height+A,_);h.insert(()=>$).attr("class","divider"),$=L.line(m+P,d.height+A,m+P,D+A,_),h.insert(()=>$).attr("class","divider"),x&&($=L.line(m+y+P,d.height+A,m+y+P,D+A,_),h.insert(()=>$).attr("class","divider")),T&&($=L.line(m+y+v+P,d.height+A,m+y+v+P,D+A,_),h.insert(()=>$).attr("class","divider"));for(const ee of p)$=L.line(P,d.height+A+ee,C+P,d.height+A+ee,_),h.insert(()=>$).attr("class","divider");if(Xt(e,O),l&&e.look!=="handDrawn"){const ee=l.split(";"),re=(X=ee==null?void 0:ee.filter(pe=>pe.includes("stroke")))==null?void 0:X.map(pe=>`${pe}`).join("; ");h.selectAll("path").attr("style",re??""),h.selectAll(".row-rect-even path").attr("style",l)}return e.intersect=function(ee){return Ht.rect(e,ee)},h}E(R6,"erBox");async function mf(t,e,r,n=0,i=0,a=[],s=""){const o=t.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",s);e!==Hc(e)&&(e=Hc(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=o.node().appendChild(await Xa(o,e,{width:_a(e,r)+100,style:s,useHtmlLabels:r.htmlLabels},r));if(e.includes("&lt;")||e.includes("&gt;")){let h=l.children[0];for(h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");h.childNodes[0];)h=h.childNodes[0],h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let u=l.getBBox();if(tn(r.htmlLabels)){const h=l.children[0];h.style.textAlign="start";const d=mt(l);u=h.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}return u}E(mf,"addText");async function z$(t,e,r,n,i=r.class.padding??12){const a=n?0:3,s=t.insert("g").attr("class",or(e)).attr("id",e.domId||e.id);let o=null,l=null,u=null,h=null,d=0,f=0,p=0;if(o=s.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const b=e.annotations[0];await r1(o,{text:`«${b}»`},0),d=o.node().getBBox().height}l=s.insert("g").attr("class","label-group text"),await r1(l,e,0,["font-weight: bolder"]);const g=l.node().getBBox();f=g.height,u=s.insert("g").attr("class","members-group text");let m=0;for(const b of e.members){const x=await r1(u,b,m,[b.parseClassifier()]);m+=x+a}p=u.node().getBBox().height,p<=0&&(p=i/2),h=s.insert("g").attr("class","methods-group text");let y=0;for(const b of e.methods){const x=await r1(h,b,y,[b.parseClassifier()]);y+=x+a}let v=s.node().getBBox();if(o!==null){const b=o.node().getBBox();o.attr("transform",`translate(${-b.width/2})`)}return l.attr("transform",`translate(${-g.width/2}, ${d})`),v=s.node().getBBox(),u.attr("transform",`translate(0, ${d+f+i*2})`),v=s.node().getBBox(),h.attr("transform",`translate(0, ${d+f+(p?p+i*4:i*2)})`),v=s.node().getBBox(),{shapeSvg:s,bbox:v}}E(z$,"textHelper");async function r1(t,e,r,n=[]){const i=t.insert("g").attr("class","label").attr("style",n.join("; ")),a=qr();let s="useHtmlLabels"in e?e.useHtmlLabels:tn(a.htmlLabels)??!0,o="";"text"in e?o=e.text:o=e.label,!s&&o.startsWith("\\")&&(o=o.substring(1)),ra(o)&&(s=!0);const l=await Xa(i,Wv(Jo(o)),{width:_a(o,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a);let u,h=1;if(s){const d=l.children[0],f=mt(l);h=d.innerHTML.split("<br>").length,d.innerHTML.includes("</math>")&&(h+=d.innerHTML.split("<mrow>").length-1);const p=d.getElementsByTagName("img");if(p){const g=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(m=>new Promise(y=>{function v(){var b;if(m.style.display="flex",m.style.flexDirection="column",g){const x=((b=a.fontSize)==null?void 0:b.toString())??window.getComputedStyle(document.body).fontSize,w=parseInt(x,10)*5+"px";m.style.minWidth=w,m.style.maxWidth=w}else m.style.width="100%";y(m)}E(v,"setupImage"),setTimeout(()=>{m.complete&&v()}),m.addEventListener("error",v),m.addEventListener("load",v)})))}u=d.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}else{n.includes("font-weight: bolder")&&mt(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const d=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(d.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(d.textContent=d.textContent[0]+" "+d.textContent.substring(1))),d.textContent==="undefined"&&(d.textContent=""),u=l.getBBox()}return i.attr("transform","translate(0,"+(-u.height/(2*h)+r)+")"),u.height}E(r1,"addText");async function U$(t,e){var _,N;const r=Re(),n=r.class.padding??12,i=n,a=e.useHtmlLabels??tn(r.htmlLabels)??!0,s=e;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];const{shapeSvg:o,bbox:l}=await z$(t,e,r,a,i),{labelStyles:u,nodeStyles:h}=Kt(e);e.labelStyle=u,e.cssStyles=s.styles||"";const d=((_=s.styles)==null?void 0:_.join(";"))||h||"";e.cssStyles||(e.cssStyles=d.replaceAll("!important","").split(";"));const f=s.members.length===0&&s.methods.length===0&&!((N=r.class)!=null&&N.hideEmptyMembersBox),p=Gt.svg(o),g=Vt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=l.width;let y=l.height;s.members.length===0&&s.methods.length===0?y+=i:s.members.length>0&&s.methods.length===0&&(y+=i*2);const v=-m/2,b=-y/2,x=p.rectangle(v-n,b-n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0),m+2*n,y+2*n+(f?n*2:s.members.length===0&&s.methods.length===0?-n:0),g),T=o.insert(()=>x,":first-child");T.attr("class","basic label-container");const w=T.node().getBBox();o.selectAll(".text").each((C,D,P)=>{var F;const A=mt(P[D]),R=A.attr("transform");let O=0;if(R){const $=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(R);$&&(O=parseFloat($[2]))}let M=O+b+n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0);a||(M-=4);let I=v;(A.attr("class").includes("label-group")||A.attr("class").includes("annotation-group"))&&(I=-((F=A.node())==null?void 0:F.getBBox().width)/2||0,o.selectAll("text").each(function(B,$,V){window.getComputedStyle(V[$]).textAnchor==="middle"&&(I=0)})),A.attr("transform",`translate(${I}, ${M})`)});const S=o.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,k=o.select(".label-group").node().getBBox().height-(f?n/2:0)||0,L=o.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(s.members.length>0||s.methods.length>0||f){const C=p.line(w.x,S+k+b+n,w.x+w.width,S+k+b+n,g);o.insert(()=>C).attr("class","divider").attr("style",d)}if(f||s.members.length>0||s.methods.length>0){const C=p.line(w.x,S+k+L+b+i*2+n,w.x+w.width,S+k+L+b+n+i*2,g);o.insert(()=>C).attr("class","divider").attr("style",d)}if(s.look!=="handDrawn"&&o.selectAll("path").attr("style",d),T.select(":nth-child(2)").attr("style",d),o.selectAll(".divider").select("path").attr("style",d),e.labelStyle?o.selectAll("span").attr("style",e.labelStyle):o.selectAll("span").attr("style",d),!a){const C=RegExp(/color\s*:\s*([^;]*)/),D=C.exec(d);if(D){const P=D[0].replace("color","fill");o.selectAll("tspan").attr("style",P)}else if(u){const P=C.exec(u);if(P){const A=P[0].replace("color","fill");o.selectAll("tspan").attr("style",A)}}}return Xt(e,T),e.intersect=function(C){return Ht.rect(e,C)},o}E(U$,"classBox");async function H$(t,e){var S,k;const{labelStyles:r,nodeStyles:n}=Kt(e);e.labelStyle=r;const i=e,a=e,s=20,o=20,l="verifyMethod"in e,u=or(e),h=t.insert("g").attr("class",u).attr("id",e.domId??e.id);let d;l?d=await tl(h,`&lt;&lt;${i.type}&gt;&gt;`,0,e.labelStyle):d=await tl(h,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let f=d;const p=await tl(h,i.name,f,e.labelStyle+"; font-weight: bold;");if(f+=p+o,l){const L=await tl(h,`${i.requirementId?`id: ${i.requirementId}`:""}`,f,e.labelStyle);f+=L;const _=await tl(h,`${i.text?`Text: ${i.text}`:""}`,f,e.labelStyle);f+=_;const N=await tl(h,`${i.risk?`Risk: ${i.risk}`:""}`,f,e.labelStyle);f+=N,await tl(h,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,f,e.labelStyle)}else{const L=await tl(h,`${a.type?`Type: ${a.type}`:""}`,f,e.labelStyle);f+=L,await tl(h,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,f,e.labelStyle)}const g=(((S=h.node())==null?void 0:S.getBBox().width)??200)+s,m=(((k=h.node())==null?void 0:k.getBBox().height)??200)+s,y=-g/2,v=-m/2,b=Gt.svg(h),x=Vt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const T=b.rectangle(y,v,g,m,x),w=h.insert(()=>T,":first-child");if(w.attr("class","basic label-container").attr("style",n),h.selectAll(".label").each((L,_,N)=>{const C=mt(N[_]),D=C.attr("transform");let P=0,A=0;if(D){const I=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(D);I&&(P=parseFloat(I[1]),A=parseFloat(I[2]))}const R=A-m/2;let O=y+s/2;(_===0||_===1)&&(O=P),C.attr("transform",`translate(${O}, ${R+s})`)}),f>d+p+o){const L=b.line(y,v+d+p+o,y+g,v+d+p+o,x);h.insert(()=>L).attr("style",n)}return Xt(e,w),e.intersect=function(L){return Ht.rect(e,L)},h}E(H$,"requirementBox");async function tl(t,e,r,n=""){if(e==="")return 0;const i=t.insert("g").attr("class","label").attr("style",n),a=Re(),s=a.htmlLabels??!0,o=await Xa(i,Wv(Jo(e)),{width:_a(e,a)+50,classes:"markdown-node-label",useHtmlLabels:s,style:n},a);let l;if(s){const u=o.children[0],h=mt(o);l=u.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}else{const u=o.children[0];for(const h of u.children)h.textContent=h.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&h.setAttribute("style",n);l=o.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}E(tl,"addText");var c4e=E(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function G$(t,e,{config:r}){var D,P;const{labelStyles:n,nodeStyles:i}=Kt(e);e.labelStyle=n||"";const a=10,s=e.width;e.width=(e.width??200)-10;const{shapeSvg:o,bbox:l,label:u}=await hr(t,e,or(e)),h=e.padding||10;let d="",f;"ticket"in e&&e.ticket&&((D=r==null?void 0:r.kanban)!=null&&D.ticketBaseUrl)&&(d=(P=r==null?void 0:r.kanban)==null?void 0:P.ticketBaseUrl.replace("#TICKET#",e.ticket),f=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",d).attr("target","_blank"));const p={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let g,m;f?{label:g,bbox:m}=await C6(f,"ticket"in e&&e.ticket||"",p):{label:g,bbox:m}=await C6(o,"ticket"in e&&e.ticket||"",p);const{label:y,bbox:v}=await C6(o,"assigned"in e&&e.assigned||"",p);e.width=s;const b=10,x=(e==null?void 0:e.width)||0,T=Math.max(m.height,v.height)/2,w=Math.max(l.height+b*2,(e==null?void 0:e.height)||0)+T,S=-x/2,k=-w/2;u.attr("transform","translate("+(h-x/2)+", "+(-T-l.height/2)+")"),g.attr("transform","translate("+(h-x/2)+", "+(-T+l.height/2)+")"),y.attr("transform","translate("+(h+x/2-v.width-2*a)+", "+(-T+l.height/2)+")");let L;const{rx:_,ry:N}=e,{cssStyles:C}=e;if(e.look==="handDrawn"){const A=Gt.svg(o),R=Vt(e,{}),O=_||N?A.path(ec(S,k,x,w,_||0),R):A.rectangle(S,k,x,w,R);L=o.insert(()=>O,":first-child"),L.attr("class","basic label-container").attr("style",C||null)}else{L=o.insert("rect",":first-child"),L.attr("class","basic label-container __APA__").attr("style",i).attr("rx",_??5).attr("ry",N??5).attr("x",S).attr("y",k).attr("width",x).attr("height",w);const A="priority"in e&&e.priority;if(A){const R=o.append("line"),O=S+2,M=k+Math.floor((_??0)/2),I=k+w-Math.floor((_??0)/2);R.attr("x1",O).attr("y1",M).attr("x2",O).attr("y2",I).attr("stroke-width","4").attr("stroke",c4e(A))}}return Xt(e,L),e.height=w,e.intersect=function(A){return Ht.rect(e,A)},o}E(G$,"kanbanItem");var u4e=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:S$},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:E$},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:k$},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:L$},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:XF},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:UF},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:v$},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:t$},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:h$},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:u$},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:O$},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:l$},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:jF},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:I$},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:$F},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:T$},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:A$},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:_$},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:JF},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:r$},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:VF},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:qF},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:WF},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:d$},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:B$},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:e$},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:D$},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:f$},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:YF},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:KF},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:P$},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:$$},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:QF},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:M$},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:ZF},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:w$},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:m$},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:g$},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:FF},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:GF},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:R$},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:N$},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:F$},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:b$},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:p$}],h4e=E(()=>{const e=[...Object.entries({state:C$,choice:zF,note:y$,rectWithTitle:x$,labelRect:c$,iconSquare:s$,iconCircle:i$,icon:n$,iconRounded:a$,imageSquare:o$,anchor:BF,kanbanItem:G$,classBox:U$,erBox:R6,requirementBox:H$}),...u4e.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(e)},"generateShapeMap"),V$=h4e();function q$(t){return t in V$}E(q$,"isValidShape");var Eb=new Map;async function Tb(t,e,r){let n,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const a=e.shape?V$[e.shape]:void 0;if(!a)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let s;r.config.securityLevel==="sandbox"?s="_top":e.linkTarget&&(s=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",s??null),i=await a(n,e,r)}else i=await a(t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),Eb.set(e.id,n),e.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}E(Tb,"insertNode");var d4e=E((t,e)=>{Eb.set(e.id,t)},"setNodeElem"),f4e=E(()=>{Eb.clear()},"clear"),I6=E(t=>{const e=Eb.get(t.id);se.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),p4e=E((t,e,r,n,i,a)=>{e.arrowTypeStart&&W$(t,"start",e.arrowTypeStart,r,n,i,a),e.arrowTypeEnd&&W$(t,"end",e.arrowTypeEnd,r,n,i,a)},"addEdgeMarkers"),g4e={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},W$=E((t,e,r,n,i,a,s)=>{var d;const o=g4e[r];if(!o){se.warn(`Unknown arrow type: ${r}`);return}const l=o.type,h=`${i}_${a}-${l}${e==="start"?"Start":"End"}`;if(s&&s.trim()!==""){const f=s.replace(/[^\dA-Za-z]/g,"_"),p=`${h}_${f}`;if(!document.getElementById(p)){const g=document.getElementById(h);if(g){const m=g.cloneNode(!0);m.id=p,m.querySelectorAll("path, circle, line").forEach(v=>{v.setAttribute("stroke",s),o.fill&&v.setAttribute("fill",s)}),(d=g.parentNode)==null||d.appendChild(m)}}t.attr(`marker-${e}`,`url(${n}#${p})`)}else t.attr(`marker-${e}`,`url(${n}#${h})`)},"addEdgeMarker"),wb=new Map,zi=new Map,m4e=E(()=>{wb.clear(),zi.clear()},"clear"),n1=E(t=>t?t.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),Y$=E(async(t,e)=>{let r=tn(Re().flowchart.htmlLabels);const n=await Xa(t,e.label,{style:n1(e.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});se.info("abc82",e,e.labelType);const i=t.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(n);let s=n.getBBox();if(r){const l=n.children[0],u=mt(n);s=l.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),wb.set(e.id,i),e.width=s.width,e.height=s.height;let o;if(e.startLabelLeft){const l=await mh(e.startLabelLeft,n1(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),zi.get(e.id)||zi.set(e.id,{}),zi.get(e.id).startLeft=u,i1(o,e.startLabelLeft)}if(e.startLabelRight){const l=await mh(e.startLabelRight,n1(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=u.node().appendChild(l),h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),zi.get(e.id)||zi.set(e.id,{}),zi.get(e.id).startRight=u,i1(o,e.startLabelRight)}if(e.endLabelLeft){const l=await mh(e.endLabelLeft,n1(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),u.node().appendChild(l),zi.get(e.id)||zi.set(e.id,{}),zi.get(e.id).endLeft=u,i1(o,e.endLabelLeft)}if(e.endLabelRight){const l=await mh(e.endLabelRight,n1(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),u.node().appendChild(l),zi.get(e.id)||zi.set(e.id,{}),zi.get(e.id).endRight=u,i1(o,e.endLabelRight)}return n},"insertEdgeLabel");function i1(t,e){Re().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}E(i1,"setTerminalWidth");var X$=E((t,e)=>{se.debug("Moving label abc88 ",t.id,t.label,wb.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Re(),{subGraphTitleTotalMargin:i}=gg(n);if(t.label){const a=wb.get(t.id);let s=t.x,o=t.y;if(r){const l=dr.calcLabelPosition(r);se.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=zi.get(t.id).startLeft;let s=t.x,o=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=zi.get(t.id).startRight;let s=t.x,o=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=zi.get(t.id).endLeft;let s=t.x,o=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=zi.get(t.id).endRight;let s=t.x,o=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),y4e=E((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),v4e=E((t,e,r)=>{se.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let d=r.y<e.y?e.y-l-i:i-l-e.y;o=h*d/u;const f={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+u-d:r.y-u+d};return o===0&&(f.x=e.x,f.y=e.y),h===0&&(f.x=e.x),u===0&&(f.y=e.y),se.debug(`abc89 top/bottom calc, Q ${u}, q ${d}, R ${h}, r ${o}`,f),f}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let d=u*o/h,f=r.x<e.x?r.x+h-o:r.x-h+o,p=r.y<e.y?r.y+d:r.y-d;return se.debug(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${o}`,{_x:f,_y:p}),o===0&&(f=e.x,p=e.y),h===0&&(f=e.x),u===0&&(p=e.y),{x:f,y:p}}},"intersection"),K$=E((t,e)=>{se.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(se.info("abc88 checking point",a,e),!y4e(e,a)&&!i){const s=v4e(e,n,a);se.debug("abc88 inside",a,n,s),se.debug("abc88 intersection",s,e);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)?se.warn("abc88 no intersect",s,r):r.push(s),i=!0}else se.warn("abc88 outside",a,n),n=a,i||r.push(a)}),se.debug("returning points",r),r},"cutPathAtIntersect");function j$(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const i=t[n-1],a=t[n],s=t[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(e.push(a),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}E(j$,"extractCornerPoints");var Q$=E(function(t,e,r){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),s=r/a;return{x:e.x-s*n,y:e.y-s*i}},"findAdjacentPoint"),b4e=E(function(t){const{cornerPointPositions:e}=j$(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const i=t[n-1],a=t[n+1],s=t[n],o=Q$(i,s,5),l=Q$(a,s,5),u=l.x-o.x,h=l.y-o.y;r.push(o);const d=Math.sqrt(2)*2;let f={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){se.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));const p=5;s.x===o.x?f={x:u<0?o.x-p+d:o.x+p-d,y:h<0?o.y-d:o.y+d}:f={x:u<0?o.x-d:o.x+d,y:h<0?o.y-p+d:o.y+p-d}}else se.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));r.push(f,l)}else r.push(t[n]);return r},"fixCorners"),Z$=E(function(t,e,r,n,i,a,s){var _;const{handDrawnSeed:o}=Re();let l=e.points,u=!1;const h=i;var d=a;const f=[];for(const N in e.cssCompiledStyles)AF(N)||f.push(e.cssCompiledStyles[N]);d.intersect&&h.intersect&&(l=l.slice(1,e.points.length-1),l.unshift(h.intersect(l[0])),se.debug("Last point APA12",e.start,"-->",e.end,l[l.length-1],d,d.intersect(l[l.length-1])),l.push(d.intersect(l[l.length-1]))),e.toCluster&&(se.info("to cluster abc88",r.get(e.toCluster)),l=K$(e.points,r.get(e.toCluster).node),u=!0),e.fromCluster&&(se.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(l,null,2)),l=K$(l.reverse(),r.get(e.fromCluster).node).reverse(),u=!0);let p=l.filter(N=>!Number.isNaN(N.y));p=b4e(p);let g=sf;switch(g=F2,e.curve){case"linear":g=F2;break;case"basis":g=sf;break;case"cardinal":g=CP;break;case"bumpX":g=EP;break;case"bumpY":g=TP;break;case"catmullRom":g=AP;break;case"monotoneX":g=BP;break;case"monotoneY":g=FP;break;case"natural":g=UP;break;case"step":g=HP;break;case"stepAfter":g=VP;break;case"stepBefore":g=GP;break;default:g=sf}const{x:m,y}=OO(e),v=Mg().x(m).y(y).curve(g);let b;switch(e.thickness){case"normal":b="edge-thickness-normal";break;case"thick":b="edge-thickness-thick";break;case"invisible":b="edge-thickness-invisible";break;default:b="edge-thickness-normal"}switch(e.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed";break;default:b+=" edge-pattern-solid"}let x,T=v(p);const w=Array.isArray(e.style)?e.style:e.style?[e.style]:[];let S=w.find(N=>N==null?void 0:N.startsWith("stroke:"));if(e.look==="handDrawn"){const N=Gt.svg(t);Object.assign([],p);const C=N.path(T,{roughness:.3,seed:o});b+=" transition",x=mt(C).select("path").attr("id",e.id).attr("class"," "+b+(e.classes?" "+e.classes:"")).attr("style",w?w.reduce((P,A)=>P+";"+A,""):"");let D=x.attr("d");x.attr("d",D),t.node().appendChild(x.node())}else{const N=f.join(";"),C=w?w.reduce((A,R)=>A+R+";",""):"";let D="";e.animate&&(D=" edge-animation-fast"),e.animation&&(D=" edge-animation-"+e.animation);const P=N?N+";"+C+";":C;x=t.append("path").attr("d",T).attr("id",e.id).attr("class"," "+b+(e.classes?" "+e.classes:"")+(D??"")).attr("style",P),S=(_=P.match(/stroke:([^;]+)/))==null?void 0:_[1]}let k="";(Re().flowchart.arrowMarkerAbsolute||Re().state.arrowMarkerAbsolute)&&(k=sg(!0)),se.info("arrowTypeStart",e.arrowTypeStart),se.info("arrowTypeEnd",e.arrowTypeEnd),p4e(x,e,k,s,n,S);let L={};return u&&(L.updatedPath=l),L.originalPath=e.points,L},"insertEdge"),x4e=E((t,e,r,n)=>{e.forEach(i=>{P4e[i](t,r,n)})},"insertMarkers"),E4e=E((t,e,r)=>{se.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),T4e=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),w4e=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),S4e=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),k4e=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),C4e=E((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),_4e=E((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),A4e=E((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),L4e=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),N4e=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),R4e=E((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),I4e=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),D4e=E((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),O4e=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),M4e=E((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),P4e={extension:E4e,composition:T4e,aggregation:w4e,dependency:S4e,lollipop:k4e,point:C4e,circle:_4e,cross:A4e,barb:L4e,only_one:N4e,zero_or_one:R4e,one_or_more:I4e,zero_or_more:D4e,requirement_arrow:O4e,requirement_contains:M4e},J$=x4e,B4e={common:xt,getConfig:qr,insertCluster:A6,insertEdge:Z$,insertEdgeLabel:Y$,insertMarkers:J$,insertNode:Tb,interpolateToCurve:K5,labelHelper:hr,log:se,positionEdgeLabel:X$},a1={},ez=E(t=>{for(const e of t)a1[e.name]=e},"registerLayoutLoaders"),F4e=E(()=>{ez([{name:"dagre",loader:E(async()=>await Promise.resolve().then(()=>CNe),"loader")}])},"registerDefaultLayoutLoaders");F4e();var s1=E(async(t,e)=>{if(!(t.layoutAlgorithm in a1))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=a1[t.layoutAlgorithm];return(await r.loader()).render(t,e,B4e,{algorithm:r.algorithm})},"render"),Sb=E((t="",{fallback:e="dagre"}={})=>{if(t in a1)return t;if(e in a1)return se.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),D6={name:"mermaid",version:"11.7.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.9",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^15.0.7",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",chokidar:"^4.0.3",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.0.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},ic=E(t=>{var i;const{securityLevel:e}=Re();let r=mt("body");if(e==="sandbox"){const s=((i=mt(`#i${t}`).node())==null?void 0:i.contentDocument)??document;r=mt(s.body)}return r.select(`#${t}`)},"selectSvgElement"),tz="comm",rz="rule",nz="decl",$4e="@import",z4e="@namespace",U4e="@keyframes",H4e="@layer",iz=Math.abs,O6=String.fromCharCode;function az(t){return t.trim()}function kb(t,e,r){return t.replace(e,r)}function G4e(t,e,r){return t.indexOf(e,r)}function yf(t,e){return t.charCodeAt(e)|0}function vf(t,e,r){return t.slice(e,r)}function rl(t){return t.length}function V4e(t){return t.length}function Cb(t,e){return e.push(t),t}var _b=1,bf=1,sz=0,Vs=0,Qn=0,xf="";function M6(t,e,r,n,i,a,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:_b,column:bf,length:s,return:"",siblings:o}}function q4e(){return Qn}function W4e(){return Qn=Vs>0?yf(xf,--Vs):0,bf--,Qn===10&&(bf=1,_b--),Qn}function vo(){return Qn=Vs<sz?yf(xf,Vs++):0,bf++,Qn===10&&(bf=1,_b++),Qn}function Zc(){return yf(xf,Vs)}function Ab(){return Vs}function Lb(t,e){return vf(xf,t,e)}function o1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y4e(t){return _b=bf=1,sz=rl(xf=t),Vs=0,[]}function X4e(t){return xf="",t}function P6(t){return az(Lb(Vs-1,B6(t===91?t+2:t===40?t+1:t)))}function K4e(t){for(;(Qn=Zc())&&Qn<33;)vo();return o1(t)>2||o1(Qn)>3?"":" "}function j4e(t,e){for(;--e&&vo()&&!(Qn<48||Qn>102||Qn>57&&Qn<65||Qn>70&&Qn<97););return Lb(t,Ab()+(e<6&&Zc()==32&&vo()==32))}function B6(t){for(;vo();)switch(Qn){case t:return Vs;case 34:case 39:t!==34&&t!==39&&B6(Qn);break;case 40:t===41&&B6(t);break;case 92:vo();break}return Vs}function Q4e(t,e){for(;vo()&&t+Qn!==57;)if(t+Qn===84&&Zc()===47)break;return"/*"+Lb(e,Vs-1)+"*"+O6(t===47?t:vo())}function Z4e(t){for(;!o1(Zc());)vo();return Lb(t,Vs)}function J4e(t){return X4e(Nb("",null,null,null,[""],t=Y4e(t),0,[0],t))}function Nb(t,e,r,n,i,a,s,o,l){for(var u=0,h=0,d=s,f=0,p=0,g=0,m=1,y=1,v=1,b=0,x="",T=i,w=a,S=n,k=x;y;)switch(g=b,b=vo()){case 40:if(g!=108&&yf(k,d-1)==58){G4e(k+=kb(P6(b),"&","&\f"),"&\f",iz(u?o[u-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:k+=P6(b);break;case 9:case 10:case 13:case 32:k+=K4e(g);break;case 92:k+=j4e(Ab()-1,7);continue;case 47:switch(Zc()){case 42:case 47:Cb(eTe(Q4e(vo(),Ab()),e,r,l),l),(o1(g||1)==5||o1(Zc()||1)==5)&&rl(k)&&vf(k,-1,void 0)!==" "&&(k+=" ");break;default:k+="/"}break;case 123*m:o[u++]=rl(k)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+h:v==-1&&(k=kb(k,/\f/g,"")),p>0&&(rl(k)-d||m===0&&g===47)&&Cb(p>32?lz(k+";",n,r,d-1,l):lz(kb(k," ","")+";",n,r,d-2,l),l);break;case 59:k+=";";default:if(Cb(S=oz(k,e,r,u,h,i,o,x,T=[],w=[],d,a),a),b===123)if(h===0)Nb(k,e,S,S,T,a,d,o,w);else{switch(f){case 99:if(yf(k,3)===110)break;case 108:if(yf(k,2)===97)break;default:h=0;case 100:case 109:case 115:}h?Nb(t,S,S,n&&Cb(oz(t,S,S,0,0,i,o,x,i,T=[],d,w),w),i,w,d,o,n?T:w):Nb(k,S,S,S,[""],w,0,o,w)}}u=h=p=0,m=v=1,x=k="",d=s;break;case 58:d=1+rl(k),p=g;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&W4e()==125)continue}switch(k+=O6(b),b*m){case 38:v=h>0?1:(k+="\f",-1);break;case 44:o[u++]=(rl(k)-1)*v,v=1;break;case 64:Zc()===45&&(k+=P6(vo())),f=Zc(),h=d=rl(x=k+=Z4e(Ab())),b++;break;case 45:g===45&&rl(k)==2&&(m=0)}}return a}function oz(t,e,r,n,i,a,s,o,l,u,h,d){for(var f=i-1,p=i===0?a:[""],g=V4e(p),m=0,y=0,v=0;m<n;++m)for(var b=0,x=vf(t,f+1,f=iz(y=s[m])),T=t;b<g;++b)(T=az(y>0?p[b]+" "+x:kb(x,/&\f/g,p[b])))&&(l[v++]=T);return M6(t,e,r,i===0?rz:o,l,u,h,d)}function eTe(t,e,r,n){return M6(t,e,r,tz,O6(q4e()),vf(t,2,-2),0,n)}function lz(t,e,r,n,i){return M6(t,e,r,nz,vf(t,0,n),vf(t,n+1,-1),n,i)}function F6(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function tTe(t,e,r,n){switch(t.type){case H4e:if(t.children.length)break;case $4e:case z4e:case nz:return t.return=t.return||t.value;case tz:return"";case U4e:return t.return=t.value+"{"+F6(t.children,n)+"}";case rz:if(!rl(t.value=t.props.join(",")))return""}return rl(r=F6(t.children,n))?t.return=t.value+"{"+r+"}":""}var rTe=nB(Object.keys,Object),nTe=Object.prototype,iTe=nTe.hasOwnProperty;function cz(t){if(!Ug(t))return rTe(t);var e=[];for(var r in Object(t))iTe.call(t,r)&&r!="constructor"&&e.push(r);return e}var $6=uh(Qo,"DataView"),z6=uh(Qo,"Promise"),Ef=uh(Qo,"Set"),U6=uh(Qo,"WeakMap"),uz="[object Map]",aTe="[object Object]",hz="[object Promise]",dz="[object Set]",fz="[object WeakMap]",pz="[object DataView]",sTe=ch($6),oTe=ch($g),lTe=ch(z6),cTe=ch(Ef),uTe=ch(U6),qs=Xl;($6&&qs(new $6(new ArrayBuffer(1)))!=pz||$g&&qs(new $g)!=uz||z6&&qs(z6.resolve())!=hz||Ef&&qs(new Ef)!=dz||U6&&qs(new U6)!=fz)&&(qs=function(t){var e=Xl(t),r=e==aTe?t.constructor:void 0,n=r?ch(r):"";if(n)switch(n){case sTe:return pz;case oTe:return uz;case lTe:return hz;case cTe:return dz;case uTe:return fz}return e});var hTe="[object Map]",dTe="[object Set]",fTe=Object.prototype,pTe=fTe.hasOwnProperty;function Hr(t){if(t==null)return!0;if(Zo(t)&&(Ar(t)||typeof t=="string"||typeof t.splice=="function"||uf(t)||K2(t)||cf(t)))return!t.length;var e=qs(t);if(e==hTe||e==dTe)return!t.size;if(Ug(t))return!cz(t).length;for(var r in t)if(pTe.call(t,r))return!1;return!0}var gz="c4",gTe=E(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),mTe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>S9e);return{id:gz,diagram:t}},"loader"),yTe={id:gz,detector:gTe,loader:mTe},vTe=yTe,mz="flowchart",bTe=E((t,e)=>{var r,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),xTe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>ck);return{id:mz,diagram:t}},"loader"),ETe={id:mz,detector:bTe,loader:xTe},TTe=ETe,yz="flowchart-v2",wTe=E((t,e)=>{var r,n,i;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),STe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>ck);return{id:yz,diagram:t}},"loader"),kTe={id:yz,detector:wTe,loader:STe},CTe=kTe,vz="er",_Te=E(t=>/^\s*erDiagram/.test(t),"detector"),ATe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>V9e);return{id:vz,diagram:t}},"loader"),LTe={id:vz,detector:_Te,loader:ATe},NTe=LTe,bz="gitGraph",RTe=E(t=>/^\s*gitGraph/.test(t),"detector"),ITe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>GBe);return{id:bz,diagram:t}},"loader"),DTe={id:bz,detector:RTe,loader:ITe},OTe=DTe,xz="gantt",MTe=E(t=>/^\s*gantt/.test(t),"detector"),PTe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>WFe);return{id:xz,diagram:t}},"loader"),BTe={id:xz,detector:MTe,loader:PTe},FTe=BTe,Ez="info",$Te=E(t=>/^\s*info/.test(t),"detector"),zTe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>e$e);return{id:Ez,diagram:t}},"loader"),UTe={id:Ez,detector:$Te,loader:zTe},Tz="pie",HTe=E(t=>/^\s*pie/.test(t),"detector"),GTe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>y$e);return{id:Tz,diagram:t}},"loader"),VTe={id:Tz,detector:HTe,loader:GTe},wz="quadrantChart",qTe=E(t=>/^\s*quadrantChart/.test(t),"detector"),WTe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>C$e);return{id:wz,diagram:t}},"loader"),YTe={id:wz,detector:qTe,loader:WTe},XTe=YTe,Sz="xychart",KTe=E(t=>/^\s*xychart-beta/.test(t),"detector"),jTe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>U$e);return{id:Sz,diagram:t}},"loader"),QTe={id:Sz,detector:KTe,loader:jTe},ZTe=QTe,kz="requirement",JTe=E(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),e3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>X$e);return{id:kz,diagram:t}},"loader"),t3e={id:kz,detector:JTe,loader:e3e},r3e=t3e,Cz="sequence",n3e=E(t=>/^\s*sequenceDiagram/.test(t),"detector"),i3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Rze);return{id:Cz,diagram:t}},"loader"),a3e={id:Cz,detector:n3e,loader:i3e},s3e=a3e,_z="class",o3e=E((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),l3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Bze);return{id:_z,diagram:t}},"loader"),c3e={id:_z,detector:o3e,loader:l3e},u3e=c3e,Az="classDiagram",h3e=E((t,e)=>{var r;return/^\s*classDiagram/.test(t)&&((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),d3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>$ze);return{id:Az,diagram:t}},"loader"),f3e={id:Az,detector:h3e,loader:d3e},p3e=f3e,Lz="state",g3e=E((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),m3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>AUe);return{id:Lz,diagram:t}},"loader"),y3e={id:Lz,detector:g3e,loader:m3e},v3e=y3e,Nz="stateDiagram",b3e=E((t,e)=>{var r;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),x3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>NUe);return{id:Nz,diagram:t}},"loader"),E3e={id:Nz,detector:b3e,loader:x3e},T3e=E3e,Rz="journey",w3e=E(t=>/^\s*journey/.test(t),"detector"),S3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>ZUe);return{id:Rz,diagram:t}},"loader"),k3e={id:Rz,detector:w3e,loader:S3e},C3e=k3e,_3e=E((t,e,r)=>{se.debug(`rendering svg for syntax error
`);const n=ic(e),i=n.append("g");n.attr("viewBox","0 0 2412 512"),qa(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),Iz={draw:_3e},A3e=Iz,L3e={db:{},renderer:Iz,parser:{parse:E(()=>{},"parse")}},N3e=L3e,Dz="flowchart-elk",R3e=E((t,e={})=>{var r;return/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),I3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>ck);return{id:Dz,diagram:t}},"loader"),D3e={id:Dz,detector:R3e,loader:I3e},O3e=D3e,Oz="timeline",M3e=E(t=>/^\s*timeline/.test(t),"detector"),P3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>xHe);return{id:Oz,diagram:t}},"loader"),B3e={id:Oz,detector:M3e,loader:P3e},F3e=B3e,Mz="mindmap",$3e=E(t=>/^\s*mindmap/.test(t),"detector"),z3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>NKe);return{id:Mz,diagram:t}},"loader"),U3e={id:Mz,detector:$3e,loader:z3e},H3e=U3e,Pz="kanban",G3e=E(t=>/^\s*kanban/.test(t),"detector"),V3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>jKe);return{id:Pz,diagram:t}},"loader"),q3e={id:Pz,detector:G3e,loader:V3e},W3e=q3e,Bz="sankey",Y3e=E(t=>/^\s*sankey-beta/.test(t),"detector"),X3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Oje);return{id:Bz,diagram:t}},"loader"),K3e={id:Bz,detector:Y3e,loader:X3e},j3e=K3e,Fz="packet",Q3e=E(t=>/^\s*packet-beta/.test(t),"detector"),Z3e=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>jje);return{id:Fz,diagram:t}},"loader"),J3e={id:Fz,detector:Q3e,loader:Z3e},$z="radar",ewe=E(t=>/^\s*radar-beta/.test(t),"detector"),twe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>yQe);return{id:$z,diagram:t}},"loader"),rwe={id:$z,detector:ewe,loader:twe},zz="block",nwe=E(t=>/^\s*block-beta/.test(t),"detector"),iwe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>GZe);return{id:zz,diagram:t}},"loader"),awe={id:zz,detector:nwe,loader:iwe},swe=awe,Uz="architecture",owe=E(t=>/^\s*architecture/.test(t),"detector"),lwe=E(async()=>{const{diagram:t}=await Promise.resolve().then(()=>NJe);return{id:Uz,diagram:t}},"loader"),cwe={id:Uz,detector:owe,loader:lwe},uwe=cwe,Hz=!1,Rb=E(()=>{Hz||(Hz=!0,Xv("error",N3e,t=>t.toLowerCase().trim()==="error"),Xv("---",{db:{clear:E(()=>{},"clear")},styles:{},renderer:{draw:E(()=>{},"draw")},parser:{parse:E(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:E(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),mw(O3e,H3e,uwe),mw(vTe,W3e,p3e,u3e,NTe,FTe,UTe,VTe,r3e,s3e,CTe,TTe,F3e,OTe,T3e,v3e,C3e,XTe,j3e,J3e,ZTe,swe,rwe))},"addDiagrams"),hwe=E(async()=>{se.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Fd).map(async([r,{detector:n,loader:i}])=>{if(i)try{Cw(r)}catch{try{const{diagram:a,id:s}=await i();Xv(s,a,n)}catch(a){throw se.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Fd[r],a}}}))).filter(r=>r.status==="rejected");if(e.length>0){se.error(`Failed to load ${e.length} external diagrams`);for(const r of e)se.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),dwe="graphics-document document";function Gz(t,e){t.attr("role",dwe),e!==""&&t.attr("aria-roledescription",e)}E(Gz,"setA11yDiagramInfo");function Vz(t,e,r,n){if(t.insert!==void 0){if(r){const i=`chart-desc-${n}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(r)}if(e){const i=`chart-title-${n}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}E(Vz,"addSVGa11yTitleDescription");var H6=(md=class{constructor(e,r,n,i,a){this.type=e,this.text=r,this.db=n,this.parser=i,this.renderer=a}static async fromText(e,r={}){var u,h;const n=qr(),i=gw(e,n);e=yxe(e)+`
`;try{Cw(i)}catch{const d=lfe(i);if(!d)throw new DI(`Diagram ${i} not found.`);const{id:f,diagram:p}=await d();Xv(f,p)}const{db:a,parser:s,renderer:o,init:l}=Cw(i);return s.parser&&(s.parser.yy=a),(u=a.clear)==null||u.call(a),l==null||l(n),r.title&&((h=a.setDiagramTitle)==null||h.call(a,r.title)),await s.parse(e),new md(i,e,a,s,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},E(md,"Diagram"),md),qz=[],fwe=E(()=>{qz.forEach(t=>{t()}),qz=[]},"attachFunctions"),pwe=E(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function Wz(t){const e=t.match(II);if(!e)return{text:t,metadata:{}};let r=Qw(e[1],{schema:jw})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}E(Wz,"extractFrontMatter");var gwe=E(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),mwe=E(t=>{const{text:e,metadata:r}=Wz(t),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:e}},"processFrontmatter"),ywe=E(t=>{const e=dr.detectInit(t)??{},r=dr.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:oxe(t),directive:e}},"processDirectives");function G6(t){const e=gwe(t),r=mwe(e),n=ywe(r.text),i=bs(r.config,n.directive);return t=pwe(n.text),{code:t,title:r.title,config:i}}E(G6,"preprocessDiagram");function Yz(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}E(Yz,"toBase64");var vwe=5e4,bwe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",xwe="sandbox",Ewe="loose",Twe="http://www.w3.org/2000/svg",wwe="http://www.w3.org/1999/xlink",Swe="http://www.w3.org/1999/xhtml",kwe="100%",Cwe="100%",_we="border:0;margin:0;",Awe="margin:0",Lwe="allow-top-navigation-by-user-activation allow-popups",Nwe='The "iframe" tag is not supported by your browser.',Rwe=["foreignobject"],Iwe=["dominant-baseline"];function V6(t){const e=G6(t);return Vv(),wfe(e.config??{}),e}E(V6,"processAndSetConfigs");async function Xz(t,e){Rb();try{const{code:r,config:n}=V6(t);return{diagramType:(await Zz(r)).type,config:n}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}E(Xz,"parse");var Kz=E((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),Dwe=E((t,e=new Map)=>{var n;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{Hr(l.styles)||o.forEach(u=>{r+=Kz(l.id,u,l.styles)}),Hr(l.textStyles)||(r+=Kz(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(u=>u.replace("color","fill"))))})}return r},"createCssStyles"),Owe=E((t,e,r,n)=>{const i=Dwe(t,r),a=zfe(e,i,t.themeVariables);return F6(J4e(`${n}{${a}}`),tTe)},"createUserStyles"),Mwe=E((t="",e,r)=>{let n=t;return!r&&!e&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Jo(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),Pwe=E((t="",e)=>{var i,a;const r=(a=(i=e==null?void 0:e.viewBox)==null?void 0:i.baseVal)!=null&&a.height?e.viewBox.baseVal.height+"px":Cwe,n=Yz(`<body style="${Awe}">${t}</body>`);return`<iframe style="width:${kwe};height:${r};${_we}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${Lwe}">
  ${Nwe}
</iframe>`},"putIntoIFrame"),jz=E((t,e,r,n,i)=>{const a=t.append("div");a.attr("id",r),n&&a.attr("style",n);const s=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Twe);return i&&s.attr("xmlns:xlink",i),s.append("g"),t},"appendDivSvgG");function q6(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}E(q6,"sandboxedIframe");var Bwe=E((t,e,r,n)=>{var i,a,s;(i=t.getElementById(e))==null||i.remove(),(a=t.getElementById(r))==null||a.remove(),(s=t.getElementById(n))==null||s.remove()},"removeExistingElements"),Fwe=E(async function(t,e,r){var D,P,A,R,O,M;Rb();const n=V6(e);e=n.code;const i=qr();se.debug(i),e.length>((i==null?void 0:i.maxTextSize)??vwe)&&(e=bwe);const a="#"+t,s="i"+t,o="#"+s,l="d"+t,u="#"+l,h=E(()=>{const F=mt(f?o:u).node();F&&"remove"in F&&F.remove()},"removeTempElements");let d=mt("body");const f=i.securityLevel===xwe,p=i.securityLevel===Ewe,g=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){const I=q6(mt(r),s);d=mt(I.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=mt(r);jz(d,t,l,`font-family: ${g}`,wwe)}else{if(Bwe(document,t,l,s),f){const I=q6(mt("body"),s);d=mt(I.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=mt("body");jz(d,t,l)}let m,y;try{m=await H6.fromText(e,{title:n.title})}catch(I){if(i.suppressErrorRendering)throw h(),I;m=await H6.fromText("error"),y=I}const v=d.select(u).node(),b=m.type,x=v.firstChild,T=x.firstChild,w=(P=(D=m.renderer).getClasses)==null?void 0:P.call(D,e,m),S=Owe(i,b,w,a),k=document.createElement("style");k.innerHTML=S,x.insertBefore(k,T);try{await m.renderer.draw(e,t,D6.version,m)}catch(I){throw i.suppressErrorRendering?h():A3e.draw(e,t,D6.version),I}const L=d.select(`${u} svg`),_=(R=(A=m.db).getAccTitle)==null?void 0:R.call(A),N=(M=(O=m.db).getAccDescription)==null?void 0:M.call(O);Jz(b,L,_,N),d.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Swe);let C=d.select(u).node().innerHTML;if(se.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),C=Mwe(C,f,tn(i.arrowMarkerAbsolute)),f){const I=d.select(u+" svg").node();C=Pwe(C,I)}else p||(C=Bd.sanitize(C,{ADD_TAGS:Rwe,ADD_ATTR:Iwe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(fwe(),y)throw y;return h(),{diagramType:b,svg:C,bindFunctions:m.db.bindFunctions}},"render");function Qz(t={}){var n;const e=ai({},t);e!=null&&e.fontFamily&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Efe(e),e!=null&&e.theme&&e.theme in $l?e.themeVariables=$l[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=$l.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?xfe(e):FI();pw(r.logLevel),Rb()}E(Qz,"initialize");var Zz=E((t,e={})=>{const{code:r}=G6(t);return H6.fromText(r,e)},"getDiagramFromText");function Jz(t,e,r,n){Gz(e,t),Vz(e,r,n,e.attr("id"))}E(Jz,"addA11yInfo");var yh=Object.freeze({render:Fwe,parse:Xz,getDiagramFromText:Zz,initialize:Qz,getConfig:qr,setConfig:$I,getSiteConfig:FI,updateSiteConfig:Tfe,reset:E(()=>{Vv()},"reset"),globalReset:E(()=>{Vv($d)},"globalReset"),defaultConfig:$d});pw(qr().logLevel),Vv(qr());var $we=E((t,e,r)=>{se.warn(t),e6(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),eU=E(async function(t={querySelector:".mermaid"}){try{await zwe(t)}catch(e){if(e6(e)&&se.error(e.str),Es.parseError&&Es.parseError(e),!t.suppressErrors)throw se.error("Use the suppressErrors option to suppress these errors"),e}},"run"),zwe=E(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=yh.getConfig();se.debug(`${t?"":"No "}Callback function found`);let i;if(r)i=r;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");se.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(se.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),yh.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new dr.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let s;const o=[];for(const l of Array.from(i)){if(se.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=l.innerHTML,s=QB(dr.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=dr.detectInit(s);h&&se.debug("Detected early reinit: ",h);try{const{svg:d,bindFunctions:f}=await iU(u,s,l);l.innerHTML=d,t&&await t(u),f&&f(l)}catch(d){$we(d,o,Es.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),tU=E(function(t){yh.initialize(t)},"initialize"),Uwe=E(async function(t,e,r){se.warn("mermaid.init is deprecated. Please use run instead."),t&&tU(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await eU(n)},"init"),Hwe=E(async(t,{lazyLoad:e=!0}={})=>{Rb(),mw(...t),e===!1&&await hwe()},"registerExternalDiagrams"),rU=E(function(){if(Es.startOnLoad){const{startOnLoad:t}=yh.getConfig();t&&Es.run().catch(e=>se.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",rU,!1);var Gwe=E(function(t){Es.parseError=t},"setParseErrorHandler"),Ib=[],W6=!1,nU=E(async()=>{if(!W6){for(W6=!0;Ib.length>0;){const t=Ib.shift();if(t)try{await t()}catch(e){se.error("Error executing queue",e)}}W6=!1}},"executeQueue"),Vwe=E(async(t,e)=>new Promise((r,n)=>{const i=E(()=>new Promise((a,s)=>{yh.parse(t,e).then(o=>{a(o),r(o)},o=>{var l;se.error("Error parsing",o),(l=Es.parseError)==null||l.call(Es,o),s(o),n(o)})}),"performCall");Ib.push(i),nU().catch(n)}),"parse"),iU=E((t,e,r)=>new Promise((n,i)=>{const a=E(()=>new Promise((s,o)=>{yh.render(t,e,r).then(l=>{s(l),n(l)},l=>{var u;se.error("Error parsing",l),(u=Es.parseError)==null||u.call(Es,l),o(l),i(l)})}),"performCall");Ib.push(a),nU().catch(i)}),"render"),Es={startOnLoad:!0,mermaidAPI:yh,parse:Vwe,render:iU,init:Uwe,run:eU,registerExternalDiagrams:Hwe,registerLayoutLoaders:ez,initialize:tU,parseError:void 0,contentLoaded:rU,setParseErrorHandler:Gwe,detectType:gw,registerIconPacks:eF},qwe=Es;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const Wwe=new DOMParser,Ywe=new XMLSerializer;function aU(t,e){const r=t.getAttribute(e);if(!r)return;let n="";for(const i of r.split(/\s+/)){const a=t.getElementById(i);a&&(n+=a.textContent)}return n}let sU=0;const Xwe=async(t,e)=>{const r=document.createElement("div");r.ariaHidden="true",r.style.maxHeight="0",r.style.opacity="0",r.style.overflow="hidden",e!=null&&e.containerStyle&&Object.assign(r.style,e.containerStyle),document.body.append(r);const n=await Promise.allSettled(t.map(async i=>{const a=`${(e==null?void 0:e.prefix)??"mermaid"}-${sU}`;sU+=1;const{svg:s}=await qwe.render(a,i,r),o=Wwe.parseFromString(s,"text/html"),[l]=o.getElementsByTagName("svg"),{height:u,width:h}=l.viewBox.baseVal,d=aU(l,"aria-describedby"),f=aU(l,"aria-labelledby"),p={height:u,id:a,svg:Ywe.serializeToString(l),width:h};return d&&(p.description=d),f&&(p.title=f),p}));return r.remove(),n},Kwe=()=>Xwe;var Y6,oU;function jwe(){return oU||(oU=1,Y6={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi}),Y6}var X6,lU;function Qwe(){if(lU)return X6;lU=1;var t=jwe(),e={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function r(o){return o.trim().replace(e.whitespace," ")}function n(o){return encodeURIComponent(o).replace(e.urlHexPairs,a)}function i(o){return Object.keys(t).forEach(function(l){t[l].test(o)&&(o=o.replace(t[l],l))}),o}function a(o){switch(o){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return o.toLowerCase()}}function s(o){if(typeof o!="string")throw new TypeError("Expected a string, but received "+typeof o);o.charCodeAt(0)===65279&&(o=o.slice(1));var l=i(r(o)).replace(e.quotes,"'");return"data:image/svg+xml,"+n(l)}return s.toSrcset=function(l){return s(l).replace(/ /g,"%20")},X6=s,X6}var Zwe=Qwe();const cU=Pl(Zwe),Jwe=/\w/,uU=["img-png","img-svg","inline-svg","pre-mermaid"];function e5e(t="inline-svg"){if(uU.includes(t))return t;throw new Error(`Expected strategy to be one of ${uU.join(", ")}, got: ${t}`)}function t5e(t,e){var i;let r;if(t.tagName==="pre"){if(e==="pre-mermaid")return!1;r="mermaid"}else if(t.tagName==="code")r="language-mermaid";else return!1;let n=(i=t.properties)==null?void 0:i.className;return typeof n=="string"&&(n=Sv(n)),Array.isArray(n)?n.includes(r):!1}function hU(t,e){return t.screenshot?`data:image/png;base64,${t.screenshot.toString("base64")}`:e?cU.toSrcset(t.svg):cU(t.svg)}function r5e(t){return t==="dark"?"light":"dark"}function n5e(t,e,r){let n,i;r==="dark"?(n=e||t,i=t):(n=t,i=e);const a={type:"element",tagName:"img",properties:{alt:n.description||"",height:n.height,id:n.id,src:hU(n),title:n.title,width:n.width},children:[]};return e?{type:"element",tagName:"picture",properties:{},children:[{type:"element",tagName:"source",properties:{height:i.height,id:i.id,media:`(prefers-color-scheme: ${r5e(r)})`,srcset:hU(i,!0),width:i.width},children:[]},a]}:a}function dU(t,e,r,n){const{ancestors:i,diagram:a}=e;if(n!=null&&n.errorFallback)return n.errorFallback(i.at(-1),a,t,r);const s=r.message(t,{ruleId:"rehype-mermaid",source:"rehype-mermaid",ancestors:i});throw s.fatal=!0,s.url="https://github.com/remcohaszing/rehype-mermaid",s}function i5e(t){if(typeof t.properties.content!="string")return;const e=Sv(t.properties.content);for(const r of e)if(r==="light"||r==="dark")return r}const a5e=t=>{const e=e5e(t==null?void 0:t.strategy),r=Kwe();let n=t==null?void 0:t.colorScheme;return(i,a)=>{const s=[];if(Op(i,"element",(l,u)=>{if(!n&&l.tagName==="meta"&&l.properties.name==="color-scheme"&&(n=i5e(l)),!t5e(l,e))return;const h=u.at(-1);let d=u;if(h.type==="element"&&h.tagName==="pre"){for(const f of h.children)if(f.type==="text"){if(Jwe.test(f.value))return}else if(f!==l)return}else d=[...d,l];s.push({diagram:Z3(l,{whitespace:"pre"}),ancestors:d})}),!s.length)return;if(e==="pre-mermaid"){for(const{ancestors:l,diagram:u}of s){const h=l.at(-2),d=l.at(-1);h.children[h.children.indexOf(d)]={type:"element",tagName:"pre",properties:{className:["mermaid"]},children:[{type:"text",value:u}]}}return}const o=[r(s.map(l=>l.diagram),{...t,screenshot:e==="img-png"})];return t!=null&&t.dark&&o.push(r(s.map(l=>l.diagram),{...t,screenshot:e==="img-png",mermaidConfig:t.dark===!0?{theme:"dark"}:t.dark,prefix:`${t.prefix||"mermaid"}-dark`})),Promise.all(o).then(([l,u])=>{for(const[h,d]of s.entries()){const f=l[h],p=u==null?void 0:u[h];let g;f.status==="rejected"?g=dU(f.reason,d,a,t):(p==null?void 0:p.status)==="rejected"?g=dU(p.reason,d,a,t):e==="inline-svg"?g=CR(f.value.svg,{fragment:!0}).children[0]:g=n5e(f.value,p==null?void 0:p.value,n);const{ancestors:m}=d,y=m.at(-1),v=m.at(-2),b=v.children.indexOf(y);g?v.children[b]=g:v.children.splice(b,1)}})}};function s5e(t){const e=String(t),r=[];return{toOffset:i,toPoint:n};function n(a){if(typeof a=="number"&&a>-1&&a<=e.length){let s=0;for(;;){let o=r[s];if(o===void 0){const l=fU(e,r[s-1]);o=l===-1?e.length+1:l+1,r[s]=o}if(o>a)return{line:s+1,column:a-(s>0?r[s-1]:0)+1,offset:a};s++}}}function i(a){if(a&&typeof a.line=="number"&&typeof a.column=="number"&&!Number.isNaN(a.line)&&!Number.isNaN(a.column)){for(;r.length<a.line;){const o=r[r.length-1],l=fU(e,o),u=l===-1?e.length+1:l+1;if(o===u)break;r.push(u)}const s=(a.line>1?r[a.line-2]:0)+a.column-1;if(s<r[a.line-1])return s}}}function fU(t,e){const r=t.indexOf("\r",e),n=t.indexOf(`
`,e);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const pU={}.hasOwnProperty,o5e=Object.prototype;function l5e(t,e){const r=e||{};return K6({file:r.file||void 0,location:!1,schema:r.space==="svg"?Kp:wv,verbose:r.verbose||!1},t)}function K6(t,e){let r;switch(e.nodeName){case"#comment":{const n=e;return r={type:"comment",value:n.data},Db(t,n,r),r}case"#document":case"#document-fragment":{const n=e,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:gU(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const a=String(t.file),s=s5e(a),o=s.toPoint(0),l=s.toPoint(a.length);r.position={start:o,end:l}}return r}case"#documentType":{const n=e;return r={type:"doctype"},Db(t,n,r),r}case"#text":{const n=e;return r={type:"text",value:n.value},Db(t,n,r),r}default:return r=c5e(t,e),r}}function gU(t,e){let r=-1;const n=[];for(;++r<e.length;){const i=K6(t,e[r]);n.push(i)}return n}function c5e(t,e){const r=t.schema;t.schema=e.namespaceURI===Go.svg?Kp:wv;let n=-1;const i={};for(;++n<e.attrs.length;){const o=e.attrs[n],l=(o.prefix?o.prefix+":":"")+o.name;pU.call(o5e,l)||(i[l]=o.value)}const s=(t.schema.space==="svg"?TR:Gu)(e.tagName,i,gU(t,e.childNodes));if(Db(t,e,s),s.tagName==="template"){const o=e,l=o.sourceCodeLocation,u=l&&l.startTag&&Tf(l.startTag),h=l&&l.endTag&&Tf(l.endTag),d=K6(t,o.content);u&&h&&t.file&&(d.position={start:u.end,end:h.start}),s.content=d}return t.schema=r,s}function Db(t,e,r){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const n=u5e(t,r,e.sourceCodeLocation);n&&(t.location=!0,r.position=n)}}function u5e(t,e,r){const n=Tf(r);if(e.type==="element"){const i=e.children[e.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),t.verbose){const a={};let s;if(r.attrs)for(s in r.attrs)pU.call(r.attrs,s)&&(a[Y3(t.schema,s).property]=Tf(r.attrs[s]));r.startTag;const o=Tf(r.startTag),l=r.endTag?Tf(r.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=a,e.data={position:u}}}return n}function Tf(t){const e=mU({line:t.startLine,column:t.startCol,offset:t.startOffset}),r=mU({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||r?{start:e,end:r}:void 0}function mU(t){return t.line&&t.column?t:void 0}class l1{constructor(e,r,n){this.property=e,this.normal=r,n&&(this.space=n)}}l1.prototype.property={},l1.prototype.normal={},l1.prototype.space=null;function yU(t,e){const r={},n={};let i=-1;for(;++i<t.length;)Object.assign(r,t[i].property),Object.assign(n,t[i].normal);return new l1(r,n,e)}function j6(t){return t.toLowerCase()}let Ws=class{constructor(e,r){this.property=e,this.attribute=r}};Ws.prototype.space=null,Ws.prototype.boolean=!1,Ws.prototype.booleanish=!1,Ws.prototype.overloadedBoolean=!1,Ws.prototype.number=!1,Ws.prototype.commaSeparated=!1,Ws.prototype.spaceSeparated=!1,Ws.prototype.commaOrSpaceSeparated=!1,Ws.prototype.mustUseProperty=!1,Ws.prototype.defined=!1;let h5e=0;const pr=vh(),Zn=vh(),vU=vh(),St=vh(),gn=vh(),wf=vh(),Ts=vh();function vh(){return 2**++h5e}const Q6=Object.freeze(Object.defineProperty({__proto__:null,boolean:pr,booleanish:Zn,commaOrSpaceSeparated:Ts,commaSeparated:wf,number:St,overloadedBoolean:vU,spaceSeparated:gn},Symbol.toStringTag,{value:"Module"})),Z6=Object.keys(Q6);class J6 extends Ws{constructor(e,r,n,i){let a=-1;if(super(e,r),bU(this,"space",i),typeof n=="number")for(;++a<Z6.length;){const s=Z6[a];bU(this,Z6[a],(n&Q6[s])===Q6[s])}}}J6.prototype.defined=!0;function bU(t,e,r){r&&(t[e]=r)}const d5e={}.hasOwnProperty;function Sf(t){const e={},r={};let n;for(n in t.properties)if(d5e.call(t.properties,n)){const i=t.properties[n],a=new J6(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),e[n]=a,r[j6(n)]=n,r[j6(a.attribute)]=n}return new l1(e,r,t.space)}const xU=Sf({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),EU=Sf({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function TU(t,e){return e in t?t[e]:e}function wU(t,e){return TU(t,e.toLowerCase())}const SU=Sf({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:wU,properties:{xmlns:null,xmlnsXLink:null}}),kU=Sf({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Zn,ariaAutoComplete:null,ariaBusy:Zn,ariaChecked:Zn,ariaColCount:St,ariaColIndex:St,ariaColSpan:St,ariaControls:gn,ariaCurrent:null,ariaDescribedBy:gn,ariaDetails:null,ariaDisabled:Zn,ariaDropEffect:gn,ariaErrorMessage:null,ariaExpanded:Zn,ariaFlowTo:gn,ariaGrabbed:Zn,ariaHasPopup:null,ariaHidden:Zn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gn,ariaLevel:St,ariaLive:null,ariaModal:Zn,ariaMultiLine:Zn,ariaMultiSelectable:Zn,ariaOrientation:null,ariaOwns:gn,ariaPlaceholder:null,ariaPosInSet:St,ariaPressed:Zn,ariaReadOnly:Zn,ariaRelevant:null,ariaRequired:Zn,ariaRoleDescription:gn,ariaRowCount:St,ariaRowIndex:St,ariaRowSpan:St,ariaSelected:Zn,ariaSetSize:St,ariaSort:null,ariaValueMax:St,ariaValueMin:St,ariaValueNow:St,ariaValueText:null,role:null}}),f5e=Sf({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:wU,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wf,acceptCharset:gn,accessKey:gn,action:null,allow:null,allowFullScreen:pr,allowPaymentRequest:pr,allowUserMedia:pr,alt:null,as:null,async:pr,autoCapitalize:null,autoComplete:gn,autoFocus:pr,autoPlay:pr,blocking:gn,capture:null,charSet:null,checked:pr,cite:null,className:gn,cols:St,colSpan:null,content:null,contentEditable:Zn,controls:pr,controlsList:gn,coords:St|wf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pr,defer:pr,dir:null,dirName:null,disabled:pr,download:vU,draggable:Zn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pr,formTarget:null,headers:gn,height:St,hidden:pr,high:St,href:null,hrefLang:null,htmlFor:gn,httpEquiv:gn,id:null,imageSizes:null,imageSrcSet:null,inert:pr,inputMode:null,integrity:null,is:null,isMap:pr,itemId:null,itemProp:gn,itemRef:gn,itemScope:pr,itemType:gn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pr,low:St,manifest:null,max:null,maxLength:St,media:null,method:null,min:null,minLength:St,multiple:pr,muted:pr,name:null,nonce:null,noModule:pr,noValidate:pr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pr,optimum:St,pattern:null,ping:gn,placeholder:null,playsInline:pr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pr,referrerPolicy:null,rel:gn,required:pr,reversed:pr,rows:St,rowSpan:St,sandbox:gn,scope:null,scoped:pr,seamless:pr,selected:pr,shadowRootClonable:pr,shadowRootDelegatesFocus:pr,shadowRootMode:null,shape:null,size:St,sizes:null,slot:null,span:St,spellCheck:Zn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:St,step:null,style:null,tabIndex:St,target:null,title:null,translate:null,type:null,typeMustMatch:pr,useMap:null,value:Zn,width:St,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gn,axis:null,background:null,bgColor:null,border:St,borderColor:null,bottomMargin:St,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pr,declare:pr,event:null,face:null,frame:null,frameBorder:null,hSpace:St,leftMargin:St,link:null,longDesc:null,lowSrc:null,marginHeight:St,marginWidth:St,noResize:pr,noHref:pr,noShade:pr,noWrap:pr,object:null,profile:null,prompt:null,rev:null,rightMargin:St,rules:null,scheme:null,scrolling:Zn,standby:null,summary:null,text:null,topMargin:St,valueType:null,version:null,vAlign:null,vLink:null,vSpace:St,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pr,disableRemotePlayback:pr,prefix:null,property:null,results:St,security:null,unselectable:null}}),p5e=Sf({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:TU,properties:{about:Ts,accentHeight:St,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:St,amplitude:St,arabicForm:null,ascent:St,attributeName:null,attributeType:null,azimuth:St,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:St,by:null,calcMode:null,capHeight:St,className:gn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:St,diffuseConstant:St,direction:null,display:null,dur:null,divisor:St,dominantBaseline:null,download:pr,dx:null,dy:null,edgeMode:null,editable:null,elevation:St,enableBackground:null,end:null,event:null,exponent:St,externalResourcesRequired:null,fill:null,fillOpacity:St,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wf,g2:wf,glyphName:wf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:St,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:St,horizOriginX:St,horizOriginY:St,id:null,ideographic:St,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:St,k:St,k1:St,k2:St,k3:St,k4:St,kernelMatrix:Ts,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:St,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:St,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:St,overlineThickness:St,paintOrder:null,panose1:null,path:null,pathLength:St,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:St,pointsAtY:St,pointsAtZ:St,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ts,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ts,rev:Ts,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ts,requiredFeatures:Ts,requiredFonts:Ts,requiredFormats:Ts,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:St,specularExponent:St,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:St,strikethroughThickness:St,string:null,stroke:null,strokeDashArray:Ts,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:St,strokeOpacity:St,strokeWidth:null,style:null,surfaceScale:St,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ts,tabIndex:St,tableValues:null,target:null,targetX:St,targetY:St,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ts,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:St,underlineThickness:St,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:St,values:null,vAlphabetic:St,vMathematical:St,vectorEffect:null,vHanging:St,vIdeographic:St,version:null,vertAdvY:St,vertOriginX:St,vertOriginY:St,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:St,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),g5e=/^data[-\w.:]+$/i,CU=/-[a-z]/g,m5e=/[A-Z]/g;function y5e(t,e){const r=j6(e);let n=e,i=Ws;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&g5e.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(CU,b5e);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!CU.test(a)){let s=a.replace(m5e,v5e);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=J6}return new i(n,e)}function v5e(t){return"-"+t.toLowerCase()}function b5e(t){return t.charAt(1).toUpperCase()}const x5e=yU([EU,xU,SU,kU,f5e],"html"),_U=yU([EU,xU,SU,kU,p5e],"svg"),E5e={},T5e={}.hasOwnProperty,AU=UT("type",{handlers:{root:S5e,element:L5e,text:_5e,comment:A5e,doctype:C5e}});function w5e(t,e){const n=(e||E5e).space;return AU(t,n==="svg"?_U:x5e)}function S5e(t,e){const r={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=eS(t.children,r,e),kf(t,r),r}function k5e(t,e){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=eS(t.children,r,e),kf(t,r),r}function C5e(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return kf(t,e),e}function _5e(t){const e={nodeName:"#text",value:t.value,parentNode:null};return kf(t,e),e}function A5e(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return kf(t,e),e}function L5e(t,e){const r=e;let n=r;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=_U);const i=[];let a;if(t.properties){for(a in t.properties)if(a!=="children"&&T5e.call(t.properties,a)){const l=N5e(n,a,t.properties[a]);l&&i.push(l)}}const s=n.space,o={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:Go[s],childNodes:[],parentNode:null};return o.childNodes=eS(t.children,o,n),kf(t,o),t.tagName==="template"&&t.content&&(o.content=k5e(t.content,n)),o}function N5e(t,e,r){const n=y5e(t,e);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?yR(r):bR(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const a=i.name.indexOf(":");a<0?i.prefix="":(i.name=i.name.slice(a+1),i.prefix=n.attribute.slice(0,a)),i.namespace=Go[n.space]}return i}function eS(t,e,r){let n=-1;const i=[];if(t)for(;++n<t.length;){const a=AU(t[n],r);a.parentNode=e,i.push(a)}return i}function kf(t,e){const r=t.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,e.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const LU=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],R5e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),kn="�";var be;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(be||(be={}));const ja={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function NU(t){return t>=55296&&t<=57343}function I5e(t){return t>=56320&&t<=57343}function D5e(t,e){return(t-55296)*1024+9216+e}function RU(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function IU(t){return t>=64976&&t<=65007||R5e.has(t)}var nt;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(nt||(nt={}));const O5e=65536;class M5e{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=O5e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,r){const{line:n,col:i,offset:a}=this,s=i+r,o=a+r;return{code:e,startLine:n,endLine:n,startCol:s,endCol:s,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(I5e(r))return this.pos++,this._addGap(),D5e(e,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,be.EOF;return this._err(nt.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,r){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,r){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==e.charCodeAt(n))return!1;return!0}peek(e){const r=this.pos+e;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,be.EOF;const n=this.html.charCodeAt(r);return n===be.CARRIAGE_RETURN?be.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,be.EOF;let e=this.html.charCodeAt(this.pos);return e===be.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,be.LINE_FEED):e===be.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,NU(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===be.LINE_FEED||e===be.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){RU(e)?this._err(nt.controlCharacterInInputStream):IU(e)&&this._err(nt.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var kr;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(kr||(kr={}));function DU(t,e){for(let r=t.attrs.length-1;r>=0;r--)if(t.attrs[r].name===e)return t.attrs[r].value;return null}const P5e=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),B5e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function F5e(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=B5e.get(t))!==null&&e!==void 0?e:t}var Li;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Li||(Li={}));const $5e=32;var Jc;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Jc||(Jc={}));function tS(t){return t>=Li.ZERO&&t<=Li.NINE}function z5e(t){return t>=Li.UPPER_A&&t<=Li.UPPER_F||t>=Li.LOWER_A&&t<=Li.LOWER_F}function U5e(t){return t>=Li.UPPER_A&&t<=Li.UPPER_Z||t>=Li.LOWER_A&&t<=Li.LOWER_Z||tS(t)}function H5e(t){return t===Li.EQUALS||U5e(t)}var Ni;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Ni||(Ni={}));var ac;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(ac||(ac={}));class G5e{constructor(e,r,n){this.decodeTree=e,this.emitCodePoint=r,this.errors=n,this.state=Ni.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ac.Strict}startEntity(e){this.decodeMode=e,this.state=Ni.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case Ni.EntityStart:return e.charCodeAt(r)===Li.NUM?(this.state=Ni.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=Ni.NamedEntity,this.stateNamedEntity(e,r));case Ni.NumericStart:return this.stateNumericStart(e,r);case Ni.NumericDecimal:return this.stateNumericDecimal(e,r);case Ni.NumericHex:return this.stateNumericHex(e,r);case Ni.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(e.charCodeAt(r)|$5e)===Li.LOWER_X?(this.state=Ni.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=Ni.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,n,i){if(r!==n){const a=n-r;this.result=this.result*Math.pow(i,a)+Number.parseInt(e.substr(r,a),i),this.consumed+=a}}stateNumericHex(e,r){const n=r;for(;r<e.length;){const i=e.charCodeAt(r);if(tS(i)||z5e(i))r+=1;else return this.addToNumericResult(e,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,n,r,16),-1}stateNumericDecimal(e,r){const n=r;for(;r<e.length;){const i=e.charCodeAt(r);if(tS(i))r+=1;else return this.addToNumericResult(e,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,n,r,10),-1}emitNumericEntity(e,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Li.SEMI)this.consumed+=1;else if(this.decodeMode===ac.Strict)return 0;return this.emitCodePoint(F5e(this.result),this.consumed),this.errors&&(e!==Li.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){const{decodeTree:n}=this;let i=n[this.treeIndex],a=(i&Jc.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){const s=e.charCodeAt(r);if(this.treeIndex=V5e(n,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===ac.Attribute&&(a===0||H5e(s))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],a=(i&Jc.VALUE_LENGTH)>>14,a!==0){if(s===Li.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==ac.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:r,decodeTree:n}=this,i=(n[r]&Jc.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[e]&~Jc.VALUE_LENGTH:i[e+1],n),r===3&&this.emitCodePoint(i[e+2],n),n}end(){var e;switch(this.state){case Ni.NamedEntity:return this.result!==0&&(this.decodeMode!==ac.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ni.NumericDecimal:return this.emitNumericEntity(0,2);case Ni.NumericHex:return this.emitNumericEntity(0,3);case Ni.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ni.EntityStart:return 0}}}function V5e(t,e,r,n){const i=(e&Jc.BRANCH_LENGTH)>>7,a=e&Jc.JUMP_TABLE;if(i===0)return a!==0&&n===a?r:-1;if(a){const l=n-a;return l<0||l>=i?-1:t[r+l]-1}let s=r,o=s+i-1;for(;s<=o;){const l=s+o>>>1,u=t[l];if(u<n)s=l+1;else if(u>n)o=l-1;else return t[l+i]}return-1}var yt;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(yt||(yt={}));var bh;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(bh||(bh={}));var Ys;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Ys||(Ys={}));var qe;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(qe||(qe={}));var z;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(z||(z={}));const q5e=new Map([[qe.A,z.A],[qe.ADDRESS,z.ADDRESS],[qe.ANNOTATION_XML,z.ANNOTATION_XML],[qe.APPLET,z.APPLET],[qe.AREA,z.AREA],[qe.ARTICLE,z.ARTICLE],[qe.ASIDE,z.ASIDE],[qe.B,z.B],[qe.BASE,z.BASE],[qe.BASEFONT,z.BASEFONT],[qe.BGSOUND,z.BGSOUND],[qe.BIG,z.BIG],[qe.BLOCKQUOTE,z.BLOCKQUOTE],[qe.BODY,z.BODY],[qe.BR,z.BR],[qe.BUTTON,z.BUTTON],[qe.CAPTION,z.CAPTION],[qe.CENTER,z.CENTER],[qe.CODE,z.CODE],[qe.COL,z.COL],[qe.COLGROUP,z.COLGROUP],[qe.DD,z.DD],[qe.DESC,z.DESC],[qe.DETAILS,z.DETAILS],[qe.DIALOG,z.DIALOG],[qe.DIR,z.DIR],[qe.DIV,z.DIV],[qe.DL,z.DL],[qe.DT,z.DT],[qe.EM,z.EM],[qe.EMBED,z.EMBED],[qe.FIELDSET,z.FIELDSET],[qe.FIGCAPTION,z.FIGCAPTION],[qe.FIGURE,z.FIGURE],[qe.FONT,z.FONT],[qe.FOOTER,z.FOOTER],[qe.FOREIGN_OBJECT,z.FOREIGN_OBJECT],[qe.FORM,z.FORM],[qe.FRAME,z.FRAME],[qe.FRAMESET,z.FRAMESET],[qe.H1,z.H1],[qe.H2,z.H2],[qe.H3,z.H3],[qe.H4,z.H4],[qe.H5,z.H5],[qe.H6,z.H6],[qe.HEAD,z.HEAD],[qe.HEADER,z.HEADER],[qe.HGROUP,z.HGROUP],[qe.HR,z.HR],[qe.HTML,z.HTML],[qe.I,z.I],[qe.IMG,z.IMG],[qe.IMAGE,z.IMAGE],[qe.INPUT,z.INPUT],[qe.IFRAME,z.IFRAME],[qe.KEYGEN,z.KEYGEN],[qe.LABEL,z.LABEL],[qe.LI,z.LI],[qe.LINK,z.LINK],[qe.LISTING,z.LISTING],[qe.MAIN,z.MAIN],[qe.MALIGNMARK,z.MALIGNMARK],[qe.MARQUEE,z.MARQUEE],[qe.MATH,z.MATH],[qe.MENU,z.MENU],[qe.META,z.META],[qe.MGLYPH,z.MGLYPH],[qe.MI,z.MI],[qe.MO,z.MO],[qe.MN,z.MN],[qe.MS,z.MS],[qe.MTEXT,z.MTEXT],[qe.NAV,z.NAV],[qe.NOBR,z.NOBR],[qe.NOFRAMES,z.NOFRAMES],[qe.NOEMBED,z.NOEMBED],[qe.NOSCRIPT,z.NOSCRIPT],[qe.OBJECT,z.OBJECT],[qe.OL,z.OL],[qe.OPTGROUP,z.OPTGROUP],[qe.OPTION,z.OPTION],[qe.P,z.P],[qe.PARAM,z.PARAM],[qe.PLAINTEXT,z.PLAINTEXT],[qe.PRE,z.PRE],[qe.RB,z.RB],[qe.RP,z.RP],[qe.RT,z.RT],[qe.RTC,z.RTC],[qe.RUBY,z.RUBY],[qe.S,z.S],[qe.SCRIPT,z.SCRIPT],[qe.SEARCH,z.SEARCH],[qe.SECTION,z.SECTION],[qe.SELECT,z.SELECT],[qe.SOURCE,z.SOURCE],[qe.SMALL,z.SMALL],[qe.SPAN,z.SPAN],[qe.STRIKE,z.STRIKE],[qe.STRONG,z.STRONG],[qe.STYLE,z.STYLE],[qe.SUB,z.SUB],[qe.SUMMARY,z.SUMMARY],[qe.SUP,z.SUP],[qe.TABLE,z.TABLE],[qe.TBODY,z.TBODY],[qe.TEMPLATE,z.TEMPLATE],[qe.TEXTAREA,z.TEXTAREA],[qe.TFOOT,z.TFOOT],[qe.TD,z.TD],[qe.TH,z.TH],[qe.THEAD,z.THEAD],[qe.TITLE,z.TITLE],[qe.TR,z.TR],[qe.TRACK,z.TRACK],[qe.TT,z.TT],[qe.U,z.U],[qe.UL,z.UL],[qe.SVG,z.SVG],[qe.VAR,z.VAR],[qe.WBR,z.WBR],[qe.XMP,z.XMP]]);function Cf(t){var e;return(e=q5e.get(t))!==null&&e!==void 0?e:z.UNKNOWN}const bt=z,W5e={[yt.HTML]:new Set([bt.ADDRESS,bt.APPLET,bt.AREA,bt.ARTICLE,bt.ASIDE,bt.BASE,bt.BASEFONT,bt.BGSOUND,bt.BLOCKQUOTE,bt.BODY,bt.BR,bt.BUTTON,bt.CAPTION,bt.CENTER,bt.COL,bt.COLGROUP,bt.DD,bt.DETAILS,bt.DIR,bt.DIV,bt.DL,bt.DT,bt.EMBED,bt.FIELDSET,bt.FIGCAPTION,bt.FIGURE,bt.FOOTER,bt.FORM,bt.FRAME,bt.FRAMESET,bt.H1,bt.H2,bt.H3,bt.H4,bt.H5,bt.H6,bt.HEAD,bt.HEADER,bt.HGROUP,bt.HR,bt.HTML,bt.IFRAME,bt.IMG,bt.INPUT,bt.LI,bt.LINK,bt.LISTING,bt.MAIN,bt.MARQUEE,bt.MENU,bt.META,bt.NAV,bt.NOEMBED,bt.NOFRAMES,bt.NOSCRIPT,bt.OBJECT,bt.OL,bt.P,bt.PARAM,bt.PLAINTEXT,bt.PRE,bt.SCRIPT,bt.SECTION,bt.SELECT,bt.SOURCE,bt.STYLE,bt.SUMMARY,bt.TABLE,bt.TBODY,bt.TD,bt.TEMPLATE,bt.TEXTAREA,bt.TFOOT,bt.TH,bt.THEAD,bt.TITLE,bt.TR,bt.TRACK,bt.UL,bt.WBR,bt.XMP]),[yt.MATHML]:new Set([bt.MI,bt.MO,bt.MN,bt.MS,bt.MTEXT,bt.ANNOTATION_XML]),[yt.SVG]:new Set([bt.TITLE,bt.FOREIGN_OBJECT,bt.DESC]),[yt.XLINK]:new Set,[yt.XML]:new Set,[yt.XMLNS]:new Set},rS=new Set([bt.H1,bt.H2,bt.H3,bt.H4,bt.H5,bt.H6]);qe.STYLE,qe.SCRIPT,qe.XMP,qe.IFRAME,qe.NOEMBED,qe.NOFRAMES,qe.PLAINTEXT;var Se;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(Se||(Se={}));const Gn={DATA:Se.DATA,RCDATA:Se.RCDATA,RAWTEXT:Se.RAWTEXT,SCRIPT_DATA:Se.SCRIPT_DATA,PLAINTEXT:Se.PLAINTEXT,CDATA_SECTION:Se.CDATA_SECTION};function Y5e(t){return t>=be.DIGIT_0&&t<=be.DIGIT_9}function c1(t){return t>=be.LATIN_CAPITAL_A&&t<=be.LATIN_CAPITAL_Z}function X5e(t){return t>=be.LATIN_SMALL_A&&t<=be.LATIN_SMALL_Z}function eu(t){return X5e(t)||c1(t)}function OU(t){return eu(t)||Y5e(t)}function Ob(t){return t+32}function MU(t){return t===be.SPACE||t===be.LINE_FEED||t===be.TABULATION||t===be.FORM_FEED}function PU(t){return MU(t)||t===be.SOLIDUS||t===be.GREATER_THAN_SIGN}function K5e(t){return t===be.NULL?nt.nullCharacterReference:t>1114111?nt.characterReferenceOutsideUnicodeRange:NU(t)?nt.surrogateCharacterReference:IU(t)?nt.noncharacterCharacterReference:RU(t)||t===be.CARRIAGE_RETURN?nt.controlCharacterReference:null}class j5e{constructor(e,r){this.options=e,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Se.DATA,this.returnState=Se.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new M5e(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new G5e(P5e,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(nt.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(nt.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=K5e(n);i&&this._err(i,1)}}:void 0)}_err(e,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(e,r))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,r,n){this.active=!0,this.preprocessor.write(e,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let r=0;r<e;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,r){return this.preprocessor.startsWith(e,r)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:kr.START_TAG,tagName:"",tagID:z.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:kr.END_TAG,tagName:"",tagID:z.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:kr.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:kr.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,r){this.currentCharacterToken={type:e,chars:r,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,r;const n=this.currentToken;if(DU(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(e=(r=n.location).attrs)!==null&&e!==void 0?e:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(nt.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Cf(e.tagName),e.type===kr.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(nt.endTagWithAttributes),e.selfClosing&&this._err(nt.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case kr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case kr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case kr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:kr.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,r)}_emitCodePoint(e){const r=MU(e)?kr.WHITESPACE_CHARACTER:e===be.NULL?kr.NULL_CHARACTER:kr.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(kr.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=Se.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ac.Attribute:ac.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===Se.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Se.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Se.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case Se.DATA:{this._stateData(e);break}case Se.RCDATA:{this._stateRcdata(e);break}case Se.RAWTEXT:{this._stateRawtext(e);break}case Se.SCRIPT_DATA:{this._stateScriptData(e);break}case Se.PLAINTEXT:{this._statePlaintext(e);break}case Se.TAG_OPEN:{this._stateTagOpen(e);break}case Se.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case Se.TAG_NAME:{this._stateTagName(e);break}case Se.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case Se.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case Se.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case Se.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case Se.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case Se.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case Se.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case Se.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case Se.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case Se.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case Se.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case Se.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case Se.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case Se.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case Se.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case Se.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case Se.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case Se.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case Se.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case Se.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case Se.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case Se.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case Se.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case Se.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case Se.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case Se.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case Se.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case Se.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case Se.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case Se.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case Se.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case Se.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case Se.BOGUS_COMMENT:{this._stateBogusComment(e);break}case Se.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case Se.COMMENT_START:{this._stateCommentStart(e);break}case Se.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case Se.COMMENT:{this._stateComment(e);break}case Se.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case Se.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case Se.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case Se.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case Se.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case Se.COMMENT_END:{this._stateCommentEnd(e);break}case Se.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case Se.DOCTYPE:{this._stateDoctype(e);break}case Se.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case Se.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case Se.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case Se.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case Se.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case Se.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case Se.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case Se.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case Se.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case Se.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case Se.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case Se.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case Se.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case Se.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case Se.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case Se.CDATA_SECTION:{this._stateCdataSection(e);break}case Se.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case Se.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case Se.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case Se.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case be.LESS_THAN_SIGN:{this.state=Se.TAG_OPEN;break}case be.AMPERSAND:{this._startCharacterReference();break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this._emitCodePoint(e);break}case be.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case be.AMPERSAND:{this._startCharacterReference();break}case be.LESS_THAN_SIGN:{this.state=Se.RCDATA_LESS_THAN_SIGN;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(kn);break}case be.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case be.LESS_THAN_SIGN:{this.state=Se.RAWTEXT_LESS_THAN_SIGN;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(kn);break}case be.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case be.LESS_THAN_SIGN:{this.state=Se.SCRIPT_DATA_LESS_THAN_SIGN;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(kn);break}case be.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case be.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(kn);break}case be.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(eu(e))this._createStartTagToken(),this.state=Se.TAG_NAME,this._stateTagName(e);else switch(e){case be.EXCLAMATION_MARK:{this.state=Se.MARKUP_DECLARATION_OPEN;break}case be.SOLIDUS:{this.state=Se.END_TAG_OPEN;break}case be.QUESTION_MARK:{this._err(nt.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Se.BOGUS_COMMENT,this._stateBogusComment(e);break}case be.EOF:{this._err(nt.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(nt.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Se.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(eu(e))this._createEndTagToken(),this.state=Se.TAG_NAME,this._stateTagName(e);else switch(e){case be.GREATER_THAN_SIGN:{this._err(nt.missingEndTagName),this.state=Se.DATA;break}case be.EOF:{this._err(nt.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(nt.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Se.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:{this.state=Se.BEFORE_ATTRIBUTE_NAME;break}case be.SOLIDUS:{this.state=Se.SELF_CLOSING_START_TAG;break}case be.GREATER_THAN_SIGN:{this.state=Se.DATA,this.emitCurrentTagToken();break}case be.NULL:{this._err(nt.unexpectedNullCharacter),r.tagName+=kn;break}case be.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(c1(e)?Ob(e):e)}}_stateRcdataLessThanSign(e){e===be.SOLIDUS?this.state=Se.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Se.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){eu(e)?(this.state=Se.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=Se.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Se.BEFORE_ATTRIBUTE_NAME,!1;case be.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Se.SELF_CLOSING_START_TAG,!1;case be.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Se.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Se.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===be.SOLIDUS?this.state=Se.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Se.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){eu(e)?(this.state=Se.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=Se.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Se.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case be.SOLIDUS:{this.state=Se.SCRIPT_DATA_END_TAG_OPEN;break}case be.EXCLAMATION_MARK:{this.state=Se.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=Se.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){eu(e)?(this.state=Se.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=Se.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Se.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===be.HYPHEN_MINUS?(this.state=Se.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Se.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===be.HYPHEN_MINUS?(this.state=Se.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Se.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case be.HYPHEN_MINUS:{this.state=Se.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case be.LESS_THAN_SIGN:{this.state=Se.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(kn);break}case be.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case be.HYPHEN_MINUS:{this.state=Se.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case be.LESS_THAN_SIGN:{this.state=Se.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this.state=Se.SCRIPT_DATA_ESCAPED,this._emitChars(kn);break}case be.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Se.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case be.HYPHEN_MINUS:{this._emitChars("-");break}case be.LESS_THAN_SIGN:{this.state=Se.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case be.GREATER_THAN_SIGN:{this.state=Se.SCRIPT_DATA,this._emitChars(">");break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this.state=Se.SCRIPT_DATA_ESCAPED,this._emitChars(kn);break}case be.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Se.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===be.SOLIDUS?this.state=Se.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:eu(e)?(this._emitChars("<"),this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=Se.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){eu(e)?(this.state=Se.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=Se.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Se.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(ja.SCRIPT,!1)&&PU(this.preprocessor.peek(ja.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<ja.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Se.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case be.HYPHEN_MINUS:{this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case be.LESS_THAN_SIGN:{this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(kn);break}case be.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case be.HYPHEN_MINUS:{this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case be.LESS_THAN_SIGN:{this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(kn);break}case be.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case be.HYPHEN_MINUS:{this._emitChars("-");break}case be.LESS_THAN_SIGN:{this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case be.GREATER_THAN_SIGN:{this.state=Se.SCRIPT_DATA,this._emitChars(">");break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(kn);break}case be.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===be.SOLIDUS?(this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(ja.SCRIPT,!1)&&PU(this.preprocessor.peek(ja.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<ja.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=Se.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Se.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.SOLIDUS:case be.GREATER_THAN_SIGN:case be.EOF:{this.state=Se.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case be.EQUALS_SIGN:{this._err(nt.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Se.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=Se.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:case be.SOLIDUS:case be.GREATER_THAN_SIGN:case be.EOF:{this._leaveAttrName(),this.state=Se.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case be.EQUALS_SIGN:{this._leaveAttrName(),this.state=Se.BEFORE_ATTRIBUTE_VALUE;break}case be.QUOTATION_MARK:case be.APOSTROPHE:case be.LESS_THAN_SIGN:{this._err(nt.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this.currentAttr.name+=kn;break}default:this.currentAttr.name+=String.fromCodePoint(c1(e)?Ob(e):e)}}_stateAfterAttributeName(e){switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.SOLIDUS:{this.state=Se.SELF_CLOSING_START_TAG;break}case be.EQUALS_SIGN:{this.state=Se.BEFORE_ATTRIBUTE_VALUE;break}case be.GREATER_THAN_SIGN:{this.state=Se.DATA,this.emitCurrentTagToken();break}case be.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=Se.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.QUOTATION_MARK:{this.state=Se.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case be.APOSTROPHE:{this.state=Se.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case be.GREATER_THAN_SIGN:{this._err(nt.missingAttributeValue),this.state=Se.DATA,this.emitCurrentTagToken();break}default:this.state=Se.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case be.QUOTATION_MARK:{this.state=Se.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case be.AMPERSAND:{this._startCharacterReference();break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=kn;break}case be.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case be.APOSTROPHE:{this.state=Se.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case be.AMPERSAND:{this._startCharacterReference();break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=kn;break}case be.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:{this._leaveAttrValue(),this.state=Se.BEFORE_ATTRIBUTE_NAME;break}case be.AMPERSAND:{this._startCharacterReference();break}case be.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Se.DATA,this.emitCurrentTagToken();break}case be.NULL:{this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=kn;break}case be.QUOTATION_MARK:case be.APOSTROPHE:case be.LESS_THAN_SIGN:case be.EQUALS_SIGN:case be.GRAVE_ACCENT:{this._err(nt.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case be.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:{this._leaveAttrValue(),this.state=Se.BEFORE_ATTRIBUTE_NAME;break}case be.SOLIDUS:{this._leaveAttrValue(),this.state=Se.SELF_CLOSING_START_TAG;break}case be.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Se.DATA,this.emitCurrentTagToken();break}case be.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this._err(nt.missingWhitespaceBetweenAttributes),this.state=Se.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case be.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=Se.DATA,this.emitCurrentTagToken();break}case be.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this._err(nt.unexpectedSolidusInTag),this.state=Se.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const r=this.currentToken;switch(e){case be.GREATER_THAN_SIGN:{this.state=Se.DATA,this.emitCurrentComment(r);break}case be.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case be.NULL:{this._err(nt.unexpectedNullCharacter),r.data+=kn;break}default:r.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(ja.DASH_DASH,!0)?(this._createCommentToken(ja.DASH_DASH.length+1),this.state=Se.COMMENT_START):this._consumeSequenceIfMatch(ja.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ja.DOCTYPE.length+1),this.state=Se.DOCTYPE):this._consumeSequenceIfMatch(ja.CDATA_START,!0)?this.inForeignNode?this.state=Se.CDATA_SECTION:(this._err(nt.cdataInHtmlContent),this._createCommentToken(ja.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=Se.BOGUS_COMMENT):this._ensureHibernation()||(this._err(nt.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Se.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case be.HYPHEN_MINUS:{this.state=Se.COMMENT_START_DASH;break}case be.GREATER_THAN_SIGN:{this._err(nt.abruptClosingOfEmptyComment),this.state=Se.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=Se.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const r=this.currentToken;switch(e){case be.HYPHEN_MINUS:{this.state=Se.COMMENT_END;break}case be.GREATER_THAN_SIGN:{this._err(nt.abruptClosingOfEmptyComment),this.state=Se.DATA,this.emitCurrentComment(r);break}case be.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=Se.COMMENT,this._stateComment(e)}}_stateComment(e){const r=this.currentToken;switch(e){case be.HYPHEN_MINUS:{this.state=Se.COMMENT_END_DASH;break}case be.LESS_THAN_SIGN:{r.data+="<",this.state=Se.COMMENT_LESS_THAN_SIGN;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),r.data+=kn;break}case be.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const r=this.currentToken;switch(e){case be.EXCLAMATION_MARK:{r.data+="!",this.state=Se.COMMENT_LESS_THAN_SIGN_BANG;break}case be.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=Se.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===be.HYPHEN_MINUS?this.state=Se.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Se.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===be.HYPHEN_MINUS?this.state=Se.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Se.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==be.GREATER_THAN_SIGN&&e!==be.EOF&&this._err(nt.nestedComment),this.state=Se.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const r=this.currentToken;switch(e){case be.HYPHEN_MINUS:{this.state=Se.COMMENT_END;break}case be.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=Se.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const r=this.currentToken;switch(e){case be.GREATER_THAN_SIGN:{this.state=Se.DATA,this.emitCurrentComment(r);break}case be.EXCLAMATION_MARK:{this.state=Se.COMMENT_END_BANG;break}case be.HYPHEN_MINUS:{r.data+="-";break}case be.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=Se.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const r=this.currentToken;switch(e){case be.HYPHEN_MINUS:{r.data+="--!",this.state=Se.COMMENT_END_DASH;break}case be.GREATER_THAN_SIGN:{this._err(nt.incorrectlyClosedComment),this.state=Se.DATA,this.emitCurrentComment(r);break}case be.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=Se.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:{this.state=Se.BEFORE_DOCTYPE_NAME;break}case be.GREATER_THAN_SIGN:{this.state=Se.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case be.EOF:{this._err(nt.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingWhitespaceBeforeDoctypeName),this.state=Se.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(c1(e))this._createDoctypeToken(String.fromCharCode(Ob(e))),this.state=Se.DOCTYPE_NAME;else switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.NULL:{this._err(nt.unexpectedNullCharacter),this._createDoctypeToken(kn),this.state=Se.DOCTYPE_NAME;break}case be.GREATER_THAN_SIGN:{this._err(nt.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=Se.DATA;break}case be.EOF:{this._err(nt.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=Se.DOCTYPE_NAME}}_stateDoctypeName(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:{this.state=Se.AFTER_DOCTYPE_NAME;break}case be.GREATER_THAN_SIGN:{this.state=Se.DATA,this.emitCurrentDoctype(r);break}case be.NULL:{this._err(nt.unexpectedNullCharacter),r.name+=kn;break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(c1(e)?Ob(e):e)}}_stateAfterDoctypeName(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.GREATER_THAN_SIGN:{this.state=Se.DATA,this.emitCurrentDoctype(r);break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ja.PUBLIC,!1)?this.state=Se.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ja.SYSTEM,!1)?this.state=Se.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(nt.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=Se.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:{this.state=Se.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case be.QUOTATION_MARK:{this._err(nt.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=Se.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case be.APOSTROPHE:{this._err(nt.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=Se.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case be.GREATER_THAN_SIGN:{this._err(nt.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=Se.DATA,this.emitCurrentDoctype(r);break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=Se.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.QUOTATION_MARK:{r.publicId="",this.state=Se.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case be.APOSTROPHE:{r.publicId="",this.state=Se.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case be.GREATER_THAN_SIGN:{this._err(nt.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=Se.DATA,this.emitCurrentDoctype(r);break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=Se.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case be.QUOTATION_MARK:{this.state=Se.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),r.publicId+=kn;break}case be.GREATER_THAN_SIGN:{this._err(nt.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=Se.DATA;break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case be.APOSTROPHE:{this.state=Se.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),r.publicId+=kn;break}case be.GREATER_THAN_SIGN:{this._err(nt.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=Se.DATA;break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:{this.state=Se.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case be.GREATER_THAN_SIGN:{this.state=Se.DATA,this.emitCurrentDoctype(r);break}case be.QUOTATION_MARK:{this._err(nt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=Se.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case be.APOSTROPHE:{this._err(nt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=Se.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=Se.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=Se.DATA;break}case be.QUOTATION_MARK:{r.systemId="",this.state=Se.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case be.APOSTROPHE:{r.systemId="",this.state=Se.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=Se.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:{this.state=Se.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case be.QUOTATION_MARK:{this._err(nt.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=Se.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case be.APOSTROPHE:{this._err(nt.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=Se.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case be.GREATER_THAN_SIGN:{this._err(nt.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=Se.DATA,this.emitCurrentDoctype(r);break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=Se.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.QUOTATION_MARK:{r.systemId="",this.state=Se.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case be.APOSTROPHE:{r.systemId="",this.state=Se.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case be.GREATER_THAN_SIGN:{this._err(nt.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=Se.DATA,this.emitCurrentDoctype(r);break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=Se.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case be.QUOTATION_MARK:{this.state=Se.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),r.systemId+=kn;break}case be.GREATER_THAN_SIGN:{this._err(nt.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=Se.DATA;break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case be.APOSTROPHE:{this.state=Se.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case be.NULL:{this._err(nt.unexpectedNullCharacter),r.systemId+=kn;break}case be.GREATER_THAN_SIGN:{this._err(nt.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=Se.DATA;break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case be.SPACE:case be.LINE_FEED:case be.TABULATION:case be.FORM_FEED:break;case be.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=Se.DATA;break}case be.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Se.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const r=this.currentToken;switch(e){case be.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=Se.DATA;break}case be.NULL:{this._err(nt.unexpectedNullCharacter);break}case be.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case be.RIGHT_SQUARE_BRACKET:{this.state=Se.CDATA_SECTION_BRACKET;break}case be.EOF:{this._err(nt.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===be.RIGHT_SQUARE_BRACKET?this.state=Se.CDATA_SECTION_END:(this._emitChars("]"),this.state=Se.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case be.GREATER_THAN_SIGN:{this.state=Se.DATA;break}case be.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=Se.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(be.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&OU(this.preprocessor.peek(1))?Se.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){OU(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===be.SEMICOLON&&this._err(nt.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const BU=new Set([z.DD,z.DT,z.LI,z.OPTGROUP,z.OPTION,z.P,z.RB,z.RP,z.RT,z.RTC]),FU=new Set([...BU,z.CAPTION,z.COLGROUP,z.TBODY,z.TD,z.TFOOT,z.TH,z.THEAD,z.TR]),Mb=new Set([z.APPLET,z.CAPTION,z.HTML,z.MARQUEE,z.OBJECT,z.TABLE,z.TD,z.TEMPLATE,z.TH]),Q5e=new Set([...Mb,z.OL,z.UL]),Z5e=new Set([...Mb,z.BUTTON]),$U=new Set([z.ANNOTATION_XML,z.MI,z.MN,z.MO,z.MS,z.MTEXT]),zU=new Set([z.DESC,z.FOREIGN_OBJECT,z.TITLE]),J5e=new Set([z.TR,z.TEMPLATE,z.HTML]),e6e=new Set([z.TBODY,z.TFOOT,z.THEAD,z.TEMPLATE,z.HTML]),t6e=new Set([z.TABLE,z.TEMPLATE,z.HTML]),r6e=new Set([z.TD,z.TH]);class n6e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=z.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===z.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===yt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,r){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,r,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,r){const n=this._indexOf(e);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(e,r,n){const i=this._indexOf(e)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(e,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==yt.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(e){for(;this.stackTop>=e;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<e)}}popUntilElementPopped(e){const r=this._indexOf(e);this.shortenToLength(Math.max(r,0))}popUntilPopped(e,r){const n=this._indexOfTagNames(e,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(rS,yt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(r6e,yt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,r){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(e,r){const n=this._indexOfTagNames(e,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(t6e,yt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(e6e,yt.HTML)}clearBackToTableRowContext(){this.clearBackTo(J5e,yt.HTML)}remove(e){const r=this._indexOf(e);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===z.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const r=this._indexOf(e)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===z.HTML}hasInDynamicScope(e,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case yt.HTML:{if(i===e)return!0;if(r.has(i))return!1;break}case yt.SVG:{if(zU.has(i))return!1;break}case yt.MATHML:{if($U.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Mb)}hasInListItemScope(e){return this.hasInDynamicScope(e,Q5e)}hasInButtonScope(e){return this.hasInDynamicScope(e,Z5e)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const r=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case yt.HTML:{if(rS.has(r))return!0;if(Mb.has(r))return!1;break}case yt.SVG:{if(zU.has(r))return!1;break}case yt.MATHML:{if($U.has(r))return!1;break}}}return!0}hasInTableScope(e){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===yt.HTML)switch(this.tagIDs[r]){case e:return!0;case z.TABLE:case z.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===yt.HTML)switch(this.tagIDs[e]){case z.TBODY:case z.THEAD:case z.TFOOT:return!0;case z.TABLE:case z.HTML:return!1}return!0}hasInSelectScope(e){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===yt.HTML)switch(this.tagIDs[r]){case e:return!0;case z.OPTION:case z.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&BU.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&FU.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&FU.has(this.currentTagId);)this.pop()}}const nS=3;var nl;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(nl||(nl={}));const UU={type:nl.Marker};class i6e{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,r){const n=[],i=r.length,a=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===nl.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===a&&this.treeAdapter.getNamespaceURI(u)===s){const h=this.treeAdapter.getAttrList(u);h.length===i&&n.push({idx:o,attrs:h})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<nS)return;const r=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,r);if(n.length<nS)return;const i=new Map(r.map(s=>[s.name,s.value]));let a=0;for(let s=0;s<n.length;s++){const o=n[s];o.attrs.every(l=>i.get(l.name)===l.value)&&(a+=1,a>=nS&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(UU)}pushElement(e,r){this._ensureNoahArkCondition(e),this.entries.unshift({type:nl.Element,element:e,token:r})}insertElementAfterBookmark(e,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:nl.Element,element:e,token:r})}removeEntry(e){const r=this.entries.indexOf(e);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const e=this.entries.indexOf(UU);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const r=this.entries.find(n=>n.type===nl.Marker||this.treeAdapter.getTagName(n.element)===e);return r&&r.type===nl.Element?r:null}getElementEntry(e){return this.entries.find(r=>r.type===nl.Element&&r.element===e)}}const tu={createDocument(){return{nodeName:"#document",mode:Ys.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,r){return{nodeName:t,tagName:t,attrs:r,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,r){const n=t.childNodes.indexOf(r);t.childNodes.splice(n,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,r,n){const i=t.childNodes.find(a=>a.nodeName==="#documentType");if(i)i.name=e,i.publicId=r,i.systemId=n;else{const a={nodeName:"#documentType",name:e,publicId:r,systemId:n,parentNode:null};tu.appendChild(t,a)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const r=t.childNodes[t.childNodes.length-1];if(tu.isTextNode(r)){r.value+=e;return}}tu.appendChild(t,tu.createTextNode(e))},insertTextBefore(t,e,r){const n=t.childNodes[t.childNodes.indexOf(r)-1];n&&tu.isTextNode(n)?n.value+=e:tu.insertBefore(t,tu.createTextNode(e),r)},adoptAttributes(t,e){const r=new Set(t.attrs.map(n=>n.name));for(let n=0;n<e.length;n++)r.has(e[n].name)||t.attrs.push(e[n])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},HU="html",a6e="about:legacy-compat",s6e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",GU=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],o6e=[...GU,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],l6e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),VU=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],c6e=[...VU,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function qU(t,e){return e.some(r=>t.startsWith(r))}function u6e(t){return t.name===HU&&t.publicId===null&&(t.systemId===null||t.systemId===a6e)}function h6e(t){if(t.name!==HU)return Ys.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===s6e)return Ys.QUIRKS;let{publicId:r}=t;if(r!==null){if(r=r.toLowerCase(),l6e.has(r))return Ys.QUIRKS;let n=e===null?o6e:GU;if(qU(r,n))return Ys.QUIRKS;if(n=e===null?VU:c6e,qU(r,n))return Ys.LIMITED_QUIRKS}return Ys.NO_QUIRKS}const WU={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},d6e="definitionurl",f6e="definitionURL",p6e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),g6e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:yt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:yt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:yt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:yt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:yt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:yt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:yt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:yt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:yt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:yt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:yt.XMLNS}]]),m6e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),y6e=new Set([z.B,z.BIG,z.BLOCKQUOTE,z.BODY,z.BR,z.CENTER,z.CODE,z.DD,z.DIV,z.DL,z.DT,z.EM,z.EMBED,z.H1,z.H2,z.H3,z.H4,z.H5,z.H6,z.HEAD,z.HR,z.I,z.IMG,z.LI,z.LISTING,z.MENU,z.META,z.NOBR,z.OL,z.P,z.PRE,z.RUBY,z.S,z.SMALL,z.SPAN,z.STRONG,z.STRIKE,z.SUB,z.SUP,z.TABLE,z.TT,z.U,z.UL,z.VAR]);function v6e(t){const e=t.tagID;return e===z.FONT&&t.attrs.some(({name:n})=>n===bh.COLOR||n===bh.SIZE||n===bh.FACE)||y6e.has(e)}function YU(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===d6e){t.attrs[e].name=f6e;break}}function XU(t){for(let e=0;e<t.attrs.length;e++){const r=p6e.get(t.attrs[e].name);r!=null&&(t.attrs[e].name=r)}}function iS(t){for(let e=0;e<t.attrs.length;e++){const r=g6e.get(t.attrs[e].name);r&&(t.attrs[e].prefix=r.prefix,t.attrs[e].name=r.name,t.attrs[e].namespace=r.namespace)}}function b6e(t){const e=m6e.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Cf(t.tagName))}function x6e(t,e){return e===yt.MATHML&&(t===z.MI||t===z.MO||t===z.MN||t===z.MS||t===z.MTEXT)}function E6e(t,e,r){if(e===yt.MATHML&&t===z.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===bh.ENCODING){const i=r[n].value.toLowerCase();return i===WU.TEXT_HTML||i===WU.APPLICATION_XML}}return e===yt.SVG&&(t===z.FOREIGN_OBJECT||t===z.DESC||t===z.TITLE)}function T6e(t,e,r,n){return(!n||n===yt.HTML)&&E6e(t,e,r)||(!n||n===yt.MATHML)&&x6e(t,e)}const w6e="hidden",S6e=8,k6e=3;var Ae;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Ae||(Ae={}));const C6e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},KU=new Set([z.TABLE,z.TBODY,z.TFOOT,z.THEAD,z.TR]),jU={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:tu,onParseError:null};let QU=class{constructor(e,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Ae.INITIAL,this.originalInsertionMode=Ae.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...jU,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new j5e(this.options,this),this.activeFormattingElements=new i6e(this.treeAdapter),this.fragmentContextID=n?Cf(this.treeAdapter.getTagName(n)):z.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new n6e(this.document,this.treeAdapter,this)}static parse(e,r){const n=new this(r);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,r){const n={...jU,...r};e??(e=n.treeAdapter.createElement(qe.TEMPLATE,yt.HTML,[]));const i=n.treeAdapter.createElement("documentmock",yt.HTML,[]),a=new this(n,i,e);return a.fragmentContextID===z.TEMPLATE&&a.tmplInsertionModeStack.unshift(Ae.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,r),r}_err(e,r,n){var i;if(!this.onParseError)return;const a=(i=e.location)!==null&&i!==void 0?i:C6e,s={code:r,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:n?a.startLine:a.endLine,endCol:n?a.startCol:a.endCol,endOffset:n?a.startOffset:a.endOffset};this.onParseError(s)}onItemPush(e,r,n){var i,a;(a=(i=this.treeAdapter).onItemPush)===null||a===void 0||a.call(i,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,r)}onItemPop(e,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,e,this.openElements.current),r){let a,s;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,s=this.fragmentContextID):{current:a,currentTagId:s}=this.openElements,this._setContextModes(a,s)}}_setContextModes(e,r){const n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===yt.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&e!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,e)}_switchToTextParsing(e,r){this._insertElement(e,yt.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=Ae.TEXT}switchToPlaintextParsing(){this.insertionMode=Ae.TEXT,this.originalInsertionMode=Ae.IN_BODY,this.tokenizer.state=Gn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===qe.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==yt.HTML))switch(this.fragmentContextID){case z.TITLE:case z.TEXTAREA:{this.tokenizer.state=Gn.RCDATA;break}case z.STYLE:case z.XMP:case z.IFRAME:case z.NOEMBED:case z.NOFRAMES:case z.NOSCRIPT:{this.tokenizer.state=Gn.RAWTEXT;break}case z.SCRIPT:{this.tokenizer.state=Gn.SCRIPT_DATA;break}case z.PLAINTEXT:{this.tokenizer.state=Gn.PLAINTEXT;break}}}_setDocumentType(e){const r=e.name||"",n=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),e.location){const s=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}_attachElementToTree(e,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,e)}}_appendElement(e,r){const n=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,r){const n=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,r){const n=this.treeAdapter.createElement(e,yt.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(e){const r=this.treeAdapter.createElement(e.tagName,yt.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(qe.HTML,yt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,z.HTML)}_appendCommentNode(e,r){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,e.chars,n):this.treeAdapter.insertText(r,e.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(r),a=n?i.lastIndexOf(n):i.length,s=i[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:h}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,r){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(e,r){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(e),a=r.type===kr.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,a)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,e.tagID===z.SVG&&this.treeAdapter.getTagName(r)===qe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===yt.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===z.MGLYPH||e.tagID===z.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,yt.HTML)}_processToken(e){switch(e.type){case kr.CHARACTER:{this.onCharacter(e);break}case kr.NULL_CHARACTER:{this.onNullCharacter(e);break}case kr.COMMENT:{this.onComment(e);break}case kr.DOCTYPE:{this.onDoctype(e);break}case kr.START_TAG:{this._processStartTag(e);break}case kr.END_TAG:{this.onEndTag(e);break}case kr.EOF:{this.onEof(e);break}case kr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,r,n){const i=this.treeAdapter.getNamespaceURI(r),a=this.treeAdapter.getAttrList(r);return T6e(e,i,a,n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===nl.Marker||this.openElements.contains(i.element)),n=r===-1?e-1:r-1;for(let i=n;i>=0;i--){const a=this.activeFormattingElements.entries[i];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Ae.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(z.P),this.openElements.popUntilTagNamePopped(z.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case z.TR:{this.insertionMode=Ae.IN_ROW;return}case z.TBODY:case z.THEAD:case z.TFOOT:{this.insertionMode=Ae.IN_TABLE_BODY;return}case z.CAPTION:{this.insertionMode=Ae.IN_CAPTION;return}case z.COLGROUP:{this.insertionMode=Ae.IN_COLUMN_GROUP;return}case z.TABLE:{this.insertionMode=Ae.IN_TABLE;return}case z.BODY:{this.insertionMode=Ae.IN_BODY;return}case z.FRAMESET:{this.insertionMode=Ae.IN_FRAMESET;return}case z.SELECT:{this._resetInsertionModeForSelect(e);return}case z.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case z.HTML:{this.insertionMode=this.headElement?Ae.AFTER_HEAD:Ae.BEFORE_HEAD;return}case z.TD:case z.TH:{if(e>0){this.insertionMode=Ae.IN_CELL;return}break}case z.HEAD:{if(e>0){this.insertionMode=Ae.IN_HEAD;return}break}}this.insertionMode=Ae.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let r=e-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===z.TEMPLATE)break;if(n===z.TABLE){this.insertionMode=Ae.IN_SELECT_IN_TABLE;return}}this.insertionMode=Ae.IN_SELECT}_isElementCausesFosterParenting(e){return KU.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const r=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case z.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===yt.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case z.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,e,r.beforeElement):this.treeAdapter.appendChild(r.parent,e)}_isSpecialElement(e,r){const n=this.treeAdapter.getNamespaceURI(e);return W5e[n].has(r)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){rke(this,e);return}switch(this.insertionMode){case Ae.INITIAL:{u1(this,e);break}case Ae.BEFORE_HTML:{h1(this,e);break}case Ae.BEFORE_HEAD:{d1(this,e);break}case Ae.IN_HEAD:{f1(this,e);break}case Ae.IN_HEAD_NO_SCRIPT:{p1(this,e);break}case Ae.AFTER_HEAD:{g1(this,e);break}case Ae.IN_BODY:case Ae.IN_CAPTION:case Ae.IN_CELL:case Ae.IN_TEMPLATE:{JU(this,e);break}case Ae.TEXT:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{lS(this,e);break}case Ae.IN_TABLE_TEXT:{oH(this,e);break}case Ae.IN_COLUMN_GROUP:{Fb(this,e);break}case Ae.AFTER_BODY:{Ub(this,e);break}case Ae.AFTER_AFTER_BODY:{Hb(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){tke(this,e);return}switch(this.insertionMode){case Ae.INITIAL:{u1(this,e);break}case Ae.BEFORE_HTML:{h1(this,e);break}case Ae.BEFORE_HEAD:{d1(this,e);break}case Ae.IN_HEAD:{f1(this,e);break}case Ae.IN_HEAD_NO_SCRIPT:{p1(this,e);break}case Ae.AFTER_HEAD:{g1(this,e);break}case Ae.TEXT:{this._insertCharacters(e);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{lS(this,e);break}case Ae.IN_COLUMN_GROUP:{Fb(this,e);break}case Ae.AFTER_BODY:{Ub(this,e);break}case Ae.AFTER_AFTER_BODY:{Hb(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){sS(this,e);return}switch(this.insertionMode){case Ae.INITIAL:case Ae.BEFORE_HTML:case Ae.BEFORE_HEAD:case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:case Ae.IN_BODY:case Ae.IN_TABLE:case Ae.IN_CAPTION:case Ae.IN_COLUMN_GROUP:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:case Ae.IN_CELL:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:case Ae.IN_TEMPLATE:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:{sS(this,e);break}case Ae.IN_TABLE_TEXT:{v1(this,e);break}case Ae.AFTER_BODY:{D6e(this,e);break}case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{O6e(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Ae.INITIAL:{M6e(this,e);break}case Ae.BEFORE_HEAD:case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:{this._err(e,nt.misplacedDoctype);break}case Ae.IN_TABLE_TEXT:{v1(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,nt.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?nke(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Ae.INITIAL:{u1(this,e);break}case Ae.BEFORE_HTML:{P6e(this,e);break}case Ae.BEFORE_HEAD:{F6e(this,e);break}case Ae.IN_HEAD:{bo(this,e);break}case Ae.IN_HEAD_NO_SCRIPT:{U6e(this,e);break}case Ae.AFTER_HEAD:{G6e(this,e);break}case Ae.IN_BODY:{la(this,e);break}case Ae.IN_TABLE:{_f(this,e);break}case Ae.IN_TABLE_TEXT:{v1(this,e);break}case Ae.IN_CAPTION:{$Se(this,e);break}case Ae.IN_COLUMN_GROUP:{cS(this,e);break}case Ae.IN_TABLE_BODY:{$b(this,e);break}case Ae.IN_ROW:{zb(this,e);break}case Ae.IN_CELL:{HSe(this,e);break}case Ae.IN_SELECT:{uH(this,e);break}case Ae.IN_SELECT_IN_TABLE:{VSe(this,e);break}case Ae.IN_TEMPLATE:{WSe(this,e);break}case Ae.AFTER_BODY:{XSe(this,e);break}case Ae.IN_FRAMESET:{KSe(this,e);break}case Ae.AFTER_FRAMESET:{QSe(this,e);break}case Ae.AFTER_AFTER_BODY:{JSe(this,e);break}case Ae.AFTER_AFTER_FRAMESET:{eke(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?ike(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Ae.INITIAL:{u1(this,e);break}case Ae.BEFORE_HTML:{B6e(this,e);break}case Ae.BEFORE_HEAD:{$6e(this,e);break}case Ae.IN_HEAD:{z6e(this,e);break}case Ae.IN_HEAD_NO_SCRIPT:{H6e(this,e);break}case Ae.AFTER_HEAD:{V6e(this,e);break}case Ae.IN_BODY:{Bb(this,e);break}case Ae.TEXT:{LSe(this,e);break}case Ae.IN_TABLE:{m1(this,e);break}case Ae.IN_TABLE_TEXT:{v1(this,e);break}case Ae.IN_CAPTION:{zSe(this,e);break}case Ae.IN_COLUMN_GROUP:{USe(this,e);break}case Ae.IN_TABLE_BODY:{uS(this,e);break}case Ae.IN_ROW:{cH(this,e);break}case Ae.IN_CELL:{GSe(this,e);break}case Ae.IN_SELECT:{hH(this,e);break}case Ae.IN_SELECT_IN_TABLE:{qSe(this,e);break}case Ae.IN_TEMPLATE:{YSe(this,e);break}case Ae.AFTER_BODY:{fH(this,e);break}case Ae.IN_FRAMESET:{jSe(this,e);break}case Ae.AFTER_FRAMESET:{ZSe(this,e);break}case Ae.AFTER_AFTER_BODY:{Hb(this,e);break}}}onEof(e){switch(this.insertionMode){case Ae.INITIAL:{u1(this,e);break}case Ae.BEFORE_HTML:{h1(this,e);break}case Ae.BEFORE_HEAD:{d1(this,e);break}case Ae.IN_HEAD:{f1(this,e);break}case Ae.IN_HEAD_NO_SCRIPT:{p1(this,e);break}case Ae.AFTER_HEAD:{g1(this,e);break}case Ae.IN_BODY:case Ae.IN_TABLE:case Ae.IN_CAPTION:case Ae.IN_COLUMN_GROUP:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:case Ae.IN_CELL:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:{aH(this,e);break}case Ae.TEXT:{NSe(this,e);break}case Ae.IN_TABLE_TEXT:{v1(this,e);break}case Ae.IN_TEMPLATE:{dH(this,e);break}case Ae.AFTER_BODY:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{oS(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===be.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:case Ae.TEXT:case Ae.IN_COLUMN_GROUP:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:{this._insertCharacters(e);break}case Ae.IN_BODY:case Ae.IN_CAPTION:case Ae.IN_CELL:case Ae.IN_TEMPLATE:case Ae.AFTER_BODY:case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{ZU(this,e);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{lS(this,e);break}case Ae.IN_TABLE_TEXT:{sH(this,e);break}}}};function _6e(t,e){let r=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return r?t.openElements.contains(r.element)?t.openElements.hasInScope(e.tagID)||(r=null):(t.activeFormattingElements.removeEntry(r),r=null):iH(t,e),r}function A6e(t,e){let r=null,n=t.openElements.stackTop;for(;n>=0;n--){const i=t.openElements.items[n];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[n])&&(r=i)}return r||(t.openElements.shortenToLength(Math.max(n,0)),t.activeFormattingElements.removeEntry(e)),r}function L6e(t,e,r){let n=e,i=t.openElements.getCommonAncestor(e);for(let a=0,s=i;s!==r;a++,s=i){i=t.openElements.getCommonAncestor(s);const o=t.activeFormattingElements.getElementEntry(s),l=o&&a>=k6e;!o||l?(l&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(s)):(s=N6e(t,o),n===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(n),t.treeAdapter.appendChild(s,n),n=s)}return n}function N6e(t,e){const r=t.treeAdapter.getNamespaceURI(e.element),n=t.treeAdapter.createElement(e.token.tagName,r,e.token.attrs);return t.openElements.replace(e.element,n),e.element=n,n}function R6e(t,e,r){const n=t.treeAdapter.getTagName(e),i=Cf(n);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(r);else{const a=t.treeAdapter.getNamespaceURI(e);i===z.TEMPLATE&&a===yt.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,r)}}function I6e(t,e,r){const n=t.treeAdapter.getNamespaceURI(r.element),{token:i}=r,a=t.treeAdapter.createElement(i.tagName,n,i.attrs);t._adoptNodes(e,a),t.treeAdapter.appendChild(e,a),t.activeFormattingElements.insertElementAfterBookmark(a,i),t.activeFormattingElements.removeEntry(r),t.openElements.remove(r.element),t.openElements.insertAfter(e,a,i.tagID)}function aS(t,e){for(let r=0;r<S6e;r++){const n=_6e(t,e);if(!n)break;const i=A6e(t,n);if(!i)break;t.activeFormattingElements.bookmark=n;const a=L6e(t,i,n.element),s=t.openElements.getCommonAncestor(n.element);t.treeAdapter.detachNode(a),s&&R6e(t,s,a),I6e(t,i,n)}}function sS(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function D6e(t,e){t._appendCommentNode(e,t.openElements.items[0])}function O6e(t,e){t._appendCommentNode(e,t.document)}function oS(t,e){if(t.stopped=!0,e.location){const r=t.fragmentContext?0:2;for(let n=t.openElements.stackTop;n>=r;n--)t._setEndLocation(t.openElements.items[n],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const n=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(t._setEndLocation(n,e),t.openElements.stackTop>=1)){const a=t.openElements.items[1],s=t.treeAdapter.getNodeSourceCodeLocation(a);s&&!s.endTag&&t._setEndLocation(a,e)}}}}function M6e(t,e){t._setDocumentType(e);const r=e.forceQuirks?Ys.QUIRKS:h6e(e);u6e(e)||t._err(e,nt.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,r),t.insertionMode=Ae.BEFORE_HTML}function u1(t,e){t._err(e,nt.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Ys.QUIRKS),t.insertionMode=Ae.BEFORE_HTML,t._processToken(e)}function P6e(t,e){e.tagID===z.HTML?(t._insertElement(e,yt.HTML),t.insertionMode=Ae.BEFORE_HEAD):h1(t,e)}function B6e(t,e){const r=e.tagID;(r===z.HTML||r===z.HEAD||r===z.BODY||r===z.BR)&&h1(t,e)}function h1(t,e){t._insertFakeRootElement(),t.insertionMode=Ae.BEFORE_HEAD,t._processToken(e)}function F6e(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.HEAD:{t._insertElement(e,yt.HTML),t.headElement=t.openElements.current,t.insertionMode=Ae.IN_HEAD;break}default:d1(t,e)}}function $6e(t,e){const r=e.tagID;r===z.HEAD||r===z.BODY||r===z.HTML||r===z.BR?d1(t,e):t._err(e,nt.endTagWithoutMatchingOpenElement)}function d1(t,e){t._insertFakeElement(qe.HEAD,z.HEAD),t.headElement=t.openElements.current,t.insertionMode=Ae.IN_HEAD,t._processToken(e)}function bo(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.BASE:case z.BASEFONT:case z.BGSOUND:case z.LINK:case z.META:{t._appendElement(e,yt.HTML),e.ackSelfClosing=!0;break}case z.TITLE:{t._switchToTextParsing(e,Gn.RCDATA);break}case z.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Gn.RAWTEXT):(t._insertElement(e,yt.HTML),t.insertionMode=Ae.IN_HEAD_NO_SCRIPT);break}case z.NOFRAMES:case z.STYLE:{t._switchToTextParsing(e,Gn.RAWTEXT);break}case z.SCRIPT:{t._switchToTextParsing(e,Gn.SCRIPT_DATA);break}case z.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Ae.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Ae.IN_TEMPLATE);break}case z.HEAD:{t._err(e,nt.misplacedStartTagForHeadElement);break}default:f1(t,e)}}function z6e(t,e){switch(e.tagID){case z.HEAD:{t.openElements.pop(),t.insertionMode=Ae.AFTER_HEAD;break}case z.BODY:case z.BR:case z.HTML:{f1(t,e);break}case z.TEMPLATE:{xh(t,e);break}default:t._err(e,nt.endTagWithoutMatchingOpenElement)}}function xh(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==z.TEMPLATE&&t._err(e,nt.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(z.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,nt.endTagWithoutMatchingOpenElement)}function f1(t,e){t.openElements.pop(),t.insertionMode=Ae.AFTER_HEAD,t._processToken(e)}function U6e(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.BASEFONT:case z.BGSOUND:case z.HEAD:case z.LINK:case z.META:case z.NOFRAMES:case z.STYLE:{bo(t,e);break}case z.NOSCRIPT:{t._err(e,nt.nestedNoscriptInHead);break}default:p1(t,e)}}function H6e(t,e){switch(e.tagID){case z.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Ae.IN_HEAD;break}case z.BR:{p1(t,e);break}default:t._err(e,nt.endTagWithoutMatchingOpenElement)}}function p1(t,e){const r=e.type===kr.EOF?nt.openElementsLeftAfterEof:nt.disallowedContentInNoscriptInHead;t._err(e,r),t.openElements.pop(),t.insertionMode=Ae.IN_HEAD,t._processToken(e)}function G6e(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.BODY:{t._insertElement(e,yt.HTML),t.framesetOk=!1,t.insertionMode=Ae.IN_BODY;break}case z.FRAMESET:{t._insertElement(e,yt.HTML),t.insertionMode=Ae.IN_FRAMESET;break}case z.BASE:case z.BASEFONT:case z.BGSOUND:case z.LINK:case z.META:case z.NOFRAMES:case z.SCRIPT:case z.STYLE:case z.TEMPLATE:case z.TITLE:{t._err(e,nt.abandonedHeadElementChild),t.openElements.push(t.headElement,z.HEAD),bo(t,e),t.openElements.remove(t.headElement);break}case z.HEAD:{t._err(e,nt.misplacedStartTagForHeadElement);break}default:g1(t,e)}}function V6e(t,e){switch(e.tagID){case z.BODY:case z.HTML:case z.BR:{g1(t,e);break}case z.TEMPLATE:{xh(t,e);break}default:t._err(e,nt.endTagWithoutMatchingOpenElement)}}function g1(t,e){t._insertFakeElement(qe.BODY,z.BODY),t.insertionMode=Ae.IN_BODY,Pb(t,e)}function Pb(t,e){switch(e.type){case kr.CHARACTER:{JU(t,e);break}case kr.WHITESPACE_CHARACTER:{ZU(t,e);break}case kr.COMMENT:{sS(t,e);break}case kr.START_TAG:{la(t,e);break}case kr.END_TAG:{Bb(t,e);break}case kr.EOF:{aH(t,e);break}}}function ZU(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function JU(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function q6e(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function W6e(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(r,e.attrs))}function Y6e(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&r&&(t.treeAdapter.detachNode(r),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,yt.HTML),t.insertionMode=Ae.IN_FRAMESET)}function X6e(t,e){t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t._insertElement(e,yt.HTML)}function K6e(t,e){t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&rS.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,yt.HTML)}function j6e(t,e){t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t._insertElement(e,yt.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Q6e(t,e){const r=t.openElements.tmplCount>0;(!t.formElement||r)&&(t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t._insertElement(e,yt.HTML),r||(t.formElement=t.openElements.current))}function Z6e(t,e){t.framesetOk=!1;const r=e.tagID;for(let n=t.openElements.stackTop;n>=0;n--){const i=t.openElements.tagIDs[n];if(r===z.LI&&i===z.LI||(r===z.DD||r===z.DT)&&(i===z.DD||i===z.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==z.ADDRESS&&i!==z.DIV&&i!==z.P&&t._isSpecialElement(t.openElements.items[n],i))break}t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t._insertElement(e,yt.HTML)}function J6e(t,e){t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t._insertElement(e,yt.HTML),t.tokenizer.state=Gn.PLAINTEXT}function eSe(t,e){t.openElements.hasInScope(z.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(z.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,yt.HTML),t.framesetOk=!1}function tSe(t,e){const r=t.activeFormattingElements.getElementEntryInScopeWithTagName(qe.A);r&&(aS(t,e),t.openElements.remove(r.element),t.activeFormattingElements.removeEntry(r)),t._reconstructActiveFormattingElements(),t._insertElement(e,yt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function rSe(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,yt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function nSe(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(z.NOBR)&&(aS(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,yt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function iSe(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,yt.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function aSe(t,e){t.treeAdapter.getDocumentMode(t.document)!==Ys.QUIRKS&&t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t._insertElement(e,yt.HTML),t.framesetOk=!1,t.insertionMode=Ae.IN_TABLE}function eH(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,yt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function tH(t){const e=DU(t,bh.TYPE);return e!=null&&e.toLowerCase()===w6e}function sSe(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,yt.HTML),tH(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function oSe(t,e){t._appendElement(e,yt.HTML),e.ackSelfClosing=!0}function lSe(t,e){t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t._appendElement(e,yt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function cSe(t,e){e.tagName=qe.IMG,e.tagID=z.IMG,eH(t,e)}function uSe(t,e){t._insertElement(e,yt.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Gn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Ae.TEXT}function hSe(t,e){t.openElements.hasInButtonScope(z.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Gn.RAWTEXT)}function dSe(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Gn.RAWTEXT)}function rH(t,e){t._switchToTextParsing(e,Gn.RAWTEXT)}function fSe(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,yt.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Ae.IN_TABLE||t.insertionMode===Ae.IN_CAPTION||t.insertionMode===Ae.IN_TABLE_BODY||t.insertionMode===Ae.IN_ROW||t.insertionMode===Ae.IN_CELL?Ae.IN_SELECT_IN_TABLE:Ae.IN_SELECT}function pSe(t,e){t.openElements.currentTagId===z.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,yt.HTML)}function gSe(t,e){t.openElements.hasInScope(z.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,yt.HTML)}function mSe(t,e){t.openElements.hasInScope(z.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(z.RTC),t._insertElement(e,yt.HTML)}function ySe(t,e){t._reconstructActiveFormattingElements(),YU(e),iS(e),e.selfClosing?t._appendElement(e,yt.MATHML):t._insertElement(e,yt.MATHML),e.ackSelfClosing=!0}function vSe(t,e){t._reconstructActiveFormattingElements(),XU(e),iS(e),e.selfClosing?t._appendElement(e,yt.SVG):t._insertElement(e,yt.SVG),e.ackSelfClosing=!0}function nH(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,yt.HTML)}function la(t,e){switch(e.tagID){case z.I:case z.S:case z.B:case z.U:case z.EM:case z.TT:case z.BIG:case z.CODE:case z.FONT:case z.SMALL:case z.STRIKE:case z.STRONG:{rSe(t,e);break}case z.A:{tSe(t,e);break}case z.H1:case z.H2:case z.H3:case z.H4:case z.H5:case z.H6:{K6e(t,e);break}case z.P:case z.DL:case z.OL:case z.UL:case z.DIV:case z.DIR:case z.NAV:case z.MAIN:case z.MENU:case z.ASIDE:case z.CENTER:case z.FIGURE:case z.FOOTER:case z.HEADER:case z.HGROUP:case z.DIALOG:case z.DETAILS:case z.ADDRESS:case z.ARTICLE:case z.SEARCH:case z.SECTION:case z.SUMMARY:case z.FIELDSET:case z.BLOCKQUOTE:case z.FIGCAPTION:{X6e(t,e);break}case z.LI:case z.DD:case z.DT:{Z6e(t,e);break}case z.BR:case z.IMG:case z.WBR:case z.AREA:case z.EMBED:case z.KEYGEN:{eH(t,e);break}case z.HR:{lSe(t,e);break}case z.RB:case z.RTC:{gSe(t,e);break}case z.RT:case z.RP:{mSe(t,e);break}case z.PRE:case z.LISTING:{j6e(t,e);break}case z.XMP:{hSe(t,e);break}case z.SVG:{vSe(t,e);break}case z.HTML:{q6e(t,e);break}case z.BASE:case z.LINK:case z.META:case z.STYLE:case z.TITLE:case z.SCRIPT:case z.BGSOUND:case z.BASEFONT:case z.TEMPLATE:{bo(t,e);break}case z.BODY:{W6e(t,e);break}case z.FORM:{Q6e(t,e);break}case z.NOBR:{nSe(t,e);break}case z.MATH:{ySe(t,e);break}case z.TABLE:{aSe(t,e);break}case z.INPUT:{sSe(t,e);break}case z.PARAM:case z.TRACK:case z.SOURCE:{oSe(t,e);break}case z.IMAGE:{cSe(t,e);break}case z.BUTTON:{eSe(t,e);break}case z.APPLET:case z.OBJECT:case z.MARQUEE:{iSe(t,e);break}case z.IFRAME:{dSe(t,e);break}case z.SELECT:{fSe(t,e);break}case z.OPTION:case z.OPTGROUP:{pSe(t,e);break}case z.NOEMBED:case z.NOFRAMES:{rH(t,e);break}case z.FRAMESET:{Y6e(t,e);break}case z.TEXTAREA:{uSe(t,e);break}case z.NOSCRIPT:{t.options.scriptingEnabled?rH(t,e):nH(t,e);break}case z.PLAINTEXT:{J6e(t,e);break}case z.COL:case z.TH:case z.TD:case z.TR:case z.HEAD:case z.FRAME:case z.TBODY:case z.TFOOT:case z.THEAD:case z.CAPTION:case z.COLGROUP:break;default:nH(t,e)}}function bSe(t,e){if(t.openElements.hasInScope(z.BODY)&&(t.insertionMode=Ae.AFTER_BODY,t.options.sourceCodeLocationInfo)){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t._setEndLocation(r,e)}}function xSe(t,e){t.openElements.hasInScope(z.BODY)&&(t.insertionMode=Ae.AFTER_BODY,fH(t,e))}function ESe(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r))}function TSe(t){const e=t.openElements.tmplCount>0,{formElement:r}=t;e||(t.formElement=null),(r||e)&&t.openElements.hasInScope(z.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(z.FORM):r&&t.openElements.remove(r))}function wSe(t){t.openElements.hasInButtonScope(z.P)||t._insertFakeElement(qe.P,z.P),t._closePElement()}function SSe(t){t.openElements.hasInListItemScope(z.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(z.LI),t.openElements.popUntilTagNamePopped(z.LI))}function kSe(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.popUntilTagNamePopped(r))}function CSe(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function _Se(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker())}function ASe(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(qe.BR,z.BR),t.openElements.pop(),t.framesetOk=!1}function iH(t,e){const r=e.tagName,n=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const a=t.openElements.items[i],s=t.openElements.tagIDs[i];if(n===s&&(n!==z.UNKNOWN||t.treeAdapter.getTagName(a)===r)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(a,s))break}}function Bb(t,e){switch(e.tagID){case z.A:case z.B:case z.I:case z.S:case z.U:case z.EM:case z.TT:case z.BIG:case z.CODE:case z.FONT:case z.NOBR:case z.SMALL:case z.STRIKE:case z.STRONG:{aS(t,e);break}case z.P:{wSe(t);break}case z.DL:case z.UL:case z.OL:case z.DIR:case z.DIV:case z.NAV:case z.PRE:case z.MAIN:case z.MENU:case z.ASIDE:case z.BUTTON:case z.CENTER:case z.FIGURE:case z.FOOTER:case z.HEADER:case z.HGROUP:case z.DIALOG:case z.ADDRESS:case z.ARTICLE:case z.DETAILS:case z.SEARCH:case z.SECTION:case z.SUMMARY:case z.LISTING:case z.FIELDSET:case z.BLOCKQUOTE:case z.FIGCAPTION:{ESe(t,e);break}case z.LI:{SSe(t);break}case z.DD:case z.DT:{kSe(t,e);break}case z.H1:case z.H2:case z.H3:case z.H4:case z.H5:case z.H6:{CSe(t);break}case z.BR:{ASe(t);break}case z.BODY:{bSe(t,e);break}case z.HTML:{xSe(t,e);break}case z.FORM:{TSe(t);break}case z.APPLET:case z.OBJECT:case z.MARQUEE:{_Se(t,e);break}case z.TEMPLATE:{xh(t,e);break}default:iH(t,e)}}function aH(t,e){t.tmplInsertionModeStack.length>0?dH(t,e):oS(t,e)}function LSe(t,e){var r;e.tagID===z.SCRIPT&&((r=t.scriptHandler)===null||r===void 0||r.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function NSe(t,e){t._err(e,nt.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function lS(t,e){if(t.openElements.currentTagId!==void 0&&KU.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Ae.IN_TABLE_TEXT,e.type){case kr.CHARACTER:{oH(t,e);break}case kr.WHITESPACE_CHARACTER:{sH(t,e);break}}else y1(t,e)}function RSe(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,yt.HTML),t.insertionMode=Ae.IN_CAPTION}function ISe(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,yt.HTML),t.insertionMode=Ae.IN_COLUMN_GROUP}function DSe(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(qe.COLGROUP,z.COLGROUP),t.insertionMode=Ae.IN_COLUMN_GROUP,cS(t,e)}function OSe(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,yt.HTML),t.insertionMode=Ae.IN_TABLE_BODY}function MSe(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(qe.TBODY,z.TBODY),t.insertionMode=Ae.IN_TABLE_BODY,$b(t,e)}function PSe(t,e){t.openElements.hasInTableScope(z.TABLE)&&(t.openElements.popUntilTagNamePopped(z.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function BSe(t,e){tH(e)?t._appendElement(e,yt.HTML):y1(t,e),e.ackSelfClosing=!0}function FSe(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,yt.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function _f(t,e){switch(e.tagID){case z.TD:case z.TH:case z.TR:{MSe(t,e);break}case z.STYLE:case z.SCRIPT:case z.TEMPLATE:{bo(t,e);break}case z.COL:{DSe(t,e);break}case z.FORM:{FSe(t,e);break}case z.TABLE:{PSe(t,e);break}case z.TBODY:case z.TFOOT:case z.THEAD:{OSe(t,e);break}case z.INPUT:{BSe(t,e);break}case z.CAPTION:{RSe(t,e);break}case z.COLGROUP:{ISe(t,e);break}default:y1(t,e)}}function m1(t,e){switch(e.tagID){case z.TABLE:{t.openElements.hasInTableScope(z.TABLE)&&(t.openElements.popUntilTagNamePopped(z.TABLE),t._resetInsertionMode());break}case z.TEMPLATE:{xh(t,e);break}case z.BODY:case z.CAPTION:case z.COL:case z.COLGROUP:case z.HTML:case z.TBODY:case z.TD:case z.TFOOT:case z.TH:case z.THEAD:case z.TR:break;default:y1(t,e)}}function y1(t,e){const r=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Pb(t,e),t.fosterParentingEnabled=r}function sH(t,e){t.pendingCharacterTokens.push(e)}function oH(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function v1(t,e){let r=0;if(t.hasNonWhitespacePendingCharacterToken)for(;r<t.pendingCharacterTokens.length;r++)y1(t,t.pendingCharacterTokens[r]);else for(;r<t.pendingCharacterTokens.length;r++)t._insertCharacters(t.pendingCharacterTokens[r]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const lH=new Set([z.CAPTION,z.COL,z.COLGROUP,z.TBODY,z.TD,z.TFOOT,z.TH,z.THEAD,z.TR]);function $Se(t,e){const r=e.tagID;lH.has(r)?t.openElements.hasInTableScope(z.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(z.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ae.IN_TABLE,_f(t,e)):la(t,e)}function zSe(t,e){const r=e.tagID;switch(r){case z.CAPTION:case z.TABLE:{t.openElements.hasInTableScope(z.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(z.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ae.IN_TABLE,r===z.TABLE&&m1(t,e));break}case z.BODY:case z.COL:case z.COLGROUP:case z.HTML:case z.TBODY:case z.TD:case z.TFOOT:case z.TH:case z.THEAD:case z.TR:break;default:Bb(t,e)}}function cS(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.COL:{t._appendElement(e,yt.HTML),e.ackSelfClosing=!0;break}case z.TEMPLATE:{bo(t,e);break}default:Fb(t,e)}}function USe(t,e){switch(e.tagID){case z.COLGROUP:{t.openElements.currentTagId===z.COLGROUP&&(t.openElements.pop(),t.insertionMode=Ae.IN_TABLE);break}case z.TEMPLATE:{xh(t,e);break}case z.COL:break;default:Fb(t,e)}}function Fb(t,e){t.openElements.currentTagId===z.COLGROUP&&(t.openElements.pop(),t.insertionMode=Ae.IN_TABLE,t._processToken(e))}function $b(t,e){switch(e.tagID){case z.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,yt.HTML),t.insertionMode=Ae.IN_ROW;break}case z.TH:case z.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(qe.TR,z.TR),t.insertionMode=Ae.IN_ROW,zb(t,e);break}case z.CAPTION:case z.COL:case z.COLGROUP:case z.TBODY:case z.TFOOT:case z.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ae.IN_TABLE,_f(t,e));break}default:_f(t,e)}}function uS(t,e){const r=e.tagID;switch(e.tagID){case z.TBODY:case z.TFOOT:case z.THEAD:{t.openElements.hasInTableScope(r)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ae.IN_TABLE);break}case z.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ae.IN_TABLE,m1(t,e));break}case z.BODY:case z.CAPTION:case z.COL:case z.COLGROUP:case z.HTML:case z.TD:case z.TH:case z.TR:break;default:m1(t,e)}}function zb(t,e){switch(e.tagID){case z.TH:case z.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,yt.HTML),t.insertionMode=Ae.IN_CELL,t.activeFormattingElements.insertMarker();break}case z.CAPTION:case z.COL:case z.COLGROUP:case z.TBODY:case z.TFOOT:case z.THEAD:case z.TR:{t.openElements.hasInTableScope(z.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ae.IN_TABLE_BODY,$b(t,e));break}default:_f(t,e)}}function cH(t,e){switch(e.tagID){case z.TR:{t.openElements.hasInTableScope(z.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ae.IN_TABLE_BODY);break}case z.TABLE:{t.openElements.hasInTableScope(z.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ae.IN_TABLE_BODY,uS(t,e));break}case z.TBODY:case z.TFOOT:case z.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(z.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ae.IN_TABLE_BODY,uS(t,e));break}case z.BODY:case z.CAPTION:case z.COL:case z.COLGROUP:case z.HTML:case z.TD:case z.TH:break;default:m1(t,e)}}function HSe(t,e){const r=e.tagID;lH.has(r)?(t.openElements.hasInTableScope(z.TD)||t.openElements.hasInTableScope(z.TH))&&(t._closeTableCell(),zb(t,e)):la(t,e)}function GSe(t,e){const r=e.tagID;switch(r){case z.TD:case z.TH:{t.openElements.hasInTableScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ae.IN_ROW);break}case z.TABLE:case z.TBODY:case z.TFOOT:case z.THEAD:case z.TR:{t.openElements.hasInTableScope(r)&&(t._closeTableCell(),cH(t,e));break}case z.BODY:case z.CAPTION:case z.COL:case z.COLGROUP:case z.HTML:break;default:Bb(t,e)}}function uH(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.OPTION:{t.openElements.currentTagId===z.OPTION&&t.openElements.pop(),t._insertElement(e,yt.HTML);break}case z.OPTGROUP:{t.openElements.currentTagId===z.OPTION&&t.openElements.pop(),t.openElements.currentTagId===z.OPTGROUP&&t.openElements.pop(),t._insertElement(e,yt.HTML);break}case z.HR:{t.openElements.currentTagId===z.OPTION&&t.openElements.pop(),t.openElements.currentTagId===z.OPTGROUP&&t.openElements.pop(),t._appendElement(e,yt.HTML),e.ackSelfClosing=!0;break}case z.INPUT:case z.KEYGEN:case z.TEXTAREA:case z.SELECT:{t.openElements.hasInSelectScope(z.SELECT)&&(t.openElements.popUntilTagNamePopped(z.SELECT),t._resetInsertionMode(),e.tagID!==z.SELECT&&t._processStartTag(e));break}case z.SCRIPT:case z.TEMPLATE:{bo(t,e);break}}}function hH(t,e){switch(e.tagID){case z.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===z.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===z.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===z.OPTGROUP&&t.openElements.pop();break}case z.OPTION:{t.openElements.currentTagId===z.OPTION&&t.openElements.pop();break}case z.SELECT:{t.openElements.hasInSelectScope(z.SELECT)&&(t.openElements.popUntilTagNamePopped(z.SELECT),t._resetInsertionMode());break}case z.TEMPLATE:{xh(t,e);break}}}function VSe(t,e){const r=e.tagID;r===z.CAPTION||r===z.TABLE||r===z.TBODY||r===z.TFOOT||r===z.THEAD||r===z.TR||r===z.TD||r===z.TH?(t.openElements.popUntilTagNamePopped(z.SELECT),t._resetInsertionMode(),t._processStartTag(e)):uH(t,e)}function qSe(t,e){const r=e.tagID;r===z.CAPTION||r===z.TABLE||r===z.TBODY||r===z.TFOOT||r===z.THEAD||r===z.TR||r===z.TD||r===z.TH?t.openElements.hasInTableScope(r)&&(t.openElements.popUntilTagNamePopped(z.SELECT),t._resetInsertionMode(),t.onEndTag(e)):hH(t,e)}function WSe(t,e){switch(e.tagID){case z.BASE:case z.BASEFONT:case z.BGSOUND:case z.LINK:case z.META:case z.NOFRAMES:case z.SCRIPT:case z.STYLE:case z.TEMPLATE:case z.TITLE:{bo(t,e);break}case z.CAPTION:case z.COLGROUP:case z.TBODY:case z.TFOOT:case z.THEAD:{t.tmplInsertionModeStack[0]=Ae.IN_TABLE,t.insertionMode=Ae.IN_TABLE,_f(t,e);break}case z.COL:{t.tmplInsertionModeStack[0]=Ae.IN_COLUMN_GROUP,t.insertionMode=Ae.IN_COLUMN_GROUP,cS(t,e);break}case z.TR:{t.tmplInsertionModeStack[0]=Ae.IN_TABLE_BODY,t.insertionMode=Ae.IN_TABLE_BODY,$b(t,e);break}case z.TD:case z.TH:{t.tmplInsertionModeStack[0]=Ae.IN_ROW,t.insertionMode=Ae.IN_ROW,zb(t,e);break}default:t.tmplInsertionModeStack[0]=Ae.IN_BODY,t.insertionMode=Ae.IN_BODY,la(t,e)}}function YSe(t,e){e.tagID===z.TEMPLATE&&xh(t,e)}function dH(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(z.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):oS(t,e)}function XSe(t,e){e.tagID===z.HTML?la(t,e):Ub(t,e)}function fH(t,e){var r;if(e.tagID===z.HTML){if(t.fragmentContext||(t.insertionMode=Ae.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===z.HTML){t._setEndLocation(t.openElements.items[0],e);const n=t.openElements.items[1];n&&!(!((r=t.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&t._setEndLocation(n,e)}}else Ub(t,e)}function Ub(t,e){t.insertionMode=Ae.IN_BODY,Pb(t,e)}function KSe(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.FRAMESET:{t._insertElement(e,yt.HTML);break}case z.FRAME:{t._appendElement(e,yt.HTML),e.ackSelfClosing=!0;break}case z.NOFRAMES:{bo(t,e);break}}}function jSe(t,e){e.tagID===z.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==z.FRAMESET&&(t.insertionMode=Ae.AFTER_FRAMESET))}function QSe(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.NOFRAMES:{bo(t,e);break}}}function ZSe(t,e){e.tagID===z.HTML&&(t.insertionMode=Ae.AFTER_AFTER_FRAMESET)}function JSe(t,e){e.tagID===z.HTML?la(t,e):Hb(t,e)}function Hb(t,e){t.insertionMode=Ae.IN_BODY,Pb(t,e)}function eke(t,e){switch(e.tagID){case z.HTML:{la(t,e);break}case z.NOFRAMES:{bo(t,e);break}}}function tke(t,e){e.chars=kn,t._insertCharacters(e)}function rke(t,e){t._insertCharacters(e),t.framesetOk=!1}function pH(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==yt.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function nke(t,e){if(v6e(e))pH(t),t._startTagOutsideForeignContent(e);else{const r=t._getAdjustedCurrentElement(),n=t.treeAdapter.getNamespaceURI(r);n===yt.MATHML?YU(e):n===yt.SVG&&(b6e(e),XU(e)),iS(e),e.selfClosing?t._appendElement(e,n):t._insertElement(e,n),e.ackSelfClosing=!0}}function ike(t,e){if(e.tagID===z.P||e.tagID===z.BR){pH(t),t._endTagOutsideForeignContent(e);return}for(let r=t.openElements.stackTop;r>0;r--){const n=t.openElements.items[r];if(t.treeAdapter.getNamespaceURI(n)===yt.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(n);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(r);break}}}qe.AREA,qe.BASE,qe.BASEFONT,qe.BGSOUND,qe.BR,qe.COL,qe.EMBED,qe.FRAME,qe.HR,qe.IMG,qe.INPUT,qe.KEYGEN,qe.LINK,qe.META,qe.PARAM,qe.SOURCE,qe.TRACK,qe.WBR;const ake=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,ske=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),gH={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function mH(t,e){const r=mke(t),n=UT("type",{handlers:{root:oke,element:lke,text:cke,comment:vH,doctype:uke,raw:dke},unknown:fke}),i={parser:r?new QU(gH):QU.getFragmentParser(void 0,gH),handle(o){n(o,i)},stitches:!1,options:e||{}};n(t,i),Af(i,Ml());const a=r?i.parser.document:i.parser.getFragment(),s=l5e(a,{file:i.options.file});return i.stitches&&Pp(s,"comment",function(o,l,u){const h=o;if(h.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=h.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===t.type?s.children[0]:s}function yH(t,e){let r=-1;if(t)for(;++r<t.length;)e.handle(t[r])}function oke(t,e){yH(t.children,e)}function lke(t,e){pke(t,e),yH(t.children,e),gke(t,e)}function cke(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const r={type:kr.CHARACTER,chars:t.value,location:b1(t)};Af(e,Ml(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function uke(t,e){const r={type:kr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:b1(t)};Af(e,Ml(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function hke(t,e){e.stitches=!0;const r=yke(t);if("children"in t&&"children"in r){const n=mH({type:"root",children:t.children},e.options);r.children=n.children}vH({type:"comment",value:{stitch:r}},e)}function vH(t,e){const r=t.value,n={type:kr.COMMENT,data:r,location:b1(t)};Af(e,Ml(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function dke(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,bH(e,Ml(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(ake,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=e.parser.tokenizer._consume();e.parser.tokenizer._callState(r)}}function fke(t,e){const r=t;if(e.options.passThrough&&e.options.passThrough.includes(r.type))hke(r,e);else{let n="";throw ske.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function Af(t,e){bH(t,e);const r=t.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=t.parser.tokenizer.preprocessor.line,r.location.endCol=t.parser.tokenizer.preprocessor.col+1,r.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=Gn.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function bH(t,e){if(e&&e.offset!==void 0){const r={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=r}}function pke(t,e){const r=t.tagName.toLowerCase();if(e.parser.tokenizer.state===Gn.PLAINTEXT)return;Af(e,Ml(t));const n=e.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:Go.html;i===Go.html&&r==="svg"&&(i=Go.svg);const a=w5e({...t,children:[]},{space:i===Go.svg?"svg":"html"}),s={type:kr.START_TAG,tagName:r,tagID:Cf(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:b1(t)};e.parser.currentToken=s,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=r}function gke(t,e){const r=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&LU.includes(r)||e.parser.tokenizer.state===Gn.PLAINTEXT)return;Af(e,vv(t));const n={type:kr.END_TAG,tagName:r,tagID:Cf(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:b1(t)};e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken),r===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===Gn.RCDATA||e.parser.tokenizer.state===Gn.RAWTEXT||e.parser.tokenizer.state===Gn.SCRIPT_DATA)&&(e.parser.tokenizer.state=Gn.DATA)}function mke(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function b1(t){const e=Ml(t)||{line:void 0,column:void 0,offset:void 0},r=vv(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function yke(t){return"children"in t?Rd({...t,children:[]}):Rd(t)}function vke(t){return function(e,r){return mH(e,{...t,file:r})}}const bke=/["&'<>`]/g,xke=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eke=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Tke=/[|\\{}()[\]^$+*?.]/g,xH=new WeakMap;function wke(t,e){if(t=t.replace(e.subset?Ske(e.subset):bke,n),e.subset||e.escapeOnly)return t;return t.replace(xke,r).replace(Eke,n);function r(i,a,s){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,s.charCodeAt(a+2),e)}function n(i,a,s){return e.format(i.charCodeAt(0),s.charCodeAt(a+1),e)}}function Ske(t){let e=xH.get(t);return e||(e=kke(t),xH.set(t,e)),e}function kke(t){const e=[];let r=-1;for(;++r<t.length;)e.push(t[r].replace(Tke,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const Cke=/[\dA-Fa-f]/;function _ke(t,e,r){const n="&#x"+t.toString(16).toUpperCase();return r&&e&&!Cke.test(String.fromCharCode(e))?n:n+";"}const Ake=/\d/;function Lke(t,e,r){const n="&#"+String(t);return r&&e&&!Ake.test(String.fromCharCode(e))?n:n+";"}const Nke=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],hS={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},Rke=["cent","copy","divide","gt","lt","not","para","times"],EH={}.hasOwnProperty,dS={};let Gb;for(Gb in hS)EH.call(hS,Gb)&&(dS[hS[Gb]]=Gb);const Ike=/[^\dA-Za-z]/;function Dke(t,e,r,n){const i=String.fromCharCode(t);if(EH.call(dS,i)){const a=dS[i],s="&"+a;return r&&Nke.includes(a)&&!Rke.includes(a)&&(!n||e&&e!==61&&Ike.test(String.fromCharCode(e)))?s:s+";"}return""}function Oke(t,e,r){let n=_ke(t,e,r.omitOptionalSemicolons),i;if((r.useNamedReferences||r.useShortestReferences)&&(i=Dke(t,e,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!i)&&r.useShortestReferences){const a=Lke(t,e,r.omitOptionalSemicolons);a.length<n.length&&(n=a)}return i&&(!r.useShortestReferences||i.length<n.length)?i:n}function Lf(t,e){return wke(t,Object.assign({format:Oke},e))}const Mke=/^>|^->|<!--|-->|--!>|<!-$/g,Pke=[">"],Bke=["<",">"];function Fke(t,e,r,n){return n.settings.bogusComments?"<?"+Lf(t.value,Object.assign({},n.settings.characterReferences,{subset:Pke}))+">":"<!--"+t.value.replace(Mke,i)+"-->";function i(a){return Lf(a,Object.assign({},n.settings.characterReferences,{subset:Bke}))}}function $ke(t,e,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const di=wH(1),TH=wH(-1),zke=[];function wH(t){return e;function e(r,n,i){const a=r?r.children:zke;let s=(n||0)+t,o=a[s];if(!i)for(;o&&Vu(o);)s+=t,o=a[s];return o}}const Uke={}.hasOwnProperty;function SH(t){return e;function e(r,n,i){return Uke.call(t,r.tagName)&&t[r.tagName](r,n,i)}}const fS=SH({body:Gke,caption:pS,colgroup:pS,dd:Yke,dt:Wke,head:pS,html:Hke,li:qke,optgroup:Xke,option:Kke,p:Vke,rp:kH,rt:kH,tbody:Qke,td:CH,tfoot:Zke,th:CH,thead:jke,tr:Jke});function pS(t,e,r){const n=di(r,e,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Vu(n.value.charAt(0)))}function Hke(t,e,r){const n=di(r,e);return!n||n.type!=="comment"}function Gke(t,e,r){const n=di(r,e);return!n||n.type!=="comment"}function Vke(t,e,r){const n=di(r,e);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}function qke(t,e,r){const n=di(r,e);return!n||n.type==="element"&&n.tagName==="li"}function Wke(t,e,r){const n=di(r,e);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function Yke(t,e,r){const n=di(r,e);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function kH(t,e,r){const n=di(r,e);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function Xke(t,e,r){const n=di(r,e);return!n||n.type==="element"&&n.tagName==="optgroup"}function Kke(t,e,r){const n=di(r,e);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function jke(t,e,r){const n=di(r,e);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function Qke(t,e,r){const n=di(r,e);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function Zke(t,e,r){return!di(r,e)}function Jke(t,e,r){const n=di(r,e);return!n||n.type==="element"&&n.tagName==="tr"}function CH(t,e,r){const n=di(r,e);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const eCe=SH({body:nCe,colgroup:iCe,head:rCe,html:tCe,tbody:aCe});function tCe(t){const e=di(t,-1);return!e||e.type!=="comment"}function rCe(t){const e=new Set;for(const n of t.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(e.has(n.tagName))return!1;e.add(n.tagName)}const r=t.children[0];return!r||r.type==="element"}function nCe(t){const e=di(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Vu(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function iCe(t,e,r){const n=TH(r,e),i=di(t,-1,!0);return r&&n&&n.type==="element"&&n.tagName==="colgroup"&&fS(n,r.children.indexOf(n),r)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function aCe(t,e,r){const n=TH(r,e),i=di(t,-1);return r&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&fS(n,r.children.indexOf(n),r)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Vb={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function sCe(t,e,r,n){const i=n.schema,a=i.space==="svg"?!1:n.settings.omitOptionalTags;let s=i.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(t.tagName.toLowerCase());const o=[];let l;i.space==="html"&&t.tagName==="svg"&&(n.schema=Kp);const u=oCe(n,t.properties),h=n.all(i.space==="html"&&t.tagName==="template"?t.content:t);return n.schema=i,h&&(s=!1),(u||!a||!eCe(t,e,r))&&(o.push("<",t.tagName,u?" "+u:""),s&&(i.space==="svg"||n.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!n.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&o.push(" "),o.push("/")),o.push(">")),o.push(h),!s&&(!a||!fS(t,e,r))&&o.push("</"+t.tagName+">"),o.join("")}function oCe(t,e){const r=[];let n=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const a=lCe(t,i,e[i]);a&&r.push(a)}}for(;++n<r.length;){const a=t.settings.tightAttributes?r[n].charAt(r[n].length-1):void 0;n!==r.length-1&&a!=='"'&&a!=="'"&&(r[n]+=" ")}return r.join("")}function lCe(t,e,r){const n=Y3(t.schema,e),i=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,a=t.settings.allowDangerousCharacters?0:1;let s=t.quote,o;if(n.overloadedBoolean&&(r===n.attribute||r==="")?r=!0:(n.boolean||n.overloadedBoolean)&&(typeof r!="string"||r===n.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const l=Lf(n.attribute,Object.assign({},t.settings.characterReferences,{subset:Vb.name[i][a]}));return r===!0||(r=Array.isArray(r)?(n.commaSeparated?yR:bR)(r,{padLeft:!t.settings.tightCommaSeparatedLists}):String(r),t.settings.collapseEmptyAttributes&&!r)?l:(t.settings.preferUnquoted&&(o=Lf(r,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Vb.unquoted[i][a]}))),o!==r&&(t.settings.quoteSmart&&Wy(r,s)>Wy(r,t.alternative)&&(s=t.alternative),o=s+Lf(r,Object.assign({},t.settings.characterReferences,{subset:(s==="'"?Vb.single:Vb.double)[i][a],attribute:!0}))+s),l+(o&&"="+o))}const cCe=["<","&"];function _H(t,e,r,n){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?t.value:Lf(t.value,Object.assign({},n.settings.characterReferences,{subset:cCe}))}function uCe(t,e,r,n){return n.settings.allowDangerousHtml?t.value:_H(t,e,r,n)}function hCe(t,e,r,n){return n.all(t)}const dCe=UT("type",{invalid:fCe,unknown:pCe,handlers:{comment:Fke,doctype:$ke,element:sCe,raw:uCe,root:hCe,text:_H}});function fCe(t){throw new Error("Expected node, not `"+t+"`")}function pCe(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const gCe={},mCe={},yCe=[];function vCe(t,e){const r=e||gCe,n=r.quote||'"',i=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:bCe,all:xCe,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||LU,characterReferences:r.characterReferences||mCe,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?Kp:wv,quote:n,alternative:i}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function bCe(t,e,r){return dCe(t,e,r,this)}function xCe(t){const e=[],r=t&&t.children||yCe;let n=-1;for(;++n<r.length;)e[n]=this.one(r[n],n,t);return e.join("")}function ECe(t){const e=this,r={...e.data("settings"),...t};e.compiler=n;function n(i){return vCe(i,r)}}function AH(t){if(t)throw t}var gS,LH;function TCe(){if(LH)return gS;LH=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},a=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var h=t.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!h&&!d)return!1;var f;for(f in u);return typeof f>"u"||t.call(u,f)},s=function(u,h){r&&h.name==="__proto__"?r(u,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):u[h.name]=h.newValue},o=function(u,h){if(h==="__proto__")if(t.call(u,h)){if(n)return n(u,h).value}else return;return u[h]};return gS=function l(){var u,h,d,f,p,g,m=arguments[0],y=1,v=arguments.length,b=!1;for(typeof m=="boolean"&&(b=m,m=arguments[1]||{},y=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});y<v;++y)if(u=arguments[y],u!=null)for(h in u)d=o(m,h),f=o(u,h),m!==f&&(b&&f&&(a(f)||(p=i(f)))?(p?(p=!1,g=d&&i(d)?d:[]):g=d&&a(d)?d:{},s(m,{name:h,newValue:l(b,g,f)})):typeof f<"u"&&s(m,{name:h,newValue:f}));return m},gS}var wCe=TCe();const mS=Pl(wCe);function yS(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function SCe(){const t=[],e={run:r,use:n};return e;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const h=t[++a];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,h?kCe(h,o)(...u):s(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function kCe(t,e){let r;return n;function n(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(u){const h=u;if(o&&r)throw h;return i(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,e(s,...o))}function a(s){i(null,s)}}class Qa extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=Dp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Qa.prototype.file="",Qa.prototype.name="",Qa.prototype.reason="",Qa.prototype.message="",Qa.prototype.stack="",Qa.prototype.column=void 0,Qa.prototype.line=void 0,Qa.prototype.ancestors=void 0,Qa.prototype.cause=void 0,Qa.prototype.fatal=void 0,Qa.prototype.place=void 0,Qa.prototype.ruleId=void 0,Qa.prototype.source=void 0;const il={basename:CCe,dirname:_Ce,extname:ACe,join:LCe,sep:"/"};function CCe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');x1(t);let r=0,n=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=t.length),t.slice(r,n)}function _Ce(t){if(x1(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function ACe(t){x1(t);let e=t.length,r=-1,n=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){n=e+1;break}continue}r<0&&(s=!0,r=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function LCe(...t){let e=-1,r;for(;++e<t.length;)x1(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":NCe(r)}function NCe(t){x1(t);const e=t.codePointAt(0)===47;let r=RCe(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function RCe(t,e){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,s):r=t.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function x1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ICe={cwd:DCe};function DCe(){return"/"}function vS(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function OCe(t){if(typeof t=="string")t=new URL(t);else if(!vS(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return MCe(t)}function MCe(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const bS=["history","path","basename","stem","extname","dirname"];class PCe{constructor(e){let r;e?vS(e)?r={path:e}:typeof e=="string"||BCe(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":ICe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<bS.length;){const a=bS[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)bS.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?il.basename(this.path):void 0}set basename(e){ES(e,"basename"),xS(e,"basename"),this.path=il.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?il.dirname(this.path):void 0}set dirname(e){NH(this.basename,"dirname"),this.path=il.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?il.extname(this.path):void 0}set extname(e){if(xS(e,"extname"),NH(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=il.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){vS(e)&&(e=OCe(e)),ES(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?il.basename(this.path,this.extname):void 0}set stem(e){ES(e,"stem"),xS(e,"stem"),this.path=il.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new Qa(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function xS(t,e){if(t&&t.includes(il.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+il.sep+"`")}function ES(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function NH(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function BCe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const FCe=function(t){const n=this.constructor.prototype,i=n[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},$Ce={}.hasOwnProperty;class TS extends FCe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=SCe()}copy(){const e=new TS;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(mS(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(kS("data",this.frozen),this.namespace[e]=r,this):$Ce.call(this.namespace,e)&&this.namespace[e]||void 0:e?(kS("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=qb(e),n=this.parser||this.Parser;return wS("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),wS("process",this.parser||this.Parser),SS("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=qb(e),l=n.parse(o);n.run(l,o,function(h,d,f){if(h||!d||!f)return u(h);const p=d,g=n.stringify(p,f);HCe(g)?f.value=g:f.result=g,u(h,f)});function u(h,d){h||!d?s(h):a?a(d):r(void 0,d)}}}processSync(e){let r=!1,n;return this.freeze(),wS("processSync",this.parser||this.Parser),SS("processSync",this.compiler||this.Compiler),this.process(e,i),IH("processSync","process",r),n;function i(a,s){r=!0,AH(a),n=s}}run(e,r,n){RH(e),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=qb(r);i.run(e,l,u);function u(h,d,f){const p=d||e;h?o(h):s?s(p):n(void 0,p,f)}}}runSync(e,r){let n=!1,i;return this.run(e,r,a),IH("runSync","run",n),i;function a(s,o){AH(s),i=o,n=!0}}stringify(e,r){this.freeze();const n=qb(r),i=this.compiler||this.Compiler;return SS("stringify",i),RH(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(kS("use",this.frozen),e!=null)if(typeof e=="function")l(e,r);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...d]=u;l(h,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=mS(!0,i.settings,u.settings))}function o(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const d=u[h];a(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let d=-1,f=-1;for(;++d<n.length;)if(n[d][0]===u){f=d;break}if(f===-1)n.push([u,...h]);else if(h.length>0){let[p,...g]=h;const m=n[f][1];yS(m)&&yS(p)&&(p=mS(!0,m,p)),n[f]=[u,p,...g]}}}}const zCe=new TS().freeze();function wS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function SS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function kS(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function RH(t){if(!yS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function IH(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function qb(t){return UCe(t)?t:new PCe(t)}function UCe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function HCe(t){return typeof t=="string"||GCe(t)}function GCe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}function VCe(t,e,r){t instanceof RegExp&&(t=DH(t,r)),e instanceof RegExp&&(e=DH(e,r));const n=qCe(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function DH(t,e){const r=e.match(t);return r?r[0]:null}function qCe(t,e,r){let n,i,a,s,o,l=r.indexOf(t),u=r.indexOf(e,l+1),h=l;if(l>=0&&u>0){if(t===e)return[l,u];for(n=[],a=r.length;h>=0&&!o;)h===l?(n.push(h),l=r.indexOf(t,h+1)):n.length===1?o=[n.pop(),u]:(i=n.pop(),i<a&&(a=i,s=u),u=r.indexOf(e,h+1)),h=l<u&&l>=0?l:u;n.length&&(o=[a,s])}return o}const WCe='<svg width="16" height="16" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="currentColor" overflow="hidden"><path d="M234.795 197.419L234.667 288v448.17a138.667 138.667 0 0 0 138.666 138.667H740.95a96.043 96.043 0 0 1-90.538 64H373.333a202.667 202.667 0 0 1-202.666-202.666V288c0-41.813 26.752-77.44 64.128-90.581zM757.333 85.333a96 96 0 0 1 96 96V736a96 96 0 0 1-96 96h-384a96 96 0 0 1-96-96V181.333a96 96 0 0 1 96-96h384zm0 64h-384a32 32 0 0 0-32 32V736c0 17.664 14.336 32 32 32h384a32 32 0 0 0 32-32V181.333a32 32 0 0 0-32-32z"/></svg>',YCe='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M9.218 17.41L19.83 6.796a.99.99 0 1 1 1.389 1.415c-3.545 3.425-4.251 4.105-11.419 11.074a.997.997 0 0 1-1.375.018c-1.924-1.801-3.709-3.568-5.573-5.43a.999.999 0 0 1 1.414-1.413z"/></svg>';function OH(t,e){let r=null,n=0;return function(...i){const a=Date.now(),s=e-(a-n);clearTimeout(r),s<=0?(n=a,t.apply(this,i)):r=setTimeout(()=>{n=Date.now(),t.apply(this,i)},s)}}function CS(t,e){const r=n=>!!n&&n.constructor===Object;return!r(t)||!r(e)?e:(Object.keys(e).forEach(n=>{const i=t[n],a=e[n];Array.isArray(i)&&Array.isArray(a)?t[n]=i.concat(a):r(i)&&r(a)?t[n]=CS(Object.assign({},i),a):t[n]=a}),t)}function XCe(t,e){const r=()=>{const n=document.createElement("textarea"),i=document.activeElement;n.value=t,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";const a=document.getSelection(),s=a?a.rangeCount>0&&a.getRangeAt(0):null;document.body.appendChild(n),n.select(),n.selectionStart=0,n.selectionEnd=t.length,document.execCommand("copy"),document.body.removeChild(n),s&&(a.removeAllRanges(),a.addRange(s)),i&&i.focus(),typeof e=="function"&&e()};try{navigator.clipboard.writeText(t).then(()=>{typeof e=="function"&&e()}).catch(()=>{r()})}catch{r()}}const KCe=/\\\(.*?\\\)|\\\[.*?\\\]|\$.*?\$|\\begin\{equation\}.*?\\end\{equation\}/,jCe=t=>{if(!KCe.test(t))return t;const e=[];let r=t;r=r.replace(/(```[\s\S]*?```|`[^`]*`)/g,a=>{const s=e.length;return e.push(a),`__AI_CHATBOT_PROTECTED_${s}__`}).replace(/\[([^[\]]*(?:\[[^\]]*\][^[\]]*)*)\]\([^)]*?\)/g,a=>{const s=e.length;return e.push(a),`__AI_CHATBOT_PROTECTED_${s}__`});const n=(a,s,o,l)=>{let u="",h=a;for(;h.length>0;){const d=VCe(s,o,h);if(!d){u+=h;break}u+=d.pre,u+=`${l}${d.body}${l}`,h=d.post}return u};let i=n(r,"\\[","\\]","$$");return i=n(i,"\\(","\\)","$"),i=i.replace(/__AI_CHATBOT_PROTECTED_(\d+)__/g,(a,s)=>{const o=parseInt(s,10);return o>=0&&o<e.length?e[o]:a}),i};function QCe(){return t=>{Pp(t,"element",(e,r,n)=>{var i;if(e.tagName==="pre"&&((i=e.children[0])==null?void 0:i.tagName)==="code"){const a=Gu("button",{className:"ai-chatbot-code-copy-button",title:"复制"},[Gu("span",{className:"ai-chatbot-copy-icon"},[{type:"raw",value:WCe}]),Gu("span",{className:"ai-chatbot-copied-icon"},[{type:"raw",value:YCe}]),Gu("span",{className:"ai-chatbot-copied-text"},"已复制")]),s=Gu("div",{className:"ai-chatbot-codeblock-wrapper",style:"position: relative;"},[e,a]);n.children.splice(r,1,s)}})}}const ZCe=zCe().use(Uie).use(roe).use(lce).use(Kce,{allowDangerousHtml:!0}).use(Nue,{output:"mathml",throwOnError:!1,strict:!1}).use(a5e,{errorFallback:function(t,e,r,n){return null}}).use(QCe).use(vke).use(ade).use(Rde).use(ECe),JCe=(t,e)=>{e&&ZCe.process(jCe(t)).then(r=>e.innerHTML=r).catch(r=>e.innerHTML=t)};function MH(t){var e="";return t.childNodes.forEach(function(r){r.nodeType===Node.TEXT_NODE?e+=r.textContent:r.nodeName==="BR"?e+=`
`:e+=MH(r)}),e}const e_e=`pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em
}
code.hljs {
  padding: 3px 5px
}
/*!
  Theme: GitHub
  Description: Light theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-light
  Current colors taken from GitHub's CSS
*/
.hljs {
  color: #24292e;
  background: #ffffff
}
.hljs-doctag,
.hljs-keyword,
.hljs-meta .hljs-keyword,
.hljs-template-tag,
.hljs-template-variable,
.hljs-type,
.hljs-variable.language_ {
  /* prettylights-syntax-keyword */
  color: #d73a49
}
.hljs-title,
.hljs-title.class_,
.hljs-title.class_.inherited__,
.hljs-title.function_ {
  /* prettylights-syntax-entity */
  color: #6f42c1
}
.hljs-attr,
.hljs-attribute,
.hljs-literal,
.hljs-meta,
.hljs-number,
.hljs-operator,
.hljs-variable,
.hljs-selector-attr,
.hljs-selector-class,
.hljs-selector-id {
  /* prettylights-syntax-constant */
  color: #005cc5
}
.hljs-regexp,
.hljs-string,
.hljs-meta .hljs-string {
  /* prettylights-syntax-string */
  color: #032f62
}
.hljs-built_in,
.hljs-symbol {
  /* prettylights-syntax-variable */
  color: #e36209
}
.hljs-comment,
.hljs-code,
.hljs-formula {
  /* prettylights-syntax-comment */
  color: #6a737d
}
.hljs-name,
.hljs-quote,
.hljs-selector-tag,
.hljs-selector-pseudo {
  /* prettylights-syntax-entity-tag */
  color: #22863a
}
.hljs-subst {
  /* prettylights-syntax-storage-modifier-import */
  color: #24292e
}
.hljs-section {
  /* prettylights-syntax-markup-heading */
  color: #005cc5;
  font-weight: bold
}
.hljs-bullet {
  /* prettylights-syntax-markup-list */
  color: #735c0f
}
.hljs-emphasis {
  /* prettylights-syntax-markup-italic */
  color: #24292e;
  font-style: italic
}
.hljs-strong {
  /* prettylights-syntax-markup-bold */
  color: #24292e;
  font-weight: bold
}
.hljs-addition {
  /* prettylights-syntax-markup-inserted */
  color: #22863a;
  background-color: #f0fff4
}
.hljs-deletion {
  /* prettylights-syntax-markup-deleted */
  color: #b31d28;
  background-color: #ffeef0
}
.hljs-char.escape_,
.hljs-link,
.hljs-params,
.hljs-property,
.hljs-punctuation,
.hljs-tag {
  /* purposely ignored */
  
}`,t_e=`.ai-chatbot {
    display: flex;
    flex-direction: column;
    height: 100%;
    font-size: 1em;
    font-family: Menlo,Monaco,Consolas,monospace;
    box-sizing: border-box;
    border-radius: inherit;
    overflow: hidden;
}
.ai-chatbot .ai-chatbot-hide {
    display: none !important;
}
.ai-chatbot button {
    background: none;
    -webkit-appearance: none;
    appearance: none;
    border: 0 none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    outline: none;
    cursor: pointer;
    white-space: nowrap;
    text-align: center;
    min-width: 24px;
    min-height: 24px;
    line-height: 1em;
    padding: 0;
    background: none;
    box-shadow: none;
    box-sizing: border-box;
    border-radius: 5px;
}
.ai-chatbot-header {
    display: flex;
    gap: 6px;
    align-items: center;
    flex-wrap: nowrap;
    height: 36px;
    background-color: var(--primary-brand-color, #007aff);
    color: #fff;
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
    user-select: none;
}
.ai-chatbot-header > div {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 0 10px;
}
.ai-chatbot-header-icon,
.ai-chatbot-header-title {
    display: inline-flex;
    align-items: center;
}
.ai-chatbot-header-icon svg {
    width: 1.5em;
    height: 1.5em;
}
.ai-chatbot-header-actions {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 4px;
}
.ai-chatbot-header-actions button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    appearance: none;
    background: none;
    border: 0 none;
    width: 26px;
    height: 26px;
    padding: 0;
    line-height: 1.0;
    color: #fff;
    border-radius: 6px;
    box-sizing: border-box;
}
.ai-chatbot-header-actions button svg {
    width: 16px;
    height: 16px;
}
.ai-chatbot-header-actions button:hover {
    background-color: rgba(0,0,0,0.2);
}

.ai-chatbot-messages {
    flex: 1;
    min-height: 50px;
    height: 100%;
    overflow-y: auto;
    scrollbar-width: thin;
    box-sizing: border-box;
    padding: 16px;
    padding-bottom: 0;
    display: flex;
    flex-direction: column;
}
.ai-chatbot-message-item {
    display: flex;
    align-items: flex-end;
    flex-wrap: nowrap;
    gap: 10px;
    margin-bottom: 15px;
    box-sizing: border-box;
}
.ai-chatbot-assistant-message {
    justify-content: flex-start;
}
.ai-chatbot-user-message {
    justify-content: flex-end;
}
.ai-chatbot-avatar {
    display: flex;
    align-items: flex-end;
    align-self: flex-end;
    box-sizing: border-box;
}
.ai-chatbot-avatar > svg {
    height: 30px;
    width: 30px;
    padding: 4px;
    fill: #fff;
    flex-shrink: 0;
    align-self: flex-end;
    margin-bottom: 2px;
    background: var(--primary-brand-color, #007aff);
    border-radius: 50%;
    box-sizing: border-box;
}
.ai-chatbot-message {
    min-width: 50px;
    max-width: 95%;
    word-wrap: break-word;
    word-break: break-all;
    border-radius: 15px;
    line-height: 1.57;
    padding: 12px 16px;
    box-sizing: border-box;
}
.ai-chatbot-message p {
    padding: 0;
    margin: 0;
    margin-bottom: 12px;
}
.ai-chatbot-message-content > p:last-child {
    margin-bottom: 0;
}
.ai-chatbot-message-content table {
    border-collapse: collapse;
    border: 1px solid rgba(17,20,24,.15);
}
.ai-chatbot-message-content table th {
    font-weight: bold;
    border: 1px solid rgba(17,20,24,.15);
    background-color: #f2f2f2;
    text-align: center;
    padding: 4px 6px;
}
.ai-chatbot-message-content table td {
    border: 1px solid rgba(17,20,24,.15);
    background-color: #fff;
    padding: 4px 6px;
}
.ai-chatbot-message pre {
    padding: 0;
    margin: 0;
    margin-bottom: 12px;
    background-color: #fff;
    border-radius: 5px;
    overflow: auto;
}
.ai-chatbot-message-content code {
    font-size: 0.9em;
    background-color: rgba(205, 66, 70, .1);
    color: #ac2f33;
    border-radius: 5px;
    padding: 2px 5px;
    font-family: Menlo,Monaco,Consolas,monospace;
}
.ai-chatbot-message pre code {
    font-size: 0.9em;
    border-radius: inherit;
    background-color: transparent;
    color: inherit;
}
.ai-chatbot-assistant-message .ai-chatbot-message {
    text-align: left;
    background: #f9f9f9;
    color: rgb(0, 0, 0);
    border-bottom-left-radius: 2px;
    box-shadow: 0 0 0 1px rgba(17, 20, 24, .1), 0 1px 1px rgba(17, 20, 24, .2);
}
.ai-chatbot-user-message .ai-chatbot-message {
    text-align: left;
    border-bottom-right-radius: 2px;
    background: var(--primary-brand-color, #007aff);
    color: #fff;
}

.ai-chatbot-message-thinking {
    margin-bottom: 5px;
    display: flex;
    flex-direction: column;
}
.ai-chatbot-message-thinking-header {
    display: flex;
    gap: 4px;
    align-items: center;
    line-height: 1.2em;
    font-size: 0.95em;
    color: rgba(0,0,0,0.7);
    margin-bottom: 5px;
    width: fit-content;
    user-select: none;
    cursor: pointer;
}
.ai-chatbot-message-thinking-icon {
    display: flex;
    align-items: center;
    line-height: 1.0;
    transform: rotate(90deg);
    transition: transform 0.2s;
}
.ai-chatbot-message-thinking-icon svg {
    width: 1em;
    height: 1em;
}
.ai-chatbot-message-thinking-content {
    font-size: 0.9em;
    color: #383E47;
    padding: 5px 5px 5px 10px;
    margin-left: 5px;
    border-left: 1px solid rgba(0,0,0,0.15);
    margin-bottom: 10px;
}
.ai-chatbot-message-thinking-content > p:last-child {
    margin-bottom: 0;
}
.ai-chatbot-message-thinking.collapsed {
    flex-direction: row;
}
.ai-chatbot-message-thinking.collapsed .ai-chatbot-message-thinking-header {
    background-color: rgba(0,0,0,0.05);
    padding: 2px 6px;
    border-radius: 5px;
}
.ai-chatbot-message-thinking.collapsed .ai-chatbot-message-thinking-icon {
    transform: rotate(0deg);
}
.ai-chatbot-message-thinking.collapsed .ai-chatbot-message-thinking-content {
    display: none;
}

.ai-chatbot-waiting-indicator {
    display: flex;
    gap: 4px;
    padding: 6px 0;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
}
@keyframes aiChatbotWaitingDotPulse {
    0%,
    44% {
        transform: translateY(0);
    }
    28% {
        opacity: 0.4;
        transform: translateY(-4px);
    }
    44% {
        opacity: 0.2;
    }
}
.ai-chatbot-waiting-dot {
    height: 7px;
    width: 7px;
    opacity: 0.7;
    border-radius: 50%;
    background: var(--primary-brand-color, #007aff);
    box-sizing: border-box;
    animation: aiChatbotWaitingDotPulse 1.8s ease-in-out infinite;
}
.ai-chatbot-waiting-indicator .ai-chatbot-waiting-dot:nth-child(1) {
    animation-delay: 0.2s;
}
.ai-chatbot-waiting-indicator .ai-chatbot-waiting-dot:nth-child(2) {
    animation-delay: 0.3s;
}
.ai-chatbot-waiting-indicator .ai-chatbot-waiting-dot:nth-child(2) {
    animation-delay: 0.4s;
}

.ai-chatbot-suggestion {
    position: relative;
    z-index: 2;
    min-height: 30px;
    padding: 15px;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}
.ai-chatbot-suggestion::before {
    display: none;
    content: "";
    position: absolute;
    top: -50px;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100px;
    pointer-events: none;
    z-index: -1;
    background: linear-gradient(color(srgb 1 1 1 / 0), color(srgb 1 1 1) 60%);
}
.ai-chatbot-suggestion-tools {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    box-sizing: border-box;
}
.ai-chatbot-suggestion-tools button {
    min-width: 30px;
    min-height: 30px;
    padding: 5px 10px;
    background-color: #F6F7F9;
    border: 1px solid rgba(28, 33, 39, .2);
    border-radius: 5px;
}
.ai-chatbot-suggestion-tools button:hover {
    background: #EDEFF2;
    border-color: rgba(28, 33, 39, .3);
    box-shadow: none;
    text-decoration: none;
}
.ai-chatbot-suggestion-tools .ai-tool-icon {
    display: flex;
    align-items: center;
    line-height: 1.0;
}
.ai-chatbot-suggestion-tools .ai-tool-text {
    display: flex;
    align-items: center;
}

.ai-chatbot-input-group {
    display: flex;
    align-items: center;
    gap: 8px;
    border-radius: 8px;
    background-color: rgba(0,0,0,0.03);
    padding: 8px;
    box-sizing: border-box;
    box-shadow: 0 0 0 0 rgba(33, 93, 176, 0), 0 0 0 0 rgba(33, 93, 176, 0), inset 0 0 0 1px rgba(17, 20, 24, .2), inset 0 1px 1px rgba(17, 20, 24, .3);
}
.ai-chatbot-input-group:focus-within {
    box-shadow: 0 0 0 1px var(--primary-brand-color, #007aff), inset 0 1px 1px rgba(16, 22, 26, .2);
}
.ai-chatbot-input-group textarea {
    flex: 1;
    width: 100%;
    border: 0 none;
    font-size: 14px;
    background-color: transparent;
    background: none;
    resize: none;
    outline: none;
    padding: 2px;
    line-height: 1.5;
    box-sizing: border-box;
    border-radius: 3px;
    overflow: auto;
}
.ai-chatbot-input-group textarea:focus {
    outline: none;
}
.ai-chatbot-input-actions {
    display: flex;
    gap: 4px;
    flex-direction: row;
    flex-wrap: nowrap;
    box-sizing: border-box;
}
.ai-chatbot-input-actions button {
    width: 32px;
    height: 32px;
    padding: 0;
    border-radius: 50%;
    color: var(--primary-brand-color, #007aff);
}
.ai-chatbot-input-actions button:hover {
    background-color: rgba(0,0,0,0.05);
}
.ai-chatbo-abort-icon {
    color: inherit;
    line-height: 1.0;
}

.ai-chatbot-codeblock-wrapper {
    position: relative;
}
.ai-chatbot button.ai-chatbot-code-copy-button {
    position: absolute; 
    z-index: 2;
    top: 5px; 
    right: 5px;
    min-width: 24px;
    height: 24px;
    padding: 4px;
    display: none;
    align-items: center;
    justify-content: center;
    gap: 4px;
    color: #898989;
}
.ai-chatbot-codeblock-wrapper:hover .ai-chatbot-code-copy-button {
    display: inline-flex;
}
.ai-chatbot-code-copy-button:hover {
    background-color: rgba(0,0,0,0.05);
}
.ai-chatbot-code-copy-button svg {
    width: 16px;
    height: 16px;
    fill: currentColor;
    pointer-events: none;
}
.ai-chatbot-code-copy-button .ai-chatbot-copy-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.ai-chatbot-code-copy-button .ai-chatbot-copied-icon,
.ai-chatbot-code-copy-button .ai-chatbot-copied-text {
    display: none;
    align-items: center;
    justify-content: center;
}
.ai-chatbot-code-copy-button .ai-chatbot-copied-icon {
    color: #32A467;
}
.ai-chatbot-code-copy-button .ai-chatbot-copied-text {
    font-size: 12px;
    flex: 1;
}
.ai-chatbot-code-copy-button.copied .ai-chatbot-copy-icon {
    display: none;
}
.ai-chatbot-code-copy-button.copied .ai-chatbot-copied-icon,
.ai-chatbot-code-copy-button.copied .ai-chatbot-copied-text {
    display: inline-flex;
}

`,Wb=`<svg class="ai-chatbot-avatar-icon" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 1024 1024" fill="currentColor">
<path d="M738.3 287.6H285.7c-59 0-106.8 47.8-106.8 106.8v303.1c0 59 47.8 106.8 106.8 106.8h81.5v111.1c0 .7.8 1.1 1.4.7l166.9-110.6 41.8-.8h117.4l43.6-.4c59 0 106.8-47.8 106.8-106.8V394.5c0-59-47.8-106.9-106.8-106.9zM351.7 448.2c0-29.5 23.9-53.5 53.5-53.5s53.5 23.9 53.5 53.5-23.9 53.5-53.5 53.5-53.5-23.9-53.5-53.5zm157.9 267.1c-67.8 0-123.8-47.5-132.3-109h264.6c-8.6 61.5-64.5 109-132.3 109zm110-213.7c-29.5 0-53.5-23.9-53.5-53.5s23.9-53.5 53.5-53.5 53.5 23.9 53.5 53.5-23.9 53.5-53.5 53.5zM867.2 644.5V453.1h26.5c19.4 0 35.1 15.7 35.1 35.1v121.1c0 19.4-15.7 35.1-35.1 35.1h-26.5zM95.2 609.4V488.2c0-19.4 15.7-35.1 35.1-35.1h26.5v191.3h-26.5c-19.4 0-35.1-15.7-35.1-35.1zM561.5 149.6c0 23.4-15.6 43.3-36.9 49.7v44.9h-30v-44.9c-21.4-6.5-36.9-26.3-36.9-49.7 0-28.6 23.3-51.9 51.9-51.9s51.9 23.3 51.9 51.9z"></path>
</svg>`,r_e=`<svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M1.754.135L19.393 9.06c.57.288.775.943.458 1.462-.107.176-.266.32-.458.418l-17.64 8.925c-.57.288-1.288.1-1.604-.418C.05 19.287 0 19.183 0 19v-7l11-2L0 8V1.075C0 .481.529 0 1.18 0c.201 0 .399.047.574.135z" fill-rule="evenodd"></path>
</svg>`,n_e=`<svg class="ai-chatbot-abort-icon" width="24" height="24" color="currentColor" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">
<rect fill="currentColor" height="250" rx="24" ry="24" width="250" x="375" y="375"></rect><circle cx="500" cy="500" fill="none" r="450" stroke="currentColor" stroke-width="100" opacity="0.45"></circle><circle cx="500" cy="500" fill="none" r="450" stroke="currentColor" stroke-width="100" stroke-dasharray="600 9999999"><animateTransform attributeName="transform" dur="1s" from="0 500 500" repeatCount="indefinite" to="360 500 500" type="rotate"></animateTransform></circle>
</svg>`,PH='<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M7.53 3.78a.666.666 0 0 1 .836-.086l.105.085 5.75 5.75c.26.26.26.682 0 .942l-5.75 5.75a.666.666 0 0 1-.942-.942L12.81 10l-5.28-5.28-.085-.104a.666.666 0 0 1 .085-.837z"/></svg>',i_e='<svg width="1em" height="1em" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="currentColor" overflow="hidden"><path d="M863.488 475.99H544.981V165.546a35.968 35.968 0 1 0-72.021 0v310.485H161.493a35.968 35.968 0 1 0 0 72.021H472.96V859.52a35.968 35.968 0 1 0 72.021 0V548.053h318.507a35.968 35.968 0 1 0 0-72.021z"/></svg>',a_e='<svg width="1em" height="1em" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="currentColor" overflow="hidden"><path d="M556.8 512L832 236.8c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L512 467.2 236.8 189.867c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L467.2 512 189.867 787.2c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933 8.533 23.466 8.533S230.4 838.4 236.8 832L512 556.8 787.2 832c6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533c12.8-12.8 12.8-32 0-44.8L556.8 512z"/></svg>';class BH{constructor(e){this.options=CS({container:document.body,tools:[],onToolsClick:(a,s,o)=>{},openai:{url:"",apiKey:"",model:"",systemPrompt:""},header:{botIcon:`${Wb}`,botTitle:"AI助手",closable:!0,onClose:function(){}},theme:"light",style:{"--primary-brand-color":"#007aff"}},e||{});let r=this.options.container;if(!r)throw new Error("`container` not found");if(typeof r=="string"&&(r=document.querySelector(r)),!r)throw new Error("`container` not found");let n="";if(typeof this.options.header=="object"){const{botIcon:a,botTitle:s}=this.options.header;n=`
            <div class="ai-chatbot-header">
                <div>
                    <span class="ai-chatbot-header-icon">${a}</span>
                    <span class="ai-chatbot-header-title">${s}</span>
                </div>
                <div class="ai-chatbot-header-actions">
                    <button class="ai-chatbot-action-new">${i_e}</button>
                    <button class="ai-chatbot-action-close">${a_e}</button>
                </div>
            </div>
            `}const i=r.attachShadow({mode:"open"});i.innerHTML=`
        <style>
        :host {
            height:100%;
            display:block;
            --primary-brand-color: ${this.options.style["--primary-brand-color"]};
        }
        ${e_e}
        ${t_e}
        </style>
        <div class="ai-chatbot">
            ${n}
            <div class="ai-chatbot-messages"></div>
            <div class="ai-chatbot-suggestion">
                <div class="ai-chatbot-suggestion-tools"></div>
                <div class="ai-chatbot-input-group">
                    <textarea class="ai-chatbot-user-input" name="ai-chatbot-user-input" rows="1" cols="10" placeholder="有什么问题尽管问我"></textarea>
                    <div class="ai-chatbot-input-actions">
                        <button class="ai-chatbot-send-btn">${r_e}</button>
                        <button class="ai-chatbot-abort-btn ai-chatbot-hide">${n_e}</button>
                    </div>
                </div>
            </div>
        </div>
        `,this.messages=[],this._loading=!1,this._abortController=null,this._autoScrolling=!0,this.messageContainer=i.querySelector(".ai-chatbot-messages"),this.userInput=i.querySelector("textarea.ai-chatbot-user-input"),this.sendButton=i.querySelector("button.ai-chatbot-send-btn"),this.abortButton=i.querySelector("button.ai-chatbot-abort-btn"),this.toolsContainer=i.querySelector(".ai-chatbot-suggestion-tools"),this.actionNewSession=i.querySelector("button.ai-chatbot-action-new"),this.actionClose=i.querySelector("button.ai-chatbot-action-close"),this.setupEventListeners(),this.setupTools()}setupEventListeners(){this.userInput.addEventListener("keypress",r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),this.sendMessage(this.userInput.value.trim()))}),this.userInput.addEventListener("input",()=>{this.userInput.style.height="auto";let r=this.userInput.scrollHeight;r>200&&(r=200),this.userInput.style.height=r+"px"}),this.sendButton.addEventListener("click",()=>this.sendMessage(this.userInput.value.trim())),this.abortButton.addEventListener("click",()=>this.abortChat()),this.messageContainer.addEventListener("click",r=>{var a;const i=r.target.closest(".ai-chatbot-code-copy-button");if(i){const s=(a=i.closest(".ai-chatbot-codeblock-wrapper"))==null?void 0:a.querySelector("code");if(s){const o=MH(s);XCe(o,()=>{i.classList.add("copied"),setTimeout(()=>{i.classList.remove("copied")},3500)})}}}),this.actionNewSession&&this.actionNewSession.addEventListener("click",()=>this.newSession()),this.actionClose&&this.actionClose.addEventListener("click",r=>{var n;typeof((n=this.options.header)==null?void 0:n.onClose)=="function"&&this.options.header.onClose(this,r)});const e=this.messageContainer;e.addEventListener("scroll",()=>{const r=e.scrollHeight-e.scrollTop-e.clientHeight<=10;this._autoScrolling&&!r?this._autoScrolling=!1:!this._autoScrolling&&r&&(this._autoScrolling=!0,this.scrollToBottom())})}setupTools(){const e=this.options.tools,r=this.options.onToolsClick||function(){};!e||e.length===0||e.forEach(n=>{let i=document.createElement("button");i.innerHTML=(n.icon?'<span class="ai-tool-icon">'+n.icon+"</span>":"")+'<span class="ai-tool-text">'+(n.label||"Btn")+"</span>",i.addEventListener("click",a=>{r(n,this,a)}),this.toolsContainer.appendChild(i)})}renderMessage(e,r){JCe(e,r)}newSession(){this.abortChat(),this.messages=[],this.messageContainer.innerHTML=""}get loading(){return this._loading}set loading(e){this._loading=!!e,this._loading?(this.sendButton.classList.add("ai-chatbot-hide"),this.abortButton.classList.remove("ai-chatbot-hide")):(this.abortButton.classList.add("ai-chatbot-hide"),this.sendButton.classList.remove("ai-chatbot-hide"))}addMessage(e,r=!1,n=!1){const i=document.createElement("div");i.className=`ai-chatbot-message-item ${r?"ai-chatbot-user-message":"ai-chatbot-assistant-message"}`,n?i.innerHTML=`<div class="ai-chatbot-avatar">${Wb}</div>
            <div class="ai-chatbot-message">
                <div class="ai-chatbot-message-thinking ai-chatbot-hide">
                    <div class="ai-chatbot-message-thinking-header">
                        <span class="ai-chatbot-message-thinking-tip"></span>
                        <span class="ai-chatbot-message-thinking-icon">${PH}</span>
                    </div>
                    <div class="ai-chatbot-message-thinking-content"></div>
                </div>
                <div class="ai-chatbot-message-content">
                    <div class="ai-chatbot-waiting-indicator">
                        <div class="ai-chatbot-waiting-dot"></div>
                        <div class="ai-chatbot-waiting-dot"></div>
                        <div class="ai-chatbot-waiting-dot"></div>
                    </div>
                </div>
            </div>`:r?i.innerHTML=`<div class="ai-chatbot-message"><div class="ai-chatbot-message-content">${e}</div></div>`:(i.innerHTML=`<div class="ai-chatbot-avatar">${Wb}</div>
                <div class="ai-chatbot-message">
                    <div class="ai-chatbot-message-thinking collapsed">
                        <div class="ai-chatbot-message-thinking-header">
                            <span class="ai-chatbot-message-thinking-tip"></span>
                            <span class="ai-chatbot-message-thinking-icon">${PH}</span>
                        </div>
                        <div class="ai-chatbot-message-thinking-content"></div>
                    </div>
                    <div class="ai-chatbot-message-content"></div>
                </div>`,this.renderMessage(e,i.querySelector(".ai-chatbot-message-content"))),this.messageContainer.appendChild(i),this.scrollToBottom()}scrollToBottom(){this._autoScrolling&&requestAnimationFrame(()=>{this.messageContainer.scrollTop=this.messageContainer.scrollHeight})}abortChat(){this._abortController&&(this._abortController.abort(),this._abortController=null)}setOpenai(e){Object.assign(this.options.openai,e||{})}async sendMessage(e,r){if(this.loading)return;const n=this.options.openai,i=n==null?void 0:n.url,a=n==null?void 0:n.apiKey,s=n==null?void 0:n.model;if(!i)throw new Error("`openai url` is required.");if(!s)throw new Error("`openai model` is required.");if(!e)return;this.loading=!0,this.addMessage(e,!0,!1),this.messages.push({role:"user",content:r||e}),this.userInput.value="",this.userInput.style.height="auto",this.addMessage("",!1,!0);let o=null,l=null,u=null,h=null;const d=this.messageContainer.lastElementChild;if(d&&d.classList.contains("ai-chatbot-message-item")&&(o=d.querySelector(".ai-chatbot-message-thinking"),l=d.querySelector(".ai-chatbot-message-thinking-tip"),u=d.querySelector(".ai-chatbot-message-thinking-content"),h=d.querySelector(".ai-chatbot-message-content"),o)){let v=d.querySelector(".ai-chatbot-message-thinking-header");v.addEventListener("click",()=>{v.parentElement.classList.toggle("collapsed")})}const f=OH((v,b,x)=>{o&&(o.classList.remove("ai-chatbot-hide"),l.innerText=b?`已思考 ${x}秒`:`思考中(${x}秒)...`,this.renderMessage(v,u),b&&o.classList.add("collapsed"),this.scrollToBottom())},230),p=OH(v=>{h&&(this.renderMessage(v,h),this.scrollToBottom())},230),g=(n==null?void 0:n.systemPrompt)||"",m={model:s,messages:g?[{role:"system",content:g}].concat(this.messages):this.messages,stream:!0};this._abortController=new AbortController;const y=this._abortController.signal;try{const v=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(m),signal:y});if(!v.ok){this.loading=!1,console.error("Error from OpenAI API:",v);return}const b=v.body.getReader(),x=new TextDecoder;let T="",w=!1,S=!1,k=!1,L="",_=Date.now(),N="";for(;;){const{done:C,value:D}=await b.read();if(C)break;T+=x.decode(D,{stream:!0});const P=T.split(`

`);T=P.pop();for(const A of P)if(A.startsWith("data: ")){const R=A.substring(6);if(R.trim()==="[DONE]"){this.messages.push({role:"assistant",content:N}),this.loading=!1;return}try{const M=JSON.parse(R).choices[0].delta;let I=(M==null?void 0:M.reasoning_content)||(M==null?void 0:M.reasoning),F=(M==null?void 0:M.content)||"";if(!w&&I!==void 0&&(w=!0),!w&&!F)continue;if((w||F.includes("<think>"))&&(S=!0,F=(I||F).replace("<think>","")),F.includes("</think>")&&(F=F.replace("</think>",""),S=!1,k=!0),w&&S&&(M!=null&&M.content)&&(S=!1,k=!0),S){if(F.length===0||F===`
`&&L.length===0)continue;L+=F,f(L,k,((Date.now()-_)/1e3).toFixed(1));continue}S||(L.length>0&&(f(L,k,((Date.now()-_)/1e3).toFixed(1)),L=""),N+=F,p(N))}catch(O){console.error("响应内容不是json格式",O)}}}}catch(v){this.loading=!1,v.message.includes("abort")||(console.error("Error:",v),this.addMessage("发生了异常错误："+(v.message||"unknown")))}}}class s_e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._config={}}connectedCallback(){const e=this.config.icon;this.shadowRoot.innerHTML=`
        <style>
        .ai-chatbot-floating-handler {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            appearance: none;
            background-color: var(--primary-brand-color);
            color: #fff;
            border: 0 none;
            cursor: pointer;
            user-select: none;
            touch-action: none;
            outline: none;
            transition: box-shadow 0.2s;
            box-shadow: 0 2px 6px rgba(17, 20, 24, .2);
        }
        .ai-chatbot-floating-handler svg {
            fill: currentColor;
            pointer-events: none;
        }
        .ai-chatbot-floating-handler:hover {
            box-shadow: 0 8px 16px rgba(17, 20, 24, .2);
        }
        .ai-chatbot-floating-handler.is-dragging {
            cursor: grabbing;
        }
        </style>
        <div style="position:relative;">
            <button class="ai-chatbot-floating-handler">${e}</button>
        </div>
        `,this.handlerBtn=this.shadowRoot.querySelector("button.ai-chatbot-floating-handler")}set config(e){this._config=e}get config(){return this._config}}customElements.define("ai-chatbot-floating-assistant",s_e);const o_e=t=>{var v;if(document.getElementById("ai-chatbot-floating-assistant"))return;const e=CS({icon:`${Wb}`,theme:"light",style:{right:"30px",bottom:"30px",zIndex:1e3,"--primary-brand-color":"#5350c4"}},t||{}),r=parseInt(((v=e.style)==null?void 0:v.zIndex)||1e3),n=document.createElement("ai-chatbot-floating-assistant");if(n.style.cssText="position:fixed;right:10px;bottom:10px;transform:translate(0, 0);cursor:pointer;",n.config=e,n.id="ai-chatbot-floating-assistant",n.className="ai-chatbot-floating-assistant",document.body.appendChild(n),e.style)for(let b in e.style){let x=e.style[b];x!=null&&(b.startsWith("--")?n.style.setProperty(b,x):n.style[b]=x)}n.style.zIndex=r;const i=document.createElement("div");i.className="ai-chatbot-floating-container",i.style.cssText=`display:none;position:fixed;z-index:${r+2};left:0;top:0;width:400px;height:80vh;border-radius:6px;background-color:#fdfdfd;box-shadow: 0 0 0 1px rgba(17, 20, 24, .1),0 1px 1px rgba(17, 20, 24, .2),0 2px 6px rgba(17, 20, 24, .2);`,document.body.appendChild(i),new BH(Object.assign({},e,{container:i,header:{onClose:()=>{i.style.display="none"}}}));const a=document.createElement("div");a.className="ai-chatbot-floating-overlay",a.style.cssText=`display:none;position:fixed;left:0;top:0;right:0;bottom:0;z-index:${r-1};use-select:none;background-color:rgba(0,0,0,0);`,document.body.appendChild(a);const s=()=>{const b=n.getBoundingClientRect(),x=b.top,T=window.innerHeight-b.top-b.height;if(i.style.height=Math.max(x,T)-30+"px",i.style.display==="block"){i.style.display="none";return}i.style.display="block",i.style.visibility="hidden",Xre(n,i,{placement:"top-end",middleware:[Yre(),Wre(),qre(5)]}).then(({x:w,y:S})=>{Object.assign(i.style,{left:`${w}px`,top:`${S}px`,visibility:"visible"})})};let o=!1,l=0,u=0,h=0,d=0,f=[];const p=b=>b.touches?b.touches[0]:b,g=b=>{const x=p(b);h=x.clientX,d=x.clientY,a.style.display="block";const T=n.getBoundingClientRect();f=[-T.left+l,window.innerWidth-T.right+l,-T.top+u,window.innerHeight-T.bottom+u],document.addEventListener("mousemove",m),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("mouseup",y),document.addEventListener("touchend",y)},m=b=>{b.preventDefault();const x=p(b),T=x.clientX-h,w=x.clientY-d;let S=l+T,k=u+w;!o&&(Math.abs(T)>5||Math.abs(w)>5)&&(o=!0,n.classList.add("is-dragging"),i.style.display="none"),S<f[0]?S=f[0]:S>f[1]&&(S=f[1]),k<f[2]?k=f[2]:k>f[3]&&(k=f[3]),o&&(n.style.transform=`translate(${S}px, ${k}px) scale(1.2)`)},y=b=>{if(a.style.display="none",!o)s();else{o=!1,n.classList.remove("is-dragging");const x=p(b.changedTouches?b.changedTouches[0]:b),T=x.clientX-h,w=x.clientY-d;l+=T,u+=w,l<f[0]?l=f[0]:l>f[1]&&(l=f[1]),u<f[2]?u=f[2]:u>f[3]&&(u=f[3]),n.style.transform=`translate(${l}px, ${u}px) scale(1.0)`}document.removeEventListener("mousemove",m),document.removeEventListener("touchmove",m),document.removeEventListener("mouseup",y),document.removeEventListener("touchend",y)};n.addEventListener("mousedown",g),n.addEventListener("touchstart",g,{passive:!1})};var l_e="[object Symbol]";function Eh(t){return typeof t=="symbol"||Gs(t)&&Xl(t)==l_e}function Th(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var FH=Us?Us.prototype:void 0,$H=FH?FH.toString:void 0;function zH(t){if(typeof t=="string")return t;if(Ar(t))return Th(t,zH)+"";if(Eh(t))return $H?$H.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var c_e=/\s/;function u_e(t){for(var e=t.length;e--&&c_e.test(t.charAt(e)););return e}var h_e=/^\s+/;function d_e(t){return t&&t.slice(0,u_e(t)+1).replace(h_e,"")}var UH=NaN,f_e=/^[-+]0x[0-9a-f]+$/i,p_e=/^0b[01]+$/i,g_e=/^0o[0-7]+$/i,m_e=parseInt;function y_e(t){if(typeof t=="number")return t;if(Eh(t))return UH;if(Ya(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ya(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=d_e(t);var r=p_e.test(t);return r||g_e.test(t)?m_e(t.slice(2),r?2:8):f_e.test(t)?UH:+t}var HH=1/0,v_e=17976931348623157e292;function Yb(t){if(!t)return t===0?t:0;if(t=y_e(t),t===HH||t===-HH){var e=t<0?-1:1;return e*v_e}return t===t?t:0}function Xb(t){var e=Yb(t),r=e%1;return e===e?r?e-r:e:0}function fi(){}function GH(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function VH(t,e,r,n){for(var i=t.length,a=r+-1;++a<i;)if(e(t[a],a,t))return a;return-1}function b_e(t){return t!==t}function x_e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function _S(t,e,r){return e===e?x_e(t,e,r):VH(t,b_e,r)}function qH(t,e){var r=t==null?0:t.length;return!!r&&_S(t,e,0)>-1}function pi(t){return Zo(t)?fB(t):cz(t)}var E_e=Object.prototype,T_e=E_e.hasOwnProperty,ws=vB(function(t,e){if(Ug(e)||Zo(e)){hf(e,pi(e),t);return}for(var r in e)T_e.call(e,r)&&Vg(t,r,e[r])}),w_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S_e=/^\w*$/;function AS(t,e){if(Ar(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Eh(t)?!0:S_e.test(t)||!w_e.test(t)||e!=null&&t in Object(e)}var k_e=500;function C_e(t){var e=lf(t,function(n){return r.size===k_e&&r.clear(),n}),r=e.cache;return e}var __e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A_e=/\\(\\)?/g,L_e=C_e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(__e,function(r,n,i,a){e.push(i?a.replace(A_e,"$1"):n||r)}),e});function WH(t){return t==null?"":zH(t)}function Kb(t,e){return Ar(t)?t:AS(t,e)?[t]:L_e(WH(t))}function E1(t){if(typeof t=="string"||Eh(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function jb(t,e){e=Kb(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[E1(e[r++])];return r&&r==n?t:void 0}function N_e(t,e,r){var n=t==null?void 0:jb(t,e);return n===void 0?r:n}function LS(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var YH=Us?Us.isConcatSpreadable:void 0;function R_e(t){return Ar(t)||cf(t)||!!(YH&&t&&t[YH])}function T1(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=R_e),i||(i=[]);++a<s;){var o=t[a];r(o)?LS(i,o):n||(i[i.length]=o)}return i}function Ri(t){var e=t==null?0:t.length;return e?T1(t):[]}function I_e(t){return yB(mB(t,void 0,Ri),t+"")}function XH(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}function D_e(t,e,r,n){var i=-1,a=t==null?0:t.length;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function O_e(t,e){return t&&hf(e,pi(e),t)}function M_e(t,e){return t&&hf(e,dh(e),t)}function NS(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}function KH(){return[]}var P_e=Object.prototype,B_e=P_e.propertyIsEnumerable,jH=Object.getOwnPropertySymbols,RS=jH?function(t){return t==null?[]:(t=Object(t),NS(jH(t),function(e){return B_e.call(t,e)}))}:KH;function F_e(t,e){return hf(t,RS(t),e)}var $_e=Object.getOwnPropertySymbols,QH=$_e?function(t){for(var e=[];t;)LS(e,RS(t)),t=q5(t);return e}:KH;function z_e(t,e){return hf(t,QH(t),e)}function ZH(t,e,r){var n=e(t);return Ar(t)?n:LS(n,r(t))}function IS(t){return ZH(t,pi,RS)}function JH(t){return ZH(t,dh,QH)}var U_e=Object.prototype,H_e=U_e.hasOwnProperty;function G_e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&H_e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function V_e(t,e){var r=e?V5(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var q_e=/\w*$/;function W_e(t){var e=new t.constructor(t.source,q_e.exec(t));return e.lastIndex=t.lastIndex,e}var eG=Us?Us.prototype:void 0,tG=eG?eG.valueOf:void 0;function Y_e(t){return tG?Object(tG.call(t)):{}}var X_e="[object Boolean]",K_e="[object Date]",j_e="[object Map]",Q_e="[object Number]",Z_e="[object RegExp]",J_e="[object Set]",eAe="[object String]",tAe="[object Symbol]",rAe="[object ArrayBuffer]",nAe="[object DataView]",iAe="[object Float32Array]",aAe="[object Float64Array]",sAe="[object Int8Array]",oAe="[object Int16Array]",lAe="[object Int32Array]",cAe="[object Uint8Array]",uAe="[object Uint8ClampedArray]",hAe="[object Uint16Array]",dAe="[object Uint32Array]";function fAe(t,e,r){var n=t.constructor;switch(e){case rAe:return V5(t);case X_e:case K_e:return new n(+t);case nAe:return V_e(t,r);case iAe:case aAe:case sAe:case oAe:case lAe:case cAe:case uAe:case hAe:case dAe:return eB(t,r);case j_e:return new n;case Q_e:case eAe:return new n(t);case Z_e:return W_e(t);case J_e:return new n;case tAe:return Y_e(t)}}var pAe="[object Map]";function gAe(t){return Gs(t)&&qs(t)==pAe}var rG=Yc&&Yc.isMap,mAe=rG?Hg(rG):gAe,yAe="[object Set]";function vAe(t){return Gs(t)&&qs(t)==yAe}var nG=Yc&&Yc.isSet,bAe=nG?Hg(nG):vAe,xAe=1,EAe=2,TAe=4,iG="[object Arguments]",wAe="[object Array]",SAe="[object Boolean]",kAe="[object Date]",CAe="[object Error]",aG="[object Function]",_Ae="[object GeneratorFunction]",AAe="[object Map]",LAe="[object Number]",sG="[object Object]",NAe="[object RegExp]",RAe="[object Set]",IAe="[object String]",DAe="[object Symbol]",OAe="[object WeakMap]",MAe="[object ArrayBuffer]",PAe="[object DataView]",BAe="[object Float32Array]",FAe="[object Float64Array]",$Ae="[object Int8Array]",zAe="[object Int16Array]",UAe="[object Int32Array]",HAe="[object Uint8Array]",GAe="[object Uint8ClampedArray]",VAe="[object Uint16Array]",qAe="[object Uint32Array]",mn={};mn[iG]=mn[wAe]=mn[MAe]=mn[PAe]=mn[SAe]=mn[kAe]=mn[BAe]=mn[FAe]=mn[$Ae]=mn[zAe]=mn[UAe]=mn[AAe]=mn[LAe]=mn[sG]=mn[NAe]=mn[RAe]=mn[IAe]=mn[DAe]=mn[HAe]=mn[GAe]=mn[VAe]=mn[qAe]=!0,mn[CAe]=mn[aG]=mn[OAe]=!1;function w1(t,e,r,n,i,a){var s,o=e&xAe,l=e&EAe,u=e&TAe;if(s!==void 0)return s;if(!Ya(t))return t;var h=Ar(t);if(h){if(s=G_e(t),!o)return tB(t,s)}else{var d=qs(t),f=d==aG||d==_Ae;if(uf(t))return JP(t,o);if(d==sG||d==iG||f&&!i){if(s=l||f?{}:iB(t),!o)return l?z_e(t,M_e(s,t)):F_e(t,O_e(s,t))}else{if(!mn[d])return i?t:{};s=fAe(t,d,o)}}a||(a=new yo);var p=a.get(t);if(p)return p;a.set(t,s),bAe(t)?t.forEach(function(y){s.add(w1(y,e,r,y,t,a))}):mAe(t)&&t.forEach(function(y,v){s.set(v,w1(y,e,r,v,t,a))});var g=u?l?JH:IS:l?dh:pi,m=h?void 0:g(t);return GH(m||t,function(y,v){m&&(v=y,y=t[v]),Vg(s,v,w1(y,e,r,v,t,a))}),s}var WAe=4;function gi(t){return w1(t,WAe)}var YAe=1,XAe=4;function KAe(t){return w1(t,YAe|XAe)}function S1(t){for(var e=-1,r=t==null?0:t.length,n=0,i=[];++e<r;){var a=t[e];a&&(i[n++]=a)}return i}var jAe="__lodash_hash_undefined__";function QAe(t){return this.__data__.set(t,jAe),this}function ZAe(t){return this.__data__.has(t)}function Nf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new jl;++e<r;)this.add(t[e])}Nf.prototype.add=Nf.prototype.push=QAe,Nf.prototype.has=ZAe;function oG(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function DS(t,e){return t.has(e)}var JAe=1,e8e=2;function lG(t,e,r,n,i,a){var s=r&JAe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),h=a.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,p=r&e8e?new Nf:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],m=e[d];if(n)var y=s?n(m,g,d,e,t,a):n(g,m,d,t,e,a);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!oG(e,function(v,b){if(!DS(p,b)&&(g===v||i(g,v,r,n,a)))return p.push(b)})){f=!1;break}}else if(!(g===m||i(g,m,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}function t8e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function OS(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var r8e=1,n8e=2,i8e="[object Boolean]",a8e="[object Date]",s8e="[object Error]",o8e="[object Map]",l8e="[object Number]",c8e="[object RegExp]",u8e="[object Set]",h8e="[object String]",d8e="[object Symbol]",f8e="[object ArrayBuffer]",p8e="[object DataView]",cG=Us?Us.prototype:void 0,MS=cG?cG.valueOf:void 0;function g8e(t,e,r,n,i,a,s){switch(r){case p8e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case f8e:return!(t.byteLength!=e.byteLength||!a(new Y2(t),new Y2(e)));case i8e:case a8e:case l8e:return of(+t,+e);case s8e:return t.name==e.name&&t.message==e.message;case c8e:case h8e:return t==e+"";case o8e:var o=t8e;case u8e:var l=n&r8e;if(o||(o=OS),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=n8e,s.set(t,e);var h=lG(o(t),o(e),n,i,a,s);return s.delete(t),h;case d8e:if(MS)return MS.call(t)==MS.call(e)}return!1}var m8e=1,y8e=Object.prototype,v8e=y8e.hasOwnProperty;function b8e(t,e,r,n,i,a){var s=r&m8e,o=IS(t),l=o.length,u=IS(e),h=u.length;if(l!=h&&!s)return!1;for(var d=l;d--;){var f=o[d];if(!(s?f in e:v8e.call(e,f)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var m=!0;a.set(t,e),a.set(e,t);for(var y=s;++d<l;){f=o[d];var v=t[f],b=e[f];if(n)var x=s?n(b,v,f,e,t,a):n(v,b,f,t,e,a);if(!(x===void 0?v===b||i(v,b,r,n,a):x)){m=!1;break}y||(y=f=="constructor")}if(m&&!y){var T=t.constructor,w=e.constructor;T!=w&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof w=="function"&&w instanceof w)&&(m=!1)}return a.delete(t),a.delete(e),m}var x8e=1,uG="[object Arguments]",hG="[object Array]",Qb="[object Object]",E8e=Object.prototype,dG=E8e.hasOwnProperty;function T8e(t,e,r,n,i,a){var s=Ar(t),o=Ar(e),l=s?hG:qs(t),u=o?hG:qs(e);l=l==uG?Qb:l,u=u==uG?Qb:u;var h=l==Qb,d=u==Qb,f=l==u;if(f&&uf(t)){if(!uf(e))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new yo),s||K2(t)?lG(t,e,r,n,i,a):g8e(t,e,l,r,n,i,a);if(!(r&x8e)){var p=h&&dG.call(t,"__wrapped__"),g=d&&dG.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return a||(a=new yo),i(m,y,r,n,a)}}return f?(a||(a=new yo),b8e(t,e,r,n,i,a)):!1}function PS(t,e,r,n,i){return t===e?!0:t==null||e==null||!Gs(t)&&!Gs(e)?t!==t&&e!==e:T8e(t,e,r,n,PS,i)}var w8e=1,S8e=2;function k8e(t,e,r,n){var i=r.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var o=s[0],l=t[o],u=s[1];if(s[2]){if(l===void 0&&!(o in t))return!1}else{var h=new yo,d;if(!(d===void 0?PS(u,l,w8e|S8e,n,h):d))return!1}}return!0}function fG(t){return t===t&&!Ya(t)}function C8e(t){for(var e=pi(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,fG(i)]}return e}function pG(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function _8e(t){var e=C8e(t);return e.length==1&&e[0][2]?pG(e[0][0],e[0][1]):function(r){return r===t||k8e(r,t,e)}}function A8e(t,e){return t!=null&&e in Object(t)}function gG(t,e,r){e=Kb(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=E1(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&W5(i)&&j2(s,i)&&(Ar(t)||cf(t)))}function mG(t,e){return t!=null&&gG(t,e,A8e)}var L8e=1,N8e=2;function R8e(t,e){return AS(t)&&fG(e)?pG(E1(t),e):function(r){var n=N_e(r,t);return n===void 0&&n===e?mG(r,t):PS(e,n,L8e|N8e)}}function I8e(t){return function(e){return e==null?void 0:e[t]}}function D8e(t){return function(e){return jb(e,t)}}function O8e(t){return AS(t)?I8e(E1(t)):D8e(t)}function Za(t){return typeof t=="function"?t:t==null?Ql:typeof t=="object"?Ar(t)?R8e(t[0],t[1]):_8e(t):O8e(t)}function M8e(t,e,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;){var s=t[i];e(n,s,r(s),t)}return n}function BS(t,e){return t&&G5(t,e,pi)}function P8e(t,e){return function(r,n){if(r==null)return r;if(!Zo(r))return t(r,n);for(var i=r.length,a=-1,s=Object(r);++a<i&&n(s[a],a,s)!==!1;);return r}}var wh=P8e(BS);function B8e(t,e,r,n){return wh(t,function(i,a,s){e(n,i,r(i),s)}),n}function F8e(t,e){return function(r,n){var i=Ar(r)?M8e:B8e,a=e?e():{};return i(r,t,Za(n),a)}}var yG=Object.prototype,$8e=yG.hasOwnProperty,Zb=qg(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&Wg(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],s=dh(a),o=-1,l=s.length;++o<l;){var u=s[o],h=t[u];(h===void 0||of(h,yG[u])&&!$8e.call(t,u))&&(t[u]=a[u])}return t}),z8e=200;function U8e(t,e,r,n){var i=-1,a=qH,s=!0,o=t.length,l=[],u=e.length;if(!o)return l;e.length>=z8e&&(a=DS,s=!1,e=new Nf(e));e:for(;++i<o;){var h=t[i],d=h;if(h=h!==0?h:0,s&&d===d){for(var f=u;f--;)if(e[f]===d)continue e;l.push(h)}else a(e,d,n)||l.push(h)}return l}var Jb=qg(function(t,e){return X2(t)?U8e(t,T1(e,1,X2,!0)):[]});function al(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Ui(t,e,r){var n=t==null?0:t.length;return n?(e=e===void 0?1:Xb(e),XH(t,e<0?0:e,n)):[]}function k1(t,e,r){var n=t==null?0:t.length;return n?(e=e===void 0?1:Xb(e),e=n-e,XH(t,0,e<0?0:e)):[]}function FS(t){return typeof t=="function"?t:Ql}function Ge(t,e){var r=Ar(t)?GH:wh;return r(t,FS(e))}function H8e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function G8e(t,e){var r=!0;return wh(t,function(n,i,a){return r=!!e(n,i,a),r}),r}function xo(t,e,r){var n=Ar(t)?H8e:G8e;return n(t,Za(e))}function vG(t,e){var r=[];return wh(t,function(n,i,a){e(n,i,a)&&r.push(n)}),r}function Mn(t,e){var r=Ar(t)?NS:vG;return r(t,Za(e))}function V8e(t){return function(e,r,n){var i=Object(e);if(!Zo(e)){var a=Za(r);e=pi(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var q8e=Math.max;function W8e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Xb(r);return i<0&&(i=q8e(n+i,0)),VH(t,Za(e),i)}var sc=V8e(W8e);function Eo(t){return t&&t.length?t[0]:void 0}function bG(t,e){var r=-1,n=Zo(t)?Array(t.length):[];return wh(t,function(i,a,s){n[++r]=e(i,a,s)}),n}function Ct(t,e){var r=Ar(t)?Th:bG;return r(t,Za(e))}function Ss(t,e){return T1(Ct(t,e))}function Y8e(t,e){return t==null?t:G5(t,FS(e),dh)}function X8e(t,e){return t&&BS(t,FS(e))}var K8e=Object.prototype,j8e=K8e.hasOwnProperty,Q8e=F8e(function(t,e,r){j8e.call(t,r)?t[r].push(e):zg(t,r,[e])});function Z8e(t,e){return t>e}var J8e=Object.prototype,e7e=J8e.hasOwnProperty;function t7e(t,e){return t!=null&&e7e.call(t,e)}function Jt(t,e){return t!=null&&gG(t,e,t7e)}var r7e="[object String]";function Ja(t){return typeof t=="string"||!Ar(t)&&Gs(t)&&Xl(t)==r7e}function n7e(t,e){return Th(e,function(r){return t[r]})}function ln(t){return t==null?[]:n7e(t,pi(t))}var i7e=Math.max;function Na(t,e,r,n){t=Zo(t)?t:ln(t),r=r?Xb(r):0;var i=t.length;return r<0&&(r=i7e(i+r,0)),Ja(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&_S(t,e,r)>-1}function xG(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=0;return _S(t,e,i)}var a7e="[object RegExp]";function s7e(t){return Gs(t)&&Xl(t)==a7e}var EG=Yc&&Yc.isRegExp,oc=EG?Hg(EG):s7e;function Xr(t){return t===void 0}function TG(t,e){return t<e}function ex(t,e){var r={};return e=Za(e),BS(t,function(n,i,a){zg(r,i,e(n,i,a))}),r}function $S(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!Eh(s):r(s,o)))var o=s,l=a}return l}function Sh(t){return t&&t.length?$S(t,Ql,Z8e):void 0}function Rf(t){return t&&t.length?$S(t,Ql,TG):void 0}function zS(t,e){return t&&t.length?$S(t,Za(e),TG):void 0}var o7e="Expected a function";function l7e(t){if(typeof t!="function")throw new TypeError(o7e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function c7e(t,e,r,n){if(!Ya(t))return t;e=Kb(e,t);for(var i=-1,a=e.length,s=a-1,o=t;o!=null&&++i<a;){var l=E1(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var h=o[l];u=void 0,u===void 0&&(u=Ya(h)?h:j2(e[i+1])?[]:{})}Vg(o,l,u),o=o[l]}return t}function wG(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var s=e[n],o=jb(t,s);r(o,s)&&c7e(a,Kb(s,t),o)}return a}function To(t,e){if(t==null)return{};var r=Th(JH(t),function(n){return[n]});return e=Za(e),wG(t,r,function(n,i){return e(n,i[0])})}function u7e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function h7e(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Eh(t),s=e!==void 0,o=e===null,l=e===e,u=Eh(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}function d7e(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=h7e(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}function f7e(t,e,r){e.length?e=Th(e,function(a){return Ar(a)?function(s){return jb(s,a.length===1?a[0]:a)}:a}):e=[Ql];var n=-1;e=Th(e,Hg(Za));var i=bG(t,function(a,s,o){var l=Th(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return u7e(i,function(a,s){return d7e(a,s,r)})}function p7e(t,e){return wG(t,e,function(r,n){return mG(t,n)})}var tx=I_e(function(t,e){return t==null?{}:p7e(t,e)}),g7e=Math.ceil,m7e=Math.max;function y7e(t,e,r,n){for(var i=-1,a=m7e(g7e((e-t)/(r||1)),0),s=Array(a);a--;)s[++i]=t,t+=r;return s}function v7e(t){return function(e,r,n){return n&&typeof n!="number"&&Wg(e,r,n)&&(r=n=void 0),e=Yb(e),r===void 0?(r=e,e=0):r=Yb(r),n=n===void 0?e<r?1:-1:Yb(n),y7e(e,r,n)}}var If=v7e();function b7e(t,e,r,n,i){return i(t,function(a,s,o){r=n?(n=!1,a):e(r,a,s,o)}),r}function Jn(t,e,r){var n=Ar(t)?D_e:b7e,i=arguments.length<3;return n(t,Za(e),r,i,wh)}function rx(t,e){var r=Ar(t)?NS:vG;return r(t,l7e(Za(e)))}function x7e(t,e){var r;return wh(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}function SG(t,e,r){var n=Ar(t)?oG:x7e;return n(t,Za(e))}var C1=qg(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Wg(t,e[0],e[1])?e=[]:r>2&&Wg(e[0],e[1],e[2])&&(e=[e[0]]),f7e(t,T1(e),[])}),E7e=1/0,T7e=Ef&&1/OS(new Ef([,-0]))[1]==E7e?function(t){return new Ef(t)}:fi,w7e=200;function US(t,e,r){var n=-1,i=qH,a=t.length,s=!0,o=[],l=o;if(a>=w7e){var u=e?null:T7e(t);if(u)return OS(u);s=!1,i=DS,l=new Nf}else l=e?[]:o;e:for(;++n<a;){var h=t[n],d=e?e(h):h;if(h=h!==0?h:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(h)}else i(l,d,r)||(l!==o&&l.push(d),o.push(h))}return o}var S7e=qg(function(t){return US(T1(t,1,X2,!0))});function HS(t){return t&&t.length?US(t):[]}function k7e(t,e){return t&&t.length?US(t,Za(e)):[]}var C7e=0;function GS(t){var e=++C7e;return WH(t)+e}function _7e(t,e,r){for(var n=-1,i=t.length,a=e.length,s={};++n<i;){var o=n<a?e[n]:void 0;r(s,t[n],o)}return s}function A7e(t,e){return _7e(t||[],e||[],Vg)}var L7e="\0",kh="\0",kG="";class es{constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=df(void 0),this._defaultEdgeLabelFn=df(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[kh]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return Hs(e)||(e=df(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return pi(this._nodes)}sources(){var e=this;return Mn(this.nodes(),function(r){return Hr(e._in[r])})}sinks(){var e=this;return Mn(this.nodes(),function(r){return Hr(e._out[r])})}setNodes(e,r){var n=arguments,i=this;return Ge(e,function(a){n.length>1?i.setNode(a,r):i.setNode(a)}),this}setNode(e,r){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=kh,this._children[e]={},this._children[kh][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var r=n=>this.removeEdge(this._edgeObjs[n]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Ge(this.children(e),n=>{this.setParent(n)}),delete this._children[e]),Ge(pi(this._in[e]),r),delete this._in[e],delete this._preds[e],Ge(pi(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Xr(r))r=kh;else{r+="";for(var n=r;!Xr(n);n=this.parent(n))if(n===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==kh)return r}}children(e){if(Xr(e)&&(e=kh),this._isCompound){var r=this._children[e];if(r)return pi(r)}else{if(e===kh)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return pi(r)}successors(e){var r=this._sucs[e];if(r)return pi(r)}neighbors(e){var r=this.predecessors(e);if(r)return S7e(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;Ge(this._nodes,function(s,o){e(o)&&r.setNode(o,s)}),Ge(this._edgeObjs,function(s){r.hasNode(s.v)&&r.hasNode(s.w)&&r.setEdge(s,n.edge(s))});var i={};function a(s){var o=n.parent(s);return o===void 0||r.hasNode(o)?(i[s]=o,o):o in i?i[o]:a(o)}return this._isCompound&&Ge(r.nodes(),function(s){r.setParent(s,a(s))}),r}setDefaultEdgeLabel(e){return Hs(e)||(e=df(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return ln(this._edgeObjs)}setPath(e,r){var n=this,i=arguments;return Jn(e,function(a,s){return i.length>1?n.setEdge(a,s,r):n.setEdge(a,s),s}),this}setEdge(){var e,r,n,i,a=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,r=s.w,n=s.name,arguments.length===2&&(i=arguments[1],a=!0)):(e=s,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),e=""+e,r=""+r,Xr(n)||(n=""+n);var o=_1(this._isDirected,e,r,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return a&&(this._edgeLabels[o]=i),this;if(!Xr(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=a?i:this._defaultEdgeLabelFn(e,r,n);var l=N7e(this._isDirected,e,r,n);return e=l.v,r=l.w,Object.freeze(l),this._edgeObjs[o]=l,CG(this._preds[r],e),CG(this._sucs[e],r),this._in[r][o]=l,this._out[e][o]=l,this._edgeCount++,this}edge(e,r,n){var i=arguments.length===1?VS(this._isDirected,arguments[0]):_1(this._isDirected,e,r,n);return this._edgeLabels[i]}hasEdge(e,r,n){var i=arguments.length===1?VS(this._isDirected,arguments[0]):_1(this._isDirected,e,r,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(e,r,n){var i=arguments.length===1?VS(this._isDirected,arguments[0]):_1(this._isDirected,e,r,n),a=this._edgeObjs[i];return a&&(e=a.v,r=a.w,delete this._edgeLabels[i],delete this._edgeObjs[i],_G(this._preds[r],e),_G(this._sucs[e],r),delete this._in[r][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,r){var n=this._in[e];if(n){var i=ln(n);return r?Mn(i,function(a){return a.v===r}):i}}outEdges(e,r){var n=this._out[e];if(n){var i=ln(n);return r?Mn(i,function(a){return a.w===r}):i}}nodeEdges(e,r){var n=this.inEdges(e,r);if(n)return n.concat(this.outEdges(e,r))}}es.prototype._nodeCount=0,es.prototype._edgeCount=0;function CG(t,e){t[e]?t[e]++:t[e]=1}function _G(t,e){--t[e]||delete t[e]}function _1(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}return i+kG+a+kG+(Xr(n)?L7e:n)}function N7e(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}var o={v:i,w:a};return n&&(o.name=n),o}function VS(t,e){return _1(t,e.v,e.w,e.name)}class R7e{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,r=e._prev;if(r!==e)return AG(r),r}enqueue(e){var r=this._sentinel;e._prev&&e._next&&AG(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r}toString(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,I7e)),n=n._prev;return"["+e.join(", ")+"]"}}function AG(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function I7e(t,e){if(t!=="_next"&&t!=="_prev")return e}var D7e=df(1);function O7e(t,e){if(t.nodeCount()<=1)return[];var r=P7e(t,e||D7e),n=M7e(r.graph,r.buckets,r.zeroIdx);return Ri(Ct(n,function(i){return t.outEdges(i.v,i.w)}))}function M7e(t,e,r){for(var n=[],i=e[e.length-1],a=e[0],s;t.nodeCount();){for(;s=a.dequeue();)qS(t,e,r,s);for(;s=i.dequeue();)qS(t,e,r,s);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(s=e[o].dequeue(),s){n=n.concat(qS(t,e,r,s,!0));break}}}return n}function qS(t,e,r,n,i){var a=i?[]:void 0;return Ge(t.inEdges(n.v),function(s){var o=t.edge(s),l=t.node(s.v);i&&a.push({v:s.v,w:s.w}),l.out-=o,WS(e,r,l)}),Ge(t.outEdges(n.v),function(s){var o=t.edge(s),l=s.w,u=t.node(l);u.in-=o,WS(e,r,u)}),t.removeNode(n.v),a}function P7e(t,e){var r=new es,n=0,i=0;Ge(t.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),Ge(t.edges(),function(o){var l=r.edge(o.v,o.w)||0,u=e(o),h=l+u;r.setEdge(o.v,o.w,h),i=Math.max(i,r.node(o.v).out+=u),n=Math.max(n,r.node(o.w).in+=u)});var a=If(i+n+3).map(function(){return new R7e}),s=n+1;return Ge(r.nodes(),function(o){WS(a,s,r.node(o))}),{graph:r,buckets:a,zeroIdx:s}}function WS(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}function B7e(t){var e=t.graph().acyclicer==="greedy"?O7e(t,r(t)):F7e(t);Ge(e,function(n){var i=t.edge(n);t.removeEdge(n),i.forwardName=n.name,i.reversed=!0,t.setEdge(n.w,n.v,i,GS("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function F7e(t){var e=[],r={},n={};function i(a){Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,r[a]=!0,Ge(t.outEdges(a),function(s){Object.prototype.hasOwnProperty.call(r,s.w)?e.push(s):i(s.w)}),delete r[a])}return Ge(t.nodes(),i),e}function $7e(t){Ge(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}function Df(t,e,r,n){var i;do i=GS(n);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function z7e(t){var e=new es().setGraph(t.graph());return Ge(t.nodes(),function(r){e.setNode(r,t.node(r))}),Ge(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function LG(t){var e=new es({multigraph:t.isMultigraph()}).setGraph(t.graph());return Ge(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),Ge(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function NG(t,e){var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=o*i/a,u=o):(i<0&&(s=-s),l=s,u=s*a/i),{x:r+l,y:n+u}}function nx(t){var e=Ct(If(IG(t)+1),function(){return[]});return Ge(t.nodes(),function(r){var n=t.node(r),i=n.rank;Xr(i)||(e[i][n.order]=r)}),e}function U7e(t){var e=Rf(Ct(t.nodes(),function(r){return t.node(r).rank}));Ge(t.nodes(),function(r){var n=t.node(r);Jt(n,"rank")&&(n.rank-=e)})}function H7e(t){var e=Rf(Ct(t.nodes(),function(a){return t.node(a).rank})),r=[];Ge(t.nodes(),function(a){var s=t.node(a).rank-e;r[s]||(r[s]=[]),r[s].push(a)});var n=0,i=t.graph().nodeRankFactor;Ge(r,function(a,s){Xr(a)&&s%i!==0?--n:n&&Ge(a,function(o){t.node(o).rank+=n})})}function RG(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),Df(t,"border",i,e)}function IG(t){return Sh(Ct(t.nodes(),function(e){var r=t.node(e).rank;if(!Xr(r))return r}))}function G7e(t,e){var r={lhs:[],rhs:[]};return Ge(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function V7e(t,e){return e()}function q7e(t){function e(r){var n=t.children(r),i=t.node(r);if(n.length&&Ge(n,e),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)DG(t,"borderLeft","_bl",r,i,a),DG(t,"borderRight","_br",r,i,a)}}Ge(t.children(),e)}function DG(t,e,r,n,i,a){var s={width:0,height:0,rank:a,borderType:e},o=i[e][a-1],l=Df(t,"border",s,r);i[e][a]=l,t.setParent(l,n),o&&t.setEdge(o,l,{weight:1})}function W7e(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&OG(t)}function Y7e(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&X7e(t),(e==="lr"||e==="rl")&&(K7e(t),OG(t))}function OG(t){Ge(t.nodes(),function(e){MG(t.node(e))}),Ge(t.edges(),function(e){MG(t.edge(e))})}function MG(t){var e=t.width;t.width=t.height,t.height=e}function X7e(t){Ge(t.nodes(),function(e){YS(t.node(e))}),Ge(t.edges(),function(e){var r=t.edge(e);Ge(r.points,YS),Object.prototype.hasOwnProperty.call(r,"y")&&YS(r)})}function YS(t){t.y=-t.y}function K7e(t){Ge(t.nodes(),function(e){XS(t.node(e))}),Ge(t.edges(),function(e){var r=t.edge(e);Ge(r.points,XS),Object.prototype.hasOwnProperty.call(r,"x")&&XS(r)})}function XS(t){var e=t.x;t.x=t.y,t.y=e}function j7e(t){t.graph().dummyChains=[],Ge(t.edges(),function(e){Q7e(t,e)})}function Q7e(t,e){var r=e.v,n=t.node(r).rank,i=e.w,a=t.node(i).rank,s=e.name,o=t.edge(e),l=o.labelRank;if(a!==n+1){t.removeEdge(e);var u=void 0,h,d;for(d=0,++n;n<a;++d,++n)o.points=[],u={width:0,height:0,edgeLabel:o,edgeObj:e,rank:n},h=Df(t,"edge",u,"_d"),n===l&&(u.width=o.width,u.height=o.height,u.dummy="edge-label",u.labelpos=o.labelpos),t.setEdge(r,h,{weight:o.weight},s),d===0&&t.graph().dummyChains.push(h),r=h;t.setEdge(r,i,{weight:o.weight},s)}}function Z7e(t){Ge(t.graph().dummyChains,function(e){var r=t.node(e),n=r.edgeLabel,i;for(t.setEdge(r.edgeObj,n);r.dummy;)i=t.successors(e)[0],t.removeNode(e),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),e=i,r=t.node(e)})}function KS(t){var e={};function r(n){var i=t.node(n);if(Object.prototype.hasOwnProperty.call(e,n))return i.rank;e[n]=!0;var a=Rf(Ct(t.outEdges(n),function(s){return r(s.w)-t.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Ge(t.sources(),r)}function A1(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function PG(t){var e=new es({directed:!1}),r=t.nodes()[0],n=t.nodeCount();e.setNode(r,{});for(var i,a;J7e(e,t)<n;)i=eLe(e,t),a=e.hasNode(i.v)?A1(t,i):-A1(t,i),tLe(e,t,a);return e}function J7e(t,e){function r(n){Ge(e.nodeEdges(n),function(i){var a=i.v,s=n===a?i.w:a;!t.hasNode(s)&&!A1(e,i)&&(t.setNode(s,{}),t.setEdge(n,s,{}),r(s))})}return Ge(t.nodes(),r),t.nodeCount()}function eLe(t,e){return zS(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return A1(e,r)})}function tLe(t,e,r){Ge(t.nodes(),function(n){e.node(n).rank+=r})}function rLe(){}rLe.prototype=new Error;function BG(t,e,r){Ar(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return Ge(e,function(s){if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);FG(t,s,r==="post",a,n,i)}),i}function FG(t,e,r,n,i,a){Object.prototype.hasOwnProperty.call(n,e)||(n[e]=!0,r||a.push(e),Ge(i(e),function(s){FG(t,s,r,n,i,a)}),r&&a.push(e))}function nLe(t,e){return BG(t,e,"post")}function iLe(t,e){return BG(t,e,"pre")}Ch.initLowLimValues=QS,Ch.initCutValues=jS,Ch.calcCutValue=$G,Ch.leaveEdge=UG,Ch.enterEdge=HG,Ch.exchangeEdges=GG;function Ch(t){t=z7e(t),KS(t);var e=PG(t);QS(e),jS(e,t);for(var r,n;r=UG(e);)n=HG(e,t,r),GG(e,t,r,n)}function jS(t,e){var r=nLe(t,t.nodes());r=r.slice(0,r.length-1),Ge(r,function(n){aLe(t,e,n)})}function aLe(t,e,r){var n=t.node(r),i=n.parent;t.edge(r,i).cutvalue=$G(t,e,r)}function $G(t,e,r){var n=t.node(r),i=n.parent,a=!0,s=e.edge(r,i),o=0;return s||(a=!1,s=e.edge(i,r)),o=s.weight,Ge(e.nodeEdges(r),function(l){var u=l.v===r,h=u?l.w:l.v;if(h!==i){var d=u===a,f=e.edge(l).weight;if(o+=d?f:-f,oLe(t,r,h)){var p=t.edge(r,h).cutvalue;o+=d?-p:p}}}),o}function QS(t,e){arguments.length<2&&(e=t.nodes()[0]),zG(t,{},1,e)}function zG(t,e,r,n,i){var a=r,s=t.node(n);return e[n]=!0,Ge(t.neighbors(n),function(o){Object.prototype.hasOwnProperty.call(e,o)||(r=zG(t,e,r,o,n))}),s.low=a,s.lim=r++,i?s.parent=i:delete s.parent,r}function UG(t){return sc(t.edges(),function(e){return t.edge(e).cutvalue<0})}function HG(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var a=t.node(n),s=t.node(i),o=a,l=!1;a.lim>s.lim&&(o=s,l=!0);var u=Mn(e.edges(),function(h){return l===VG(t,t.node(h.v),o)&&l!==VG(t,t.node(h.w),o)});return zS(u,function(h){return A1(e,h)})}function GG(t,e,r,n){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(n.v,n.w,{}),QS(t),jS(t,e),sLe(t,e)}function sLe(t,e){var r=sc(t.nodes(),function(i){return!e.node(i).parent}),n=iLe(t,r);n=n.slice(1),Ge(n,function(i){var a=t.node(i).parent,s=e.edge(i,a),o=!1;s||(s=e.edge(a,i),o=!0),e.node(i).rank=e.node(a).rank+(o?s.minlen:-s.minlen)})}function oLe(t,e,r){return t.hasEdge(e,r)}function VG(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}function lLe(t){switch(t.graph().ranker){case"network-simplex":qG(t);break;case"tight-tree":uLe(t);break;case"longest-path":cLe(t);break;default:qG(t)}}var cLe=KS;function uLe(t){KS(t),PG(t)}function qG(t){Ch(t)}function hLe(t){var e=Df(t,"root",{},"_root"),r=dLe(t),n=Sh(ln(r))-1,i=2*n+1;t.graph().nestingRoot=e,Ge(t.edges(),function(s){t.edge(s).minlen*=i});var a=fLe(t)+1;Ge(t.children(),function(s){WG(t,e,i,a,n,r,s)}),t.graph().nodeRankFactor=i}function WG(t,e,r,n,i,a,s){var o=t.children(s);if(!o.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:r});return}var l=RG(t,"_bt"),u=RG(t,"_bb"),h=t.node(s);t.setParent(l,s),h.borderTop=l,t.setParent(u,s),h.borderBottom=u,Ge(o,function(d){WG(t,e,r,n,i,a,d);var f=t.node(d),p=f.borderTop?f.borderTop:d,g=f.borderBottom?f.borderBottom:d,m=f.borderTop?n:2*n,y=p!==g?1:i-a[s]+1;t.setEdge(l,p,{weight:m,minlen:y,nestingEdge:!0}),t.setEdge(g,u,{weight:m,minlen:y,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,l,{weight:0,minlen:i+a[s]})}function dLe(t){var e={};function r(n,i){var a=t.children(n);a&&a.length&&Ge(a,function(s){r(s,i+1)}),e[n]=i}return Ge(t.children(),function(n){r(n,1)}),e}function fLe(t){return Jn(t.edges(),function(e,r){return e+t.edge(r).weight},0)}function pLe(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Ge(t.edges(),function(r){var n=t.edge(r);n.nestingEdge&&t.removeEdge(r)})}function gLe(t,e,r){var n={},i;Ge(r,function(a){for(var s=t.parent(a),o,l;s;){if(o=t.parent(s),o?(l=n[o],n[o]=s):(l=i,i=s),l&&l!==s){e.setEdge(l,s);return}s=o}})}function mLe(t,e,r){var n=yLe(t),i=new es({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return t.node(a)});return Ge(t.nodes(),function(a){var s=t.node(a),o=t.parent(a);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(a),i.setParent(a,o||n),Ge(t[r](a),function(l){var u=l.v===a?l.w:l.v,h=i.edge(u,a),d=Xr(h)?0:h.weight;i.setEdge(u,a,{weight:t.edge(l).weight+d})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function yLe(t){for(var e;t.hasNode(e=GS("_root")););return e}function vLe(t,e){for(var r=0,n=1;n<e.length;++n)r+=bLe(t,e[n-1],e[n]);return r}function bLe(t,e,r){for(var n=A7e(r,Ct(r,function(u,h){return h})),i=Ri(Ct(e,function(u){return C1(Ct(t.outEdges(u),function(h){return{pos:n[h.w],weight:t.edge(h).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var o=Ct(new Array(s),function(){return 0}),l=0;return Ge(i.forEach(function(u){var h=u.pos+a;o[h]+=u.weight;for(var d=0;h>0;)h%2&&(d+=o[h+1]),h=h-1>>1,o[h]+=u.weight;l+=u.weight*d})),l}function xLe(t){var e={},r=Mn(t.nodes(),function(o){return!t.children(o).length}),n=Sh(Ct(r,function(o){return t.node(o).rank})),i=Ct(If(n+1),function(){return[]});function a(o){if(!Jt(e,o)){e[o]=!0;var l=t.node(o);i[l.rank].push(o),Ge(t.successors(o),a)}}var s=C1(r,function(o){return t.node(o).rank});return Ge(s,a),i}function ELe(t,e){return Ct(e,function(r){var n=t.inEdges(r);if(n.length){var i=Jn(n,function(a,s){var o=t.edge(s),l=t.node(s.v);return{sum:a.sum+o.weight*l.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}function TLe(t,e){var r={};Ge(t,function(i,a){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};Xr(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),Ge(e.edges(),function(i){var a=r[i.v],s=r[i.w];!Xr(a)&&!Xr(s)&&(s.indegree++,a.out.push(r[i.w]))});var n=Mn(r,function(i){return!i.indegree});return wLe(n)}function wLe(t){var e=[];function r(a){return function(s){s.merged||(Xr(s.barycenter)||Xr(a.barycenter)||s.barycenter>=a.barycenter)&&SLe(a,s)}}function n(a){return function(s){s.in.push(a),--s.indegree===0&&t.push(s)}}for(;t.length;){var i=t.pop();e.push(i),Ge(i.in.reverse(),r(i)),Ge(i.out,n(i))}return Ct(Mn(e,function(a){return!a.merged}),function(a){return tx(a,["vs","i","barycenter","weight"])})}function SLe(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}function kLe(t,e){var r=G7e(t,function(h){return Object.prototype.hasOwnProperty.call(h,"barycenter")}),n=r.lhs,i=C1(r.rhs,function(h){return-h.i}),a=[],s=0,o=0,l=0;n.sort(CLe(!!e)),l=YG(a,i,l),Ge(n,function(h){l+=h.vs.length,a.push(h.vs),s+=h.barycenter*h.weight,o+=h.weight,l=YG(a,i,l)});var u={vs:Ri(a)};return o&&(u.barycenter=s/o,u.weight=o),u}function YG(t,e,r){for(var n;e.length&&(n=al(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function CLe(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}function XG(t,e,r,n){var i=t.children(e),a=t.node(e),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,l={};s&&(i=Mn(i,function(g){return g!==s&&g!==o}));var u=ELe(t,i);Ge(u,function(g){if(t.children(g.v).length){var m=XG(t,g.v,r,n);l[g.v]=m,Object.prototype.hasOwnProperty.call(m,"barycenter")&&ALe(g,m)}});var h=TLe(u,r);_Le(h,l);var d=kLe(h,n);if(s&&(d.vs=Ri([s,d.vs,o]),t.predecessors(s).length)){var f=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d}function _Le(t,e){Ge(t,function(r){r.vs=Ri(r.vs.map(function(n){return e[n]?e[n].vs:n}))})}function ALe(t,e){Xr(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function LLe(t){var e=IG(t),r=KG(t,If(1,e+1),"inEdges"),n=KG(t,If(e-1,-1,-1),"outEdges"),i=xLe(t);jG(t,i);for(var a=Number.POSITIVE_INFINITY,s,o=0,l=0;l<4;++o,++l){NLe(o%2?r:n,o%4>=2),i=nx(t);var u=vLe(t,i);u<a&&(l=0,s=KAe(i),a=u)}jG(t,s)}function KG(t,e,r){return Ct(e,function(n){return mLe(t,n,r)})}function NLe(t,e){var r=new es;Ge(t,function(n){var i=n.graph().root,a=XG(n,i,r,e);Ge(a.vs,function(s,o){n.node(s).order=o}),gLe(n,r,a.vs)})}function jG(t,e){Ge(e,function(r){Ge(r,function(n,i){t.node(n).order=i})})}function RLe(t){var e=DLe(t);Ge(t.graph().dummyChains,function(r){for(var n=t.node(r),i=n.edgeObj,a=ILe(t,e,i.v,i.w),s=a.path,o=a.lca,l=0,u=s[l],h=!0;r!==i.w;){if(n=t.node(r),h){for(;(u=s[l])!==o&&t.node(u).maxRank<n.rank;)l++;u===o&&(h=!1)}if(!h){for(;l<s.length-1&&t.node(u=s[l+1]).minRank<=n.rank;)l++;u=s[l]}t.setParent(r,u),r=t.successors(r)[0]}})}function ILe(t,e,r,n){var i=[],a=[],s=Math.min(e[r].low,e[n].low),o=Math.max(e[r].lim,e[n].lim),l,u;l=r;do l=t.parent(l),i.push(l);while(l&&(e[l].low>s||o>e[l].lim));for(u=l,l=n;(l=t.parent(l))!==u;)a.push(l);return{path:i.concat(a.reverse()),lca:u}}function DLe(t){var e={},r=0;function n(i){var a=r;Ge(t.children(i),n),e[i]={low:a,lim:r++}}return Ge(t.children(),n),e}function OLe(t,e){var r={};function n(i,a){var s=0,o=0,l=i.length,u=al(a);return Ge(a,function(h,d){var f=PLe(t,h),p=f?t.node(f).order:l;(f||h===u)&&(Ge(a.slice(o,d+1),function(g){Ge(t.predecessors(g),function(m){var y=t.node(m),v=y.order;(v<s||p<v)&&!(y.dummy&&t.node(g).dummy)&&QG(r,m,g)})}),o=d+1,s=p)}),a}return Jn(e,n),r}function MLe(t,e){var r={};function n(a,s,o,l,u){var h;Ge(If(s,o),function(d){h=a[d],t.node(h).dummy&&Ge(t.predecessors(h),function(f){var p=t.node(f);p.dummy&&(p.order<l||p.order>u)&&QG(r,f,h)})})}function i(a,s){var o=-1,l,u=0;return Ge(s,function(h,d){if(t.node(h).dummy==="border"){var f=t.predecessors(h);f.length&&(l=t.node(f[0]).order,n(s,u,d,o,l),u=d,o=l)}n(s,u,s.length,l,a.length)}),s}return Jn(e,i),r}function PLe(t,e){if(t.node(e).dummy)return sc(t.predecessors(e),function(r){return t.node(r).dummy})}function QG(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function BLe(t,e,r){if(e>r){var n=e;e=r,r=n}return!!t[e]&&Object.prototype.hasOwnProperty.call(t[e],r)}function FLe(t,e,r,n){var i={},a={},s={};return Ge(e,function(o){Ge(o,function(l,u){i[l]=l,a[l]=l,s[l]=u})}),Ge(e,function(o){var l=-1;Ge(o,function(u){var h=n(u);if(h.length){h=C1(h,function(m){return s[m]});for(var d=(h.length-1)/2,f=Math.floor(d),p=Math.ceil(d);f<=p;++f){var g=h[f];a[u]===u&&l<s[g]&&!BLe(r,u,g)&&(a[g]=u,a[u]=i[u]=i[g],l=s[g])}}})}),{root:i,align:a}}function $Le(t,e,r,n,i){var a={},s=zLe(t,e,r,i),o=i?"borderLeft":"borderRight";function l(d,f){for(var p=s.nodes(),g=p.pop(),m={};g;)m[g]?d(g):(m[g]=!0,p.push(g),p=p.concat(f(g))),g=p.pop()}function u(d){a[d]=s.inEdges(d).reduce(function(f,p){return Math.max(f,a[p.v]+s.edge(p))},0)}function h(d){var f=s.outEdges(d).reduce(function(g,m){return Math.min(g,a[m.w]-s.edge(m))},Number.POSITIVE_INFINITY),p=t.node(d);f!==Number.POSITIVE_INFINITY&&p.borderType!==o&&(a[d]=Math.max(a[d],f))}return l(u,s.predecessors.bind(s)),l(h,s.successors.bind(s)),Ge(n,function(d){a[d]=a[r[d]]}),a}function zLe(t,e,r,n){var i=new es,a=t.graph(),s=qLe(a.nodesep,a.edgesep,n);return Ge(e,function(o){var l;Ge(o,function(u){var h=r[u];if(i.setNode(h),l){var d=r[l],f=i.edge(d,h);i.setEdge(d,h,Math.max(s(t,u,l),f||0))}l=u})}),i}function ULe(t,e){return zS(ln(e),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Y8e(r,function(a,s){var o=WLe(t,s)/2;n=Math.max(a+o,n),i=Math.min(a-o,i)}),n-i})}function HLe(t,e){var r=ln(e),n=Rf(r),i=Sh(r);Ge(["u","d"],function(a){Ge(["l","r"],function(s){var o=a+s,l=t[o],u;if(l!==e){var h=ln(l);u=s==="l"?n-Rf(h):i-Sh(h),u&&(t[o]=ex(l,function(d){return d+u}))}})})}function GLe(t,e){return ex(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var i=C1(Ct(t,n));return(i[1]+i[2])/2})}function VLe(t){var e=nx(t),r=Q2(OLe(t,e),MLe(t,e)),n={},i;Ge(["u","d"],function(s){i=s==="u"?e:ln(e).reverse(),Ge(["l","r"],function(o){o==="r"&&(i=Ct(i,function(d){return ln(d).reverse()}));var l=(s==="u"?t.predecessors:t.successors).bind(t),u=FLe(t,i,r,l),h=$Le(t,i,u.root,u.align,o==="r");o==="r"&&(h=ex(h,function(d){return-d})),n[s+o]=h})});var a=ULe(t,n);return HLe(n,a),GLe(n,t.graph().align)}function qLe(t,e,r){return function(n,i,a){var s=n.node(i),o=n.node(a),l=0,u;if(l+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(s.dummy?e:t)/2,l+=(o.dummy?e:t)/2,l+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=r?u:-u),u=0,l}}function WLe(t,e){return t.node(e).width}function YLe(t){t=LG(t),XLe(t),X8e(VLe(t),function(e,r){t.node(r).x=e})}function XLe(t){var e=nx(t),r=t.graph().ranksep,n=0;Ge(e,function(i){var a=Sh(Ct(i,function(s){return t.node(s).height}));Ge(i,function(s){t.node(s).y=n+a/2}),n+=a+r})}function ZG(t,e){var r=V7e;r("layout",()=>{var n=r("  buildLayoutGraph",()=>aNe(t));r("  runLayout",()=>KLe(n,r)),r("  updateInputGraph",()=>jLe(t,n))})}function KLe(t,e){e("    makeSpaceForEdgeLabels",()=>sNe(t)),e("    removeSelfEdges",()=>gNe(t)),e("    acyclic",()=>B7e(t)),e("    nestingGraph.run",()=>hLe(t)),e("    rank",()=>lLe(LG(t))),e("    injectEdgeLabelProxies",()=>oNe(t)),e("    removeEmptyRanks",()=>H7e(t)),e("    nestingGraph.cleanup",()=>pLe(t)),e("    normalizeRanks",()=>U7e(t)),e("    assignRankMinMax",()=>lNe(t)),e("    removeEdgeLabelProxies",()=>cNe(t)),e("    normalize.run",()=>j7e(t)),e("    parentDummyChains",()=>RLe(t)),e("    addBorderSegments",()=>q7e(t)),e("    order",()=>LLe(t)),e("    insertSelfEdges",()=>mNe(t)),e("    adjustCoordinateSystem",()=>W7e(t)),e("    position",()=>YLe(t)),e("    positionSelfEdges",()=>yNe(t)),e("    removeBorderNodes",()=>pNe(t)),e("    normalize.undo",()=>Z7e(t)),e("    fixupEdgeLabelCoords",()=>dNe(t)),e("    undoCoordinateSystem",()=>Y7e(t)),e("    translateGraph",()=>uNe(t)),e("    assignNodeIntersects",()=>hNe(t)),e("    reversePoints",()=>fNe(t)),e("    acyclic.undo",()=>$7e(t))}function jLe(t,e){Ge(t.nodes(),function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))}),Ge(t.edges(),function(r){var n=t.edge(r),i=e.edge(r);n.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(n.x=i.x,n.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var QLe=["nodesep","edgesep","ranksep","marginx","marginy"],ZLe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},JLe=["acyclicer","ranker","rankdir","align"],eNe=["width","height"],tNe={width:0,height:0},rNe=["minlen","weight","width","height","labeloffset"],nNe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},iNe=["labelpos"];function aNe(t){var e=new es({multigraph:!0,compound:!0}),r=JS(t.graph());return e.setGraph(Q2({},ZLe,ZS(r,QLe),tx(r,JLe))),Ge(t.nodes(),function(n){var i=JS(t.node(n));e.setNode(n,Zb(ZS(i,eNe),tNe)),e.setParent(n,t.parent(n))}),Ge(t.edges(),function(n){var i=JS(t.edge(n));e.setEdge(n,Q2({},nNe,ZS(i,rNe),tx(i,iNe)))}),e}function sNe(t){var e=t.graph();e.ranksep/=2,Ge(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function oNe(t){Ge(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i=t.node(e.w),a={rank:(i.rank-n.rank)/2+n.rank,e};Df(t,"edge-proxy",a,"_ep")}})}function lNe(t){var e=0;Ge(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=Sh(e,n.maxRank))}),t.graph().maxRank=e}function cNe(t){Ge(t.nodes(),function(e){var r=t.node(e);r.dummy==="edge-proxy"&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}function uNe(t){var e=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=t.graph(),s=a.marginx||0,o=a.marginy||0;function l(u){var h=u.x,d=u.y,f=u.width,p=u.height;e=Math.min(e,h-f/2),r=Math.max(r,h+f/2),n=Math.min(n,d-p/2),i=Math.max(i,d+p/2)}Ge(t.nodes(),function(u){l(t.node(u))}),Ge(t.edges(),function(u){var h=t.edge(u);Object.prototype.hasOwnProperty.call(h,"x")&&l(h)}),e-=s,n-=o,Ge(t.nodes(),function(u){var h=t.node(u);h.x-=e,h.y-=n}),Ge(t.edges(),function(u){var h=t.edge(u);Ge(h.points,function(d){d.x-=e,d.y-=n}),Object.prototype.hasOwnProperty.call(h,"x")&&(h.x-=e),Object.prototype.hasOwnProperty.call(h,"y")&&(h.y-=n)}),a.width=r-e+s,a.height=i-n+o}function hNe(t){Ge(t.edges(),function(e){var r=t.edge(e),n=t.node(e.v),i=t.node(e.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=i,s=n),r.points.unshift(NG(n,a)),r.points.push(NG(i,s))})}function dNe(t){Ge(t.edges(),function(e){var r=t.edge(e);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function fNe(t){Ge(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}function pNe(t){Ge(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(al(r.borderLeft)),s=t.node(al(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),Ge(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function gNe(t){Ge(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function mNe(t){var e=nx(t);Ge(e,function(r){var n=0;Ge(r,function(i,a){var s=t.node(i);s.order=a+n,Ge(s.selfEdges,function(o){Df(t,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++n,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function yNe(t){Ge(t.nodes(),function(e){var r=t.node(e);if(r.dummy==="selfedge"){var n=t.node(r.e.v),i=n.x+n.width/2,a=n.y,s=r.x-i,o=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{x:i+s,y:a},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],r.label.x=r.x,r.label.y=r.y}})}function ZS(t,e){return ex(tx(t,e),Number)}function JS(t){var e={};return Ge(t,function(r,n){e[n.toLowerCase()]=r}),e}function sl(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:vNe(t),edges:bNe(t)};return Xr(t.graph())||(e.value=gi(t.graph())),e}function vNe(t){return Ct(t.nodes(),function(e){var r=t.node(e),n=t.parent(e),i={v:e};return Xr(r)||(i.value=r),Xr(n)||(i.parent=n),i})}function bNe(t){return Ct(t.edges(),function(e){var r=t.edge(e),n={v:e.v,w:e.w};return Xr(e.name)||(n.name=e.name),Xr(r)||(n.value=r),n})}var xr=new Map,_h=new Map,JG=new Map,xNe=E(()=>{_h.clear(),JG.clear(),xr.clear()},"clear"),ix=E((t,e)=>{const r=_h.get(e)||[];return se.trace("In isDescendant",e," ",t," = ",r.includes(t)),r.includes(t)},"isDescendant"),ENe=E((t,e)=>{const r=_h.get(e)||[];return se.info("Descendants of ",e," is ",r),se.info("Edge is ",t),t.v===e||t.w===e?!1:r?r.includes(t.v)||ix(t.v,e)||ix(t.w,e)||r.includes(t.w):(se.debug("Tilt, ",e,",not in descendants"),!1)},"edgeInCluster"),eV=E((t,e,r,n)=>{se.warn("Copying children of ",t,"root",n,"data",e.node(t),n);const i=e.children(t)||[];t!==n&&i.push(t),se.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(a=>{if(e.children(a).length>0)eV(a,e,r,n);else{const s=e.node(a);se.info("cp ",a," to ",n," with parent ",t),r.setNode(a,s),n!==e.parent(a)&&(se.warn("Setting parent",a,e.parent(a)),r.setParent(a,e.parent(a))),t!==n&&a!==t?(se.debug("Setting parent",a,t),r.setParent(a,t)):(se.info("In copy ",t,"root",n,"data",e.node(t),n),se.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==n,"node!==clusterId",a!==t));const o=e.edges(a);se.debug("Copying Edges",o),o.forEach(l=>{se.info("Edge",l);const u=e.edge(l.v,l.w,l.name);se.info("Edge data",u,n);try{ENe(l,n)?(se.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),se.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):se.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",t)}catch(h){se.error(h)}})}se.debug("Removing node",a),e.removeNode(a)})},"copy"),tV=E((t,e)=>{const r=e.children(t);let n=[...r];for(const i of r)JG.set(i,t),n=[...n,...tV(i,e)];return n},"extractDescendants"),TNe=E((t,e,r)=>{const n=t.edges().filter(l=>l.v===e||l.w===e),i=t.edges().filter(l=>l.v===r||l.w===r),a=n.map(l=>({v:l.v===e?r:l.v,w:l.w===e?e:l.w})),s=i.map(l=>({v:l.v,w:l.w}));return a.filter(l=>s.some(u=>l.v===u.v&&l.w===u.w))},"findCommonEdges"),L1=E((t,e,r)=>{const n=e.children(t);if(se.trace("Searching children of id ",t,n),n.length<1)return t;let i;for(const a of n){const s=L1(a,e,r),o=TNe(e,r,s);if(s)if(o.length>0)i=s;else return s}return i},"findNonClusterChild"),rV=E(t=>!xr.has(t)||!xr.get(t).externalConnections?t:xr.has(t)?xr.get(t).id:t,"getAnchorId"),wNe=E((t,e)=>{if(!t||e>10){se.debug("Opting out, no graph ");return}else se.debug("Opting in, graph ");t.nodes().forEach(function(r){t.children(r).length>0&&(se.warn("Cluster identified",r," Replacement id in edges: ",L1(r,t,r)),_h.set(r,tV(r,t)),xr.set(r,{id:L1(r,t,r),clusterData:t.node(r)}))}),t.nodes().forEach(function(r){const n=t.children(r),i=t.edges();n.length>0?(se.debug("Cluster identified",r,_h),i.forEach(a=>{const s=ix(a.v,r),o=ix(a.w,r);s^o&&(se.warn("Edge: ",a," leaves cluster ",r),se.warn("Descendants of XXX ",r,": ",_h.get(r)),xr.get(r).externalConnections=!0)})):se.debug("Not a cluster ",r,_h)});for(let r of xr.keys()){const n=xr.get(r).id,i=t.parent(n);i!==r&&xr.has(i)&&!xr.get(i).externalConnections&&(xr.get(r).id=i)}t.edges().forEach(function(r){const n=t.edge(r);se.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),se.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(t.edge(r)));let i=r.v,a=r.w;if(se.warn("Fix XXX",xr,"ids:",r.v,r.w,"Translating: ",xr.get(r.v)," --- ",xr.get(r.w)),xr.get(r.v)||xr.get(r.w)){if(se.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=rV(r.v),a=rV(r.w),t.removeEdge(r.v,r.w,r.name),i!==r.v){const s=t.parent(i);xr.get(s).externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){const s=t.parent(a);xr.get(s).externalConnections=!0,n.toCluster=r.w}se.warn("Fix Replacing with XXX",i,a,r.name),t.setEdge(i,a,n,r.name)}}),se.warn("Adjusted Graph",sl(t)),nV(t,0),se.trace(xr)},"adjustClustersAndEdges"),nV=E((t,e)=>{var i,a;if(se.warn("extractor - ",e,sl(t),t.children("D")),e>10){se.error("Bailing out");return}let r=t.nodes(),n=!1;for(const s of r){const o=t.children(s);n=n||o.length>0}if(!n){se.debug("Done, no node has children",t.nodes());return}se.debug("Nodes = ",r,e);for(const s of r)if(se.debug("Extracting node",s,xr,xr.has(s)&&!xr.get(s).externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!xr.has(s))se.debug("Not a cluster",s,e);else if(!xr.get(s).externalConnections&&t.children(s)&&t.children(s).length>0){se.warn("Cluster without external connections, without a parent and with children",s,e);let l=t.graph().rankdir==="TB"?"LR":"TB";(a=(i=xr.get(s))==null?void 0:i.clusterData)!=null&&a.dir&&(l=xr.get(s).clusterData.dir,se.warn("Fixing dir",xr.get(s).clusterData.dir,l));const u=new es({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});se.warn("Old graph before copy",sl(t)),eV(s,t,u,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:xr.get(s).clusterData,label:xr.get(s).label,graph:u}),se.warn("New graph after copy node: (",s,")",sl(u)),se.debug("Old graph after copy",sl(t))}else se.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!xr.get(s).externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),se.debug(xr);r=t.nodes(),se.warn("New list of nodes",r);for(const s of r){const o=t.node(s);se.warn(" Now next level",s,o),o!=null&&o.clusterNode&&nV(o.graph,e+1)}},"extractor"),iV=E((t,e)=>{if(e.length===0)return[];let r=Object.assign([],e);return e.forEach(n=>{const i=t.children(n),a=iV(t,i);r=[...r,...a]}),r},"sorter"),SNe=E(t=>iV(t,t.children()),"sortNodesByHierarchy"),aV=E(async(t,e,r,n,i,a)=>{se.warn("Graph in recursive render:XAX",sl(e),i);const s=e.graph().rankdir;se.trace("Dir in recursive render - dir:",s);const o=t.insert("g").attr("class","root");e.nodes()?se.info("Recursive render XXX",e.nodes()):se.info("No nodes found for",e),e.edges().length>0&&se.info("Recursive edges",e.edge(e.edges()[0]));const l=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),h=o.insert("g").attr("class","edgeLabels"),d=o.insert("g").attr("class","nodes");await Promise.all(e.nodes().map(async function(m){const y=e.node(m);if(i!==void 0){const v=JSON.parse(JSON.stringify(i.clusterData));se.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,v.height,`
Parent cluster`,i.height),e.setNode(i.id,v),e.parent(m)||(se.trace("Setting parent",m,i.id),e.setParent(m,i.id,v))}if(se.info("(Insert) Node XXX"+m+": "+JSON.stringify(e.node(m))),y!=null&&y.clusterNode){se.info("Cluster identified XBX",m,y.width,e.node(m));const{ranksep:v,nodesep:b}=e.graph();y.graph.setGraph({...y.graph.graph(),ranksep:v+25,nodesep:b});const x=await aV(d,y.graph,r,n,e.node(m),a),T=x.elem;Xt(y,T),y.diff=x.diff||0,se.info("New compound node after recursive render XAX",m,"width",y.width,"height",y.height),d4e(T,y)}else e.children(m).length>0?(se.trace("Cluster - the non recursive path XBX",m,y.id,y,y.width,"Graph:",e),se.trace(L1(y.id,e)),xr.set(y.id,{id:L1(y.id,e),node:y})):(se.trace("Node - the non recursive path XAX",m,d,e.node(m),s),await Tb(d,e.node(m),{config:a,dir:s}))})),await E(async()=>{const m=e.edges().map(async function(y){const v=e.edge(y.v,y.w,y.name);se.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(y)),se.info("Edge "+y.v+" -> "+y.w+": ",y," ",JSON.stringify(e.edge(y))),se.info("Fix",xr,"ids:",y.v,y.w,"Translating: ",xr.get(y.v),xr.get(y.w)),await Y$(h,v)});await Promise.all(m)},"processEdges")(),se.info("Graph before layout:",JSON.stringify(sl(e))),se.info("############################################# XXX"),se.info("###                Layout                 ### XXX"),se.info("############################################# XXX"),ZG(e),se.info("Graph after layout:",JSON.stringify(sl(e)));let p=0,{subGraphTitleTotalMargin:g}=gg(a);return await Promise.all(SNe(e).map(async function(m){var v;const y=e.node(m);if(se.info("Position XBX => "+m+": ("+y.x,","+y.y,") width: ",y.width," height: ",y.height),y!=null&&y.clusterNode)y.y+=g,se.info("A tainted cluster node XBX1",m,y.id,y.width,y.height,y.x,y.y,e.parent(m)),xr.get(y.id).node=y,I6(y);else if(e.children(m).length>0){se.info("A pure cluster node XBX1",m,y.id,y.x,y.y,y.width,y.height,e.parent(m)),y.height+=g,e.node(y.parentId);const b=(y==null?void 0:y.padding)/2||0,x=((v=y==null?void 0:y.labelBBox)==null?void 0:v.height)||0,T=x-b||0;se.debug("OffsetY",T,"labelHeight",x,"halfPadding",b),await A6(l,y),xr.get(y.id).node=y}else{const b=e.node(y.parentId);y.y+=g/2,se.info("A regular node XBX1 - using the padding",y.id,"parent",y.parentId,y.width,y.height,y.x,y.y,"offsetY",y.offsetY,"parent",b,b==null?void 0:b.offsetY,y),I6(y)}})),e.edges().forEach(function(m){const y=e.edge(m);se.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(y),y),y.points.forEach(T=>T.y+=g/2);const v=e.node(m.v);var b=e.node(m.w);const x=Z$(u,y,xr,r,v,b,n);X$(y,x)}),e.nodes().forEach(function(m){const y=e.node(m);se.info(m,y.type,y.diff),y.isGroup&&(p=y.diff)}),se.warn("Returning from recursive render XAX",o,p),{elem:o,diff:p}},"recursiveRender"),kNe=E(async(t,e)=>{var a,s,o,l,u,h;const r=new es({multigraph:!0,compound:!0}).setGraph({rankdir:t.direction,nodesep:((a=t.config)==null?void 0:a.nodeSpacing)||((o=(s=t.config)==null?void 0:s.flowchart)==null?void 0:o.nodeSpacing)||t.nodeSpacing,ranksep:((l=t.config)==null?void 0:l.rankSpacing)||((h=(u=t.config)==null?void 0:u.flowchart)==null?void 0:h.rankSpacing)||t.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=e.select("g");J$(n,t.markers,t.type,t.diagramId),f4e(),m4e(),YEe(),xNe(),t.nodes.forEach(d=>{r.setNode(d.id,{...d}),d.parentId&&r.setParent(d.id,d.parentId)}),se.debug("Edges:",t.edges),t.edges.forEach(d=>{if(d.start===d.end){const f=d.start,p=f+"---"+f+"---1",g=f+"---"+f+"---2",m=r.node(f);r.setNode(p,{domId:p,id:p,parentId:m.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(p,m.parentId),r.setNode(g,{domId:g,id:g,parentId:m.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(g,m.parentId);const y=structuredClone(d),v=structuredClone(d),b=structuredClone(d);y.label="",y.arrowTypeEnd="none",y.id=f+"-cyclic-special-1",v.arrowTypeStart="none",v.arrowTypeEnd="none",v.id=f+"-cyclic-special-mid",b.label="",m.isGroup&&(y.fromCluster=f,b.toCluster=f),b.id=f+"-cyclic-special-2",b.arrowTypeStart="none",r.setEdge(f,p,y,f+"-cyclic-special-0"),r.setEdge(p,g,v,f+"-cyclic-special-1"),r.setEdge(g,f,b,f+"-cyc<lic-special-2")}else r.setEdge(d.start,d.end,{...d},d.id)}),se.warn("Graph at first:",JSON.stringify(sl(r))),wNe(r),se.warn("Graph after XAX:",JSON.stringify(sl(r)));const i=Re();await aV(n,r,t.type,t.diagramId,void 0,i)},"render");const CNe=Object.freeze(Object.defineProperty({__proto__:null,render:kNe},Symbol.toStringTag,{value:"Module"}));var ax=E((t,e)=>{const r=t.append("rect");if(r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),e.name&&r.attr("name",e.name),e.rx&&r.attr("rx",e.rx),e.ry&&r.attr("ry",e.ry),e.attrs!==void 0)for(const n in e.attrs)r.attr(n,e.attrs[n]);return e.class&&r.attr("class",e.class),r},"drawRect"),sV=E((t,e)=>{const r={x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"};ax(t,r).lower()},"drawBackgroundRect"),_Ne=E((t,e)=>{const r=e.text.replace(Ud," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(r),n},"drawText"),ANe=E((t,e,r,n)=>{const i=t.append("image");i.attr("x",e),i.attr("y",r);const a=ju.sanitizeUrl(n);i.attr("xlink:href",a)},"drawImage"),LNe=E((t,e,r,n)=>{const i=t.append("use");i.attr("x",e),i.attr("y",r);const a=ju.sanitizeUrl(n);i.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),Ah=E(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),ek=E(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),sx=function(){var t=E(function(Xe,Pe,We,he){for(We=We||{},he=Xe.length;he--;We[Xe[he]]=Pe);return We},"o"),e=[1,24],r=[1,25],n=[1,26],i=[1,27],a=[1,28],s=[1,63],o=[1,64],l=[1,65],u=[1,66],h=[1,67],d=[1,68],f=[1,69],p=[1,29],g=[1,30],m=[1,31],y=[1,32],v=[1,33],b=[1,34],x=[1,35],T=[1,36],w=[1,37],S=[1,38],k=[1,39],L=[1,40],_=[1,41],N=[1,42],C=[1,43],D=[1,44],P=[1,45],A=[1,46],R=[1,47],O=[1,48],M=[1,50],I=[1,51],F=[1,52],B=[1,53],$=[1,54],V=[1,55],H=[1,56],te=[1,57],X=[1,58],ee=[1,59],re=[1,60],pe=[14,42],K=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],W=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],j=[1,82],Y=[1,83],Q=[1,84],ie=[1,85],J=[12,14,42],we=[12,14,33,42],ue=[12,14,33,42,76,77,79,80],ae=[12,33],Ue=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],xe={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:E(function(Pe,We,he,Te,Be,ye,Me){var Z=ye.length-1;switch(Be){case 3:Te.setDirection("TB");break;case 4:Te.setDirection("BT");break;case 5:Te.setDirection("RL");break;case 6:Te.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:Te.setC4Type(ye[Z-3]);break;case 19:Te.setTitle(ye[Z].substring(6)),this.$=ye[Z].substring(6);break;case 20:Te.setAccDescription(ye[Z].substring(15)),this.$=ye[Z].substring(15);break;case 21:this.$=ye[Z].trim(),Te.setTitle(this.$);break;case 22:case 23:this.$=ye[Z].trim(),Te.setAccDescription(this.$);break;case 28:ye[Z].splice(2,0,"ENTERPRISE"),Te.addPersonOrSystemBoundary(...ye[Z]),this.$=ye[Z];break;case 29:ye[Z].splice(2,0,"SYSTEM"),Te.addPersonOrSystemBoundary(...ye[Z]),this.$=ye[Z];break;case 30:Te.addPersonOrSystemBoundary(...ye[Z]),this.$=ye[Z];break;case 31:ye[Z].splice(2,0,"CONTAINER"),Te.addContainerBoundary(...ye[Z]),this.$=ye[Z];break;case 32:Te.addDeploymentNode("node",...ye[Z]),this.$=ye[Z];break;case 33:Te.addDeploymentNode("nodeL",...ye[Z]),this.$=ye[Z];break;case 34:Te.addDeploymentNode("nodeR",...ye[Z]),this.$=ye[Z];break;case 35:Te.popBoundaryParseStack();break;case 39:Te.addPersonOrSystem("person",...ye[Z]),this.$=ye[Z];break;case 40:Te.addPersonOrSystem("external_person",...ye[Z]),this.$=ye[Z];break;case 41:Te.addPersonOrSystem("system",...ye[Z]),this.$=ye[Z];break;case 42:Te.addPersonOrSystem("system_db",...ye[Z]),this.$=ye[Z];break;case 43:Te.addPersonOrSystem("system_queue",...ye[Z]),this.$=ye[Z];break;case 44:Te.addPersonOrSystem("external_system",...ye[Z]),this.$=ye[Z];break;case 45:Te.addPersonOrSystem("external_system_db",...ye[Z]),this.$=ye[Z];break;case 46:Te.addPersonOrSystem("external_system_queue",...ye[Z]),this.$=ye[Z];break;case 47:Te.addContainer("container",...ye[Z]),this.$=ye[Z];break;case 48:Te.addContainer("container_db",...ye[Z]),this.$=ye[Z];break;case 49:Te.addContainer("container_queue",...ye[Z]),this.$=ye[Z];break;case 50:Te.addContainer("external_container",...ye[Z]),this.$=ye[Z];break;case 51:Te.addContainer("external_container_db",...ye[Z]),this.$=ye[Z];break;case 52:Te.addContainer("external_container_queue",...ye[Z]),this.$=ye[Z];break;case 53:Te.addComponent("component",...ye[Z]),this.$=ye[Z];break;case 54:Te.addComponent("component_db",...ye[Z]),this.$=ye[Z];break;case 55:Te.addComponent("component_queue",...ye[Z]),this.$=ye[Z];break;case 56:Te.addComponent("external_component",...ye[Z]),this.$=ye[Z];break;case 57:Te.addComponent("external_component_db",...ye[Z]),this.$=ye[Z];break;case 58:Te.addComponent("external_component_queue",...ye[Z]),this.$=ye[Z];break;case 60:Te.addRel("rel",...ye[Z]),this.$=ye[Z];break;case 61:Te.addRel("birel",...ye[Z]),this.$=ye[Z];break;case 62:Te.addRel("rel_u",...ye[Z]),this.$=ye[Z];break;case 63:Te.addRel("rel_d",...ye[Z]),this.$=ye[Z];break;case 64:Te.addRel("rel_l",...ye[Z]),this.$=ye[Z];break;case 65:Te.addRel("rel_r",...ye[Z]),this.$=ye[Z];break;case 66:Te.addRel("rel_b",...ye[Z]),this.$=ye[Z];break;case 67:ye[Z].splice(0,1),Te.addRel("rel",...ye[Z]),this.$=ye[Z];break;case 68:Te.updateElStyle("update_el_style",...ye[Z]),this.$=ye[Z];break;case 69:Te.updateRelStyle("update_rel_style",...ye[Z]),this.$=ye[Z];break;case 70:Te.updateLayoutConfig("update_layout_config",...ye[Z]),this.$=ye[Z];break;case 71:this.$=[ye[Z]];break;case 72:ye[Z].unshift(ye[Z-1]),this.$=ye[Z];break;case 73:case 75:this.$=ye[Z].trim();break;case 74:let fe={};fe[ye[Z-1].trim()]=ye[Z].trim(),this.$=fe;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:g,46:m,47:y,48:v,49:b,50:x,51:T,52:w,53:S,54:k,55:L,56:_,57:N,58:C,59:D,60:P,61:A,62:R,63:O,64:M,65:I,66:F,67:B,68:$,69:V,70:H,71:te,72:X,73:ee,74:re},{13:70,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:g,46:m,47:y,48:v,49:b,50:x,51:T,52:w,53:S,54:k,55:L,56:_,57:N,58:C,59:D,60:P,61:A,62:R,63:O,64:M,65:I,66:F,67:B,68:$,69:V,70:H,71:te,72:X,73:ee,74:re},{13:71,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:g,46:m,47:y,48:v,49:b,50:x,51:T,52:w,53:S,54:k,55:L,56:_,57:N,58:C,59:D,60:P,61:A,62:R,63:O,64:M,65:I,66:F,67:B,68:$,69:V,70:H,71:te,72:X,73:ee,74:re},{13:72,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:g,46:m,47:y,48:v,49:b,50:x,51:T,52:w,53:S,54:k,55:L,56:_,57:N,58:C,59:D,60:P,61:A,62:R,63:O,64:M,65:I,66:F,67:B,68:$,69:V,70:H,71:te,72:X,73:ee,74:re},{13:73,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:g,46:m,47:y,48:v,49:b,50:x,51:T,52:w,53:S,54:k,55:L,56:_,57:N,58:C,59:D,60:P,61:A,62:R,63:O,64:M,65:I,66:F,67:B,68:$,69:V,70:H,71:te,72:X,73:ee,74:re},{14:[1,74]},t(pe,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:o,37:l,38:u,39:h,40:d,41:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x,51:T,52:w,53:S,54:k,55:L,56:_,57:N,58:C,59:D,60:P,61:A,62:R,63:O,64:M,65:I,66:F,67:B,68:$,69:V,70:H,71:te,72:X,73:ee,74:re}),t(pe,[2,14]),t(K,[2,16],{12:[1,76]}),t(pe,[2,36],{12:[1,77]}),t(W,[2,19]),t(W,[2,20]),{25:[1,78]},{27:[1,79]},t(W,[2,23]),{35:80,75:81,76:j,77:Y,79:Q,80:ie},{35:86,75:81,76:j,77:Y,79:Q,80:ie},{35:87,75:81,76:j,77:Y,79:Q,80:ie},{35:88,75:81,76:j,77:Y,79:Q,80:ie},{35:89,75:81,76:j,77:Y,79:Q,80:ie},{35:90,75:81,76:j,77:Y,79:Q,80:ie},{35:91,75:81,76:j,77:Y,79:Q,80:ie},{35:92,75:81,76:j,77:Y,79:Q,80:ie},{35:93,75:81,76:j,77:Y,79:Q,80:ie},{35:94,75:81,76:j,77:Y,79:Q,80:ie},{35:95,75:81,76:j,77:Y,79:Q,80:ie},{35:96,75:81,76:j,77:Y,79:Q,80:ie},{35:97,75:81,76:j,77:Y,79:Q,80:ie},{35:98,75:81,76:j,77:Y,79:Q,80:ie},{35:99,75:81,76:j,77:Y,79:Q,80:ie},{35:100,75:81,76:j,77:Y,79:Q,80:ie},{35:101,75:81,76:j,77:Y,79:Q,80:ie},{35:102,75:81,76:j,77:Y,79:Q,80:ie},{35:103,75:81,76:j,77:Y,79:Q,80:ie},{35:104,75:81,76:j,77:Y,79:Q,80:ie},t(J,[2,59]),{35:105,75:81,76:j,77:Y,79:Q,80:ie},{35:106,75:81,76:j,77:Y,79:Q,80:ie},{35:107,75:81,76:j,77:Y,79:Q,80:ie},{35:108,75:81,76:j,77:Y,79:Q,80:ie},{35:109,75:81,76:j,77:Y,79:Q,80:ie},{35:110,75:81,76:j,77:Y,79:Q,80:ie},{35:111,75:81,76:j,77:Y,79:Q,80:ie},{35:112,75:81,76:j,77:Y,79:Q,80:ie},{35:113,75:81,76:j,77:Y,79:Q,80:ie},{35:114,75:81,76:j,77:Y,79:Q,80:ie},{35:115,75:81,76:j,77:Y,79:Q,80:ie},{20:116,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:g,46:m,47:y,48:v,49:b,50:x,51:T,52:w,53:S,54:k,55:L,56:_,57:N,58:C,59:D,60:P,61:A,62:R,63:O,64:M,65:I,66:F,67:B,68:$,69:V,70:H,71:te,72:X,73:ee,74:re},{12:[1,118],33:[1,117]},{35:119,75:81,76:j,77:Y,79:Q,80:ie},{35:120,75:81,76:j,77:Y,79:Q,80:ie},{35:121,75:81,76:j,77:Y,79:Q,80:ie},{35:122,75:81,76:j,77:Y,79:Q,80:ie},{35:123,75:81,76:j,77:Y,79:Q,80:ie},{35:124,75:81,76:j,77:Y,79:Q,80:ie},{35:125,75:81,76:j,77:Y,79:Q,80:ie},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},t(pe,[2,15]),t(K,[2,17],{21:22,19:130,22:e,23:r,24:n,26:i,28:a}),t(pe,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:e,23:r,24:n,26:i,28:a,34:s,36:o,37:l,38:u,39:h,40:d,41:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x,51:T,52:w,53:S,54:k,55:L,56:_,57:N,58:C,59:D,60:P,61:A,62:R,63:O,64:M,65:I,66:F,67:B,68:$,69:V,70:H,71:te,72:X,73:ee,74:re}),t(W,[2,21]),t(W,[2,22]),t(J,[2,39]),t(we,[2,71],{75:81,35:132,76:j,77:Y,79:Q,80:ie}),t(ue,[2,73]),{78:[1,133]},t(ue,[2,75]),t(ue,[2,76]),t(J,[2,40]),t(J,[2,41]),t(J,[2,42]),t(J,[2,43]),t(J,[2,44]),t(J,[2,45]),t(J,[2,46]),t(J,[2,47]),t(J,[2,48]),t(J,[2,49]),t(J,[2,50]),t(J,[2,51]),t(J,[2,52]),t(J,[2,53]),t(J,[2,54]),t(J,[2,55]),t(J,[2,56]),t(J,[2,57]),t(J,[2,58]),t(J,[2,60]),t(J,[2,61]),t(J,[2,62]),t(J,[2,63]),t(J,[2,64]),t(J,[2,65]),t(J,[2,66]),t(J,[2,67]),t(J,[2,68]),t(J,[2,69]),t(J,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},t(ae,[2,28]),t(ae,[2,29]),t(ae,[2,30]),t(ae,[2,31]),t(ae,[2,32]),t(ae,[2,33]),t(ae,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},t(K,[2,18]),t(pe,[2,38]),t(we,[2,72]),t(ue,[2,74]),t(J,[2,24]),t(J,[2,35]),t(Ue,[2,25]),t(Ue,[2,26],{12:[1,138]}),t(Ue,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:E(function(Pe,We){if(We.recoverable)this.trace(Pe);else{var he=new Error(Pe);throw he.hash=We,he}},"parseError"),parse:E(function(Pe){var We=this,he=[0],Te=[],Be=[null],ye=[],Me=this.table,Z="",fe=0,U=0,le=2,oe=1,ge=ye.slice.call(arguments,1),me=Object.create(this.lexer),Ce={yy:{}};for(var Ie in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ie)&&(Ce.yy[Ie]=this.yy[Ie]);me.setInput(Pe,Ce.yy),Ce.yy.lexer=me,Ce.yy.parser=this,typeof me.yylloc>"u"&&(me.yylloc={});var Ne=me.yylloc;ye.push(Ne);var et=me.options&&me.options.ranges;typeof Ce.yy.parseError=="function"?this.parseError=Ce.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ut(ft){he.length=he.length-2*ft,Be.length=Be.length-ft,ye.length=ye.length-ft}E(ut,"popStack");function rt(){var ft;return ft=Te.pop()||me.lex()||oe,typeof ft!="number"&&(ft instanceof Array&&(Te=ft,ft=Te.pop()),ft=We.symbols_[ft]||ft),ft}E(rt,"lex");for(var de,De,Le,je,dt={},lt,$e,tt,Ve;;){if(De=he[he.length-1],this.defaultActions[De]?Le=this.defaultActions[De]:((de===null||typeof de>"u")&&(de=rt()),Le=Me[De]&&Me[De][de]),typeof Le>"u"||!Le.length||!Le[0]){var it="";Ve=[];for(lt in Me[De])this.terminals_[lt]&&lt>le&&Ve.push("'"+this.terminals_[lt]+"'");me.showPosition?it="Parse error on line "+(fe+1)+`:
`+me.showPosition()+`
Expecting `+Ve.join(", ")+", got '"+(this.terminals_[de]||de)+"'":it="Parse error on line "+(fe+1)+": Unexpected "+(de==oe?"end of input":"'"+(this.terminals_[de]||de)+"'"),this.parseError(it,{text:me.match,token:this.terminals_[de]||de,line:me.yylineno,loc:Ne,expected:Ve})}if(Le[0]instanceof Array&&Le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+De+", token: "+de);switch(Le[0]){case 1:he.push(de),Be.push(me.yytext),ye.push(me.yylloc),he.push(Le[1]),de=null,U=me.yyleng,Z=me.yytext,fe=me.yylineno,Ne=me.yylloc;break;case 2:if($e=this.productions_[Le[1]][1],dt.$=Be[Be.length-$e],dt._$={first_line:ye[ye.length-($e||1)].first_line,last_line:ye[ye.length-1].last_line,first_column:ye[ye.length-($e||1)].first_column,last_column:ye[ye.length-1].last_column},et&&(dt._$.range=[ye[ye.length-($e||1)].range[0],ye[ye.length-1].range[1]]),je=this.performAction.apply(dt,[Z,U,fe,Ce.yy,Le[1],Be,ye].concat(ge)),typeof je<"u")return je;$e&&(he=he.slice(0,-1*$e*2),Be=Be.slice(0,-1*$e),ye=ye.slice(0,-1*$e)),he.push(this.productions_[Le[1]][0]),Be.push(dt.$),ye.push(dt._$),tt=Me[he[he.length-2]][he[he.length-1]],he.push(tt);break;case 3:return!0}}return!0},"parse")},Ze=function(){var Xe={EOF:1,parseError:E(function(We,he){if(this.yy.parser)this.yy.parser.parseError(We,he);else throw new Error(We)},"parseError"),setInput:E(function(Pe,We){return this.yy=We||this.yy||{},this._input=Pe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var Pe=this._input[0];this.yytext+=Pe,this.yyleng++,this.offset++,this.match+=Pe,this.matched+=Pe;var We=Pe.match(/(?:\r\n?|\n).*/g);return We?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Pe},"input"),unput:E(function(Pe){var We=Pe.length,he=Pe.split(/(?:\r\n?|\n)/g);this._input=Pe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-We),this.offset-=We;var Te=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),he.length-1&&(this.yylineno-=he.length-1);var Be=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:he?(he.length===Te.length?this.yylloc.first_column:0)+Te[Te.length-he.length].length-he[0].length:this.yylloc.first_column-We},this.options.ranges&&(this.yylloc.range=[Be[0],Be[0]+this.yyleng-We]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(Pe){this.unput(this.match.slice(Pe))},"less"),pastInput:E(function(){var Pe=this.matched.substr(0,this.matched.length-this.match.length);return(Pe.length>20?"...":"")+Pe.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var Pe=this.match;return Pe.length<20&&(Pe+=this._input.substr(0,20-Pe.length)),(Pe.substr(0,20)+(Pe.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var Pe=this.pastInput(),We=new Array(Pe.length+1).join("-");return Pe+this.upcomingInput()+`
`+We+"^"},"showPosition"),test_match:E(function(Pe,We){var he,Te,Be;if(this.options.backtrack_lexer&&(Be={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Be.yylloc.range=this.yylloc.range.slice(0))),Te=Pe[0].match(/(?:\r\n?|\n).*/g),Te&&(this.yylineno+=Te.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Te?Te[Te.length-1].length-Te[Te.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Pe[0].length},this.yytext+=Pe[0],this.match+=Pe[0],this.matches=Pe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Pe[0].length),this.matched+=Pe[0],he=this.performAction.call(this,this.yy,this,We,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),he)return he;if(this._backtrack){for(var ye in Be)this[ye]=Be[ye];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Pe,We,he,Te;this._more||(this.yytext="",this.match="");for(var Be=this._currentRules(),ye=0;ye<Be.length;ye++)if(he=this._input.match(this.rules[Be[ye]]),he&&(!We||he[0].length>We[0].length)){if(We=he,Te=ye,this.options.backtrack_lexer){if(Pe=this.test_match(he,Be[ye]),Pe!==!1)return Pe;if(this._backtrack){We=!1;continue}else return!1}else if(!this.options.flex)break}return We?(Pe=this.test_match(We,Be[Te]),Pe!==!1?Pe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var We=this.next();return We||this.lex()},"lex"),begin:E(function(We){this.conditionStack.push(We)},"begin"),popState:E(function(){var We=this.conditionStack.length-1;return We>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(We){return We=this.conditionStack.length-1-Math.abs(We||0),We>=0?this.conditionStack[We]:"INITIAL"},"topState"),pushState:E(function(We){this.begin(We)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:E(function(We,he,Te,Be){switch(Te){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Xe}();xe.lexer=Ze;function Je(){this.yy={}}return E(Je,"Parser"),Je.prototype=xe,xe.Parser=Je,new Je}();sx.parser=sx;var NNe=sx,wo=[],ru=[""],Ra="global",So="",ol=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],N1=[],tk="",rk=!1,ox=4,lx=2,oV,RNe=E(function(){return oV},"getC4Type"),INe=E(function(t){oV=on(t,Re())},"setC4Type"),DNe=E(function(t,e,r,n,i,a,s,o,l){if(t==null||e===void 0||e===null||r===void 0||r===null||n===void 0||n===null)return;let u={};const h=N1.find(d=>d.from===e&&d.to===r);if(h?u=h:N1.push(u),u.type=t,u.from=e,u.to=r,u.label={text:n},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,f]=Object.entries(i)[0];u[d]={text:f}}else u.techn={text:i};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[d,f]=Object.entries(a)[0];u[d]={text:f}}else u.descr={text:a};if(typeof s=="object"){let[d,f]=Object.entries(s)[0];u[d]=f}else u.sprite=s;if(typeof o=="object"){let[d,f]=Object.entries(o)[0];u[d]=f}else u.tags=o;if(typeof l=="object"){let[d,f]=Object.entries(l)[0];u[d]=f}else u.link=l;u.wrap=nu()},"addRel"),ONe=E(function(t,e,r,n,i,a,s){if(e===null||r===null)return;let o={};const l=wo.find(u=>u.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,wo.push(o)),r==null?o.label={text:""}:o.label={text:r},n==null)o.descr={text:""};else if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]={text:h}}else o.descr={text:n};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.sprite=i;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=h}else o.tags=a;if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=h}else o.link=s;o.typeC4Shape={text:t},o.parentBoundary=Ra,o.wrap=nu()},"addPersonOrSystem"),MNe=E(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=wo.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,wo.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.sprite=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.wrap=nu(),l.typeC4Shape={text:t},l.parentBoundary=Ra},"addContainer"),PNe=E(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=wo.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,wo.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.sprite=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.wrap=nu(),l.typeC4Shape={text:t},l.parentBoundary=Ra},"addComponent"),BNe=E(function(t,e,r,n,i){if(t===null||e===null)return;let a={};const s=ol.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,ol.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"system"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]={text:l}}else a.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]=l}else a.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=Ra,a.wrap=nu(),So=Ra,Ra=t,ru.push(So)},"addPersonOrSystemBoundary"),FNe=E(function(t,e,r,n,i){if(t===null||e===null)return;let a={};const s=ol.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,ol.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"container"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]={text:l}}else a.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]=l}else a.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=Ra,a.wrap=nu(),So=Ra,Ra=t,ru.push(So)},"addContainerBoundary"),$Ne=E(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=ol.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,ol.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.type={text:"node"};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.type={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.nodeType=t,l.parentBoundary=Ra,l.wrap=nu(),So=Ra,Ra=e,ru.push(So)},"addDeploymentNode"),zNe=E(function(){Ra=So,ru.pop(),So=ru.pop(),ru.push(So)},"popBoundaryParseStack"),UNe=E(function(t,e,r,n,i,a,s,o,l,u,h){let d=wo.find(f=>f.alias===e);if(!(d===void 0&&(d=ol.find(f=>f.alias===e),d===void 0))){if(r!=null)if(typeof r=="object"){let[f,p]=Object.entries(r)[0];d[f]=p}else d.bgColor=r;if(n!=null)if(typeof n=="object"){let[f,p]=Object.entries(n)[0];d[f]=p}else d.fontColor=n;if(i!=null)if(typeof i=="object"){let[f,p]=Object.entries(i)[0];d[f]=p}else d.borderColor=i;if(a!=null)if(typeof a=="object"){let[f,p]=Object.entries(a)[0];d[f]=p}else d.shadowing=a;if(s!=null)if(typeof s=="object"){let[f,p]=Object.entries(s)[0];d[f]=p}else d.shape=s;if(o!=null)if(typeof o=="object"){let[f,p]=Object.entries(o)[0];d[f]=p}else d.sprite=o;if(l!=null)if(typeof l=="object"){let[f,p]=Object.entries(l)[0];d[f]=p}else d.techn=l;if(u!=null)if(typeof u=="object"){let[f,p]=Object.entries(u)[0];d[f]=p}else d.legendText=u;if(h!=null)if(typeof h=="object"){let[f,p]=Object.entries(h)[0];d[f]=p}else d.legendSprite=h}},"updateElStyle"),HNe=E(function(t,e,r,n,i,a,s){const o=N1.find(l=>l.from===e&&l.to===r);if(o!==void 0){if(n!=null)if(typeof n=="object"){let[l,u]=Object.entries(n)[0];o[l]=u}else o.textColor=n;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];o[l]=u}else o.lineColor=i;if(a!=null)if(typeof a=="object"){let[l,u]=Object.entries(a)[0];o[l]=parseInt(u)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[l,u]=Object.entries(s)[0];o[l]=parseInt(u)}else o.offsetY=parseInt(s)}},"updateRelStyle"),GNe=E(function(t,e,r){let n=ox,i=lx;if(typeof e=="object"){const a=Object.values(e)[0];n=parseInt(a)}else n=parseInt(e);if(typeof r=="object"){const a=Object.values(r)[0];i=parseInt(a)}else i=parseInt(r);n>=1&&(ox=n),i>=1&&(lx=i)},"updateLayoutConfig"),VNe=E(function(){return ox},"getC4ShapeInRow"),qNe=E(function(){return lx},"getC4BoundaryInRow"),WNe=E(function(){return Ra},"getCurrentBoundaryParse"),YNe=E(function(){return So},"getParentBoundaryParse"),lV=E(function(t){return t==null?wo:wo.filter(e=>e.parentBoundary===t)},"getC4ShapeArray"),XNe=E(function(t){return wo.find(e=>e.alias===t)},"getC4Shape"),KNe=E(function(t){return Object.keys(lV(t))},"getC4ShapeKeys"),cV=E(function(t){return t==null?ol:ol.filter(e=>e.parentBoundary===t)},"getBoundaries"),jNe=cV,QNe=E(function(){return N1},"getRels"),ZNe=E(function(){return tk},"getTitle"),JNe=E(function(t){rk=t},"setWrap"),nu=E(function(){return rk},"autoWrap"),e9e=E(function(){wo=[],ol=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],So="",Ra="global",ru=[""],N1=[],ru=[""],tk="",rk=!1,ox=4,lx=2},"clear"),t9e={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},r9e={FILLED:0,OPEN:1},n9e={LEFTOF:0,RIGHTOF:1,OVER:2},i9e=E(function(t){tk=on(t,Re())},"setTitle"),nk={addPersonOrSystem:ONe,addPersonOrSystemBoundary:BNe,addContainer:MNe,addContainerBoundary:FNe,addComponent:PNe,addDeploymentNode:$Ne,popBoundaryParseStack:zNe,addRel:DNe,updateElStyle:UNe,updateRelStyle:HNe,updateLayoutConfig:GNe,autoWrap:nu,setWrap:JNe,getC4ShapeArray:lV,getC4Shape:XNe,getC4ShapeKeys:KNe,getBoundaries:cV,getBoundarys:jNe,getCurrentBoundaryParse:WNe,getParentBoundaryParse:YNe,getRels:QNe,getTitle:ZNe,getC4Type:RNe,getC4ShapeInRow:VNe,getC4BoundaryInRow:qNe,setAccTitle:oi,getAccTitle:ki,getAccDescription:_i,setAccDescription:Ci,getConfig:E(()=>Re().c4,"getConfig"),clear:e9e,LINETYPE:t9e,ARROWTYPE:r9e,PLACEMENT:n9e,setTitle:i9e,setC4Type:INe},ik=E(function(t,e){return ax(t,e)},"drawRect"),uV=E(function(t,e,r,n,i,a){const s=t.append("image");s.attr("width",e),s.attr("height",r),s.attr("x",n),s.attr("y",i);let o=a.startsWith("data:image/png;base64")?a:ju.sanitizeUrl(a);s.attr("xlink:href",o)},"drawImage"),a9e=E((t,e,r)=>{const n=t.append("g");let i=0;for(let a of e){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",l=a.offsetX?parseInt(a.offsetX):0,u=a.offsetY?parseInt(a.offsetY):0,h="";if(i===0){let f=n.append("line");f.attr("x1",a.startPoint.x),f.attr("y1",a.startPoint.y),f.attr("x2",a.endPoint.x),f.attr("y2",a.endPoint.y),f.attr("stroke-width","1"),f.attr("stroke",o),f.style("fill","none"),a.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let f=n.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)")}let d=r.messageFont();lc(r)(a.label.text,n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+u,a.label.width,a.label.height,{fill:s},d),a.techn&&a.techn.text!==""&&(d=r.messageFont(),lc(r)("["+a.techn.text+"]",n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+u,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},d))}},"drawRels"),s9e=E(function(t,e,r){const n=t.append("g");let i=e.bgColor?e.bgColor:"none",a=e.borderColor?e.borderColor:"#444444",s=e.fontColor?e.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(o={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:a,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:o};ik(n,l);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=s,lc(r)(e.label.text,n,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=r.boundaryFont(),u.fontColor=s,lc(r)(e.type.text,n,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=s,lc(r)(e.descr.text,n,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},"drawBoundary"),o9e=E(function(t,e,r){var d;let n=e.bgColor?e.bgColor:r[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:r[e.typeC4Shape.text+"_border_color"],a=e.fontColor?e.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const o=t.append("g");o.attr("class","person-man");const l=Ah();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=e.x,l.y=e.y,l.fill=n,l.width=e.width,l.height=e.height,l.stroke=i,l.rx=2.5,l.ry=2.5,l.attrs={"stroke-width":.5},ik(o,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let u=m9e(r,e.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":uV(o,48,48,e.x+e.width/2-24,e.y+e.image.Y,s);break}let h=r[e.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=a,lc(r)(e.label.text,o,e.x,e.y+e.label.Y,e.width,e.height,{fill:a},h),h=r[e.typeC4Shape.text+"Font"](),h.fontColor=a,e.techn&&((d=e.techn)==null?void 0:d.text)!==""?lc(r)(e.techn.text,o,e.x,e.y+e.techn.Y,e.width,e.height,{fill:a,"font-style":"italic"},h):e.type&&e.type.text!==""&&lc(r)(e.type.text,o,e.x,e.y+e.type.Y,e.width,e.height,{fill:a,"font-style":"italic"},h),e.descr&&e.descr.text!==""&&(h=r.personFont(),h.fontColor=a,lc(r)(e.descr.text,o,e.x,e.y+e.descr.Y,e.width,e.height,{fill:a},h)),e.height},"drawC4Shape"),l9e=E(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),c9e=E(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),u9e=E(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),h9e=E(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),d9e=E(function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),f9e=E(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),p9e=E(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),g9e=E(function(t){const r=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),m9e=E((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"getC4ShapeFont"),lc=function(){function t(i,a,s,o,l,u,h){const d=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("text-anchor","middle").text(i);n(d,h)}E(t,"byText");function e(i,a,s,o,l,u,h,d){const{fontSize:f,fontFamily:p,fontWeight:g}=d,m=i.split(xt.lineBreakRegex);for(let y=0;y<m.length;y++){const v=y*f-f*(m.length-1)/2,b=a.append("text").attr("x",s+l/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",f).style("font-weight",g).style("font-family",p);b.append("tspan").attr("dy",v).text(m[y]).attr("alignment-baseline","mathematical"),n(b,h)}}E(e,"byTspan");function r(i,a,s,o,l,u,h,d){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,s,o,l,u,h,d),n(g,h)}E(r,"byFo");function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return E(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),ll={drawRect:ik,drawBoundary:s9e,drawC4Shape:o9e,drawRels:a9e,drawImage:uV,insertArrowHead:h9e,insertArrowEnd:d9e,insertArrowFilledHead:f9e,insertDynamicNumber:p9e,insertArrowCrossHead:g9e,insertDatabaseIcon:l9e,insertComputerIcon:c9e,insertClockIcon:u9e},cx=0,ux=0,hV=4,ak=2;sx.yy=nk;var qt={},dV=(V0=class{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,sk(e.db.getConfig())}setData(e,r,n,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(e,r,n,i){e[r]===void 0?e[r]=n:e[r]=i(n,e[r])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,n=r+e.width,i=this.nextData.starty+e.margin*2,a=i+e.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>hV)&&(r=this.nextData.startx+e.margin+qt.nextLinePaddingX,i=this.nextData.stopy+e.margin*2,this.nextData.stopx=n=r+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=i+e.height,this.nextData.cnt=1),e.x=r,e.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},sk(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},E(V0,"Bounds"),V0),sk=E(function(t){ai(qt,t),t.fontFamily&&(qt.personFontFamily=qt.systemFontFamily=qt.messageFontFamily=t.fontFamily),t.fontSize&&(qt.personFontSize=qt.systemFontSize=qt.messageFontSize=t.fontSize),t.fontWeight&&(qt.personFontWeight=qt.systemFontWeight=qt.messageFontWeight=t.fontWeight)},"setConf"),R1=E((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"c4ShapeFont"),hx=E(t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),"boundaryFont"),y9e=E(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont");function Xs(t,e,r,n,i){if(!e[t].width)if(r)e[t].text=NB(e[t].text,i,n),e[t].textLines=e[t].text.split(xt.lineBreakRegex).length,e[t].width=i,e[t].height=Z2(e[t].text,n);else{let a=e[t].text.split(xt.lineBreakRegex);e[t].textLines=a.length;let s=0;e[t].height=0,e[t].width=0;for(const o of a)e[t].width=Math.max(_a(o,n),e[t].width),s=Z2(o,n),e[t].height=e[t].height+s}}E(Xs,"calcC4ShapeTextWH");var fV=E(function(t,e,r){e.x=r.data.startx,e.y=r.data.starty,e.width=r.data.stopx-r.data.startx,e.height=r.data.stopy-r.data.starty,e.label.y=qt.c4ShapeMargin-35;let n=e.wrap&&qt.wrap,i=hx(qt);i.fontSize=i.fontSize+2,i.fontWeight="bold";let a=_a(e.label.text,i);Xs("label",e,n,i,a),ll.drawBoundary(t,e,qt)},"drawBoundary"),pV=E(function(t,e,r,n){let i=0;for(const a of n){i=0;const s=r[a];let o=R1(qt,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=_a("«"+s.typeC4Shape.text+"»",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=qt.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let l=s.wrap&&qt.wrap,u=qt.width-qt.c4ShapePadding*2,h=R1(qt,s.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Xs("label",s,l,h,u),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let p=R1(qt,s.typeC4Shape.text);Xs("type",s,l,p,u),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let p=R1(qt,s.techn.text);Xs("techn",s,l,p,u),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let d=i,f=s.label.width;if(s.descr&&s.descr.text!==""){let p=R1(qt,s.typeC4Shape.text);Xs("descr",s,l,p,u),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,f=Math.max(s.label.width,s.descr.width),d=i-s.descr.textLines*5}f=f+qt.c4ShapePadding,s.width=Math.max(s.width||qt.width,f,qt.width),s.height=Math.max(s.height||qt.height,d,qt.height),s.margin=s.margin||qt.c4ShapeMargin,t.insert(s),ll.drawC4Shape(e,s,qt)}t.bumpLastMargin(qt.c4ShapeMargin)},"drawC4ShapeArray"),Ks=(q0=class{constructor(e,r){this.x=e,this.y=r}},E(q0,"Point"),q0),gV=E(function(t,e){let r=t.x,n=t.y,i=e.x,a=e.y,s=r+t.width/2,o=n+t.height/2,l=Math.abs(r-i),u=Math.abs(n-a),h=u/l,d=t.height/t.width,f=null;return n==a&&r<i?f=new Ks(r+t.width,o):n==a&&r>i?f=new Ks(r,o):r==i&&n<a?f=new Ks(s,n+t.height):r==i&&n>a&&(f=new Ks(s,n)),r>i&&n<a?d>=h?f=new Ks(r,o+h*t.width/2):f=new Ks(s-l/u*t.height/2,n+t.height):r<i&&n<a?d>=h?f=new Ks(r+t.width,o+h*t.width/2):f=new Ks(s+l/u*t.height/2,n+t.height):r<i&&n>a?d>=h?f=new Ks(r+t.width,o-h*t.width/2):f=new Ks(s+t.height/2*l/u,n):r>i&&n>a&&(d>=h?f=new Ks(r,o-t.width/2*h):f=new Ks(s-t.height/2*l/u,n)),f},"getIntersectPoint"),v9e=E(function(t,e){let r={x:0,y:0};r.x=e.x+e.width/2,r.y=e.y+e.height/2;let n=gV(t,r);r.x=t.x+t.width/2,r.y=t.y+t.height/2;let i=gV(e,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),b9e=E(function(t,e,r,n){let i=0;for(let a of e){i=i+1;let s=a.wrap&&qt.wrap,o=y9e(qt);n.db.getC4Type()==="C4Dynamic"&&(a.label.text=i+": "+a.label.text);let u=_a(a.label.text,o);Xs("label",a,s,o,u),a.techn&&a.techn.text!==""&&(u=_a(a.techn.text,o),Xs("techn",a,s,o,u)),a.descr&&a.descr.text!==""&&(u=_a(a.descr.text,o),Xs("descr",a,s,o,u));let h=r(a.from),d=r(a.to),f=v9e(h,d);a.startPoint=f.startPoint,a.endPoint=f.endPoint}ll.drawRels(t,e,qt)},"drawRels");function ok(t,e,r,n,i){let a=new dV(i);a.data.widthLimit=r.data.widthLimit/Math.min(ak,n.length);for(let[s,o]of n.entries()){let l=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=l,l=o.image.Y+o.image.height);let u=o.wrap&&qt.wrap,h=hx(qt);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Xs("label",o,u,h,a.data.widthLimit),o.label.Y=l+8,l=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let g=hx(qt);Xs("type",o,u,g,a.data.widthLimit),o.type.Y=l+5,l=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let g=hx(qt);g.fontSize=g.fontSize-2,Xs("descr",o,u,g,a.data.widthLimit),o.descr.Y=l+20,l=o.descr.Y+o.descr.height}if(s==0||s%ak===0){let g=r.data.startx+qt.diagramMarginX,m=r.data.stopy+qt.diagramMarginY+l;a.setData(g,g,m,m)}else{let g=a.data.stopx!==a.data.startx?a.data.stopx+qt.diagramMarginX:a.data.startx,m=a.data.starty;a.setData(g,g,m,m)}a.name=o.alias;let d=i.db.getC4ShapeArray(o.alias),f=i.db.getC4ShapeKeys(o.alias);f.length>0&&pV(a,t,d,f),e=o.alias;let p=i.db.getBoundaries(e);p.length>0&&ok(t,e,a,p,i),o.alias!=="global"&&fV(t,o,a),r.data.stopy=Math.max(a.data.stopy+qt.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+qt.c4ShapeMargin,r.data.stopx),cx=Math.max(cx,r.data.stopx),ux=Math.max(ux,r.data.stopy)}}E(ok,"drawInsideBoundary");var x9e=E(function(t,e,r,n){qt=Re().c4;const i=Re().securityLevel;let a;i==="sandbox"&&(a=mt("#i"+e));const s=mt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body");let o=n.db;n.db.setWrap(qt.wrap),hV=o.getC4ShapeInRow(),ak=o.getC4BoundaryInRow(),se.debug(`C:${JSON.stringify(qt,null,2)}`);const l=i==="sandbox"?s.select(`[id="${e}"]`):mt(`[id="${e}"]`);ll.insertComputerIcon(l),ll.insertDatabaseIcon(l),ll.insertClockIcon(l);let u=new dV(n);u.setData(qt.diagramMarginX,qt.diagramMarginX,qt.diagramMarginY,qt.diagramMarginY),u.data.widthLimit=screen.availWidth,cx=qt.diagramMarginX,ux=qt.diagramMarginY;const h=n.db.getTitle();let d=n.db.getBoundaries("");ok(l,"",u,d,n),ll.insertArrowHead(l),ll.insertArrowEnd(l),ll.insertArrowCrossHead(l),ll.insertArrowFilledHead(l),b9e(l,n.db.getRels(),n.db.getC4Shape,n),u.data.stopx=cx,u.data.stopy=ux;const f=u.data;let g=f.stopy-f.starty+2*qt.diagramMarginY;const y=f.stopx-f.startx+2*qt.diagramMarginX;h&&l.append("text").text(h).attr("x",(f.stopx-f.startx)/2-4*qt.diagramMarginX).attr("y",f.starty+qt.diagramMarginY),qa(l,g,y,qt.useMaxWidth);const v=h?60:0;l.attr("viewBox",f.startx-qt.diagramMarginX+" -"+(qt.diagramMarginY+v)+" "+y+" "+(g+v)),se.debug("models:",f)},"draw"),mV={drawPersonOrSystemArray:pV,drawBoundary:fV,setConf:sk,draw:x9e},E9e=E(t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,"getStyles"),T9e=E9e,w9e={parser:NNe,db:nk,renderer:mV,styles:T9e,init:E(({c4:t,wrap:e})=>{mV.setConf(t),nk.setWrap(e)},"init")};const S9e=Object.freeze(Object.defineProperty({__proto__:null,diagram:w9e},Symbol.toStringTag,{value:"Module"}));var I1=E(()=>`
  /* Font Awesome icon styling - consolidated */
  .label-icon {
    display: inline-block;
    height: 1em;
    overflow: visible;
    vertical-align: -0.125em;
  }
  
  .node .label-icon path {
    fill: currentColor;
    stroke: revert;
    stroke-width: revert;
  }
`,"getIconStyles"),D1=E((t,e)=>{let r;return e==="sandbox"&&(r=mt("#i"+t)),mt(e==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`)},"getDiagramElement"),O1=E((t,e,r,n)=>{t.attr("class",r);const{width:i,height:a,x:s,y:o}=k9e(t,e);qa(t,a,i,n);const l=C9e(s,o,i,a,e);t.attr("viewBox",l),se.debug(`viewBox configured: ${l} with padding: ${e}`)},"setupViewPortForSVG"),k9e=E((t,e)=>{var n;const r=((n=t.node())==null?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+e*2,height:r.height+e*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),C9e=E((t,e,r,n,i)=>`${t-i} ${e-i} ${r} ${n}`,"createViewBox"),_9e="flowchart-",A9e=(W0=class{constructor(){this.vertexCounter=0,this.config=Re(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=oi,this.setAccDescription=Ci,this.setDiagramTitle=Fi,this.getAccTitle=ki,this.getAccDescription=_i,this.getDiagramTitle=li,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}sanitizeText(e){return xt.sanitizeText(e,this.config)}lookUpDomId(e){for(const r of this.vertices.values())if(r.id===e)return r.domId;return e}addVertex(e,r,n,i,a,s,o={},l){var p,g;if(!e||e.trim().length===0)return;let u;if(l!==void 0){let m;l.includes(`
`)?m=l+`
`:m=`{
`+l+`
}`,u=Qw(m,{schema:jw})}const h=this.edges.find(m=>m.id===e);if(h){const m=u;(m==null?void 0:m.animate)!==void 0&&(h.animate=m.animate),(m==null?void 0:m.animation)!==void 0&&(h.animation=m.animation);return}let d,f=this.vertices.get(e);if(f===void 0&&(f={id:e,labelType:"text",domId:_9e+e+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(e,f)),this.vertexCounter++,r!==void 0?(this.config=Re(),d=this.sanitizeText(r.text.trim()),f.labelType=r.type,d.startsWith('"')&&d.endsWith('"')&&(d=d.substring(1,d.length-1)),f.text=d):f.text===void 0&&(f.text=e),n!==void 0&&(f.type=n),i!=null&&i.forEach(m=>{f.styles.push(m)}),a!=null&&a.forEach(m=>{f.classes.push(m)}),s!==void 0&&(f.dir=s),f.props===void 0?f.props=o:o!==void 0&&Object.assign(f.props,o),u!==void 0){if(u.shape){if(u.shape!==u.shape.toLowerCase()||u.shape.includes("_"))throw new Error(`No such shape: ${u.shape}. Shape names should be lowercase.`);if(!q$(u.shape))throw new Error(`No such shape: ${u.shape}.`);f.type=u==null?void 0:u.shape}u!=null&&u.label&&(f.text=u==null?void 0:u.label),u!=null&&u.icon&&(f.icon=u==null?void 0:u.icon,!((p=u.label)!=null&&p.trim())&&f.text===e&&(f.text="")),u!=null&&u.form&&(f.form=u==null?void 0:u.form),u!=null&&u.pos&&(f.pos=u==null?void 0:u.pos),u!=null&&u.img&&(f.img=u==null?void 0:u.img,!((g=u.label)!=null&&g.trim())&&f.text===e&&(f.text="")),u!=null&&u.constraint&&(f.constraint=u.constraint),u.w&&(f.assetWidth=Number(u.w)),u.h&&(f.assetHeight=Number(u.h))}}addSingleLink(e,r,n,i){const o={start:e,end:r,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};se.info("abc78 Got edge...",o);const l=n.text;if(l!==void 0&&(o.text=this.sanitizeText(l.text.trim()),o.text.startsWith('"')&&o.text.endsWith('"')&&(o.text=o.text.substring(1,o.text.length-1)),o.labelType=l.type),n!==void 0&&(o.type=n.type,o.stroke=n.stroke,o.length=n.length>10?10:n.length),i&&!this.edges.some(u=>u.id===i))o.id=i,o.isUserDefinedId=!0;else{const u=this.edges.filter(h=>h.start===o.start&&h.end===o.end);u.length===0?o.id=Yg(o.start,o.end,{counter:0,prefix:"L"}):o.id=Yg(o.start,o.end,{counter:u.length+1,prefix:"L"})}if(this.edges.length<(this.config.maxEdges??500))se.info("Pushing edge..."),this.edges.push(o);else throw new Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(e){return e!==null&&typeof e=="object"&&"id"in e&&typeof e.id=="string"}addLink(e,r,n){const i=this.isLinkData(n)?n.id.replace("@",""):void 0;se.info("addLink",e,r,i);for(const a of e)for(const s of r){const o=a===e[e.length-1],l=s===r[0];o&&l?this.addSingleLink(a,s,n,i):this.addSingleLink(a,s,n,void 0)}}updateLinkInterpolate(e,r){e.forEach(n=>{n==="default"?this.edges.defaultInterpolate=r:this.edges[n].interpolate=r})}updateLink(e,r){e.forEach(n=>{var i,a,s,o,l,u;if(typeof n=="number"&&n>=this.edges.length)throw new Error(`The index ${n} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);n==="default"?this.edges.defaultStyle=r:(this.edges[n].style=r,(((a=(i=this.edges[n])==null?void 0:i.style)==null?void 0:a.length)??0)>0&&!((o=(s=this.edges[n])==null?void 0:s.style)!=null&&o.some(h=>h==null?void 0:h.startsWith("fill")))&&((u=(l=this.edges[n])==null?void 0:l.style)==null||u.push("fill:none")))})}addClass(e,r){const n=r.join().replace(/\\,/g,"§§§").replace(/,/g,";").replace(/§§§/g,",").split(";");e.split(",").forEach(i=>{let a=this.classes.get(i);a===void 0&&(a={id:i,styles:[],textStyles:[]},this.classes.set(i,a)),n!=null&&n.forEach(s=>{if(/color/.exec(s)){const o=s.replace("fill","bgFill");a.textStyles.push(o)}a.styles.push(s)})})}setDirection(e){this.direction=e,/.*</.exec(this.direction)&&(this.direction="RL"),/.*\^/.exec(this.direction)&&(this.direction="BT"),/.*>/.exec(this.direction)&&(this.direction="LR"),/.*v/.exec(this.direction)&&(this.direction="TB"),this.direction==="TD"&&(this.direction="TB")}setClass(e,r){for(const n of e.split(",")){const i=this.vertices.get(n);i&&i.classes.push(r);const a=this.edges.find(o=>o.id===n);a&&a.classes.push(r);const s=this.subGraphLookup.get(n);s&&s.classes.push(r)}}setTooltip(e,r){if(r!==void 0){r=this.sanitizeText(r);for(const n of e.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(n):n,r)}}setClickFun(e,r,n){const i=this.lookUpDomId(e);if(Re().securityLevel!=="loose"||r===void 0)return;let a=[];if(typeof n=="string"){a=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<a.length;o++){let l=a[o].trim();l.startsWith('"')&&l.endsWith('"')&&(l=l.substr(1,l.length-2)),a[o]=l}}a.length===0&&a.push(e);const s=this.vertices.get(e);s&&(s.haveCallback=!0,this.funs.push(()=>{const o=document.querySelector(`[id="${i}"]`);o!==null&&o.addEventListener("click",()=>{dr.runFunc(r,...a)},!1)}))}setLink(e,r,n){e.split(",").forEach(i=>{const a=this.vertices.get(i);a!==void 0&&(a.link=dr.formatUrl(r,this.config),a.linkTarget=n)}),this.setClass(e,"clickable")}getTooltip(e){return this.tooltips.get(e)}setClickEvent(e,r,n){e.split(",").forEach(i=>{this.setClickFun(i,r,n)}),this.setClass(e,"clickable")}bindFunctions(e){this.funs.forEach(r=>{r(e)})}getDirection(){var e;return(e=this.direction)==null?void 0:e.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(e){let r=mt(".mermaidTooltip");(r._groups||r)[0][0]===null&&(r=mt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),mt(e).select("svg").selectAll("g.node").on("mouseover",a=>{var u;const s=mt(a.currentTarget);if(s.attr("title")===null)return;const l=(u=a.currentTarget)==null?void 0:u.getBoundingClientRect();r.transition().duration(200).style("opacity",".9"),r.text(s.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.bottom+"px"),r.html(r.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",a=>{r.transition().duration(500).style("opacity",0),mt(a.currentTarget).classed("hover",!1)})}clear(e="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=e,this.config=Re(),si()}setGen(e){this.version=e||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(e,r,n){let i=e.text.trim(),a=n.text;e===n&&/\s/.exec(n.text)&&(i=void 0);const o=E(f=>{const p={boolean:{},number:{},string:{}},g=[];let m;return{nodeList:f.filter(function(v){const b=typeof v;return v.stmt&&v.stmt==="dir"?(m=v.value,!1):v.trim()===""?!1:b in p?p[b].hasOwnProperty(v)?!1:p[b][v]=!0:g.includes(v)?!1:g.push(v)}),dir:m}},"uniq")(r.flat()),l=o.nodeList;let u=o.dir;const h=Re().flowchart??{};if(u=u??(h.inheritDir?this.getDirection()??Re().direction??void 0:void 0),this.version==="gen-1")for(let f=0;f<l.length;f++)l[f]=this.lookUpDomId(l[f]);i=i??"subGraph"+this.subCount,a=a||"",a=this.sanitizeText(a),this.subCount=this.subCount+1;const d={id:i,nodes:l,title:a.trim(),classes:[],dir:u,labelType:n.type};return se.info("Adding",d.id,d.nodes,d.dir),d.nodes=this.makeUniq(d,this.subGraphs).nodes,this.subGraphs.push(d),this.subGraphLookup.set(i,d),i}getPosForId(e){for(const[r,n]of this.subGraphs.entries())if(n.id===e)return r;return-1}indexNodes2(e,r){const n=this.subGraphs[r].nodes;if(this.secCount=this.secCount+1,this.secCount>2e3)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=r,this.subGraphs[r].id===e)return{result:!0,count:0};let i=0,a=1;for(;i<n.length;){const s=this.getPosForId(n[i]);if(s>=0){const o=this.indexNodes2(e,s);if(o.result)return{result:!0,count:a+o.count};a=a+o.count}i=i+1}return{result:!1,count:a}}getDepthFirstPos(e){return this.posCrossRef[e]}indexNodes(){this.secCount=-1,this.subGraphs.length>0&&this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){return this.firstGraphFlag?(this.firstGraphFlag=!1,!0):!1}destructStartLink(e){let r=e.trim(),n="arrow_open";switch(r[0]){case"<":n="arrow_point",r=r.slice(1);break;case"x":n="arrow_cross",r=r.slice(1);break;case"o":n="arrow_circle",r=r.slice(1);break}let i="normal";return r.includes("=")&&(i="thick"),r.includes(".")&&(i="dotted"),{type:n,stroke:i}}countChar(e,r){const n=r.length;let i=0;for(let a=0;a<n;++a)r[a]===e&&++i;return i}destructEndLink(e){const r=e.trim();let n=r.slice(0,-1),i="arrow_open";switch(r.slice(-1)){case"x":i="arrow_cross",r.startsWith("x")&&(i="double_"+i,n=n.slice(1));break;case">":i="arrow_point",r.startsWith("<")&&(i="double_"+i,n=n.slice(1));break;case"o":i="arrow_circle",r.startsWith("o")&&(i="double_"+i,n=n.slice(1));break}let a="normal",s=n.length-1;n.startsWith("=")&&(a="thick"),n.startsWith("~")&&(a="invisible");const o=this.countChar(".",n);return o&&(a="dotted",s=o),{type:i,stroke:a,length:s}}destructLink(e,r){const n=this.destructEndLink(e);let i;if(r){if(i=this.destructStartLink(r),i.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(i.type==="arrow_open")i.type=n.type;else{if(i.type!==n.type)return{type:"INVALID",stroke:"INVALID"};i.type="double_"+i.type}return i.type==="double_arrow"&&(i.type="double_arrow_point"),i.length=n.length,i}return n}exists(e,r){for(const n of e)if(n.nodes.includes(r))return!0;return!1}makeUniq(e,r){const n=[];return e.nodes.forEach((i,a)=>{this.exists(r,i)||n.push(e.nodes[a])}),{nodes:n}}getTypeFromVertex(e){if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}}findNode(e,r){return e.find(n=>n.id===r)}destructEdgeType(e){let r="none",n="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":n=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":r=e.replace("double_",""),n=r;break}return{arrowTypeStart:r,arrowTypeEnd:n}}addNodeFromVertex(e,r,n,i,a,s){var h;const o=n.get(e.id),l=i.get(e.id)??!1,u=this.findNode(r,e.id);if(u)u.cssStyles=e.styles,u.cssCompiledStyles=this.getCompiledStyles(e.classes),u.cssClasses=e.classes.join(" ");else{const d={id:e.id,label:e.text,labelStyle:"",parentId:o,padding:((h=a.flowchart)==null?void 0:h.padding)||8,cssStyles:e.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:s,link:e.link,linkTarget:e.linkTarget,tooltip:this.getTooltip(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};l?r.push({...d,isGroup:!0,shape:"rect"}):r.push({...d,isGroup:!1,shape:this.getTypeFromVertex(e)})}}getCompiledStyles(e){let r=[];for(const n of e){const i=this.classes.get(n);i!=null&&i.styles&&(r=[...r,...i.styles??[]].map(a=>a.trim())),i!=null&&i.textStyles&&(r=[...r,...i.textStyles??[]].map(a=>a.trim()))}return r}getData(){const e=Re(),r=[],n=[],i=this.getSubGraphs(),a=new Map,s=new Map;for(let u=i.length-1;u>=0;u--){const h=i[u];h.nodes.length>0&&s.set(h.id,!0);for(const d of h.nodes)a.set(d,h.id)}for(let u=i.length-1;u>=0;u--){const h=i[u];r.push({id:h.id,label:h.title,labelStyle:"",parentId:a.get(h.id),padding:8,cssCompiledStyles:this.getCompiledStyles(h.classes),cssClasses:h.classes.join(" "),shape:"rect",dir:h.dir,isGroup:!0,look:e.look})}this.getVertices().forEach(u=>{this.addNodeFromVertex(u,r,a,s,e,e.look||"classic")});const l=this.getEdges();return l.forEach((u,h)=>{var m;const{arrowTypeStart:d,arrowTypeEnd:f}=this.destructEdgeType(u.type),p=[...l.defaultStyle??[]];u.style&&p.push(...u.style);const g={id:Yg(u.start,u.end,{counter:h,prefix:"L"},u.id),isUserDefinedId:u.isUserDefinedId,start:u.start,end:u.end,type:u.type??"normal",label:u.text,labelpos:"c",thickness:u.stroke,minlen:u.length,classes:(u==null?void 0:u.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(u==null?void 0:u.stroke)==="invisible"||(u==null?void 0:u.type)==="arrow_open"?"none":d,arrowTypeEnd:(u==null?void 0:u.stroke)==="invisible"||(u==null?void 0:u.type)==="arrow_open"?"none":f,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(u.classes),labelStyle:p,style:p,pattern:u.stroke,look:e.look,animate:u.animate,animation:u.animation,curve:u.interpolate||this.edges.defaultInterpolate||((m=e.flowchart)==null?void 0:m.curve)};n.push(g)}),{nodes:r,edges:n,other:{},config:e}}defaultConfig(){return KI.flowchart}},E(W0,"FlowDB"),W0),L9e=E(function(t,e){return e.db.getClasses()},"getClasses"),N9e=E(async function(t,e,r,n){var p;se.info("REF0:"),se.info("Drawing state diagram (v2)",e);const{securityLevel:i,flowchart:a,layout:s}=Re();let o;i==="sandbox"&&(o=mt("#i"+e));const l=i==="sandbox"?o.nodes()[0].contentDocument:document;se.debug("Before getData: ");const u=n.db.getData();se.debug("Data: ",u);const h=D1(e,i),d=n.db.getDirection();u.type=n.type,u.layoutAlgorithm=Sb(s),u.layoutAlgorithm==="dagre"&&s==="elk"&&se.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),u.direction=d,u.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,u.rankSpacing=(a==null?void 0:a.rankSpacing)||50,u.markers=["point","circle","cross"],u.diagramId=e,se.debug("REF1:",u),await s1(u,h);const f=((p=u.config.flowchart)==null?void 0:p.diagramPadding)??8;dr.insertTitle(h,"flowchartTitleText",(a==null?void 0:a.titleTopMargin)||0,n.db.getDiagramTitle()),O1(h,f,"flowchart",(a==null?void 0:a.useMaxWidth)||!1);for(const g of u.nodes){const m=mt(`#${e} [id="${g.id}"]`);if(!m||!g.link)continue;const y=l.createElementNS("http://www.w3.org/2000/svg","a");y.setAttributeNS("http://www.w3.org/2000/svg","class",g.cssClasses),y.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?y.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):g.linkTarget&&y.setAttributeNS("http://www.w3.org/2000/svg","target",g.linkTarget);const v=m.insert(function(){return y},":first-child"),b=m.select(".label-container");b&&v.append(function(){return b.node()});const x=m.select(".label");x&&v.append(function(){return x.node()})}},"draw"),R9e={getClasses:L9e,draw:N9e},lk=function(){var t=E(function(at,st,ct,ot){for(ct=ct||{},ot=at.length;ot--;ct[at[ot]]=st);return ct},"o"),e=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],a=[2,2],s=[1,13],o=[1,14],l=[1,15],u=[1,16],h=[1,23],d=[1,25],f=[1,26],p=[1,27],g=[1,49],m=[1,48],y=[1,29],v=[1,30],b=[1,31],x=[1,32],T=[1,33],w=[1,44],S=[1,46],k=[1,42],L=[1,47],_=[1,43],N=[1,50],C=[1,45],D=[1,51],P=[1,52],A=[1,34],R=[1,35],O=[1,36],M=[1,37],I=[1,57],F=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],B=[1,61],$=[1,60],V=[1,62],H=[8,9,11,75,77,78],te=[1,78],X=[1,91],ee=[1,96],re=[1,95],pe=[1,92],K=[1,88],W=[1,94],j=[1,90],Y=[1,97],Q=[1,93],ie=[1,98],J=[1,89],we=[8,9,10,11,40,75,77,78],ue=[8,9,10,11,40,46,75,77,78],ae=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],Ue=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],xe=[44,60,89,102,105,106,109,111,114,115,116],Ze=[1,121],Je=[1,122],Xe=[1,124],Pe=[1,123],We=[44,60,62,74,89,102,105,106,109,111,114,115,116],he=[1,133],Te=[1,147],Be=[1,148],ye=[1,149],Me=[1,150],Z=[1,135],fe=[1,137],U=[1,141],le=[1,142],oe=[1,143],ge=[1,144],me=[1,145],Ce=[1,146],Ie=[1,151],Ne=[1,152],et=[1,131],ut=[1,132],rt=[1,139],de=[1,134],De=[1,138],Le=[1,136],je=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],dt=[1,154],lt=[1,156],$e=[8,9,11],tt=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],Ve=[1,176],it=[1,172],ft=[1,173],Tt=[1,177],kt=[1,174],Nt=[1,175],Tr=[77,116,119],Ut=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],Lr=[10,106],br=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],mr=[1,247],nr=[1,245],nn=[1,249],Lt=[1,243],Oe=[1,244],ht=[1,246],_t=[1,248],fr=[1,250],Gr=[1,268],en=[8,9,11,106],Vr=[8,9,10,11,60,84,105,106,109,110,111,112],Wn={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:E(function(st,ct,ot,Qe,ar,ve,pa){var Ee=ve.length-1;switch(ar){case 2:this.$=[];break;case 3:(!Array.isArray(ve[Ee])||ve[Ee].length>0)&&ve[Ee-1].push(ve[Ee]),this.$=ve[Ee-1];break;case 4:case 183:this.$=ve[Ee];break;case 11:Qe.setDirection("TB"),this.$="TB";break;case 12:Qe.setDirection(ve[Ee-1]),this.$=ve[Ee-1];break;case 27:this.$=ve[Ee-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=Qe.addSubGraph(ve[Ee-6],ve[Ee-1],ve[Ee-4]);break;case 34:this.$=Qe.addSubGraph(ve[Ee-3],ve[Ee-1],ve[Ee-3]);break;case 35:this.$=Qe.addSubGraph(void 0,ve[Ee-1],void 0);break;case 37:this.$=ve[Ee].trim(),Qe.setAccTitle(this.$);break;case 38:case 39:this.$=ve[Ee].trim(),Qe.setAccDescription(this.$);break;case 43:this.$=ve[Ee-1]+ve[Ee];break;case 44:this.$=ve[Ee];break;case 45:Qe.addVertex(ve[Ee-1][ve[Ee-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ve[Ee]),Qe.addLink(ve[Ee-3].stmt,ve[Ee-1],ve[Ee-2]),this.$={stmt:ve[Ee-1],nodes:ve[Ee-1].concat(ve[Ee-3].nodes)};break;case 46:Qe.addLink(ve[Ee-2].stmt,ve[Ee],ve[Ee-1]),this.$={stmt:ve[Ee],nodes:ve[Ee].concat(ve[Ee-2].nodes)};break;case 47:Qe.addLink(ve[Ee-3].stmt,ve[Ee-1],ve[Ee-2]),this.$={stmt:ve[Ee-1],nodes:ve[Ee-1].concat(ve[Ee-3].nodes)};break;case 48:this.$={stmt:ve[Ee-1],nodes:ve[Ee-1]};break;case 49:Qe.addVertex(ve[Ee-1][ve[Ee-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ve[Ee]),this.$={stmt:ve[Ee-1],nodes:ve[Ee-1],shapeData:ve[Ee]};break;case 50:this.$={stmt:ve[Ee],nodes:ve[Ee]};break;case 51:this.$=[ve[Ee]];break;case 52:Qe.addVertex(ve[Ee-5][ve[Ee-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ve[Ee-4]),this.$=ve[Ee-5].concat(ve[Ee]);break;case 53:this.$=ve[Ee-4].concat(ve[Ee]);break;case 54:this.$=ve[Ee];break;case 55:this.$=ve[Ee-2],Qe.setClass(ve[Ee-2],ve[Ee]);break;case 56:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"square");break;case 57:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"doublecircle");break;case 58:this.$=ve[Ee-5],Qe.addVertex(ve[Ee-5],ve[Ee-2],"circle");break;case 59:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"ellipse");break;case 60:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"stadium");break;case 61:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"subroutine");break;case 62:this.$=ve[Ee-7],Qe.addVertex(ve[Ee-7],ve[Ee-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ve[Ee-5],ve[Ee-3]]]));break;case 63:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"cylinder");break;case 64:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"round");break;case 65:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"diamond");break;case 66:this.$=ve[Ee-5],Qe.addVertex(ve[Ee-5],ve[Ee-2],"hexagon");break;case 67:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"odd");break;case 68:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"trapezoid");break;case 69:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"inv_trapezoid");break;case 70:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"lean_right");break;case 71:this.$=ve[Ee-3],Qe.addVertex(ve[Ee-3],ve[Ee-1],"lean_left");break;case 72:this.$=ve[Ee],Qe.addVertex(ve[Ee]);break;case 73:ve[Ee-1].text=ve[Ee],this.$=ve[Ee-1];break;case 74:case 75:ve[Ee-2].text=ve[Ee-1],this.$=ve[Ee-2];break;case 76:this.$=ve[Ee];break;case 77:var Fr=Qe.destructLink(ve[Ee],ve[Ee-2]);this.$={type:Fr.type,stroke:Fr.stroke,length:Fr.length,text:ve[Ee-1]};break;case 78:var Fr=Qe.destructLink(ve[Ee],ve[Ee-2]);this.$={type:Fr.type,stroke:Fr.stroke,length:Fr.length,text:ve[Ee-1],id:ve[Ee-3]};break;case 79:this.$={text:ve[Ee],type:"text"};break;case 80:this.$={text:ve[Ee-1].text+""+ve[Ee],type:ve[Ee-1].type};break;case 81:this.$={text:ve[Ee],type:"string"};break;case 82:this.$={text:ve[Ee],type:"markdown"};break;case 83:var Fr=Qe.destructLink(ve[Ee]);this.$={type:Fr.type,stroke:Fr.stroke,length:Fr.length};break;case 84:var Fr=Qe.destructLink(ve[Ee]);this.$={type:Fr.type,stroke:Fr.stroke,length:Fr.length,id:ve[Ee-1]};break;case 85:this.$=ve[Ee-1];break;case 86:this.$={text:ve[Ee],type:"text"};break;case 87:this.$={text:ve[Ee-1].text+""+ve[Ee],type:ve[Ee-1].type};break;case 88:this.$={text:ve[Ee],type:"string"};break;case 89:case 104:this.$={text:ve[Ee],type:"markdown"};break;case 101:this.$={text:ve[Ee],type:"text"};break;case 102:this.$={text:ve[Ee-1].text+""+ve[Ee],type:ve[Ee-1].type};break;case 103:this.$={text:ve[Ee],type:"text"};break;case 105:this.$=ve[Ee-4],Qe.addClass(ve[Ee-2],ve[Ee]);break;case 106:this.$=ve[Ee-4],Qe.setClass(ve[Ee-2],ve[Ee]);break;case 107:case 115:this.$=ve[Ee-1],Qe.setClickEvent(ve[Ee-1],ve[Ee]);break;case 108:case 116:this.$=ve[Ee-3],Qe.setClickEvent(ve[Ee-3],ve[Ee-2]),Qe.setTooltip(ve[Ee-3],ve[Ee]);break;case 109:this.$=ve[Ee-2],Qe.setClickEvent(ve[Ee-2],ve[Ee-1],ve[Ee]);break;case 110:this.$=ve[Ee-4],Qe.setClickEvent(ve[Ee-4],ve[Ee-3],ve[Ee-2]),Qe.setTooltip(ve[Ee-4],ve[Ee]);break;case 111:this.$=ve[Ee-2],Qe.setLink(ve[Ee-2],ve[Ee]);break;case 112:this.$=ve[Ee-4],Qe.setLink(ve[Ee-4],ve[Ee-2]),Qe.setTooltip(ve[Ee-4],ve[Ee]);break;case 113:this.$=ve[Ee-4],Qe.setLink(ve[Ee-4],ve[Ee-2],ve[Ee]);break;case 114:this.$=ve[Ee-6],Qe.setLink(ve[Ee-6],ve[Ee-4],ve[Ee]),Qe.setTooltip(ve[Ee-6],ve[Ee-2]);break;case 117:this.$=ve[Ee-1],Qe.setLink(ve[Ee-1],ve[Ee]);break;case 118:this.$=ve[Ee-3],Qe.setLink(ve[Ee-3],ve[Ee-2]),Qe.setTooltip(ve[Ee-3],ve[Ee]);break;case 119:this.$=ve[Ee-3],Qe.setLink(ve[Ee-3],ve[Ee-2],ve[Ee]);break;case 120:this.$=ve[Ee-5],Qe.setLink(ve[Ee-5],ve[Ee-4],ve[Ee]),Qe.setTooltip(ve[Ee-5],ve[Ee-2]);break;case 121:this.$=ve[Ee-4],Qe.addVertex(ve[Ee-2],void 0,void 0,ve[Ee]);break;case 122:this.$=ve[Ee-4],Qe.updateLink([ve[Ee-2]],ve[Ee]);break;case 123:this.$=ve[Ee-4],Qe.updateLink(ve[Ee-2],ve[Ee]);break;case 124:this.$=ve[Ee-8],Qe.updateLinkInterpolate([ve[Ee-6]],ve[Ee-2]),Qe.updateLink([ve[Ee-6]],ve[Ee]);break;case 125:this.$=ve[Ee-8],Qe.updateLinkInterpolate(ve[Ee-6],ve[Ee-2]),Qe.updateLink(ve[Ee-6],ve[Ee]);break;case 126:this.$=ve[Ee-6],Qe.updateLinkInterpolate([ve[Ee-4]],ve[Ee]);break;case 127:this.$=ve[Ee-6],Qe.updateLinkInterpolate(ve[Ee-4],ve[Ee]);break;case 128:case 130:this.$=[ve[Ee]];break;case 129:case 131:ve[Ee-2].push(ve[Ee]),this.$=ve[Ee-2];break;case 133:this.$=ve[Ee-1]+ve[Ee];break;case 181:this.$=ve[Ee];break;case 182:this.$=ve[Ee-1]+""+ve[Ee];break;case 184:this.$=ve[Ee-1]+""+ve[Ee];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:e,10:r,12:n},{1:[3]},t(i,a,{5:6}),{4:7,9:e,10:r,12:n},{4:8,9:e,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,33:24,34:d,36:f,38:p,42:28,43:38,44:g,45:39,47:40,60:m,84:y,85:v,86:b,87:x,88:T,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P,121:A,122:R,123:O,124:M},t(i,[2,9]),t(i,[2,10]),t(i,[2,11]),{8:[1,54],9:[1,55],10:I,15:53,18:56},t(F,[2,3]),t(F,[2,4]),t(F,[2,5]),t(F,[2,6]),t(F,[2,7]),t(F,[2,8]),{8:B,9:$,11:V,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:B,9:$,11:V,21:67},{8:B,9:$,11:V,21:68},{8:B,9:$,11:V,21:69},{8:B,9:$,11:V,21:70},{8:B,9:$,11:V,21:71},{8:B,9:$,10:[1,72],11:V,21:73},t(F,[2,36]),{35:[1,74]},{37:[1,75]},t(F,[2,39]),t(H,[2,50],{18:76,39:77,10:I,40:te}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:X,44:ee,60:re,80:[1,86],89:pe,95:[1,83],97:[1,84],101:85,105:K,106:W,109:j,111:Y,114:Q,115:ie,116:J,120:87},t(F,[2,185]),t(F,[2,186]),t(F,[2,187]),t(F,[2,188]),t(we,[2,51]),t(we,[2,54],{46:[1,99]}),t(ue,[2,72],{113:112,29:[1,100],44:g,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:m,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:w,102:S,105:k,106:L,109:_,111:N,114:C,115:D,116:P}),t(ae,[2,181]),t(ae,[2,142]),t(ae,[2,143]),t(ae,[2,144]),t(ae,[2,145]),t(ae,[2,146]),t(ae,[2,147]),t(ae,[2,148]),t(ae,[2,149]),t(ae,[2,150]),t(ae,[2,151]),t(ae,[2,152]),t(i,[2,12]),t(i,[2,18]),t(i,[2,19]),{9:[1,113]},t(Ue,[2,26],{18:114,10:I}),t(F,[2,27]),{42:115,43:38,44:g,45:39,47:40,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P},t(F,[2,40]),t(F,[2,41]),t(F,[2,42]),t(xe,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:Ze,81:Je,116:Xe,119:Pe},{75:[1,125],77:[1,126]},t(We,[2,83]),t(F,[2,28]),t(F,[2,29]),t(F,[2,30]),t(F,[2,31]),t(F,[2,32]),{10:he,12:Te,14:Be,27:ye,28:127,32:Me,44:Z,60:fe,75:U,80:[1,129],81:[1,130],83:140,84:le,85:oe,86:ge,87:me,88:Ce,89:Ie,90:Ne,91:128,105:et,109:ut,111:rt,114:de,115:De,116:Le},t(je,a,{5:153}),t(F,[2,37]),t(F,[2,38]),t(H,[2,48],{44:dt}),t(H,[2,49],{18:155,10:I,40:lt}),t(we,[2,44]),{44:g,47:157,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P},{102:[1,158],103:159,105:[1,160]},{44:g,47:161,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P},{44:g,47:162,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P},t($e,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},t($e,[2,115],{120:167,10:[1,166],14:X,44:ee,60:re,89:pe,105:K,106:W,109:j,111:Y,114:Q,115:ie,116:J}),t($e,[2,117],{10:[1,168]}),t(tt,[2,183]),t(tt,[2,170]),t(tt,[2,171]),t(tt,[2,172]),t(tt,[2,173]),t(tt,[2,174]),t(tt,[2,175]),t(tt,[2,176]),t(tt,[2,177]),t(tt,[2,178]),t(tt,[2,179]),t(tt,[2,180]),{44:g,47:169,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P},{30:170,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:178,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:180,50:[1,179],67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:181,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:182,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:183,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{109:[1,184]},{30:185,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:186,65:[1,187],67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:188,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:189,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{30:190,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},t(ae,[2,182]),t(i,[2,20]),t(Ue,[2,25]),t(H,[2,46],{39:191,18:192,10:I,40:te}),t(xe,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{77:[1,196],79:197,116:Xe,119:Pe},t(Tr,[2,79]),t(Tr,[2,81]),t(Tr,[2,82]),t(Tr,[2,168]),t(Tr,[2,169]),{76:198,79:120,80:Ze,81:Je,116:Xe,119:Pe},t(We,[2,84]),{8:B,9:$,10:he,11:V,12:Te,14:Be,21:200,27:ye,29:[1,199],32:Me,44:Z,60:fe,75:U,83:140,84:le,85:oe,86:ge,87:me,88:Ce,89:Ie,90:Ne,91:201,105:et,109:ut,111:rt,114:de,115:De,116:Le},t(Ut,[2,101]),t(Ut,[2,103]),t(Ut,[2,104]),t(Ut,[2,157]),t(Ut,[2,158]),t(Ut,[2,159]),t(Ut,[2,160]),t(Ut,[2,161]),t(Ut,[2,162]),t(Ut,[2,163]),t(Ut,[2,164]),t(Ut,[2,165]),t(Ut,[2,166]),t(Ut,[2,167]),t(Ut,[2,90]),t(Ut,[2,91]),t(Ut,[2,92]),t(Ut,[2,93]),t(Ut,[2,94]),t(Ut,[2,95]),t(Ut,[2,96]),t(Ut,[2,97]),t(Ut,[2,98]),t(Ut,[2,99]),t(Ut,[2,100]),{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,202],33:24,34:d,36:f,38:p,42:28,43:38,44:g,45:39,47:40,60:m,84:y,85:v,86:b,87:x,88:T,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P,121:A,122:R,123:O,124:M},{10:I,18:203},{44:[1,204]},t(we,[2,43]),{10:[1,205],44:g,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:112,114:C,115:D,116:P},{10:[1,206]},{10:[1,207],106:[1,208]},t(Lr,[2,128]),{10:[1,209],44:g,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:112,114:C,115:D,116:P},{10:[1,210],44:g,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:112,114:C,115:D,116:P},{80:[1,211]},t($e,[2,109],{10:[1,212]}),t($e,[2,111],{10:[1,213]}),{80:[1,214]},t(tt,[2,184]),{80:[1,215],98:[1,216]},t(we,[2,55],{113:112,44:g,60:m,89:w,102:S,105:k,106:L,109:_,111:N,114:C,115:D,116:P}),{31:[1,217],67:Ve,82:218,116:Tt,117:kt,118:Nt},t(br,[2,86]),t(br,[2,88]),t(br,[2,89]),t(br,[2,153]),t(br,[2,154]),t(br,[2,155]),t(br,[2,156]),{49:[1,219],67:Ve,82:218,116:Tt,117:kt,118:Nt},{30:220,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{51:[1,221],67:Ve,82:218,116:Tt,117:kt,118:Nt},{53:[1,222],67:Ve,82:218,116:Tt,117:kt,118:Nt},{55:[1,223],67:Ve,82:218,116:Tt,117:kt,118:Nt},{57:[1,224],67:Ve,82:218,116:Tt,117:kt,118:Nt},{60:[1,225]},{64:[1,226],67:Ve,82:218,116:Tt,117:kt,118:Nt},{66:[1,227],67:Ve,82:218,116:Tt,117:kt,118:Nt},{30:228,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},{31:[1,229],67:Ve,82:218,116:Tt,117:kt,118:Nt},{67:Ve,69:[1,230],71:[1,231],82:218,116:Tt,117:kt,118:Nt},{67:Ve,69:[1,233],71:[1,232],82:218,116:Tt,117:kt,118:Nt},t(H,[2,45],{18:155,10:I,40:lt}),t(H,[2,47],{44:dt}),t(xe,[2,75]),t(xe,[2,74]),{62:[1,234],67:Ve,82:218,116:Tt,117:kt,118:Nt},t(xe,[2,77]),t(Tr,[2,80]),{77:[1,235],79:197,116:Xe,119:Pe},{30:236,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},t(je,a,{5:237}),t(Ut,[2,102]),t(F,[2,35]),{43:238,44:g,45:39,47:40,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P},{10:I,18:239},{10:mr,60:nr,84:nn,92:240,105:Lt,107:241,108:242,109:Oe,110:ht,111:_t,112:fr},{10:mr,60:nr,84:nn,92:251,104:[1,252],105:Lt,107:241,108:242,109:Oe,110:ht,111:_t,112:fr},{10:mr,60:nr,84:nn,92:253,104:[1,254],105:Lt,107:241,108:242,109:Oe,110:ht,111:_t,112:fr},{105:[1,255]},{10:mr,60:nr,84:nn,92:256,105:Lt,107:241,108:242,109:Oe,110:ht,111:_t,112:fr},{44:g,47:257,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P},t($e,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},t($e,[2,116]),t($e,[2,118],{10:[1,261]}),t($e,[2,119]),t(ue,[2,56]),t(br,[2,87]),t(ue,[2,57]),{51:[1,262],67:Ve,82:218,116:Tt,117:kt,118:Nt},t(ue,[2,64]),t(ue,[2,59]),t(ue,[2,60]),t(ue,[2,61]),{109:[1,263]},t(ue,[2,63]),t(ue,[2,65]),{66:[1,264],67:Ve,82:218,116:Tt,117:kt,118:Nt},t(ue,[2,67]),t(ue,[2,68]),t(ue,[2,70]),t(ue,[2,69]),t(ue,[2,71]),t([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),t(xe,[2,78]),{31:[1,265],67:Ve,82:218,116:Tt,117:kt,118:Nt},{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,266],33:24,34:d,36:f,38:p,42:28,43:38,44:g,45:39,47:40,60:m,84:y,85:v,86:b,87:x,88:T,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P,121:A,122:R,123:O,124:M},t(we,[2,53]),{43:267,44:g,45:39,47:40,60:m,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P},t($e,[2,121],{106:Gr}),t(en,[2,130],{108:269,10:mr,60:nr,84:nn,105:Lt,109:Oe,110:ht,111:_t,112:fr}),t(Vr,[2,132]),t(Vr,[2,134]),t(Vr,[2,135]),t(Vr,[2,136]),t(Vr,[2,137]),t(Vr,[2,138]),t(Vr,[2,139]),t(Vr,[2,140]),t(Vr,[2,141]),t($e,[2,122],{106:Gr}),{10:[1,270]},t($e,[2,123],{106:Gr}),{10:[1,271]},t(Lr,[2,129]),t($e,[2,105],{106:Gr}),t($e,[2,106],{113:112,44:g,60:m,89:w,102:S,105:k,106:L,109:_,111:N,114:C,115:D,116:P}),t($e,[2,110]),t($e,[2,112],{10:[1,272]}),t($e,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:B,9:$,11:V,21:277},t(F,[2,34]),t(we,[2,52]),{10:mr,60:nr,84:nn,105:Lt,107:278,108:242,109:Oe,110:ht,111:_t,112:fr},t(Vr,[2,133]),{14:X,44:ee,60:re,89:pe,101:279,105:K,106:W,109:j,111:Y,114:Q,115:ie,116:J,120:87},{14:X,44:ee,60:re,89:pe,101:280,105:K,106:W,109:j,111:Y,114:Q,115:ie,116:J,120:87},{98:[1,281]},t($e,[2,120]),t(ue,[2,58]),{30:282,67:Ve,80:it,81:ft,82:171,116:Tt,117:kt,118:Nt},t(ue,[2,66]),t(je,a,{5:283}),t(en,[2,131],{108:269,10:mr,60:nr,84:nn,105:Lt,109:Oe,110:ht,111:_t,112:fr}),t($e,[2,126],{120:167,10:[1,284],14:X,44:ee,60:re,89:pe,105:K,106:W,109:j,111:Y,114:Q,115:ie,116:J}),t($e,[2,127],{120:167,10:[1,285],14:X,44:ee,60:re,89:pe,105:K,106:W,109:j,111:Y,114:Q,115:ie,116:J}),t($e,[2,114]),{31:[1,286],67:Ve,82:218,116:Tt,117:kt,118:Nt},{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,287],33:24,34:d,36:f,38:p,42:28,43:38,44:g,45:39,47:40,60:m,84:y,85:v,86:b,87:x,88:T,89:w,102:S,105:k,106:L,109:_,111:N,113:41,114:C,115:D,116:P,121:A,122:R,123:O,124:M},{10:mr,60:nr,84:nn,92:288,105:Lt,107:241,108:242,109:Oe,110:ht,111:_t,112:fr},{10:mr,60:nr,84:nn,92:289,105:Lt,107:241,108:242,109:Oe,110:ht,111:_t,112:fr},t(ue,[2,62]),t(F,[2,33]),t($e,[2,124],{106:Gr}),t($e,[2,125],{106:Gr})],defaultActions:{},parseError:E(function(st,ct){if(ct.recoverable)this.trace(st);else{var ot=new Error(st);throw ot.hash=ct,ot}},"parseError"),parse:E(function(st){var ct=this,ot=[0],Qe=[],ar=[null],ve=[],pa=this.table,Ee="",Fr=0,Ry=0,bT=2,Iy=1,$7=ve.slice.call(arguments,1),ni=Object.create(this.lexer),kc={yy:{}};for(var Dy in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Dy)&&(kc.yy[Dy]=this.yy[Dy]);ni.setInput(st,kc.yy),kc.yy.lexer=ni,kc.yy.parser=this,typeof ni.yylloc>"u"&&(ni.yylloc={});var Ou=ni.yylloc;ve.push(Ou);var xT=ni.options&&ni.options.ranges;typeof kc.yy.parseError=="function"?this.parseError=kc.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function no(Pt){ot.length=ot.length-2*Pt,ar.length=ar.length-Pt,ve.length=ve.length-Pt}E(no,"popStack");function ET(){var Pt;return Pt=Qe.pop()||ni.lex()||Iy,typeof Pt!="number"&&(Pt instanceof Array&&(Qe=Pt,Pt=Qe.pop()),Pt=ct.symbols_[Pt]||Pt),Pt}E(ET,"lex");for(var Bi,ir,$a,Xn,$r={},Cc,Zi,_p,Mu;;){if(ir=ot[ot.length-1],this.defaultActions[ir]?$a=this.defaultActions[ir]:((Bi===null||typeof Bi>"u")&&(Bi=ET()),$a=pa[ir]&&pa[ir][Bi]),typeof $a>"u"||!$a.length||!$a[0]){var Ot="";Mu=[];for(Cc in pa[ir])this.terminals_[Cc]&&Cc>bT&&Mu.push("'"+this.terminals_[Cc]+"'");ni.showPosition?Ot="Parse error on line "+(Fr+1)+`:
`+ni.showPosition()+`
Expecting `+Mu.join(", ")+", got '"+(this.terminals_[Bi]||Bi)+"'":Ot="Parse error on line "+(Fr+1)+": Unexpected "+(Bi==Iy?"end of input":"'"+(this.terminals_[Bi]||Bi)+"'"),this.parseError(Ot,{text:ni.match,token:this.terminals_[Bi]||Bi,line:ni.yylineno,loc:Ou,expected:Mu})}if($a[0]instanceof Array&&$a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ir+", token: "+Bi);switch($a[0]){case 1:ot.push(Bi),ar.push(ni.yytext),ve.push(ni.yylloc),ot.push($a[1]),Bi=null,Ry=ni.yyleng,Ee=ni.yytext,Fr=ni.yylineno,Ou=ni.yylloc;break;case 2:if(Zi=this.productions_[$a[1]][1],$r.$=ar[ar.length-Zi],$r._$={first_line:ve[ve.length-(Zi||1)].first_line,last_line:ve[ve.length-1].last_line,first_column:ve[ve.length-(Zi||1)].first_column,last_column:ve[ve.length-1].last_column},xT&&($r._$.range=[ve[ve.length-(Zi||1)].range[0],ve[ve.length-1].range[1]]),Xn=this.performAction.apply($r,[Ee,Ry,Fr,kc.yy,$a[1],ar,ve].concat($7)),typeof Xn<"u")return Xn;Zi&&(ot=ot.slice(0,-1*Zi*2),ar=ar.slice(0,-1*Zi),ve=ve.slice(0,-1*Zi)),ot.push(this.productions_[$a[1]][0]),ar.push($r.$),ve.push($r._$),_p=pa[ot[ot.length-2]][ot[ot.length-1]],ot.push(_p);break;case 3:return!0}}return!0},"parse")},Yn=function(){var at={EOF:1,parseError:E(function(ct,ot){if(this.yy.parser)this.yy.parser.parseError(ct,ot);else throw new Error(ct)},"parseError"),setInput:E(function(st,ct){return this.yy=ct||this.yy||{},this._input=st,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var st=this._input[0];this.yytext+=st,this.yyleng++,this.offset++,this.match+=st,this.matched+=st;var ct=st.match(/(?:\r\n?|\n).*/g);return ct?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),st},"input"),unput:E(function(st){var ct=st.length,ot=st.split(/(?:\r\n?|\n)/g);this._input=st+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ct),this.offset-=ct;var Qe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ot.length-1&&(this.yylineno-=ot.length-1);var ar=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ot?(ot.length===Qe.length?this.yylloc.first_column:0)+Qe[Qe.length-ot.length].length-ot[0].length:this.yylloc.first_column-ct},this.options.ranges&&(this.yylloc.range=[ar[0],ar[0]+this.yyleng-ct]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(st){this.unput(this.match.slice(st))},"less"),pastInput:E(function(){var st=this.matched.substr(0,this.matched.length-this.match.length);return(st.length>20?"...":"")+st.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var st=this.match;return st.length<20&&(st+=this._input.substr(0,20-st.length)),(st.substr(0,20)+(st.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var st=this.pastInput(),ct=new Array(st.length+1).join("-");return st+this.upcomingInput()+`
`+ct+"^"},"showPosition"),test_match:E(function(st,ct){var ot,Qe,ar;if(this.options.backtrack_lexer&&(ar={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ar.yylloc.range=this.yylloc.range.slice(0))),Qe=st[0].match(/(?:\r\n?|\n).*/g),Qe&&(this.yylineno+=Qe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Qe?Qe[Qe.length-1].length-Qe[Qe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+st[0].length},this.yytext+=st[0],this.match+=st[0],this.matches=st,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(st[0].length),this.matched+=st[0],ot=this.performAction.call(this,this.yy,this,ct,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ot)return ot;if(this._backtrack){for(var ve in ar)this[ve]=ar[ve];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var st,ct,ot,Qe;this._more||(this.yytext="",this.match="");for(var ar=this._currentRules(),ve=0;ve<ar.length;ve++)if(ot=this._input.match(this.rules[ar[ve]]),ot&&(!ct||ot[0].length>ct[0].length)){if(ct=ot,Qe=ve,this.options.backtrack_lexer){if(st=this.test_match(ot,ar[ve]),st!==!1)return st;if(this._backtrack){ct=!1;continue}else return!1}else if(!this.options.flex)break}return ct?(st=this.test_match(ct,ar[Qe]),st!==!1?st:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var ct=this.next();return ct||this.lex()},"lex"),begin:E(function(ct){this.conditionStack.push(ct)},"begin"),popState:E(function(){var ct=this.conditionStack.length-1;return ct>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(ct){return ct=this.conditionStack.length-1-Math.abs(ct||0),ct>=0?this.conditionStack[ct]:"INITIAL"},"topState"),pushState:E(function(ct){this.begin(ct)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:E(function(ct,ot,Qe,ar){switch(Qe){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),ot.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const ve=/\n\s*/g;return ot.yytext=ot.yytext.replace(ve,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:return ct.lex.firstGraph()&&this.begin("dir"),12;case 36:return ct.lex.firstGraph()&&this.begin("dir"),12;case 37:return ct.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;case 69:return this.pushState("edgeText"),75;case 70:return 119;case 71:return this.popState(),77;case 72:return this.pushState("thickEdgeText"),75;case 73:return 119;case 74:return this.popState(),77;case 75:return this.pushState("dottedEdgeText"),75;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;case 81:return this.popState(),55;case 82:return this.pushState("text"),54;case 83:return this.popState(),57;case 84:return this.pushState("text"),56;case 85:return 58;case 86:return this.pushState("text"),67;case 87:return this.popState(),64;case 88:return this.pushState("text"),63;case 89:return this.popState(),49;case 90:return this.pushState("text"),48;case 91:return this.popState(),69;case 92:return this.popState(),71;case 93:return 117;case 94:return this.pushState("trapText"),68;case 95:return this.pushState("trapText"),70;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;case 108:return this.pushState("text"),62;case 109:return this.popState(),51;case 110:return this.pushState("text"),50;case 111:return this.popState(),31;case 112:return this.pushState("text"),29;case 113:return this.popState(),66;case 114:return this.pushState("text"),65;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return at}();Wn.lexer=Yn;function Qi(){this.yy={}}return E(Qi,"Parser"),Qi.prototype=Wn,Wn.Parser=Qi,new Qi}();lk.parser=lk;var yV=lk,vV=Object.assign({},yV);vV.parse=t=>{const e=t.replace(/}\s*\n/g,`}
`);return yV.parse(e)};var I9e=vV,D9e=E((t,e)=>{const r=sw,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return zc(n,i,a,e)},"fade"),O9e=E(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${t.lineColor} !important;
    stroke-width: 0;
    stroke: ${t.lineColor};
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${D9e(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }
  ${I1()}
`,"getStyles"),M9e=O9e,P9e={parser:I9e,get db(){return new A9e},renderer:R9e,styles:M9e,init:E(t=>{t.flowchart||(t.flowchart={}),t.layout&&kw({layout:t.layout}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,kw({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}})},"init")};const ck=Object.freeze(Object.defineProperty({__proto__:null,diagram:P9e},Symbol.toStringTag,{value:"Module"}));var uk=function(){var t=E(function(Y,Q,ie,J){for(ie=ie||{},J=Y.length;J--;ie[Y[J]]=Q);return ie},"o"),e=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],r=[1,10],n=[1,11],i=[1,12],a=[1,13],s=[1,20],o=[1,21],l=[1,22],u=[1,23],h=[1,24],d=[1,19],f=[1,25],p=[1,26],g=[1,18],m=[1,33],y=[1,34],v=[1,35],b=[1,36],x=[1,37],T=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],w=[1,42],S=[1,43],k=[1,52],L=[40,50,68,69],_=[1,63],N=[1,61],C=[1,58],D=[1,62],P=[1,64],A=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],R=[63,64,65,66,67],O=[1,81],M=[1,80],I=[1,78],F=[1,79],B=[6,10,42,47],$=[6,10,13,41,42,47,48,49],V=[1,89],H=[1,88],te=[1,87],X=[19,56],ee=[1,98],re=[1,97],pe=[19,56,58,60],K={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:E(function(Q,ie,J,we,ue,ae,Ue){var xe=ae.length-1;switch(ue){case 1:break;case 2:this.$=[];break;case 3:ae[xe-1].push(ae[xe]),this.$=ae[xe-1];break;case 4:case 5:this.$=ae[xe];break;case 6:case 7:this.$=[];break;case 8:we.addEntity(ae[xe-4]),we.addEntity(ae[xe-2]),we.addRelationship(ae[xe-4],ae[xe],ae[xe-2],ae[xe-3]);break;case 9:we.addEntity(ae[xe-8]),we.addEntity(ae[xe-4]),we.addRelationship(ae[xe-8],ae[xe],ae[xe-4],ae[xe-5]),we.setClass([ae[xe-8]],ae[xe-6]),we.setClass([ae[xe-4]],ae[xe-2]);break;case 10:we.addEntity(ae[xe-6]),we.addEntity(ae[xe-2]),we.addRelationship(ae[xe-6],ae[xe],ae[xe-2],ae[xe-3]),we.setClass([ae[xe-6]],ae[xe-4]);break;case 11:we.addEntity(ae[xe-6]),we.addEntity(ae[xe-4]),we.addRelationship(ae[xe-6],ae[xe],ae[xe-4],ae[xe-5]),we.setClass([ae[xe-4]],ae[xe-2]);break;case 12:we.addEntity(ae[xe-3]),we.addAttributes(ae[xe-3],ae[xe-1]);break;case 13:we.addEntity(ae[xe-5]),we.addAttributes(ae[xe-5],ae[xe-1]),we.setClass([ae[xe-5]],ae[xe-3]);break;case 14:we.addEntity(ae[xe-2]);break;case 15:we.addEntity(ae[xe-4]),we.setClass([ae[xe-4]],ae[xe-2]);break;case 16:we.addEntity(ae[xe]);break;case 17:we.addEntity(ae[xe-2]),we.setClass([ae[xe-2]],ae[xe]);break;case 18:we.addEntity(ae[xe-6],ae[xe-4]),we.addAttributes(ae[xe-6],ae[xe-1]);break;case 19:we.addEntity(ae[xe-8],ae[xe-6]),we.addAttributes(ae[xe-8],ae[xe-1]),we.setClass([ae[xe-8]],ae[xe-3]);break;case 20:we.addEntity(ae[xe-5],ae[xe-3]);break;case 21:we.addEntity(ae[xe-7],ae[xe-5]),we.setClass([ae[xe-7]],ae[xe-2]);break;case 22:we.addEntity(ae[xe-3],ae[xe-1]);break;case 23:we.addEntity(ae[xe-5],ae[xe-3]),we.setClass([ae[xe-5]],ae[xe]);break;case 24:case 25:this.$=ae[xe].trim(),we.setAccTitle(this.$);break;case 26:case 27:this.$=ae[xe].trim(),we.setAccDescription(this.$);break;case 32:we.setDirection("TB");break;case 33:we.setDirection("BT");break;case 34:we.setDirection("RL");break;case 35:we.setDirection("LR");break;case 36:this.$=ae[xe-3],we.addClass(ae[xe-2],ae[xe-1]);break;case 37:case 38:case 56:case 64:this.$=[ae[xe]];break;case 39:case 40:this.$=ae[xe-2].concat([ae[xe]]);break;case 41:this.$=ae[xe-2],we.setClass(ae[xe-1],ae[xe]);break;case 42:this.$=ae[xe-3],we.addCssStyles(ae[xe-2],ae[xe-1]);break;case 43:this.$=[ae[xe]];break;case 44:ae[xe-2].push(ae[xe]),this.$=ae[xe-2];break;case 46:this.$=ae[xe-1]+ae[xe];break;case 54:case 76:case 77:this.$=ae[xe].replace(/"/g,"");break;case 55:case 78:this.$=ae[xe];break;case 57:ae[xe].push(ae[xe-1]),this.$=ae[xe];break;case 58:this.$={type:ae[xe-1],name:ae[xe]};break;case 59:this.$={type:ae[xe-2],name:ae[xe-1],keys:ae[xe]};break;case 60:this.$={type:ae[xe-2],name:ae[xe-1],comment:ae[xe]};break;case 61:this.$={type:ae[xe-3],name:ae[xe-2],keys:ae[xe-1],comment:ae[xe]};break;case 62:case 63:case 66:this.$=ae[xe];break;case 65:ae[xe-2].push(ae[xe]),this.$=ae[xe-2];break;case 67:this.$=ae[xe].replace(/"/g,"");break;case 68:this.$={cardA:ae[xe],relType:ae[xe-1],cardB:ae[xe-2]};break;case 69:this.$=we.Cardinality.ZERO_OR_ONE;break;case 70:this.$=we.Cardinality.ZERO_OR_MORE;break;case 71:this.$=we.Cardinality.ONE_OR_MORE;break;case 72:this.$=we.Cardinality.ONLY_ONE;break;case 73:this.$=we.Cardinality.MD_PARENT;break;case 74:this.$=we.Identification.NON_IDENTIFYING;break;case 75:this.$=we.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:r,24:n,26:i,28:a,29:14,30:15,31:16,32:17,33:s,34:o,35:l,36:u,37:h,40:d,43:f,44:p,50:g},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:27,11:9,22:r,24:n,26:i,28:a,29:14,30:15,31:16,32:17,33:s,34:o,35:l,36:u,37:h,40:d,43:f,44:p,50:g},t(e,[2,5]),t(e,[2,6]),t(e,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:m,64:y,65:v,66:b,67:x}),{23:[1,38]},{25:[1,39]},{27:[1,40]},t(e,[2,27]),t(e,[2,28]),t(e,[2,29]),t(e,[2,30]),t(e,[2,31]),t(T,[2,54]),t(T,[2,55]),t(e,[2,32]),t(e,[2,33]),t(e,[2,34]),t(e,[2,35]),{16:41,40:w,41:S},{16:44,40:w,41:S},{16:45,40:w,41:S},t(e,[2,4]),{11:46,40:d,50:g},{16:47,40:w,41:S},{18:48,19:[1,49],51:50,52:51,56:k},{11:53,40:d,50:g},{62:54,68:[1,55],69:[1,56]},t(L,[2,69]),t(L,[2,70]),t(L,[2,71]),t(L,[2,72]),t(L,[2,73]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),{13:_,38:57,41:N,42:C,45:59,46:60,48:D,49:P},t(A,[2,37]),t(A,[2,38]),{16:65,40:w,41:S,42:C},{13:_,38:66,41:N,42:C,45:59,46:60,48:D,49:P},{13:[1,67],15:[1,68]},t(e,[2,17],{61:32,12:69,17:[1,70],42:C,63:m,64:y,65:v,66:b,67:x}),{19:[1,71]},t(e,[2,14]),{18:72,19:[2,56],51:50,52:51,56:k},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:m,64:y,65:v,66:b,67:x},t(R,[2,74]),t(R,[2,75]),{6:O,10:M,39:77,42:I,47:F},{40:[1,82],41:[1,83]},t(B,[2,43],{46:84,13:_,41:N,48:D,49:P}),t($,[2,45]),t($,[2,50]),t($,[2,51]),t($,[2,52]),t($,[2,53]),t(e,[2,41],{42:C}),{6:O,10:M,39:85,42:I,47:F},{14:86,40:V,50:H,70:te},{16:90,40:w,41:S},{11:91,40:d,50:g},{18:92,19:[1,93],51:50,52:51,56:k},t(e,[2,12]),{19:[2,57]},t(X,[2,58],{54:94,55:95,57:96,59:ee,60:re}),t([19,56,59,60],[2,63]),t(e,[2,22],{15:[1,100],17:[1,99]}),t([40,50],[2,68]),t(e,[2,36]),{13:_,41:N,45:101,46:60,48:D,49:P},t(e,[2,47]),t(e,[2,48]),t(e,[2,49]),t(A,[2,39]),t(A,[2,40]),t($,[2,46]),t(e,[2,42]),t(e,[2,8]),t(e,[2,76]),t(e,[2,77]),t(e,[2,78]),{13:[1,102],42:C},{13:[1,104],15:[1,103]},{19:[1,105]},t(e,[2,15]),t(X,[2,59],{55:106,58:[1,107],60:re}),t(X,[2,60]),t(pe,[2,64]),t(X,[2,67]),t(pe,[2,66]),{18:108,19:[1,109],51:50,52:51,56:k},{16:110,40:w,41:S},t(B,[2,44],{46:84,13:_,41:N,48:D,49:P}),{14:111,40:V,50:H,70:te},{16:112,40:w,41:S},{14:113,40:V,50:H,70:te},t(e,[2,13]),t(X,[2,61]),{57:114,59:ee},{19:[1,115]},t(e,[2,20]),t(e,[2,23],{17:[1,116],42:C}),t(e,[2,11]),{13:[1,117],42:C},t(e,[2,10]),t(pe,[2,65]),t(e,[2,18]),{18:118,19:[1,119],51:50,52:51,56:k},{14:120,40:V,50:H,70:te},{19:[1,121]},t(e,[2,21]),t(e,[2,9]),t(e,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:E(function(Q,ie){if(ie.recoverable)this.trace(Q);else{var J=new Error(Q);throw J.hash=ie,J}},"parseError"),parse:E(function(Q){var ie=this,J=[0],we=[],ue=[null],ae=[],Ue=this.table,xe="",Ze=0,Je=0,Xe=2,Pe=1,We=ae.slice.call(arguments,1),he=Object.create(this.lexer),Te={yy:{}};for(var Be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Be)&&(Te.yy[Be]=this.yy[Be]);he.setInput(Q,Te.yy),Te.yy.lexer=he,Te.yy.parser=this,typeof he.yylloc>"u"&&(he.yylloc={});var ye=he.yylloc;ae.push(ye);var Me=he.options&&he.options.ranges;typeof Te.yy.parseError=="function"?this.parseError=Te.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Z(rt){J.length=J.length-2*rt,ue.length=ue.length-rt,ae.length=ae.length-rt}E(Z,"popStack");function fe(){var rt;return rt=we.pop()||he.lex()||Pe,typeof rt!="number"&&(rt instanceof Array&&(we=rt,rt=we.pop()),rt=ie.symbols_[rt]||rt),rt}E(fe,"lex");for(var U,le,oe,ge,me={},Ce,Ie,Ne,et;;){if(le=J[J.length-1],this.defaultActions[le]?oe=this.defaultActions[le]:((U===null||typeof U>"u")&&(U=fe()),oe=Ue[le]&&Ue[le][U]),typeof oe>"u"||!oe.length||!oe[0]){var ut="";et=[];for(Ce in Ue[le])this.terminals_[Ce]&&Ce>Xe&&et.push("'"+this.terminals_[Ce]+"'");he.showPosition?ut="Parse error on line "+(Ze+1)+`:
`+he.showPosition()+`
Expecting `+et.join(", ")+", got '"+(this.terminals_[U]||U)+"'":ut="Parse error on line "+(Ze+1)+": Unexpected "+(U==Pe?"end of input":"'"+(this.terminals_[U]||U)+"'"),this.parseError(ut,{text:he.match,token:this.terminals_[U]||U,line:he.yylineno,loc:ye,expected:et})}if(oe[0]instanceof Array&&oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+le+", token: "+U);switch(oe[0]){case 1:J.push(U),ue.push(he.yytext),ae.push(he.yylloc),J.push(oe[1]),U=null,Je=he.yyleng,xe=he.yytext,Ze=he.yylineno,ye=he.yylloc;break;case 2:if(Ie=this.productions_[oe[1]][1],me.$=ue[ue.length-Ie],me._$={first_line:ae[ae.length-(Ie||1)].first_line,last_line:ae[ae.length-1].last_line,first_column:ae[ae.length-(Ie||1)].first_column,last_column:ae[ae.length-1].last_column},Me&&(me._$.range=[ae[ae.length-(Ie||1)].range[0],ae[ae.length-1].range[1]]),ge=this.performAction.apply(me,[xe,Je,Ze,Te.yy,oe[1],ue,ae].concat(We)),typeof ge<"u")return ge;Ie&&(J=J.slice(0,-1*Ie*2),ue=ue.slice(0,-1*Ie),ae=ae.slice(0,-1*Ie)),J.push(this.productions_[oe[1]][0]),ue.push(me.$),ae.push(me._$),Ne=Ue[J[J.length-2]][J[J.length-1]],J.push(Ne);break;case 3:return!0}}return!0},"parse")},W=function(){var Y={EOF:1,parseError:E(function(ie,J){if(this.yy.parser)this.yy.parser.parseError(ie,J);else throw new Error(ie)},"parseError"),setInput:E(function(Q,ie){return this.yy=ie||this.yy||{},this._input=Q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var Q=this._input[0];this.yytext+=Q,this.yyleng++,this.offset++,this.match+=Q,this.matched+=Q;var ie=Q.match(/(?:\r\n?|\n).*/g);return ie?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Q},"input"),unput:E(function(Q){var ie=Q.length,J=Q.split(/(?:\r\n?|\n)/g);this._input=Q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ie),this.offset-=ie;var we=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var ue=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===we.length?this.yylloc.first_column:0)+we[we.length-J.length].length-J[0].length:this.yylloc.first_column-ie},this.options.ranges&&(this.yylloc.range=[ue[0],ue[0]+this.yyleng-ie]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(Q){this.unput(this.match.slice(Q))},"less"),pastInput:E(function(){var Q=this.matched.substr(0,this.matched.length-this.match.length);return(Q.length>20?"...":"")+Q.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var Q=this.match;return Q.length<20&&(Q+=this._input.substr(0,20-Q.length)),(Q.substr(0,20)+(Q.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var Q=this.pastInput(),ie=new Array(Q.length+1).join("-");return Q+this.upcomingInput()+`
`+ie+"^"},"showPosition"),test_match:E(function(Q,ie){var J,we,ue;if(this.options.backtrack_lexer&&(ue={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ue.yylloc.range=this.yylloc.range.slice(0))),we=Q[0].match(/(?:\r\n?|\n).*/g),we&&(this.yylineno+=we.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:we?we[we.length-1].length-we[we.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Q[0].length},this.yytext+=Q[0],this.match+=Q[0],this.matches=Q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Q[0].length),this.matched+=Q[0],J=this.performAction.call(this,this.yy,this,ie,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var ae in ue)this[ae]=ue[ae];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Q,ie,J,we;this._more||(this.yytext="",this.match="");for(var ue=this._currentRules(),ae=0;ae<ue.length;ae++)if(J=this._input.match(this.rules[ue[ae]]),J&&(!ie||J[0].length>ie[0].length)){if(ie=J,we=ae,this.options.backtrack_lexer){if(Q=this.test_match(J,ue[ae]),Q!==!1)return Q;if(this._backtrack){ie=!1;continue}else return!1}else if(!this.options.flex)break}return ie?(Q=this.test_match(ie,ue[we]),Q!==!1?Q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var ie=this.next();return ie||this.lex()},"lex"),begin:E(function(ie){this.conditionStack.push(ie)},"begin"),popState:E(function(){var ie=this.conditionStack.length-1;return ie>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(ie){return ie=this.conditionStack.length-1-Math.abs(ie||0),ie>=0?this.conditionStack[ie]:"INITIAL"},"topState"),pushState:E(function(ie){this.begin(ie)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(ie,J,we,ue){switch(we){case 0:return this.begin("acc_title"),24;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),26;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;case 30:return J.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;case 34:return this.popState(),10;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return J.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return Y}();K.lexer=W;function j(){this.yy={}}return E(j,"Parser"),j.prototype=K,K.Parser=j,new j}();uk.parser=uk;var B9e=uk,F9e=(Y0=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=oi,this.getAccTitle=ki,this.setAccDescription=Ci,this.getAccDescription=_i,this.setDiagramTitle=Fi,this.getDiagramTitle=li,this.getConfig=E(()=>Re().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}addEntity(e,r=""){var n;return this.entities.has(e)?!((n=this.entities.get(e))!=null&&n.alias)&&r&&(this.entities.get(e).alias=r,se.info(`Add alias '${r}' to entity '${e}'`)):(this.entities.set(e,{id:`entity-${e}-${this.entities.size}`,label:e,attributes:[],alias:r,shape:"erBox",look:Re().look??"default",cssClasses:"default",cssStyles:[]}),se.info("Added new entity :",e)),this.entities.get(e)}getEntity(e){return this.entities.get(e)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(e,r){const n=this.addEntity(e);let i;for(i=r.length-1;i>=0;i--)r[i].keys||(r[i].keys=[]),r[i].comment||(r[i].comment=""),n.attributes.push(r[i]),se.debug("Added attribute ",r[i].name)}addRelationship(e,r,n,i){const a=this.entities.get(e),s=this.entities.get(n);if(!a||!s)return;const o={entityA:a.id,roleA:r,entityB:s.id,relSpec:i};this.relationships.push(o),se.debug("Added new relationship :",o)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(e){this.direction=e}getCompiledStyles(e){let r=[];for(const n of e){const i=this.classes.get(n);i!=null&&i.styles&&(r=[...r,...i.styles??[]].map(a=>a.trim())),i!=null&&i.textStyles&&(r=[...r,...i.textStyles??[]].map(a=>a.trim()))}return r}addCssStyles(e,r){for(const n of e){const i=this.entities.get(n);if(!r||!i)return;for(const a of r)i.cssStyles.push(a)}}addClass(e,r){e.forEach(n=>{let i=this.classes.get(n);i===void 0&&(i={id:n,styles:[],textStyles:[]},this.classes.set(n,i)),r&&r.forEach(function(a){if(/color/.exec(a)){const s=a.replace("fill","bgFill");i.textStyles.push(s)}i.styles.push(a)})})}setClass(e,r){for(const n of e){const i=this.entities.get(n);if(i)for(const a of r)i.cssClasses+=" "+a}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],si()}getData(){const e=[],r=[],n=Re();for(const a of this.entities.keys()){const s=this.entities.get(a);s&&(s.cssCompiledStyles=this.getCompiledStyles(s.cssClasses.split(" ")),e.push(s))}let i=0;for(const a of this.relationships){const s={id:Yg(a.entityA,a.entityB,{prefix:"id",counter:i++}),type:"normal",curve:"basis",start:a.entityA,end:a.entityB,label:a.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:a.relSpec.cardB.toLowerCase(),arrowTypeEnd:a.relSpec.cardA.toLowerCase(),pattern:a.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:n.look};r.push(s)}return{nodes:e,edges:r,other:{},config:n,direction:"TB"}}},E(Y0,"ErDB"),Y0),bV={};Fv(bV,{draw:()=>$9e});var $9e=E(async function(t,e,r,n){se.info("REF0:"),se.info("Drawing er diagram (unified)",e);const{securityLevel:i,er:a,layout:s}=Re(),o=n.db.getData(),l=D1(e,i);o.type=n.type,o.layoutAlgorithm=Sb(s),o.config.flowchart.nodeSpacing=(a==null?void 0:a.nodeSpacing)||140,o.config.flowchart.rankSpacing=(a==null?void 0:a.rankSpacing)||80,o.direction=n.db.getDirection(),o.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],o.diagramId=e,await s1(o,l),o.layoutAlgorithm==="elk"&&l.select(".edges").lower();const u=l.selectAll('[id*="-background"]');Array.from(u).length>0&&u.each(function(){const d=mt(this),p=d.attr("id").replace("-background",""),g=l.select(`#${CSS.escape(p)}`);if(!g.empty()){const m=g.attr("transform");d.attr("transform",m)}});const h=8;dr.insertTitle(l,"erDiagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),O1(l,h,"erDiagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),z9e=E((t,e)=>{const r=sw,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return zc(n,i,a,e)},"fade"),U9e=E(t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${z9e(t.tertiaryColor,.5)};
  }

  .edgeLabel .label {
    fill: ${t.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${t.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),H9e=U9e,G9e={parser:B9e,get db(){return new F9e},renderer:bV,styles:H9e};const V9e=Object.freeze(Object.defineProperty({__proto__:null,diagram:G9e},Symbol.toStringTag,{value:"Module"}));function Of(t,e){var r,n,i;t.accDescr&&((r=e.setAccDescription)==null||r.call(e,t.accDescr)),t.accTitle&&((n=e.setAccTitle)==null||n.call(e,t.accTitle)),t.title&&((i=e.setDiagramTitle)==null||i.call(e,t.title))}E(Of,"populateCommonDb");var hk=(X0=class{constructor(e){this.init=e,this.records=this.init()}reset(){this.records=this.init()}},E(X0,"ImperativeState"),X0);function ca(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function cl(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function q9e(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function dx(t){return typeof t=="object"&&t!==null&&ca(t.container)&&cl(t.reference)&&typeof t.message=="string"}class xV{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,r){return ca(e)&&this.isSubtype(e.$type,r)}isSubtype(e,r){if(e===r)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});const i=n[r];if(i!==void 0)return i;{const a=this.computeIsSubtype(e,r);return n[r]=a,a}}getAllSubTypes(e){const r=this.allSubtypes[e];if(r)return r;{const n=this.getAllTypes(),i=[];for(const a of n)this.isSubtype(a,e)&&i.push(a);return this.allSubtypes[e]=i,i}}}function M1(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function EV(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function TV(t){return M1(t)&&typeof t.fullText=="string"}class Hi{constructor(e,r){this.startFn=e,this.nextFn=r}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let r=0,n=e.next();for(;!n.done;)r++,n=e.next();return r}toArray(){const e=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&e.push(n.value);while(!n.done);return e}toSet(){return new Set(this)}toMap(e,r){const n=this.map(i=>[e?e(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(e){return new Hi(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),r=>{let n;if(!r.firstDone){do if(n=this.nextFn(r.first),!n.done)return n;while(!n.done);r.firstDone=!0}do if(n=r.iterator.next(),!n.done)return n;while(!n.done);return ks})}join(e=","){const r=this.iterator();let n="",i,a=!1;do i=r.next(),i.done||(a&&(n+=e),n+=W9e(i.value)),a=!0;while(!i.done);return n}indexOf(e,r=0){const n=this.iterator();let i=0,a=n.next();for(;!a.done;){if(i>=r&&a.value===e)return i;a=n.next(),i++}return-1}every(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(!e(n.value))return!1;n=r.next()}return!0}some(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return!0;n=r.next()}return!1}forEach(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)e(i.value,n),i=r.next(),n++}map(e){return new Hi(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?ks:{done:!1,value:e(i)}})}filter(e){return new Hi(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&e(n.value))return n;while(!n.done);return ks})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,r){const n=this.iterator();let i=r,a=n.next();for(;!a.done;)i===void 0?i=a.value:i=e(i,a.value),a=n.next();return i}reduceRight(e,r){return this.recursiveReduce(this.iterator(),e,r)}recursiveReduce(e,r,n){const i=e.next();if(i.done)return n;const a=this.recursiveReduce(e,r,n);return a===void 0?i.value:r(a,i.value)}find(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return n.value;n=r.next()}}findIndex(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(e(i.value))return n;i=r.next(),n++}return-1}includes(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===e)return!0;n=r.next()}return!1}flatMap(e){return new Hi(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}const{done:n,value:i}=this.nextFn(r.this);if(!n){const a=e(i);if(fx(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return ks})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const r=e>1?this.flat(e-1):this;return new Hi(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}const{done:i,value:a}=r.nextFn(n.this);if(!i)if(fx(a))n.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(n.iterator);return ks})}head(){const r=this.iterator().next();if(!r.done)return r.value}tail(e=1){return new Hi(()=>{const r=this.startFn();for(let n=0;n<e;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(e){return new Hi(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>e?ks:this.nextFn(r.state)))}distinct(e){return new Hi(()=>({set:new Set,internalState:this.startFn()}),r=>{let n;do if(n=this.nextFn(r.internalState),!n.done){const i=e?e(n.value):n.value;if(!r.set.has(i))return r.set.add(i),n}while(!n.done);return ks})}exclude(e,r){const n=new Set;for(const i of e){const a=r?r(i):i;n.add(a)}return this.filter(i=>{const a=r?r(i):i;return!n.has(a)})}}function W9e(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function fx(t){return!!t&&typeof t[Symbol.iterator]=="function"}const Y9e=new Hi(()=>{},()=>ks),ks=Object.freeze({done:!0,value:void 0});function Gi(...t){if(t.length===1){const e=t[0];if(e instanceof Hi)return e;if(fx(e))return new Hi(()=>e[Symbol.iterator](),r=>r.next());if(typeof e.length=="number")return new Hi(()=>({index:0}),r=>r.index<e.length?{done:!1,value:e[r.index++]}:ks)}return t.length>1?new Hi(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const r=t[e.collIndex++];fx(r)?e.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(e.array=r)}}while(e.iterator||e.array||e.collIndex<t.length);return ks}):Y9e}class dk extends Hi{constructor(e,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[e][Symbol.iterator]()]:[r(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const s=i.iterators[i.iterators.length-1].next();if(s.done)i.iterators.pop();else return i.iterators.push(r(s.value)[Symbol.iterator]()),s}return ks})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var fk;(function(t){function e(a){return a.reduce((s,o)=>s+o,0)}t.sum=e;function r(a){return a.reduce((s,o)=>s*o,0)}t.product=r;function n(a){return a.reduce((s,o)=>Math.min(s,o))}t.min=n;function i(a){return a.reduce((s,o)=>Math.max(s,o))}t.max=i})(fk||(fk={}));function pk(t){return new dk(t,e=>M1(e)?e.content:[],{includeRoot:!0})}function X9e(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function gk(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function px(t){if(!t)return;const{offset:e,end:r,range:n}=t;return{range:n,offset:e,end:r,length:r-e}}var cc;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside",t[t.Outside=5]="Outside"})(cc||(cc={}));function K9e(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<=e.start.character)return cc.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>=e.end.character)return cc.After;const r=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,n=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return r&&n?cc.Inside:r?cc.OverlapBack:n?cc.OverlapFront:cc.Outside}function j9e(t,e){return K9e(t,e)>cc.After}const Q9e=/^[\w\p{L}]$/u;function Z9e(t,e){if(t){const r=J9e(t,!0);if(r&&wV(r,e))return r;if(TV(t)){const n=t.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){const a=t.content[i];if(wV(a,e))return a}}}}function wV(t,e){return EV(t)&&e.includes(t.tokenType.name)}function J9e(t,e=!0){for(;t.container;){const r=t.container;let n=r.content.indexOf(t);for(;n>0;){n--;const i=r.content[n];if(e||!i.hidden)return i}t=r}}class SV extends Error{constructor(e,r){super(e?`${r} at ${e.range.start.line}:${e.range.start.character}`:r)}}function P1(t){throw new Error("Error! The input value was not handled.")}const gx="AbstractRule",mx="AbstractType",mk="Condition",kV="TypeDefinition",yk="ValueLiteral",B1="AbstractElement";function eRe(t){return Kr.isInstance(t,B1)}const yx="ArrayLiteral",vx="ArrayType",F1="BooleanLiteral";function tRe(t){return Kr.isInstance(t,F1)}const $1="Conjunction";function rRe(t){return Kr.isInstance(t,$1)}const z1="Disjunction";function nRe(t){return Kr.isInstance(t,z1)}const bx="Grammar",vk="GrammarImport",U1="InferredType";function CV(t){return Kr.isInstance(t,U1)}const H1="Interface";function _V(t){return Kr.isInstance(t,H1)}const bk="NamedArgument",G1="Negation";function iRe(t){return Kr.isInstance(t,G1)}const xx="NumberLiteral",Ex="Parameter",V1="ParameterReference";function aRe(t){return Kr.isInstance(t,V1)}const q1="ParserRule";function js(t){return Kr.isInstance(t,q1)}const Tx="ReferenceType",wx="ReturnType";function sRe(t){return Kr.isInstance(t,wx)}const W1="SimpleType";function oRe(t){return Kr.isInstance(t,W1)}const Sx="StringLiteral",Mf="TerminalRule";function Lh(t){return Kr.isInstance(t,Mf)}const Y1="Type";function AV(t){return Kr.isInstance(t,Y1)}const xk="TypeAttribute",kx="UnionType",X1="Action";function Cx(t){return Kr.isInstance(t,X1)}const K1="Alternatives";function LV(t){return Kr.isInstance(t,K1)}const j1="Assignment";function Nh(t){return Kr.isInstance(t,j1)}const Q1="CharacterRange";function lRe(t){return Kr.isInstance(t,Q1)}const Z1="CrossReference";function Ek(t){return Kr.isInstance(t,Z1)}const J1="EndOfFile";function cRe(t){return Kr.isInstance(t,J1)}const em="Group";function Tk(t){return Kr.isInstance(t,em)}const tm="Keyword";function Rh(t){return Kr.isInstance(t,tm)}const rm="NegatedToken";function uRe(t){return Kr.isInstance(t,rm)}const nm="RegexToken";function hRe(t){return Kr.isInstance(t,nm)}const im="RuleCall";function Ih(t){return Kr.isInstance(t,im)}const am="TerminalAlternatives";function dRe(t){return Kr.isInstance(t,am)}const sm="TerminalGroup";function fRe(t){return Kr.isInstance(t,sm)}const om="TerminalRuleCall";function pRe(t){return Kr.isInstance(t,om)}const lm="UnorderedGroup";function NV(t){return Kr.isInstance(t,lm)}const cm="UntilToken";function gRe(t){return Kr.isInstance(t,cm)}const um="Wildcard";function mRe(t){return Kr.isInstance(t,um)}class RV extends xV{getAllTypes(){return[B1,gx,mx,X1,K1,yx,vx,j1,F1,Q1,mk,$1,Z1,z1,J1,bx,vk,em,U1,H1,tm,bk,rm,G1,xx,Ex,V1,q1,Tx,nm,wx,im,W1,Sx,am,sm,Mf,om,Y1,xk,kV,kx,lm,cm,yk,um]}computeIsSubtype(e,r){switch(e){case X1:case K1:case j1:case Q1:case Z1:case J1:case em:case tm:case rm:case nm:case im:case am:case sm:case om:case lm:case cm:case um:return this.isSubtype(B1,r);case yx:case xx:case Sx:return this.isSubtype(yk,r);case vx:case Tx:case W1:case kx:return this.isSubtype(kV,r);case F1:return this.isSubtype(mk,r)||this.isSubtype(yk,r);case $1:case z1:case G1:case V1:return this.isSubtype(mk,r);case U1:case H1:case Y1:return this.isSubtype(mx,r);case q1:return this.isSubtype(gx,r)||this.isSubtype(mx,r);case Mf:return this.isSubtype(gx,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return mx;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return gx;case"Grammar:usedGrammars":return bx;case"NamedArgument:parameter":case"ParameterReference:parameter":return Ex;case"TerminalRuleCall:rule":return Mf;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case B1:return{name:B1,properties:[{name:"cardinality"},{name:"lookahead"}]};case yx:return{name:yx,properties:[{name:"elements",defaultValue:[]}]};case vx:return{name:vx,properties:[{name:"elementType"}]};case F1:return{name:F1,properties:[{name:"true",defaultValue:!1}]};case $1:return{name:$1,properties:[{name:"left"},{name:"right"}]};case z1:return{name:z1,properties:[{name:"left"},{name:"right"}]};case bx:return{name:bx,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case vk:return{name:vk,properties:[{name:"path"}]};case U1:return{name:U1,properties:[{name:"name"}]};case H1:return{name:H1,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case bk:return{name:bk,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case G1:return{name:G1,properties:[{name:"value"}]};case xx:return{name:xx,properties:[{name:"value"}]};case Ex:return{name:Ex,properties:[{name:"name"}]};case V1:return{name:V1,properties:[{name:"parameter"}]};case q1:return{name:q1,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case Tx:return{name:Tx,properties:[{name:"referenceType"}]};case wx:return{name:wx,properties:[{name:"name"}]};case W1:return{name:W1,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Sx:return{name:Sx,properties:[{name:"value"}]};case Mf:return{name:Mf,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case Y1:return{name:Y1,properties:[{name:"name"},{name:"type"}]};case xk:return{name:xk,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case kx:return{name:kx,properties:[{name:"types",defaultValue:[]}]};case X1:return{name:X1,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case K1:return{name:K1,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case j1:return{name:j1,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Q1:return{name:Q1,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Z1:return{name:Z1,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case J1:return{name:J1,properties:[{name:"cardinality"},{name:"lookahead"}]};case em:return{name:em,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case tm:return{name:tm,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case rm:return{name:rm,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case nm:return{name:nm,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case im:return{name:im,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case am:return{name:am,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case sm:return{name:sm,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case om:return{name:om,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case lm:return{name:lm,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case cm:return{name:cm,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case um:return{name:um,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const Kr=new RV;function yRe(t){for(const[e,r]of Object.entries(t))e.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{ca(n)&&(n.$container=t,n.$containerProperty=e,n.$containerIndex=i)}):ca(r)&&(r.$container=t,r.$containerProperty=e))}function _x(t,e){let r=t;for(;r;){if(e(r))return r;r=r.$container}}function iu(t){const r=wk(t).$document;if(!r)throw new Error("AST node has no document.");return r}function wk(t){for(;t.$container;)t=t.$container;return t}function Sk(t,e){if(!t)throw new Error("Node must be an AstNode.");const r=e==null?void 0:e.range;return new Hi(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const a=t[i];if(ca(a)){if(n.keyIndex++,IV(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;n.arrayIndex<a.length;){const s=n.arrayIndex++,o=a[s];if(ca(o)&&IV(o,r))return{done:!1,value:o}}n.arrayIndex=0}}n.keyIndex++}return ks})}function hm(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new dk(t,r=>Sk(r,e))}function Pf(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new dk(t,r=>Sk(r,e),{includeRoot:!0})}function IV(t,e){var r;if(!e)return!0;const n=(r=t.$cstNode)===null||r===void 0?void 0:r.range;return n?j9e(n,e):!1}function DV(t){return new Hi(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const r=e.keys[e.keyIndex];if(!r.startsWith("$")){const n=t[r];if(cl(n))return e.keyIndex++,{done:!1,value:{reference:n,container:t,property:r}};if(Array.isArray(n)){for(;e.arrayIndex<n.length;){const i=e.arrayIndex++,a=n[i];if(cl(a))return{done:!1,value:{reference:a,container:t,property:r,index:i}}}e.arrayIndex=0}}e.keyIndex++}return ks})}function vRe(t,e){const r=t.getTypeMetaData(e.$type),n=e;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=OV(i.defaultValue))}function OV(t){return Array.isArray(t)?[...t.map(OV)]:t}function ur(t){return t.charCodeAt(0)}function kk(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r)}):e.push(t)}function dm(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function Bf(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function bRe(){throw Error("Internal Error - Should never get here!")}function MV(t){return t.type==="Character"}const Ax=[];for(let t=ur("0");t<=ur("9");t++)Ax.push(t);const Lx=[ur("_")].concat(Ax);for(let t=ur("a");t<=ur("z");t++)Lx.push(t);for(let t=ur("A");t<=ur("Z");t++)Lx.push(t);const PV=[ur(" "),ur("\f"),ur(`
`),ur("\r"),ur("	"),ur("\v"),ur("	"),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur(" "),ur("\u2028"),ur("\u2029"),ur(" "),ur(" "),ur("　"),ur("\uFEFF")],xRe=/[0-9a-fA-F]/,Nx=/[0-9]/,ERe=/[1-9]/;class BV{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":dm(n,"global");break;case"i":dm(n,"ignoreCase");break;case"m":dm(n,"multiLine");break;case"u":dm(n,"unicode");break;case"y":dm(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){const e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}Bf(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(e)}}return bRe()}quantifier(e=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let a;this.isDigit()?(a=this.integerIncludingZero(),r={atLeast:i,atMost:a}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&r===void 0)return;Bf(r);break}if(!(e===!0&&r===void 0)&&Bf(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let e;const r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Bf(e))return e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[ur(`
`),ur("\r"),ur("\u2028"),ur("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=Ax;break;case"D":e=Ax,r=!0;break;case"s":e=PV;break;case"S":e=PV,r=!0;break;case"w":e=Lx;break;case"W":e=Lx,r=!0;break}if(Bf(e))return{type:"Set",value:e,complement:r}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=ur("\f");break;case"n":e=ur(`
`);break;case"r":e=ur("\r");break;case"t":e=ur("	");break;case"v":e=ur("\v");break}if(Bf(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:ur("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:ur(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:ur(e)}}}characterClass(){const e=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,MV(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,MV(i)){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else kk(n.value,e),e.push(ur("-")),kk(i.value,e)}else kk(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:ur("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:r};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(ERe.test(e)===!1)throw Error("Expecting a positive integer");for(;Nx.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(Nx.test(e)===!1)throw Error("Expecting an integer");for(;Nx.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:ur(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Nx.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let r="";for(let i=0;i<e;i++){const a=this.popChar();if(xRe.test(a)===!1)throw Error("Expecting a HexDecimal digits");r+=a}return{type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class Rx{visitChildren(e){for(const r in e){const n=e[r];e.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const TRe=/\r?\n/gm,wRe=new BV;class SRe extends Rx{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const r=String.fromCharCode(e.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=Ix(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(e){if(!this.multiline){const r=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}}const Ck=new SRe;function kRe(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),Ck.reset(t),Ck.visit(wRe.pattern(t)),Ck.multiline}catch{return!1}}const CRe=`\f
\r	\v              \u2028\u2029  　\uFEFF`.split("");function _k(t){const e=typeof t=="string"?new RegExp(t):t;return CRe.some(r=>e.test(r))}function Ix(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _Re(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:Ix(e)).join("")}function ARe(t,e){const r=LRe(t),n=e.match(r);return!!n&&n[0].length>0}function LRe(t){typeof t=="string"&&(t=new RegExp(t));const e=t,r=t.source;let n=0;function i(){let a="",s;function o(u){a+=r.substr(n,u),n+=u}function l(u){a+="(?:"+r.substr(n,u)+"|$)",n+=u}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":e.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":e.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=n,s=s.exec(r)||[],l(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=n,s=s.exec(r),s?o(s[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":s=n,n+=3,i(),a+=r.substr(s,n-s);break;case"<":switch(r[n+3]){case"=":case"!":s=n,n+=4,i(),a+=r.substr(s,n-s);break;default:o(r.indexOf(">",n)-n+1),a+=i()+"|$)";break}break}else o(1),a+=i()+"|$)";break;case")":return++n,a;default:l(1);break}return a}return new RegExp(i(),t.flags)}function NRe(t){return t.rules.find(e=>js(e)&&e.entry)}function RRe(t){return t.rules.filter(e=>Lh(e)&&e.hidden)}function FV(t,e){const r=new Set,n=NRe(t);if(!n)return new Set(t.rules);const i=[n].concat(RRe(t));for(const s of i)$V(s,r,e);const a=new Set;for(const s of t.rules)(r.has(s.name)||Lh(s)&&s.hidden)&&a.add(s);return a}function $V(t,e,r){e.add(t.name),hm(t).forEach(n=>{if(Ih(n)||r){const i=n.rule.ref;i&&!e.has(i.name)&&$V(i,e,r)}})}function IRe(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=UV(t.type.ref);return e==null?void 0:e.terminal}}function DRe(t){return t.hidden&&!_k(Rk(t))}function ORe(t,e){return!t||!e?[]:Ak(t,e,t.astNode,!0)}function zV(t,e,r){if(!t||!e)return;const n=Ak(t,e,t.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function Ak(t,e,r,n){if(!n){const i=_x(t.grammarSource,Nh);if(i&&i.feature===e)return[t]}return M1(t)&&t.astNode===r?t.content.flatMap(i=>Ak(i,e,r,!1)):[]}function MRe(t,e,r){if(!t)return;const n=PRe(t,e,t==null?void 0:t.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function PRe(t,e,r){if(t.astNode!==r)return[];if(Rh(t.grammarSource)&&t.grammarSource.value===e)return[t];const n=pk(t).iterator();let i;const a=[];do if(i=n.next(),!i.done){const s=i.value;s.astNode===r?Rh(s.grammarSource)&&s.grammarSource.value===e&&a.push(s):n.prune()}while(!i.done);return a}function BRe(t){var e;const r=t.astNode;for(;r===((e=t.container)===null||e===void 0?void 0:e.astNode);){const n=_x(t.grammarSource,Nh);if(n)return n;t=t.container}}function UV(t){let e=t;return CV(e)&&(Cx(e.$container)?e=e.$container.$container:js(e.$container)?e=e.$container:P1(e.$container)),HV(t,e,new Map)}function HV(t,e,r){var n;function i(a,s){let o;return _x(a,Nh)||(o=HV(s,s,r)),r.set(t,o),o}if(r.has(t))return r.get(t);r.set(t,void 0);for(const a of hm(e)){if(Nh(a)&&a.feature.toLowerCase()==="name")return r.set(t,a),a;if(Ih(a)&&js(a.rule.ref))return i(a,a.rule.ref);if(oRe(a)&&(!((n=a.typeRef)===null||n===void 0)&&n.ref))return i(a,a.typeRef.ref)}}function GV(t){return VV(t,new Set)}function VV(t,e){if(e.has(t))return!0;e.add(t);for(const r of hm(t))if(Ih(r)){if(!r.rule.ref||js(r.rule.ref)&&!VV(r.rule.ref,e))return!1}else{if(Nh(r))return!1;if(Cx(r))return!1}return!!t.definition}function Lk(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e){if(js(e))return e.name;if(_V(e)||AV(e))return e.name}}}function Nk(t){var e;if(js(t))return GV(t)?t.name:(e=Lk(t))!==null&&e!==void 0?e:t.name;if(_V(t)||AV(t)||sRe(t))return t.name;if(Cx(t)){const r=FRe(t);if(r)return r}else if(CV(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function FRe(t){var e;if(t.inferredType)return t.inferredType.name;if(!((e=t.type)===null||e===void 0)&&e.ref)return Nk(t.type.ref)}function $Re(t){var e,r,n;return Lh(t)?(r=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:"string":(n=Lk(t))!==null&&n!==void 0?n:t.name}function Rk(t){const e={s:!1,i:!1,u:!1},r=Ff(t.definition,e),n=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}const Ik=/[\s\S]/.source;function Ff(t,e){if(dRe(t))return zRe(t);if(fRe(t))return URe(t);if(lRe(t))return VRe(t);if(pRe(t)){const r=t.rule.ref;if(!r)throw new Error("Missing rule reference.");return uc(Ff(r.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}else{if(uRe(t))return GRe(t);if(gRe(t))return HRe(t);if(hRe(t)){const r=t.regex.lastIndexOf("/"),n=t.regex.substring(1,r),i=t.regex.substring(r+1);return e&&(e.i=i.includes("i"),e.s=i.includes("s"),e.u=i.includes("u")),uc(n,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}else{if(mRe(t))return uc(Ik,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`)}}}function zRe(t){return uc(t.elements.map(e=>Ff(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead})}function URe(t){return uc(t.elements.map(e=>Ff(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead})}function HRe(t){return uc(`${Ik}*?${Ff(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead})}function GRe(t){return uc(`(?!${Ff(t.terminal)})${Ik}*?`,{cardinality:t.cardinality,lookahead:t.lookahead})}function VRe(t){return t.right?uc(`[${Dk(t.left)}-${Dk(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1}):uc(Dk(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}function Dk(t){return Ix(t.value)}function uc(t,e){var r;return(e.wrap!==!1||e.lookahead)&&(t=`(${(r=e.lookahead)!==null&&r!==void 0?r:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function qRe(t){const e=[],r=t.Grammar;for(const n of r.rules)Lh(n)&&DRe(n)&&kRe(Rk(n))&&e.push(n.name);return{multilineCommentRules:e,nameRegexp:Q9e}}function Ok(t){console&&console.error&&console.error(`Error: ${t}`)}function qV(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function WV(t){const e=new Date().getTime(),r=t();return{time:new Date().getTime()-e,value:r}}function YV(t){function e(){}e.prototype=t;const r=new e;function n(){return typeof r.bar}return n(),n(),t}function WRe(t){return YRe(t)?t.LABEL:t.name}function YRe(t){return Ja(t.LABEL)&&t.LABEL!==""}class ul{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Ge(this.definition,r=>{r.accept(e)})}}class Ia extends ul{constructor(e){super([]),this.idx=1,ws(this,To(e,r=>r!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class $f extends ul{constructor(e){super(e.definition),this.orgText="",ws(this,To(e,r=>r!==void 0))}}class ts extends ul{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,ws(this,To(e,r=>r!==void 0))}}let Vi=class extends ul{constructor(e){super(e.definition),this.idx=1,ws(this,To(e,r=>r!==void 0))}};class Cs extends ul{constructor(e){super(e.definition),this.idx=1,ws(this,To(e,r=>r!==void 0))}}class _s extends ul{constructor(e){super(e.definition),this.idx=1,ws(this,To(e,r=>r!==void 0))}}class Pn extends ul{constructor(e){super(e.definition),this.idx=1,ws(this,To(e,r=>r!==void 0))}}class rs extends ul{constructor(e){super(e.definition),this.idx=1,ws(this,To(e,r=>r!==void 0))}}class ns extends ul{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,ws(this,To(e,r=>r!==void 0))}}class En{constructor(e){this.idx=1,ws(this,To(e,r=>r!==void 0))}accept(e){e.visit(this)}}function XRe(t){return Ct(t,Dx)}function Dx(t){function e(r){return Ct(r,Dx)}if(t instanceof Ia){const r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Ja(t.label)&&(r.label=t.label),r}else{if(t instanceof ts)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Vi)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Cs)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof _s)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Dx(new En({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof rs)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Dx(new En({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Pn)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof ns)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof En){const r={type:"Terminal",name:t.terminalType.name,label:WRe(t.terminalType),idx:t.idx};Ja(t.label)&&(r.terminalLabel=t.label);const n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=oc(n)?n.source:n),r}else{if(t instanceof $f)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class zf{visit(e){const r=e;switch(r.constructor){case Ia:return this.visitNonTerminal(r);case ts:return this.visitAlternative(r);case Vi:return this.visitOption(r);case Cs:return this.visitRepetitionMandatory(r);case _s:return this.visitRepetitionMandatoryWithSeparator(r);case rs:return this.visitRepetitionWithSeparator(r);case Pn:return this.visitRepetition(r);case ns:return this.visitAlternation(r);case En:return this.visitTerminal(r);case $f:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function KRe(t){return t instanceof ts||t instanceof Vi||t instanceof Pn||t instanceof Cs||t instanceof _s||t instanceof rs||t instanceof En||t instanceof $f}function Ox(t,e=[]){return t instanceof Vi||t instanceof Pn||t instanceof rs?!0:t instanceof ns?SG(t.definition,n=>Ox(n,e)):t instanceof Ia&&Na(e,t)?!1:t instanceof ul?(t instanceof Ia&&e.push(t),xo(t.definition,n=>Ox(n,e))):!1}function jRe(t){return t instanceof ns}function hl(t){if(t instanceof Ia)return"SUBRULE";if(t instanceof Vi)return"OPTION";if(t instanceof ns)return"OR";if(t instanceof Cs)return"AT_LEAST_ONE";if(t instanceof _s)return"AT_LEAST_ONE_SEP";if(t instanceof rs)return"MANY_SEP";if(t instanceof Pn)return"MANY";if(t instanceof En)return"CONSUME";throw Error("non exhaustive match")}class Mx{walk(e,r=[]){Ge(e.definition,(n,i)=>{const a=Ui(e.definition,i+1);if(n instanceof Ia)this.walkProdRef(n,a,r);else if(n instanceof En)this.walkTerminal(n,a,r);else if(n instanceof ts)this.walkFlat(n,a,r);else if(n instanceof Vi)this.walkOption(n,a,r);else if(n instanceof Cs)this.walkAtLeastOne(n,a,r);else if(n instanceof _s)this.walkAtLeastOneSep(n,a,r);else if(n instanceof rs)this.walkManySep(n,a,r);else if(n instanceof Pn)this.walkMany(n,a,r);else if(n instanceof ns)this.walkOr(n,a,r);else throw Error("non exhaustive match")})}walkTerminal(e,r,n){}walkProdRef(e,r,n){}walkFlat(e,r,n){const i=r.concat(n);this.walk(e,i)}walkOption(e,r,n){const i=r.concat(n);this.walk(e,i)}walkAtLeastOne(e,r,n){const i=[new Vi({definition:e.definition})].concat(r,n);this.walk(e,i)}walkAtLeastOneSep(e,r,n){const i=XV(e,r,n);this.walk(e,i)}walkMany(e,r,n){const i=[new Vi({definition:e.definition})].concat(r,n);this.walk(e,i)}walkManySep(e,r,n){const i=XV(e,r,n);this.walk(e,i)}walkOr(e,r,n){const i=r.concat(n);Ge(e.definition,a=>{const s=new ts({definition:[a]});this.walk(s,i)})}}function XV(t,e,r){return[new Vi({definition:[new En({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}function fm(t){if(t instanceof Ia)return fm(t.referencedRule);if(t instanceof En)return JRe(t);if(KRe(t))return QRe(t);if(jRe(t))return ZRe(t);throw Error("non exhaustive match")}function QRe(t){let e=[];const r=t.definition;let n=0,i=r.length>n,a,s=!0;for(;i&&s;)a=r[n],s=Ox(a),e=e.concat(fm(a)),n=n+1,i=r.length>n;return HS(e)}function ZRe(t){const e=Ct(t.definition,r=>fm(r));return HS(Ri(e))}function JRe(t){return[t.terminalType]}const KV="_~IN~_";class eIe extends Mx{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,n){}walkProdRef(e,r,n){const i=rIe(e.referencedRule,e.idx)+this.topProd.name,a=r.concat(n),s=new ts({definition:a}),o=fm(s);this.follows[i]=o}}function tIe(t){const e={};return Ge(t,r=>{const n=new eIe(r).startWalking();ws(e,n)}),e}function rIe(t,e){return t.name+e+KV}let Px={};const nIe=new BV;function Bx(t){const e=t.toString();if(Px.hasOwnProperty(e))return Px[e];{const r=nIe.pattern(e);return Px[e]=r,r}}function iIe(){Px={}}const jV="Complement Sets are not supported for first char optimization",Fx=`Unable to use "first char" lexer optimizations:
`;function aIe(t,e=!1){try{const r=Bx(t);return Mk(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===jV)e&&qV(`${Fx}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Ok(`${Fx}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Mk(t,e,r){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)Mk(t.value[i],e,r);break;case"Alternative":const n=t.value;for(let i=0;i<n.length;i++){const a=n[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=a;switch(s.type){case"Character":$x(s.value,e,r);break;case"Set":if(s.complement===!0)throw Error(jV);Ge(s.value,l=>{if(typeof l=="number")$x(l,e,r);else{const u=l;if(r===!0)for(let h=u.from;h<=u.to;h++)$x(h,e,r);else{for(let h=u.from;h<=u.to&&h<gm;h++)$x(h,e,r);if(u.to>=gm){const h=u.from>=gm?u.from:gm,d=u.to,f=au(h),p=au(d);for(let g=f;g<=p;g++)e[g]=g}}}});break;case"Group":Mk(s.value,e,r);break;default:throw Error("Non Exhaustive Match")}const o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&Pk(s)===!1||s.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return ln(e)}function $x(t,e,r){const n=au(t);e[n]=n,r===!0&&sIe(t,e)}function sIe(t,e){const r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){const i=au(n.charCodeAt(0));e[i]=i}else{const i=r.toLowerCase();if(i!==r){const a=au(i.charCodeAt(0));e[a]=a}}}function QV(t,e){return sc(t.value,r=>{if(typeof r=="number")return Na(e,r);{const n=r;return sc(e,i=>n.from<=i&&i<=n.to)!==void 0}})}function Pk(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Ar(t.value)?xo(t.value,Pk):Pk(t.value):!1}class oIe extends Rx{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Na(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?QV(e,this.targetCharCodes)===void 0&&(this.found=!0):QV(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function Bk(t,e){if(e instanceof RegExp){const r=Bx(e),n=new oIe(t);return n.visit(r),n.found}else return sc(e,r=>Na(t,r.charCodeAt(0)))!==void 0}const Dh="PATTERN",pm="defaultMode",zx="modes";let ZV=typeof new RegExp("(?:)").sticky=="boolean";function lIe(t,e){e=Zb(e,{useSticky:ZV,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(b,x)=>x()});const r=e.tracer;r("initCharCodeToOptimizedIndexMap",()=>{RIe()});let n;r("Reject Lexer.NA",()=>{n=rx(t,b=>b[Dh]===is.NA)});let i=!1,a;r("Transform Patterns",()=>{i=!1,a=Ct(n,b=>{const x=b[Dh];if(oc(x)){const T=x.source;return T.length===1&&T!=="^"&&T!=="$"&&T!=="."&&!x.ignoreCase?T:T.length===2&&T[0]==="\\"&&!Na(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],T[1])?T[1]:e.useSticky?eq(x):JV(x)}else{if(Hs(x))return i=!0,{exec:x};if(typeof x=="object")return i=!0,x;if(typeof x=="string"){if(x.length===1)return x;{const T=x.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(T);return e.useSticky?eq(w):JV(w)}}else throw Error("non exhaustive match")}})});let s,o,l,u,h;r("misc mapping",()=>{s=Ct(n,b=>b.tokenTypeIdx),o=Ct(n,b=>{const x=b.GROUP;if(x!==is.SKIPPED){if(Ja(x))return x;if(Xr(x))return!1;throw Error("non exhaustive match")}}),l=Ct(n,b=>{const x=b.LONGER_ALT;if(x)return Ar(x)?Ct(x,w=>xG(n,w)):[xG(n,x)]}),u=Ct(n,b=>b.PUSH_MODE),h=Ct(n,b=>Jt(b,"POP_MODE"))});let d;r("Line Terminator Handling",()=>{const b=nq(e.lineTerminatorCharacters);d=Ct(n,x=>!1),e.positionTracking!=="onlyOffset"&&(d=Ct(n,x=>Jt(x,"LINE_BREAKS")?!!x.LINE_BREAKS:rq(x,b)===!1&&Bk(b,x.PATTERN)))});let f,p,g,m;r("Misc Mapping #2",()=>{f=Ct(n,tq),p=Ct(a,AIe),g=Jn(n,(b,x)=>{const T=x.GROUP;return Ja(T)&&T!==is.SKIPPED&&(b[T]=[]),b},{}),m=Ct(a,(b,x)=>({pattern:a[x],longerAlt:l[x],canLineTerminator:d[x],isCustom:f[x],short:p[x],group:o[x],push:u[x],pop:h[x],tokenTypeIdx:s[x],tokenType:n[x]}))});let y=!0,v=[];return e.safeMode||r("First Char Optimization",()=>{v=Jn(n,(b,x,T)=>{if(typeof x.PATTERN=="string"){const w=x.PATTERN.charCodeAt(0),S=au(w);Fk(b,S,m[T])}else if(Ar(x.START_CHARS_HINT)){let w;Ge(x.START_CHARS_HINT,S=>{const k=typeof S=="string"?S.charCodeAt(0):S,L=au(k);w!==L&&(w=L,Fk(b,L,m[T]))})}else if(oc(x.PATTERN))if(x.PATTERN.unicode)y=!1,e.ensureOptimizations&&Ok(`${Fx}	Unable to analyze < ${x.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const w=aIe(x.PATTERN,e.ensureOptimizations);Hr(w)&&(y=!1),Ge(w,S=>{Fk(b,S,m[T])})}else e.ensureOptimizations&&Ok(`${Fx}	TokenType: <${x.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return b},[])}),{emptyGroups:g,patternIdxToConfig:m,charCodeToPatternIdxToConfig:v,hasCustom:i,canBeOptimized:y}}function cIe(t,e){let r=[];const n=hIe(t);r=r.concat(n.errors);const i=dIe(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(uIe(a)),r=r.concat(xIe(a)),r=r.concat(EIe(a,e)),r=r.concat(TIe(a)),r}function uIe(t){let e=[];const r=Mn(t,n=>oc(n[Dh]));return e=e.concat(pIe(r)),e=e.concat(yIe(r)),e=e.concat(vIe(r)),e=e.concat(bIe(r)),e=e.concat(gIe(r)),e}function hIe(t){const e=Mn(t,i=>!Jt(i,Dh)),r=Ct(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Bn.MISSING_PATTERN,tokenTypes:[i]})),n=Jb(t,e);return{errors:r,valid:n}}function dIe(t){const e=Mn(t,i=>{const a=i[Dh];return!oc(a)&&!Hs(a)&&!Jt(a,"exec")&&!Ja(a)}),r=Ct(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Bn.INVALID_PATTERN,tokenTypes:[i]})),n=Jb(t,e);return{errors:r,valid:n}}const fIe=/[^\\][$]/;function pIe(t){class e extends Rx{constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}}const r=Mn(t,i=>{const a=i.PATTERN;try{const s=Bx(a),o=new e;return o.visit(s),o.found}catch{return fIe.test(a.source)}});return Ct(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Bn.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function gIe(t){const e=Mn(t,n=>n.PATTERN.test(""));return Ct(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:Bn.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const mIe=/[^\\[][\^]|^\^/;function yIe(t){class e extends Rx{constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}}const r=Mn(t,i=>{const a=i.PATTERN;try{const s=Bx(a),o=new e;return o.visit(s),o.found}catch{return mIe.test(a.source)}});return Ct(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Bn.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function vIe(t){const e=Mn(t,n=>{const i=n[Dh];return i instanceof RegExp&&(i.multiline||i.global)});return Ct(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Bn.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function bIe(t){const e=[];let r=Ct(t,a=>Jn(t,(s,o)=>(a.PATTERN.source===o.PATTERN.source&&!Na(e,o)&&o.PATTERN!==is.NA&&(e.push(o),s.push(o)),s),[]));r=S1(r);const n=Mn(r,a=>a.length>1);return Ct(n,a=>{const s=Ct(a,l=>l.name);return{message:`The same RegExp pattern ->${Eo(a).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:Bn.DUPLICATE_PATTERNS_FOUND,tokenTypes:a}})}function xIe(t){const e=Mn(t,n=>{if(!Jt(n,"GROUP"))return!1;const i=n.GROUP;return i!==is.SKIPPED&&i!==is.NA&&!Ja(i)});return Ct(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Bn.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function EIe(t,e){const r=Mn(t,i=>i.PUSH_MODE!==void 0&&!Na(e,i.PUSH_MODE));return Ct(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Bn.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function TIe(t){const e=[],r=Jn(t,(n,i,a)=>{const s=i.PATTERN;return s===is.NA||(Ja(s)?n.push({str:s,idx:a,tokenType:i}):oc(s)&&SIe(s)&&n.push({str:s.source,idx:a,tokenType:i})),n},[]);return Ge(t,(n,i)=>{Ge(r,({str:a,idx:s,tokenType:o})=>{if(i<s&&wIe(a,n.PATTERN)){const l=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Bn.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),e}function wIe(t,e){if(oc(e)){const r=e.exec(t);return r!==null&&r.index===0}else{if(Hs(e))return e(t,0,[],{});if(Jt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function SIe(t){return sc([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>t.source.indexOf(r)!==-1)===void 0}function JV(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function eq(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function kIe(t,e,r){const n=[];return Jt(t,pm)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+pm+`> property in its definition
`,type:Bn.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Jt(t,zx)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+zx+`> property in its definition
`,type:Bn.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Jt(t,zx)&&Jt(t,pm)&&!Jt(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${pm}: <${t.defaultMode}>which does not exist
`,type:Bn.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Jt(t,zx)&&Ge(t.modes,(i,a)=>{Ge(i,(s,o)=>{if(Xr(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:Bn.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Jt(s,"LONGER_ALT")){const l=Ar(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];Ge(l,u=>{!Xr(u)&&!Na(i,u)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${s.name}> outside of mode <${a}>
`,type:Bn.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function CIe(t,e,r){const n=[];let i=!1;const a=S1(Ri(ln(t.modes))),s=rx(a,l=>l[Dh]===is.NA),o=nq(r);return e&&Ge(s,l=>{const u=rq(l,o);if(u!==!1){const d={message:NIe(l,u),type:u.issue,tokenType:l};n.push(d)}else Jt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):Bk(o,l.PATTERN)&&(i=!0)}),e&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Bn.NO_LINE_BREAKS_FLAGS}),n}function _Ie(t){const e={},r=pi(t);return Ge(r,n=>{const i=t[n];if(Ar(i))e[n]=[];else throw Error("non exhaustive match")}),e}function tq(t){const e=t.PATTERN;if(oc(e))return!1;if(Hs(e))return!0;if(Jt(e,"exec"))return!0;if(Ja(e))return!1;throw Error("non exhaustive match")}function AIe(t){return Ja(t)&&t.length===1?t.charCodeAt(0):!1}const LIe={test:function(t){const e=t.length;for(let r=this.lastIndex;r<e;r++){const n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function rq(t,e){if(Jt(t,"LINE_BREAKS"))return!1;if(oc(t.PATTERN)){try{Bk(e,t.PATTERN)}catch(r){return{issue:Bn.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Ja(t.PATTERN))return!1;if(tq(t))return{issue:Bn.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function NIe(t,e){if(e.issue===Bn.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Bn.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function nq(t){return Ct(t,r=>Ja(r)?r.charCodeAt(0):r)}function Fk(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}const gm=256;let Ux=[];function au(t){return t<gm?t:Ux[t]}function RIe(){if(Hr(Ux)){Ux=new Array(65536);for(let t=0;t<65536;t++)Ux[t]=t>255?255+~~(t/255):t}}function mm(t,e){const r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}function Hx(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let iq=1;const aq={};function ym(t){const e=IIe(t);DIe(e),MIe(e),OIe(e),Ge(e,r=>{r.isParent=r.categoryMatches.length>0})}function IIe(t){let e=gi(t),r=t,n=!0;for(;n;){r=S1(Ri(Ct(r,a=>a.CATEGORIES)));const i=Jb(r,e);e=e.concat(i),Hr(i)?n=!1:r=i}return e}function DIe(t){Ge(t,e=>{oq(e)||(aq[iq]=e,e.tokenTypeIdx=iq++),lq(e)&&!Ar(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),lq(e)||(e.CATEGORIES=[]),PIe(e)||(e.categoryMatches=[]),BIe(e)||(e.categoryMatchesMap={})})}function OIe(t){Ge(t,e=>{e.categoryMatches=[],Ge(e.categoryMatchesMap,(r,n)=>{e.categoryMatches.push(aq[n].tokenTypeIdx)})})}function MIe(t){Ge(t,e=>{sq([],e)})}function sq(t,e){Ge(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0}),Ge(e.CATEGORIES,r=>{const n=t.concat(e);Na(n,r)||sq(n,r)})}function oq(t){return Jt(t,"tokenTypeIdx")}function lq(t){return Jt(t,"CATEGORIES")}function PIe(t){return Jt(t,"categoryMatches")}function BIe(t){return Jt(t,"categoryMatchesMap")}function FIe(t){return Jt(t,"tokenTypeIdx")}const $k={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,r,n,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`}};var Bn;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Bn||(Bn={}));const vm={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:$k,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(vm);class is{constructor(e,r=vm){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,a)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${i}>`);const{time:o,value:l}=WV(a),u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${s}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,l}else return a()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=ws({},vm,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,a=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===vm.lineTerminatorsPattern)this.config.lineTerminatorsPattern=LIe;else if(this.config.lineTerminatorCharacters===vm.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Ar(e)?i={modes:{defaultMode:gi(e)},defaultMode:pm}:(a=!1,i=gi(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(kIe(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(CIe(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Ge(i.modes,(o,l)=>{i.modes[l]=rx(o,u=>Xr(u))});const s=pi(i.modes);if(Ge(i.modes,(o,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(cIe(o,s))}),Hr(this.lexerDefinitionErrors)){ym(o);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=lIe(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=ws({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Hr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=Ct(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}Ge(this.lexerDefinitionWarning,o=>{qV(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(ZV?(this.chopInput=Ql,this.match=this.matchWithTest):(this.updateLastIndex=fi,this.match=this.matchWithExec),a&&(this.handleModes=fi),this.trackStartLines===!1&&(this.computeNewColumn=Ql),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=fi),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=Jn(this.canModeBeOptimized,(l,u,h)=>(u===!1&&l.push(h),l),[]);if(r.ensureOptimizations&&!Hr(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{iIe()}),this.TRACE_INIT("toFastProperties",()=>{YV(this)})})}tokenize(e,r=this.defaultMode){if(!Hr(this.lexerDefinitionErrors)){const i=Ct(this.lexerDefinitionErrors,a=>a.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let n,i,a,s,o,l,u,h,d,f,p,g,m,y,v;const b=e,x=b.length;let T=0,w=0;const S=this.hasCustom?0:Math.floor(e.length/10),k=new Array(S),L=[];let _=this.trackStartLines?1:void 0,N=this.trackStartLines?1:void 0;const C=_Ie(this.emptyGroups),D=this.trackStartLines,P=this.config.lineTerminatorsPattern;let A=0,R=[],O=[];const M=[],I=[];Object.freeze(I);let F;function B(){return R}function $(ee){const re=au(ee),pe=O[re];return pe===void 0?I:pe}const V=ee=>{if(M.length===1&&ee.tokenType.PUSH_MODE===void 0){const re=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(ee);L.push({offset:ee.startOffset,line:ee.startLine,column:ee.startColumn,length:ee.image.length,message:re})}else{M.pop();const re=al(M);R=this.patternIdxToConfig[re],O=this.charCodeToPatternIdxToConfig[re],A=R.length;const pe=this.canModeBeOptimized[re]&&this.config.safeMode===!1;O&&pe?F=$:F=B}};function H(ee){M.push(ee),O=this.charCodeToPatternIdxToConfig[ee],R=this.patternIdxToConfig[ee],A=R.length,A=R.length;const re=this.canModeBeOptimized[ee]&&this.config.safeMode===!1;O&&re?F=$:F=B}H.call(this,r);let te;const X=this.config.recoveryEnabled;for(;T<x;){l=null;const ee=b.charCodeAt(T),re=F(ee),pe=re.length;for(n=0;n<pe;n++){te=re[n];const K=te.pattern;u=null;const W=te.short;if(W!==!1?ee===W&&(l=K):te.isCustom===!0?(v=K.exec(b,T,k,C),v!==null?(l=v[0],v.payload!==void 0&&(u=v.payload)):l=null):(this.updateLastIndex(K,T),l=this.match(K,e,T)),l!==null){if(o=te.longerAlt,o!==void 0){const j=o.length;for(a=0;a<j;a++){const Y=R[o[a]],Q=Y.pattern;if(h=null,Y.isCustom===!0?(v=Q.exec(b,T,k,C),v!==null?(s=v[0],v.payload!==void 0&&(h=v.payload)):s=null):(this.updateLastIndex(Q,T),s=this.match(Q,e,T)),s&&s.length>l.length){l=s,u=h,te=Y;break}}}break}}if(l!==null){if(d=l.length,f=te.group,f!==void 0&&(p=te.tokenTypeIdx,g=this.createTokenInstance(l,T,p,te.tokenType,_,N,d),this.handlePayload(g,u),f===!1?w=this.addToken(k,w,g):C[f].push(g)),e=this.chopInput(e,d),T=T+d,N=this.computeNewColumn(N,d),D===!0&&te.canLineTerminator===!0){let K=0,W,j;P.lastIndex=0;do W=P.test(l),W===!0&&(j=P.lastIndex-1,K++);while(W===!0);K!==0&&(_=_+K,N=d-j,this.updateTokenEndLineColumnLocation(g,f,j,K,_,N,d))}this.handleModes(te,V,H,g)}else{const K=T,W=_,j=N;let Y=X===!1;for(;Y===!1&&T<x;)for(e=this.chopInput(e,1),T++,i=0;i<A;i++){const Q=R[i],ie=Q.pattern,J=Q.short;if(J!==!1?b.charCodeAt(T)===J&&(Y=!0):Q.isCustom===!0?Y=ie.exec(b,T,k,C)!==null:(this.updateLastIndex(ie,T),Y=ie.exec(e)!==null),Y===!0)break}if(m=T-K,N=this.computeNewColumn(N,m),y=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(b,K,m,W,j),L.push({offset:K,line:W,column:j,length:m,message:y}),X===!1)break}}return this.hasCustom||(k.length=w),{tokens:k,groups:C,errors:L}}handleModes(e,r,n,i){if(e.pop===!0){const a=e.push;r(i),a!==void 0&&n.call(this,a)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r}updateTokenEndLineColumnLocation(e,r,n,i,a,s,o){let l,u;r!==void 0&&(l=n===o-1,u=l?-1:0,i===1&&l===!0||(e.endLine=a+u,e.endColumn=s-1+-u))}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,n,i){return{image:e,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(e,r,n,i,a,s){return{image:e,startOffset:r,startLine:a,startColumn:s,tokenTypeIdx:n,tokenType:i}}createFullToken(e,r,n,i,a,s,o){return{image:e,startOffset:r,endOffset:r+o-1,startLine:a,endLine:a,startColumn:s,endColumn:s+o-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(e,r,n){return e.push(n),r}addTokenUsingMemberAccess(e,r,n){return e[r]=n,r++,r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r)}matchWithTest(e,r,n){return e.test(r)===!0?r.substring(n,e.lastIndex):null}matchWithExec(e,r){const n=e.exec(r);return n!==null?n[0]:null}}is.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",is.NA=/NOT_APPLICABLE/;function Uf(t){return cq(t)?t.LABEL:t.name}function cq(t){return Ja(t.LABEL)&&t.LABEL!==""}const $Ie="parent",uq="categories",hq="label",dq="group",fq="push_mode",pq="pop_mode",gq="longer_alt",mq="line_breaks",yq="start_chars_hint";function vq(t){return zIe(t)}function zIe(t){const e=t.pattern,r={};if(r.name=t.name,Xr(e)||(r.PATTERN=e),Jt(t,$Ie))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Jt(t,uq)&&(r.CATEGORIES=t[uq]),ym([r]),Jt(t,hq)&&(r.LABEL=t[hq]),Jt(t,dq)&&(r.GROUP=t[dq]),Jt(t,pq)&&(r.POP_MODE=t[pq]),Jt(t,fq)&&(r.PUSH_MODE=t[fq]),Jt(t,gq)&&(r.LONGER_ALT=t[gq]),Jt(t,mq)&&(r.LINE_BREAKS=t[mq]),Jt(t,yq)&&(r.START_CHARS_HINT=t[yq]),r}const su=vq({name:"EOF",pattern:is.NA});ym([su]);function zk(t,e,r,n,i,a,s,o){return{image:e,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function bq(t,e){return mm(t,e)}const Hf={buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:n}){return`Expecting ${cq(t)?`--> ${Uf(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:n,ruleName:i}){const a="Expecting: ",o=`
but found: '`+Eo(e).image+"'";if(n)return a+n+o;{const l=Jn(t,(f,p)=>f.concat(p),[]),u=Ct(l,f=>`[${Ct(f,p=>Uf(p)).join(", ")}]`),d=`one of these possible Token sequences:
${Ct(u,(f,p)=>`  ${p+1}. ${f}`).join(`
`)}`;return a+d+o}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:n}){const i="Expecting: ",s=`
but found: '`+Eo(e).image+"'";if(r)return i+r+s;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${Ct(t,u=>`[${Ct(u,h=>Uf(h)).join(",")}]`).join(" ,")}>`;return i+l+s}}};Object.freeze(Hf);const UIe={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Oh={buildDuplicateFoundError(t,e){function r(h){return h instanceof En?h.terminalType.name:h instanceof Ia?h.nonTerminalName:""}const n=t.name,i=Eo(e),a=i.idx,s=hl(i),o=r(i),l=a>0;let u=`->${s}${l?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=Ct(t.prefixPath,i=>Uf(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=Ct(t.prefixPath,i=>Uf(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=hl(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,r=Ct(t.leftRecursionPath,a=>a.name),n=`${e} --> ${r.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof $f?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function HIe(t,e){const r=new GIe(t,e);return r.resolveRefs(),r.errors}class GIe extends zf{constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Ge(ln(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Da.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class VIe extends Mx{constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=gi(this.path.ruleStack).reverse(),this.occurrenceStack=gi(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r)}walkProdRef(e,r,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Hr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class qIe extends VIe{constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,r,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),a=new ts({definition:i});this.possibleTokTypes=fm(a),this.found=!0}}}class Gx extends Mx{constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class WIe extends Gx{walkMany(e,r,n){if(e.idx===this.occurrence){const i=Eo(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof En&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,r,n)}}class xq extends Gx{walkManySep(e,r,n){if(e.idx===this.occurrence){const i=Eo(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof En&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,r,n)}}class YIe extends Gx{walkAtLeastOne(e,r,n){if(e.idx===this.occurrence){const i=Eo(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof En&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,r,n)}}class Eq extends Gx{walkAtLeastOneSep(e,r,n){if(e.idx===this.occurrence){const i=Eo(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof En&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,r,n)}}function Uk(t,e,r=[]){r=gi(r);let n=[],i=0;function a(o){return o.concat(Ui(t,i+1))}function s(o){const l=Uk(a(o),e,r);return n.concat(l)}for(;r.length<e&&i<t.length;){const o=t[i];if(o instanceof ts)return s(o.definition);if(o instanceof Ia)return s(o.definition);if(o instanceof Vi)n=s(o.definition);else if(o instanceof Cs){const l=o.definition.concat([new Pn({definition:o.definition})]);return s(l)}else if(o instanceof _s){const l=[new ts({definition:o.definition}),new Pn({definition:[new En({terminalType:o.separator})].concat(o.definition)})];return s(l)}else if(o instanceof rs){const l=o.definition.concat([new Pn({definition:[new En({terminalType:o.separator})].concat(o.definition)})]);n=s(l)}else if(o instanceof Pn){const l=o.definition.concat([new Pn({definition:o.definition})]);n=s(l)}else{if(o instanceof ns)return Ge(o.definition,l=>{Hr(l.definition)===!1&&(n=s(l.definition))}),n;if(o instanceof En)r.push(o.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Ui(t,i)}),n}function Tq(t,e,r,n){const i="EXIT_NONE_TERMINAL",a=[i],s="EXIT_ALTERNATIVE";let o=!1;const l=e.length,u=l-n-1,h=[],d=[];for(d.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Hr(d);){const f=d.pop();if(f===s){o&&al(d).idx<=u&&d.pop();continue}const p=f.def,g=f.idx,m=f.ruleStack,y=f.occurrenceStack;if(Hr(p))continue;const v=p[0];if(v===i){const b={idx:g,def:Ui(p),ruleStack:k1(m),occurrenceStack:k1(y)};d.push(b)}else if(v instanceof En)if(g<l-1){const b=g+1,x=e[b];if(r(x,v.terminalType)){const T={idx:b,def:Ui(p),ruleStack:m,occurrenceStack:y};d.push(T)}}else if(g===l-1)h.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:m,occurrenceStack:y}),o=!0;else throw Error("non exhaustive match");else if(v instanceof Ia){const b=gi(m);b.push(v.nonTerminalName);const x=gi(y);x.push(v.idx);const T={idx:g,def:v.definition.concat(a,Ui(p)),ruleStack:b,occurrenceStack:x};d.push(T)}else if(v instanceof Vi){const b={idx:g,def:Ui(p),ruleStack:m,occurrenceStack:y};d.push(b),d.push(s);const x={idx:g,def:v.definition.concat(Ui(p)),ruleStack:m,occurrenceStack:y};d.push(x)}else if(v instanceof Cs){const b=new Pn({definition:v.definition,idx:v.idx}),x=v.definition.concat([b],Ui(p)),T={idx:g,def:x,ruleStack:m,occurrenceStack:y};d.push(T)}else if(v instanceof _s){const b=new En({terminalType:v.separator}),x=new Pn({definition:[b].concat(v.definition),idx:v.idx}),T=v.definition.concat([x],Ui(p)),w={idx:g,def:T,ruleStack:m,occurrenceStack:y};d.push(w)}else if(v instanceof rs){const b={idx:g,def:Ui(p),ruleStack:m,occurrenceStack:y};d.push(b),d.push(s);const x=new En({terminalType:v.separator}),T=new Pn({definition:[x].concat(v.definition),idx:v.idx}),w=v.definition.concat([T],Ui(p)),S={idx:g,def:w,ruleStack:m,occurrenceStack:y};d.push(S)}else if(v instanceof Pn){const b={idx:g,def:Ui(p),ruleStack:m,occurrenceStack:y};d.push(b),d.push(s);const x=new Pn({definition:v.definition,idx:v.idx}),T=v.definition.concat([x],Ui(p)),w={idx:g,def:T,ruleStack:m,occurrenceStack:y};d.push(w)}else if(v instanceof ns)for(let b=v.definition.length-1;b>=0;b--){const x=v.definition[b],T={idx:g,def:x.definition.concat(Ui(p)),ruleStack:m,occurrenceStack:y};d.push(T),d.push(s)}else if(v instanceof ts)d.push({idx:g,def:v.definition.concat(Ui(p)),ruleStack:m,occurrenceStack:y});else if(v instanceof $f)d.push(XIe(v,g,m,y));else throw Error("non exhaustive match")}return h}function XIe(t,e,r,n){const i=gi(r);i.push(t.name);const a=gi(n);return a.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:a}}var Nn;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(Nn||(Nn={}));function Hk(t){if(t instanceof Vi||t==="Option")return Nn.OPTION;if(t instanceof Pn||t==="Repetition")return Nn.REPETITION;if(t instanceof Cs||t==="RepetitionMandatory")return Nn.REPETITION_MANDATORY;if(t instanceof _s||t==="RepetitionMandatoryWithSeparator")return Nn.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof rs||t==="RepetitionWithSeparator")return Nn.REPETITION_WITH_SEPARATOR;if(t instanceof ns||t==="Alternation")return Nn.ALTERNATION;throw Error("non exhaustive match")}function wq(t){const{occurrence:e,rule:r,prodType:n,maxLookahead:i}=t,a=Hk(n);return a===Nn.ALTERNATION?Vx(e,r,i):qx(e,r,a,i)}function KIe(t,e,r,n,i,a){const s=Vx(t,e,r),o=_q(s)?Hx:mm;return a(s,n,o,i)}function jIe(t,e,r,n,i,a){const s=qx(t,e,i,r),o=_q(s)?Hx:mm;return a(s[0],o,n)}function QIe(t,e,r,n){const i=t.length,a=xo(t,s=>xo(s,o=>o.length===1));if(e)return function(s){const o=Ct(s,l=>l.GATE);for(let l=0;l<i;l++){const u=t[l],h=u.length,d=o[l];if(!(d!==void 0&&d.call(this)===!1))e:for(let f=0;f<h;f++){const p=u[f],g=p.length;for(let m=0;m<g;m++){const y=this.LA(m+1);if(r(y,p[m])===!1)continue e}return l}}};if(a&&!n){const s=Ct(t,l=>Ri(l)),o=Jn(s,(l,u,h)=>(Ge(u,d=>{Jt(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=h),Ge(d.categoryMatches,f=>{Jt(l,f)||(l[f]=h)})}),l),{});return function(){const l=this.LA(1);return o[l.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){const o=t[s],l=o.length;e:for(let u=0;u<l;u++){const h=o[u],d=h.length;for(let f=0;f<d;f++){const p=this.LA(f+1);if(r(p,h[f])===!1)continue e}return s}}}}function ZIe(t,e,r){const n=xo(t,a=>a.length===1),i=t.length;if(n&&!r){const a=Ri(t);if(a.length===1&&Hr(a[0].categoryMatches)){const o=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const s=Jn(a,(o,l,u)=>(o[l.tokenTypeIdx]=!0,Ge(l.categoryMatches,h=>{o[h]=!0}),o),[]);return function(){const o=this.LA(1);return s[o.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<i;a++){const s=t[a],o=s.length;for(let l=0;l<o;l++){const u=this.LA(l+1);if(e(u,s[l])===!1)continue e}return!0}return!1}}class JIe extends Mx{constructor(e,r,n){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,n,i){return e.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(e,r,n){this.checkIsTarget(e,Nn.OPTION,r,n)||super.walkOption(e,r,n)}walkAtLeastOne(e,r,n){this.checkIsTarget(e,Nn.REPETITION_MANDATORY,r,n)||super.walkOption(e,r,n)}walkAtLeastOneSep(e,r,n){this.checkIsTarget(e,Nn.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}walkMany(e,r,n){this.checkIsTarget(e,Nn.REPETITION,r,n)||super.walkOption(e,r,n)}walkManySep(e,r,n){this.checkIsTarget(e,Nn.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}}class Sq extends zf{constructor(e,r,n){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(e,r){e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Nn.OPTION)}visitRepetition(e){this.checkIsTarget(e,Nn.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Nn.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Nn.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Nn.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Nn.ALTERNATION)}}function kq(t){const e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}function Gk(t){let e=[""];for(let r=0;r<t.length;r++){const n=t[r],i=[];for(let a=0;a<e.length;a++){const s=e[a];i.push(s+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const l="_"+n.categoryMatches[o];i.push(s+l)}}e=i}return e}function eDe(t,e,r){for(let n=0;n<t.length;n++){if(n===r)continue;const i=t[n];for(let a=0;a<e.length;a++){const s=e[a];if(i[s]===!0)return!1}}return!0}function Cq(t,e){const r=Ct(t,s=>Uk([s],1)),n=kq(r.length),i=Ct(r,s=>{const o={};return Ge(s,l=>{const u=Gk(l.partialPath);Ge(u,h=>{o[h]=!0})}),o});let a=r;for(let s=1;s<=e;s++){const o=a;a=kq(o.length);for(let l=0;l<o.length;l++){const u=o[l];for(let h=0;h<u.length;h++){const d=u[h].partialPath,f=u[h].suffixDef,p=Gk(d);if(eDe(i,p,l)||Hr(f)||d.length===e){const m=n[l];if(Vk(m,d)===!1){m.push(d);for(let y=0;y<p.length;y++){const v=p[y];i[l][v]=!0}}}else{const m=Uk(f,s+1,d);a[l]=a[l].concat(m),Ge(m,y=>{const v=Gk(y.partialPath);Ge(v,b=>{i[l][b]=!0})})}}}}return n}function Vx(t,e,r,n){const i=new Sq(t,Nn.ALTERNATION,n);return e.accept(i),Cq(i.result,r)}function qx(t,e,r,n){const i=new Sq(t,r);e.accept(i);const a=i.result,o=new JIe(e,t,r).startWalking(),l=new ts({definition:a}),u=new ts({definition:o});return Cq([l,u],n)}function Vk(t,e){e:for(let r=0;r<t.length;r++){const n=t[r];if(n.length===e.length){for(let i=0;i<n.length;i++){const a=e[i],s=n[i];if((a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function tDe(t,e){return t.length<e.length&&xo(t,(r,n)=>{const i=e[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function _q(t){return xo(t,e=>xo(e,r=>xo(r,n=>Hr(n.categoryMatches))))}function rDe(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return Ct(e,r=>Object.assign({type:Da.CUSTOM_LOOKAHEAD_VALIDATION},r))}function nDe(t,e,r,n){const i=Ss(t,l=>iDe(l,r)),a=mDe(t,e,r),s=Ss(t,l=>dDe(l,r)),o=Ss(t,l=>oDe(l,t,n,r));return i.concat(a,s,o)}function iDe(t,e){const r=new sDe;t.accept(r);const n=r.allProductions,i=Q8e(n,aDe),a=To(i,o=>o.length>1);return Ct(ln(a),o=>{const l=Eo(o),u=e.buildDuplicateFoundError(t,o),h=hl(l),d={message:u,type:Da.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:h,occurrence:l.idx},f=Aq(l);return f&&(d.parameter=f),d})}function aDe(t){return`${hl(t)}_#_${t.idx}_#_${Aq(t)}`}function Aq(t){return t instanceof En?t.terminalType.name:t instanceof Ia?t.nonTerminalName:""}class sDe extends zf{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function oDe(t,e,r,n){const i=[];if(Jn(e,(s,o)=>o.name===t.name?s+1:s,0)>1){const s=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});i.push({message:s,type:Da.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function lDe(t,e,r){const n=[];let i;return Na(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:Da.INVALID_RULE_OVERRIDE,ruleName:t})),n}function Lq(t,e,r,n=[]){const i=[],a=Wx(e.definition);if(Hr(a))return[];{const s=t.name;Na(a,t)&&i.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:Da.LEFT_RECURSION,ruleName:s});const l=Jb(a,n.concat([t])),u=Ss(l,h=>{const d=gi(n);return d.push(h),Lq(t,h,r,d)});return i.concat(u)}}function Wx(t){let e=[];if(Hr(t))return e;const r=Eo(t);if(r instanceof Ia)e.push(r.referencedRule);else if(r instanceof ts||r instanceof Vi||r instanceof Cs||r instanceof _s||r instanceof rs||r instanceof Pn)e=e.concat(Wx(r.definition));else if(r instanceof ns)e=Ri(Ct(r.definition,a=>Wx(a.definition)));else if(!(r instanceof En))throw Error("non exhaustive match");const n=Ox(r),i=t.length>1;if(n&&i){const a=Ui(t);return e.concat(Wx(a))}else return e}class qk extends zf{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function cDe(t,e){const r=new qk;t.accept(r);const n=r.alternations;return Ss(n,a=>{const s=k1(a.definition);return Ss(s,(o,l)=>{const u=Tq([o],[],mm,1);return Hr(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:a,emptyChoiceIdx:l}),type:Da.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:a.idx,alternative:l+1}]:[]})})}function uDe(t,e,r){const n=new qk;t.accept(n);let i=n.alternations;return i=rx(i,s=>s.ignoreAmbiguities===!0),Ss(i,s=>{const o=s.idx,l=s.maxLookahead||e,u=Vx(o,t,l,s),h=pDe(u,s,t,r),d=gDe(u,s,t,r);return h.concat(d)})}class hDe extends zf{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function dDe(t,e){const r=new qk;t.accept(r);const n=r.alternations;return Ss(n,a=>a.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:a}),type:Da.TOO_MANY_ALTS,ruleName:t.name,occurrence:a.idx}]:[])}function fDe(t,e,r){const n=[];return Ge(t,i=>{const a=new hDe;i.accept(a);const s=a.allProductions;Ge(s,o=>{const l=Hk(o),u=o.maxLookahead||e,h=o.idx,f=qx(h,i,l,u)[0];if(Hr(Ri(f))){const p=r.buildEmptyRepetitionError({topLevelRule:i,repetition:o});n.push({message:p,type:Da.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function pDe(t,e,r,n){const i=[],a=Jn(t,(o,l,u)=>(e.definition[u].ignoreAmbiguities===!0||Ge(l,h=>{const d=[u];Ge(t,(f,p)=>{u!==p&&Vk(f,h)&&e.definition[p].ignoreAmbiguities!==!0&&d.push(p)}),d.length>1&&!Vk(i,h)&&(i.push(h),o.push({alts:d,path:h}))}),o),[]);return Ct(a,o=>{const l=Ct(o.alts,h=>h+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:l,prefixPath:o.path}),type:Da.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:o.alts}})}function gDe(t,e,r,n){const i=Jn(t,(s,o,l)=>{const u=Ct(o,h=>({idx:l,path:h}));return s.concat(u)},[]);return S1(Ss(i,s=>{if(e.definition[s.idx].ignoreAmbiguities===!0)return[];const l=s.idx,u=s.path,h=Mn(i,f=>e.definition[f.idx].ignoreAmbiguities!==!0&&f.idx<l&&tDe(f.path,u));return Ct(h,f=>{const p=[f.idx+1,l+1],g=e.idx===0?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:p,prefixPath:f.path}),type:Da.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:g,alternatives:p}})}))}function mDe(t,e,r){const n=[],i=Ct(e,a=>a.name);return Ge(t,a=>{const s=a.name;if(Na(i,s)){const o=r.buildNamespaceConflictError(a);n.push({message:o,type:Da.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}function yDe(t){const e=Zb(t,{errMsgProvider:UIe}),r={};return Ge(t.rules,n=>{r[n.name]=n}),HIe(r,e.errMsgProvider)}function vDe(t){return t=Zb(t,{errMsgProvider:Oh}),nDe(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const Nq="MismatchedTokenException",Rq="NoViableAltException",Iq="EarlyExitException",Dq="NotAllInputParsedException",Oq=[Nq,Rq,Iq,Dq];Object.freeze(Oq);function Yx(t){return Na(Oq,t.name)}class Xx extends Error{constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Mq extends Xx{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Nq}}class bDe extends Xx{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Rq}}class xDe extends Xx{constructor(e,r){super(e,r),this.name=Dq}}class EDe extends Xx{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Iq}}const Wk={},Pq="InRuleRecoveryException";class TDe extends Error{constructor(e){super(e),this.name=Pq}}class wDe{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Jt(e,"recoveryEnabled")?e.recoveryEnabled:hc.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=SDe)}getTokenToInsert(e){const r=zk(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,r,n,i){const a=this.findReSyncTokenType(),s=this.exportLexerState(),o=[];let l=!1;const u=this.LA(1);let h=this.LA(1);const d=()=>{const f=this.LA(0),p=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:f,ruleName:this.getCurrRuleFullName()}),g=new Mq(p,u,this.LA(0));g.resyncedTokens=k1(o),this.SAVE_ERROR(g)};for(;!l;)if(this.tokenMatcher(h,i)){d();return}else if(n.call(this)){d(),e.apply(this,r);return}else this.tokenMatcher(h,a)?l=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,o));this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(e,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))}getFollowsForInRuleRecovery(e,r){const n=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new TDe("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||Hr(r))return!1;const n=this.LA(1);return sc(r,a=>this.tokenMatcher(n,a))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return Na(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=sc(e,a=>bq(r,a));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Wk;const e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return Ct(e,(n,i)=>i===0?Wk:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=Ct(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Ri(e)}getFollowSetFromFollowKey(e){if(e===Wk)return[su];const r=e.ruleName+e.idxInCallingRule+KV+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,su)||r.push(e),r}reSyncTo(e){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return k1(r)}attemptInRepetitionRecovery(e,r,n,i,a,s,o){}getCurrentGrammarPath(e,r){const n=this.getHumanReadableRuleStack(),i=gi(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return Ct(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function SDe(t,e,r,n,i,a,s){const o=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[o];if(l===void 0){const f=this.getCurrRuleFullName(),p=this.getGAstProductions()[f];l=new a(p,i).startWalking(),this.firstAfterRepMap[o]=l}let u=l.token,h=l.occurrence;const d=l.isEndOfRule;this.RULE_STACK.length===1&&d&&u===void 0&&(u=su,h=1),!(u===void 0||h===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,h,s)&&this.tryInRepetitionRecovery(t,e,r,u)}const kDe=4,ou=8,Bq=1<<ou,Fq=2<<ou,Yk=3<<ou,Xk=4<<ou,Kk=5<<ou,Kx=6<<ou;function jk(t,e,r){return r|e|t}class Qk{constructor(e){var r;this.maxLookahead=(r=e==null?void 0:e.maxLookahead)!==null&&r!==void 0?r:hc.maxLookahead}validate(e){const r=this.validateNoLeftRecursion(e.rules);if(Hr(r)){const n=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),a=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...r,...n,...i,...a]}return r}validateNoLeftRecursion(e){return Ss(e,r=>Lq(r,r,Oh))}validateEmptyOrAlternatives(e){return Ss(e,r=>cDe(r,Oh))}validateAmbiguousAlternationAlternatives(e,r){return Ss(e,n=>uDe(n,r,Oh))}validateSomeNonEmptyLookaheadPath(e,r){return fDe(e,r,Oh)}buildLookaheadForAlternation(e){return KIe(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,QIe)}buildLookaheadForOptional(e){return jIe(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Hk(e.prodType),ZIe)}}class CDe{initLooksAhead(e){this.dynamicTokensEnabled=Jt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:hc.dynamicTokensEnabled,this.maxLookahead=Jt(e,"maxLookahead")?e.maxLookahead:hc.maxLookahead,this.lookaheadStrategy=Jt(e,"lookaheadStrategy")?e.lookaheadStrategy:new Qk({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Ge(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:a,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:l}=ADe(r);Ge(n,u=>{const h=u.idx===0?"":u.idx;this.TRACE_INIT(`${hl(u)}${h}`,()=>{const d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),f=jk(this.fullRuleNameToShort[r.name],Bq,u.idx);this.setLaFuncCache(f,d)})}),Ge(i,u=>{this.computeLookaheadFunc(r,u.idx,Yk,"Repetition",u.maxLookahead,hl(u))}),Ge(a,u=>{this.computeLookaheadFunc(r,u.idx,Fq,"Option",u.maxLookahead,hl(u))}),Ge(s,u=>{this.computeLookaheadFunc(r,u.idx,Xk,"RepetitionMandatory",u.maxLookahead,hl(u))}),Ge(o,u=>{this.computeLookaheadFunc(r,u.idx,Kx,"RepetitionMandatoryWithSeparator",u.maxLookahead,hl(u))}),Ge(l,u=>{this.computeLookaheadFunc(r,u.idx,Kk,"RepetitionWithSeparator",u.maxLookahead,hl(u))})})})}computeLookaheadFunc(e,r,n,i,a,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:a||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=jk(this.fullRuleNameToShort[e.name],n,r);this.setLaFuncCache(l,o)})}getKeyForAutomaticLookahead(e,r){const n=this.getLastExplicitRuleShortName();return jk(n,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r)}}class _De extends zf{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const jx=new _De;function ADe(t){jx.reset(),t.accept(jx);const e=jx.dslMethods;return jx.reset(),e}function $q(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function zq(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function LDe(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}function NDe(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}const RDe="name";function Uq(t,e){Object.defineProperty(t,RDe,{enumerable:!1,configurable:!0,writable:!1,value:e})}function IDe(t,e){const r=pi(t),n=r.length;for(let i=0;i<n;i++){const a=r[i],s=t[a],o=s.length;for(let l=0;l<o;l++){const u=s[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function DDe(t,e){const r=function(){};Uq(r,t+"BaseSemantics");const n={visit:function(i,a){if(Ar(i)&&(i=i[0]),!Xr(i))return this[i.name](i.children,a)},validateVisitor:function(){const i=MDe(this,e);if(!Hr(i)){const a=Ct(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=e,r}function ODe(t,e,r){const n=function(){};Uq(n,t+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return Ge(e,a=>{i[a]=IDe}),n.prototype=i,n.prototype.constructor=n,n}var Zk;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(Zk||(Zk={}));function MDe(t,e){return PDe(t,e)}function PDe(t,e){const r=Mn(e,i=>Hs(t[i])===!1),n=Ct(r,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:Zk.MISSING_METHOD,methodName:i}));return S1(n)}class BDe{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Jt(e,"nodeLocationTracking")?e.nodeLocationTracking:hc.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=fi,this.cstFinallyStateUpdate=fi,this.cstPostTerminal=fi,this.cstPostNonTerminal=fi,this.cstPostRule=fi;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=zq,this.setNodeLocationFromNode=zq,this.cstPostRule=fi,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=fi,this.setNodeLocationFromNode=fi,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=$q,this.setNodeLocationFromNode=$q,this.cstPostRule=fi,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=fi,this.setNodeLocationFromNode=fi,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=fi,this.setNodeLocationFromNode=fi,this.cstPostRule=fi,this.setInitialNodeLocation=fi;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];LDe(n,r,e),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];NDe(n,r,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(Xr(this.baseCstVisitorConstructor)){const e=DDe(this.className,pi(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Xr(this.baseCstVisitorWithDefaultsConstructor)){const e=ODe(this.className,pi(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class FDe{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Jx}LA(e){const r=this.currIdx+e;return r<0||this.tokVectorLength<=r?Jx:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class $De{ACTION(e){return e.call(this)}consume(e,r,n){return this.consumeInternal(r,e,n)}subrule(e,r,n){return this.subruleInternal(r,e,n)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,r,n=eE){if(Na(this.definedRulesNames,e)){const s={message:Oh.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Da.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(s)}this.definedRulesNames.push(e);const i=this.defineRule(e,r,n);return this[e]=i,i}OVERRIDE_RULE(e,r,n=eE){const i=lDe(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const a=this.defineRule(e,r,n);return this[e]=a,a}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,r),!0}catch(i){if(Yx(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return XRe(ln(this.gastProductionsCache))}}class zDe{initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Hx,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Jt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Ar(e)){if(Hr(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Ar(e))this.tokensMap=Jn(e,(a,s)=>(a[s.name]=s,a),{});else if(Jt(e,"modes")&&xo(Ri(ln(e.modes)),FIe)){const a=Ri(ln(e.modes)),s=HS(a);this.tokensMap=Jn(s,(o,l)=>(o[l.name]=l,o),{})}else if(Ya(e))this.tokensMap=gi(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=su;const n=Jt(e,"modes")?Ri(ln(e.modes)):ln(e),i=xo(n,a=>Hr(a.categoryMatches));this.tokenMatcher=i?Hx:mm,ym(ln(this.tokensMap))}defineRule(e,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=Jt(n,"resyncEnabled")?n.resyncEnabled:eE.resyncEnabled,a=Jt(n,"recoveryValueFunc")?n.recoveryValueFunc:eE.recoveryValueFunc,s=this.ruleShortNameIdx<<kDe+ou;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s;let o;return this.outputCst===!0?o=function(...h){try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h);const d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(d){return this.invokeRuleCatch(d,i,a)}finally{this.ruleFinallyStateUpdate()}}:o=function(...h){try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h)}catch(d){return this.invokeRuleCatch(d,i,a)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,n){const i=this.RULE_STACK.length===1,a=r&&!this.isBackTracking()&&this.recoveryEnabled;if(Yx(e)){const s=e;if(a){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(s.resyncedTokens=this.reSyncTo(o),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,s.partialCstResult=l}throw s}}else{if(i)return this.moveToTerminatedState(),n(e);throw s}}else throw e}optionInternal(e,r){const n=this.getKeyForAutomaticLookahead(Fq,r);return this.optionInternalLogic(e,r,n)}optionInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof e!="function"){a=e.DEF;const s=e.GATE;if(s!==void 0){const o=i;i=()=>s.call(this)&&o.call(this)}}else a=e;if(i.call(this)===!0)return a.call(this)}atLeastOneInternal(e,r){const n=this.getKeyForAutomaticLookahead(Xk,e);return this.atLeastOneInternalLogic(e,r,n)}atLeastOneInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;const s=r.GATE;if(s!==void 0){const o=i;i=()=>s.call(this)&&o.call(this)}}else a=r;if(i.call(this)===!0){let s=this.doSingleRepetition(a);for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a)}else throw this.raiseEarlyExitException(e,Nn.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],i,Xk,e,YIe)}atLeastOneSepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(Kx,e);this.atLeastOneSepFirstInternalLogic(e,r,n)}atLeastOneSepFirstInternalLogic(e,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),a);for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,Eq],o,Kx,e,Eq)}else throw this.raiseEarlyExitException(e,Nn.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(e,r){const n=this.getKeyForAutomaticLookahead(Yk,e);return this.manyInternalLogic(e,r,n)}manyInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;const o=r.GATE;if(o!==void 0){const l=i;i=()=>o.call(this)&&l.call(this)}}else a=r;let s=!0;for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],i,Yk,e,WIe,s)}manySepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(Kk,e);this.manySepFirstInternalLogic(e,r,n)}manySepFirstInternalLogic(e,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),a);for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,xq],o,Kk,e,xq)}}repetitionSepSecondInternal(e,r,n,i,a){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,i,a],n,Kx,e,a)}doSingleRepetition(e){const r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){const n=this.getKeyForAutomaticLookahead(Bq,r),i=Ar(e)?e:e.DEF,s=this.getLaFuncFromCache(n).call(this,i);if(s!==void 0)return i[s].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new xDe(r,e))}}subruleInternal(e,r,n){let i;try{const a=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=e.apply(this,a),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),i}catch(a){throw this.subruleInternalError(a,n,e.ruleName)}}subruleInternalError(e,r,n){throw Yx(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,r,n){let i;try{const a=this.LA(1);this.tokenMatcher(a,e)===!0?(this.consumeToken(),i=a):this.consumeInternalError(e,a,n)}catch(a){i=this.consumeInternalRecovery(e,r,a)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,i),i}consumeInternalError(e,r,n){let i;const a=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Mq(i,r,a))}consumeInternalRecovery(e,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,i)}catch(a){throw a.name===Pq?n:a}}else throw n}saveRecogState(){const e=this.errors,r=gi(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),su)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class UDe{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Jt(e,"errorMessageProvider")?e.errorMessageProvider:hc.errorMessageProvider}SAVE_ERROR(e){if(Yx(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:gi(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return gi(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,r,n){const i=this.getCurrRuleFullName(),a=this.getGAstProductions()[i],o=qx(e,a,r,this.maxLookahead)[0],l=[];for(let h=1;h<=this.maxLookahead;h++)l.push(this.LA(h));const u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new EDe(u,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],a=Vx(e,i,this.maxLookahead),s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));const o=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:s,previous:o,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new bDe(l,this.LA(1),o))}}class HDe{initContentAssist(){}computeContentAssist(e,r){const n=this.gastProductionsCache[e];if(Xr(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Tq([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const r=Eo(e.ruleStack),i=this.getGAstProductions()[r];return new qIe(i,e).startWalking()}}const Qx={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Qx);const Hq=!0,Gq=Math.pow(2,ou)-1,Vq=vq({name:"RECORDING_PHASE_TOKEN",pattern:is.NA});ym([Vq]);const qq=zk(Vq,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(qq);const GDe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class VDe{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const r=e>0?e:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,e,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,e,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${r}`]=function(n){this.manyInternalRecord(e,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(e,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(e,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n)}}this.consume=function(e,r,n){return this.consumeInternalRecord(r,e,n)},this.subrule=function(e,r,n){return this.subruleInternalRecord(r,e,n)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r)},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return()=>!0}LA_RECORD(e){return Jx}topLevelRuleRecord(e,r){try{const n=new $f({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(e,r){return bm.call(this,Vi,e,r)}atLeastOneInternalRecord(e,r){bm.call(this,Cs,r,e)}atLeastOneSepFirstInternalRecord(e,r){bm.call(this,_s,r,e,Hq)}manyInternalRecord(e,r){bm.call(this,Pn,r,e)}manySepFirstInternalRecord(e,r){bm.call(this,rs,r,e,Hq)}orInternalRecord(e,r){return qDe.call(this,e,r)}subruleInternalRecord(e,r,n){if(Zx(r),!e||Jt(e,"ruleName")===!1){const o=new Error(`<SUBRULE${Wq(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=al(this.recordingProdStack),a=e.ruleName,s=new Ia({idx:r,nonTerminalName:a,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?GDe:Qx}consumeInternalRecord(e,r,n){if(Zx(r),!oq(e)){const s=new Error(`<CONSUME${Wq(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}const i=al(this.recordingProdStack),a=new En({idx:r,terminalType:e,label:n==null?void 0:n.LABEL});return i.definition.push(a),qq}}function bm(t,e,r,n=!1){Zx(r);const i=al(this.recordingProdStack),a=Hs(e)?e:e.DEF,s=new t({definition:[],idx:r});return n&&(s.separator=e.SEP),Jt(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),i.definition.push(s),this.recordingProdStack.pop(),Qx}function qDe(t,e){Zx(e);const r=al(this.recordingProdStack),n=Ar(t)===!1,i=n===!1?t:t.DEF,a=new ns({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});Jt(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD);const s=SG(i,o=>Hs(o.GATE));return a.hasPredicates=s,r.definition.push(a),Ge(i,o=>{const l=new ts({definition:[]});a.definition.push(l),Jt(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:Jt(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()}),Qx}function Wq(t){return t===0?"":`${t}`}function Zx(t){if(t<0||t>Gq){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${Gq+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class WDe{initPerformanceTracer(e){if(Jt(e,"traceInitPerf")){const r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=hc.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);const{time:i,value:a}=WV(r),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,a}else return r()}}function YDe(t,e){e.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(t.prototype,i,a):t.prototype[i]=r.prototype[i]})})}const Jx=zk(su,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Jx);const hc=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Hf,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),eE=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Da;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Da||(Da={}));function Yq(t=void 0){return function(){return t}}class xm{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{YV(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Ge(this.definedRulesNames,i=>{const s=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=yDe({rules:ln(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Hr(n)&&this.skipValidations===!1){const i=vDe({rules:ln(this.gastProductionsCache),tokenTypes:ln(this.tokensMap),errMsgProvider:Oh,grammarName:r}),a=rDe({lookaheadStrategy:this.lookaheadStrategy,rules:ln(this.gastProductionsCache),tokenTypes:ln(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,a)}}),Hr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=tIe(ln(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(i,{rules:ln(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ln(this.gastProductionsCache))})),!xm.DEFER_DEFINITION_ERRORS_HANDLING&&!Hr(this.definitionErrors))throw e=Ct(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Jt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Jt(r,"skipValidations")?r.skipValidations:hc.skipValidations}}xm.DEFER_DEFINITION_ERRORS_HANDLING=!1,YDe(xm,[wDe,CDe,BDe,FDe,zDe,$De,UDe,HDe,VDe,WDe]);class XDe extends xm{constructor(e,r=hc){const n=gi(r);n.outputCst=!1,super(e,n)}}function Gf(t,e,r){return`${t.name}_${e}_${r}`}const lu=1,KDe=2,Xq=4,Kq=5,Em=7,jDe=8,QDe=9,ZDe=10,JDe=11,jq=12;class Jk{constructor(e){this.target=e}isEpsilon(){return!1}}class eC extends Jk{constructor(e,r){super(e),this.tokenType=r}}class Qq extends Jk{constructor(e){super(e)}isEpsilon(){return!0}}class tC extends Jk{constructor(e,r,n){super(e),this.rule=r,this.followState=n}isEpsilon(){return!0}}function eOe(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};tOe(e,t);const r=t.length;for(let n=0;n<r;n++){const i=t[n],a=Mh(e,i,i);a!==void 0&&dOe(e,i,a)}return e}function tOe(t,e){const r=e.length;for(let n=0;n<r;n++){const i=e[n],a=Ii(t,i,void 0,{type:KDe}),s=Ii(t,i,void 0,{type:Em});a.stop=s,t.ruleToStartState.set(i,a),t.ruleToStopState.set(i,s)}}function Zq(t,e,r){return r instanceof En?rC(t,e,r.terminalType,r):r instanceof Ia?hOe(t,e,r):r instanceof ns?sOe(t,e,r):r instanceof Vi?oOe(t,e,r):r instanceof Pn?rOe(t,e,r):r instanceof rs?nOe(t,e,r):r instanceof Cs?iOe(t,e,r):r instanceof _s?aOe(t,e,r):Mh(t,e,r)}function rOe(t,e,r){const n=Ii(t,e,r,{type:Kq});cu(t,n);const i=Vf(t,e,n,r,Mh(t,e,r));return eW(t,e,r,i)}function nOe(t,e,r){const n=Ii(t,e,r,{type:Kq});cu(t,n);const i=Vf(t,e,n,r,Mh(t,e,r)),a=rC(t,e,r.separator,r);return eW(t,e,r,i,a)}function iOe(t,e,r){const n=Ii(t,e,r,{type:Xq});cu(t,n);const i=Vf(t,e,n,r,Mh(t,e,r));return Jq(t,e,r,i)}function aOe(t,e,r){const n=Ii(t,e,r,{type:Xq});cu(t,n);const i=Vf(t,e,n,r,Mh(t,e,r)),a=rC(t,e,r.separator,r);return Jq(t,e,r,i,a)}function sOe(t,e,r){const n=Ii(t,e,r,{type:lu});cu(t,n);const i=Ct(r.definition,s=>Zq(t,e,s));return Vf(t,e,n,r,...i)}function oOe(t,e,r){const n=Ii(t,e,r,{type:lu});cu(t,n);const i=Vf(t,e,n,r,Mh(t,e,r));return lOe(t,e,r,i)}function Mh(t,e,r){const n=Mn(Ct(r.definition,i=>Zq(t,e,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:uOe(t,n)}function Jq(t,e,r,n,i){const a=n.left,s=n.right,o=Ii(t,e,r,{type:JDe});cu(t,o);const l=Ii(t,e,r,{type:jq});return a.loopback=o,l.loopback=o,t.decisionMap[Gf(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,ei(s,o),i===void 0?(ei(o,a),ei(o,l)):(ei(o,l),ei(o,i.left),ei(i.right,a)),{left:a,right:l}}function eW(t,e,r,n,i){const a=n.left,s=n.right,o=Ii(t,e,r,{type:ZDe});cu(t,o);const l=Ii(t,e,r,{type:jq}),u=Ii(t,e,r,{type:QDe});return o.loopback=u,l.loopback=u,ei(o,a),ei(o,l),ei(s,u),i!==void 0?(ei(u,l),ei(u,i.left),ei(i.right,a)):ei(u,o),t.decisionMap[Gf(e,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:l}}function lOe(t,e,r,n){const i=n.left,a=n.right;return ei(i,a),t.decisionMap[Gf(e,"Option",r.idx)]=i,n}function cu(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function Vf(t,e,r,n,...i){const a=Ii(t,e,n,{type:jDe,start:r});r.end=a;for(const o of i)o!==void 0?(ei(r,o.left),ei(o.right,a)):ei(r,a);const s={left:r,right:a};return t.decisionMap[Gf(e,cOe(n),n.idx)]=r,s}function cOe(t){if(t instanceof ns)return"Alternation";if(t instanceof Vi)return"Option";if(t instanceof Pn)return"Repetition";if(t instanceof rs)return"RepetitionWithSeparator";if(t instanceof Cs)return"RepetitionMandatory";if(t instanceof _s)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function uOe(t,e){const r=e.length;for(let a=0;a<r-1;a++){const s=e[a];let o;s.left.transitions.length===1&&(o=s.left.transitions[0]);const l=o instanceof tC,u=o,h=e[a+1].left;s.left.type===lu&&s.right.type===lu&&o!==void 0&&(l&&u.followState===s.right||o.target===s.right)?(l?u.followState=h:o.target=h,fOe(t,s.right)):ei(s.right,h)}const n=e[0],i=e[r-1];return{left:n.left,right:i.right}}function rC(t,e,r,n){const i=Ii(t,e,n,{type:lu}),a=Ii(t,e,n,{type:lu});return nC(i,new eC(a,r)),{left:i,right:a}}function hOe(t,e,r){const n=r.referencedRule,i=t.ruleToStartState.get(n),a=Ii(t,e,r,{type:lu}),s=Ii(t,e,r,{type:lu}),o=new tC(i,n,s);return nC(a,o),{left:a,right:s}}function dOe(t,e,r){const n=t.ruleToStartState.get(e);ei(n,r.left);const i=t.ruleToStopState.get(e);return ei(r.right,i),{left:n,right:i}}function ei(t,e){const r=new Qq(e);nC(t,r)}function Ii(t,e,r,n){const i=Object.assign({atn:t,production:r,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},n);return t.states.push(i),i}function nC(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function fOe(t,e){t.states.splice(t.states.indexOf(e),1)}const tE={};class iC{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const r=tW(e);r in this.map||(this.map[r]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return Ct(this.configs,e=>e.alt)}get key(){let e="";for(const r in this.map)e+=r+":";return e}}function tW(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(r=>r.stateNumber.toString()).join("_")}`}function pOe(t,e){const r={};return n=>{const i=n.toString();let a=r[i];return a!==void 0||(a={atnStartState:t,decision:e,states:{}},r[i]=a),a}}class rW{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,r){this.predicates[e]=r}toString(){let e="";const r=this.predicates.length;for(let n=0;n<r;n++)e+=this.predicates[n]===!0?"1":"0";return e}}const nW=new rW;class gOe extends Qk{constructor(e){var r;super(),this.logging=(r=e==null?void 0:e.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(e){this.atn=eOe(e.rules),this.dfas=mOe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,l=Gf(n,"Alternation",r),h=this.atn.decisionMap[l].decision,d=Ct(wq({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),f=>Ct(f,p=>p[0]));if(iW(d,!1)&&!a){const f=Jn(d,(p,g,m)=>(Ge(g,y=>{y&&(p[y.tokenTypeIdx]=m,Ge(y.categoryMatches,v=>{p[v]=m}))}),p),{});return i?function(p){var g;const m=this.LA(1),y=f[m.tokenTypeIdx];if(p!==void 0&&y!==void 0){const v=(g=p[y])===null||g===void 0?void 0:g.GATE;if(v!==void 0&&v.call(this)===!1)return}return y}:function(){const p=this.LA(1);return f[p.tokenTypeIdx]}}else return i?function(f){const p=new rW,g=f===void 0?0:f.length;for(let y=0;y<g;y++){const v=f==null?void 0:f[y].GATE;p.set(y,v===void 0||v.call(this))}const m=aC.call(this,s,h,p,o);return typeof m=="number"?m:void 0}:function(){const f=aC.call(this,s,h,nW,o);return typeof f=="number"?f:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,l=Gf(n,i,r),h=this.atn.decisionMap[l].decision,d=Ct(wq({maxLookahead:1,occurrence:r,prodType:i,rule:n}),f=>Ct(f,p=>p[0]));if(iW(d)&&d[0][0]&&!a){const f=d[0],p=Ri(f);if(p.length===1&&Hr(p[0].categoryMatches)){const m=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===m}}else{const g=Jn(p,(m,y)=>(y!==void 0&&(m[y.tokenTypeIdx]=!0,Ge(y.categoryMatches,v=>{m[v]=!0})),m),{});return function(){const m=this.LA(1);return g[m.tokenTypeIdx]===!0}}}return function(){const f=aC.call(this,s,h,nW,o);return typeof f=="object"?!1:f===0}}}function iW(t,e=!0){const r=new Set;for(const n of t){const i=new Set;for(const a of n){if(a===void 0){if(e)break;return!1}const s=[a.tokenTypeIdx].concat(a.categoryMatches);for(const o of s)if(r.has(o)){if(!i.has(o))return!1}else r.add(o),i.add(o)}}return!0}function mOe(t){const e=t.decisionStates.length,r=Array(e);for(let n=0;n<e;n++)r[n]=pOe(t.decisionStates[n],n);return r}function aC(t,e,r,n){const i=t[e](r);let a=i.start;if(a===void 0){const o=_Oe(i.atnStartState);a=oW(i,aW(o)),i.start=a}return yOe.apply(this,[i,a,r,n])}function yOe(t,e,r,n){let i=e,a=1;const s=[];let o=this.LA(a++);for(;;){let l=wOe(i,o);if(l===void 0&&(l=vOe.apply(this,[t,i,o,a,r,n])),l===tE)return TOe(s,i,o);if(l.isAcceptState===!0)return l.prediction;i=l,s.push(o),o=this.LA(a++)}}function vOe(t,e,r,n,i,a){const s=SOe(e.configs,r,i);if(s.size===0)return sW(t,e,r,tE),tE;let o=aW(s);const l=COe(s,i);if(l!==void 0)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(ROe(s)){const u=Rf(s.alts);o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u,bOe.apply(this,[t,n,s.alts,a])}return o=sW(t,e,r,o),o}function bOe(t,e,r,n){const i=[];for(let u=1;u<=e;u++)i.push(this.LA(u).tokenType);const a=t.atnStartState,s=a.rule,o=a.production,l=xOe({topLevelRule:s,ambiguityIndices:r,production:o,prefixPath:i});n(l)}function xOe(t){const e=Ct(t.prefixPath,i=>Uf(i)).join(", "),r=t.production.idx===0?"":t.production.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${EOe(t.production)}${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function EOe(t){if(t instanceof Ia)return"SUBRULE";if(t instanceof Vi)return"OPTION";if(t instanceof ns)return"OR";if(t instanceof Cs)return"AT_LEAST_ONE";if(t instanceof _s)return"AT_LEAST_ONE_SEP";if(t instanceof rs)return"MANY_SEP";if(t instanceof Pn)return"MANY";if(t instanceof En)return"CONSUME";throw Error("non exhaustive match")}function TOe(t,e,r){const n=Ss(e.configs.elements,a=>a.state.transitions),i=k7e(n.filter(a=>a instanceof eC).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:t}}function wOe(t,e){return t.edges[e.tokenTypeIdx]}function SOe(t,e,r){const n=new iC,i=[];for(const s of t.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===Em){i.push(s);continue}const o=s.state.transitions.length;for(let l=0;l<o;l++){const u=s.state.transitions[l],h=kOe(u,e);h!==void 0&&n.add({state:h,alt:s.alt,stack:s.stack})}}let a;if(i.length===0&&n.size===1&&(a=n),a===void 0){a=new iC;for(const s of n.elements)rE(s,a)}if(i.length>0&&!LOe(a))for(const s of i)a.add(s);return a}function kOe(t,e){if(t instanceof eC&&bq(e,t.tokenType))return t.target}function COe(t,e){let r;for(const n of t.elements)if(e.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function aW(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function sW(t,e,r,n){return n=oW(t,n),e.edges[r.tokenTypeIdx]=n,n}function oW(t,e){if(e===tE)return e;const r=e.configs.key,n=t.states[r];return n!==void 0?n:(e.configs.finalize(),t.states[r]=e,e)}function _Oe(t){const e=new iC,r=t.transitions.length;for(let n=0;n<r;n++){const a={state:t.transitions[n].target,alt:n,stack:[]};rE(a,e)}return e}function rE(t,e){const r=t.state;if(r.type===Em){if(t.stack.length>0){const i=[...t.stack],s={state:i.pop(),alt:t.alt,stack:i};rE(s,e)}else e.add(t);return}r.epsilonOnlyTransitions||e.add(t);const n=r.transitions.length;for(let i=0;i<n;i++){const a=r.transitions[i],s=AOe(t,a);s!==void 0&&rE(s,e)}}function AOe(t,e){if(e instanceof Qq)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof tC){const r=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:r}}}function LOe(t){for(const e of t.elements)if(e.state.type===Em)return!0;return!1}function NOe(t){for(const e of t.elements)if(e.state.type!==Em)return!1;return!0}function ROe(t){if(NOe(t))return!0;const e=IOe(t.elements);return DOe(e)&&!OOe(e)}function IOe(t){const e=new Map;for(const r of t){const n=tW(r,!1);let i=e.get(n);i===void 0&&(i={},e.set(n,i)),i[r.alt]=!0}return e}function DOe(t){for(const e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function OOe(t){for(const e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}var lW;(function(t){function e(r){return typeof r=="string"}t.is=e})(lW||(lW={}));var sC;(function(t){function e(r){return typeof r=="string"}t.is=e})(sC||(sC={}));var cW;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(cW||(cW={}));var nE;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(nE||(nE={}));var jr;(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=nE.MAX_VALUE),i===Number.MAX_VALUE&&(i=nE.MAX_VALUE),{line:n,character:i}}t.create=e;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.uinteger(i.line)&&Ke.uinteger(i.character)}t.is=r})(jr||(jr={}));var Dr;(function(t){function e(n,i,a,s){if(Ke.uinteger(n)&&Ke.uinteger(i)&&Ke.uinteger(a)&&Ke.uinteger(s))return{start:jr.create(n,i),end:jr.create(a,s)};if(jr.is(n)&&jr.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${a}, ${s}]`)}t.create=e;function r(n){let i=n;return Ke.objectLiteral(i)&&jr.is(i.start)&&jr.is(i.end)}t.is=r})(Dr||(Dr={}));var iE;(function(t){function e(n,i){return{uri:n,range:i}}t.create=e;function r(n){let i=n;return Ke.objectLiteral(i)&&Dr.is(i.range)&&(Ke.string(i.uri)||Ke.undefined(i.uri))}t.is=r})(iE||(iE={}));var uW;(function(t){function e(n,i,a,s){return{targetUri:n,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}t.create=e;function r(n){let i=n;return Ke.objectLiteral(i)&&Dr.is(i.targetRange)&&Ke.string(i.targetUri)&&Dr.is(i.targetSelectionRange)&&(Dr.is(i.originSelectionRange)||Ke.undefined(i.originSelectionRange))}t.is=r})(uW||(uW={}));var oC;(function(t){function e(n,i,a,s){return{red:n,green:i,blue:a,alpha:s}}t.create=e;function r(n){const i=n;return Ke.objectLiteral(i)&&Ke.numberRange(i.red,0,1)&&Ke.numberRange(i.green,0,1)&&Ke.numberRange(i.blue,0,1)&&Ke.numberRange(i.alpha,0,1)}t.is=r})(oC||(oC={}));var hW;(function(t){function e(n,i){return{range:n,color:i}}t.create=e;function r(n){const i=n;return Ke.objectLiteral(i)&&Dr.is(i.range)&&oC.is(i.color)}t.is=r})(hW||(hW={}));var dW;(function(t){function e(n,i,a){return{label:n,textEdit:i,additionalTextEdits:a}}t.create=e;function r(n){const i=n;return Ke.objectLiteral(i)&&Ke.string(i.label)&&(Ke.undefined(i.textEdit)||Wf.is(i))&&(Ke.undefined(i.additionalTextEdits)||Ke.typedArray(i.additionalTextEdits,Wf.is))}t.is=r})(dW||(dW={}));var fW;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(fW||(fW={}));var pW;(function(t){function e(n,i,a,s,o,l){const u={startLine:n,endLine:i};return Ke.defined(a)&&(u.startCharacter=a),Ke.defined(s)&&(u.endCharacter=s),Ke.defined(o)&&(u.kind=o),Ke.defined(l)&&(u.collapsedText=l),u}t.create=e;function r(n){const i=n;return Ke.objectLiteral(i)&&Ke.uinteger(i.startLine)&&Ke.uinteger(i.startLine)&&(Ke.undefined(i.startCharacter)||Ke.uinteger(i.startCharacter))&&(Ke.undefined(i.endCharacter)||Ke.uinteger(i.endCharacter))&&(Ke.undefined(i.kind)||Ke.string(i.kind))}t.is=r})(pW||(pW={}));var lC;(function(t){function e(n,i){return{location:n,message:i}}t.create=e;function r(n){let i=n;return Ke.defined(i)&&iE.is(i.location)&&Ke.string(i.message)}t.is=r})(lC||(lC={}));var gW;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(gW||(gW={}));var mW;(function(t){t.Unnecessary=1,t.Deprecated=2})(mW||(mW={}));var yW;(function(t){function e(r){const n=r;return Ke.objectLiteral(n)&&Ke.string(n.href)}t.is=e})(yW||(yW={}));var aE;(function(t){function e(n,i,a,s,o,l){let u={range:n,message:i};return Ke.defined(a)&&(u.severity=a),Ke.defined(s)&&(u.code=s),Ke.defined(o)&&(u.source=o),Ke.defined(l)&&(u.relatedInformation=l),u}t.create=e;function r(n){var i;let a=n;return Ke.defined(a)&&Dr.is(a.range)&&Ke.string(a.message)&&(Ke.number(a.severity)||Ke.undefined(a.severity))&&(Ke.integer(a.code)||Ke.string(a.code)||Ke.undefined(a.code))&&(Ke.undefined(a.codeDescription)||Ke.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(Ke.string(a.source)||Ke.undefined(a.source))&&(Ke.undefined(a.relatedInformation)||Ke.typedArray(a.relatedInformation,lC.is))}t.is=r})(aE||(aE={}));var qf;(function(t){function e(n,i,...a){let s={title:n,command:i};return Ke.defined(a)&&a.length>0&&(s.arguments=a),s}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.title)&&Ke.string(i.command)}t.is=r})(qf||(qf={}));var Wf;(function(t){function e(a,s){return{range:a,newText:s}}t.replace=e;function r(a,s){return{range:{start:a,end:a},newText:s}}t.insert=r;function n(a){return{range:a,newText:""}}t.del=n;function i(a){const s=a;return Ke.objectLiteral(s)&&Ke.string(s.newText)&&Dr.is(s.range)}t.is=i})(Wf||(Wf={}));var cC;(function(t){function e(n,i,a){const s={label:n};return i!==void 0&&(s.needsConfirmation=i),a!==void 0&&(s.description=a),s}t.create=e;function r(n){const i=n;return Ke.objectLiteral(i)&&Ke.string(i.label)&&(Ke.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ke.string(i.description)||i.description===void 0)}t.is=r})(cC||(cC={}));var Yf;(function(t){function e(r){const n=r;return Ke.string(n)}t.is=e})(Yf||(Yf={}));var vW;(function(t){function e(a,s,o){return{range:a,newText:s,annotationId:o}}t.replace=e;function r(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}t.insert=r;function n(a,s){return{range:a,newText:"",annotationId:s}}t.del=n;function i(a){const s=a;return Wf.is(s)&&(cC.is(s.annotationId)||Yf.is(s.annotationId))}t.is=i})(vW||(vW={}));var uC;(function(t){function e(n,i){return{textDocument:n,edits:i}}t.create=e;function r(n){let i=n;return Ke.defined(i)&&gC.is(i.textDocument)&&Array.isArray(i.edits)}t.is=r})(uC||(uC={}));var hC;(function(t){function e(n,i,a){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}t.create=e;function r(n){let i=n;return i&&i.kind==="create"&&Ke.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ke.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ke.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Yf.is(i.annotationId))}t.is=r})(hC||(hC={}));var dC;(function(t){function e(n,i,a,s){let o={kind:"rename",oldUri:n,newUri:i};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}t.create=e;function r(n){let i=n;return i&&i.kind==="rename"&&Ke.string(i.oldUri)&&Ke.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ke.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ke.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Yf.is(i.annotationId))}t.is=r})(dC||(dC={}));var fC;(function(t){function e(n,i,a){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}t.create=e;function r(n){let i=n;return i&&i.kind==="delete"&&Ke.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ke.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ke.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Yf.is(i.annotationId))}t.is=r})(fC||(fC={}));var pC;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ke.string(i.kind)?hC.is(i)||dC.is(i)||fC.is(i):uC.is(i)))}t.is=e})(pC||(pC={}));var bW;(function(t){function e(n){return{uri:n}}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)}t.is=r})(bW||(bW={}));var xW;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&Ke.integer(i.version)}t.is=r})(xW||(xW={}));var gC;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&(i.version===null||Ke.integer(i.version))}t.is=r})(gC||(gC={}));var EW;(function(t){function e(n,i,a,s){return{uri:n,languageId:i,version:a,text:s}}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&Ke.string(i.languageId)&&Ke.integer(i.version)&&Ke.string(i.text)}t.is=r})(EW||(EW={}));var mC;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){const n=r;return n===t.PlainText||n===t.Markdown}t.is=e})(mC||(mC={}));var Tm;(function(t){function e(r){const n=r;return Ke.objectLiteral(r)&&mC.is(n.kind)&&Ke.string(n.value)}t.is=e})(Tm||(Tm={}));var TW;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(TW||(TW={}));var wW;(function(t){t.PlainText=1,t.Snippet=2})(wW||(wW={}));var SW;(function(t){t.Deprecated=1})(SW||(SW={}));var kW;(function(t){function e(n,i,a){return{newText:n,insert:i,replace:a}}t.create=e;function r(n){const i=n;return i&&Ke.string(i.newText)&&Dr.is(i.insert)&&Dr.is(i.replace)}t.is=r})(kW||(kW={}));var CW;(function(t){t.asIs=1,t.adjustIndentation=2})(CW||(CW={}));var _W;(function(t){function e(r){const n=r;return n&&(Ke.string(n.detail)||n.detail===void 0)&&(Ke.string(n.description)||n.description===void 0)}t.is=e})(_W||(_W={}));var AW;(function(t){function e(r){return{label:r}}t.create=e})(AW||(AW={}));var LW;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}t.create=e})(LW||(LW={}));var sE;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function r(n){const i=n;return Ke.string(i)||Ke.objectLiteral(i)&&Ke.string(i.language)&&Ke.string(i.value)}t.is=r})(sE||(sE={}));var NW;(function(t){function e(r){let n=r;return!!n&&Ke.objectLiteral(n)&&(Tm.is(n.contents)||sE.is(n.contents)||Ke.typedArray(n.contents,sE.is))&&(r.range===void 0||Dr.is(r.range))}t.is=e})(NW||(NW={}));var RW;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}t.create=e})(RW||(RW={}));var IW;(function(t){function e(r,n,...i){let a={label:r};return Ke.defined(n)&&(a.documentation=n),Ke.defined(i)?a.parameters=i:a.parameters=[],a}t.create=e})(IW||(IW={}));var DW;(function(t){t.Text=1,t.Read=2,t.Write=3})(DW||(DW={}));var OW;(function(t){function e(r,n){let i={range:r};return Ke.number(n)&&(i.kind=n),i}t.create=e})(OW||(OW={}));var MW;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(MW||(MW={}));var PW;(function(t){t.Deprecated=1})(PW||(PW={}));var BW;(function(t){function e(r,n,i,a,s){let o={name:r,kind:n,location:{uri:a,range:i}};return s&&(o.containerName=s),o}t.create=e})(BW||(BW={}));var FW;(function(t){function e(r,n,i,a){return a!==void 0?{name:r,kind:n,location:{uri:i,range:a}}:{name:r,kind:n,location:{uri:i}}}t.create=e})(FW||(FW={}));var $W;(function(t){function e(n,i,a,s,o,l){let u={name:n,detail:i,kind:a,range:s,selectionRange:o};return l!==void 0&&(u.children=l),u}t.create=e;function r(n){let i=n;return i&&Ke.string(i.name)&&Ke.number(i.kind)&&Dr.is(i.range)&&Dr.is(i.selectionRange)&&(i.detail===void 0||Ke.string(i.detail))&&(i.deprecated===void 0||Ke.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=r})($W||($W={}));var zW;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(zW||(zW={}));var oE;(function(t){t.Invoked=1,t.Automatic=2})(oE||(oE={}));var UW;(function(t){function e(n,i,a){let s={diagnostics:n};return i!=null&&(s.only=i),a!=null&&(s.triggerKind=a),s}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Ke.typedArray(i.diagnostics,aE.is)&&(i.only===void 0||Ke.typedArray(i.only,Ke.string))&&(i.triggerKind===void 0||i.triggerKind===oE.Invoked||i.triggerKind===oE.Automatic)}t.is=r})(UW||(UW={}));var HW;(function(t){function e(n,i,a){let s={title:n},o=!0;return typeof i=="string"?(o=!1,s.kind=i):qf.is(i)?s.command=i:s.edit=i,o&&a!==void 0&&(s.kind=a),s}t.create=e;function r(n){let i=n;return i&&Ke.string(i.title)&&(i.diagnostics===void 0||Ke.typedArray(i.diagnostics,aE.is))&&(i.kind===void 0||Ke.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||qf.is(i.command))&&(i.isPreferred===void 0||Ke.boolean(i.isPreferred))&&(i.edit===void 0||pC.is(i.edit))}t.is=r})(HW||(HW={}));var GW;(function(t){function e(n,i){let a={range:n};return Ke.defined(i)&&(a.data=i),a}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Dr.is(i.range)&&(Ke.undefined(i.command)||qf.is(i.command))}t.is=r})(GW||(GW={}));var VW;(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Ke.uinteger(i.tabSize)&&Ke.boolean(i.insertSpaces)}t.is=r})(VW||(VW={}));var qW;(function(t){function e(n,i,a){return{range:n,target:i,data:a}}t.create=e;function r(n){let i=n;return Ke.defined(i)&&Dr.is(i.range)&&(Ke.undefined(i.target)||Ke.string(i.target))}t.is=r})(qW||(qW={}));var WW;(function(t){function e(n,i){return{range:n,parent:i}}t.create=e;function r(n){let i=n;return Ke.objectLiteral(i)&&Dr.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=r})(WW||(WW={}));var YW;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(YW||(YW={}));var XW;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(XW||(XW={}));var KW;(function(t){function e(r){const n=r;return Ke.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(KW||(KW={}));var jW;(function(t){function e(n,i){return{range:n,text:i}}t.create=e;function r(n){const i=n;return i!=null&&Dr.is(i.range)&&Ke.string(i.text)}t.is=r})(jW||(jW={}));var QW;(function(t){function e(n,i,a){return{range:n,variableName:i,caseSensitiveLookup:a}}t.create=e;function r(n){const i=n;return i!=null&&Dr.is(i.range)&&Ke.boolean(i.caseSensitiveLookup)&&(Ke.string(i.variableName)||i.variableName===void 0)}t.is=r})(QW||(QW={}));var ZW;(function(t){function e(n,i){return{range:n,expression:i}}t.create=e;function r(n){const i=n;return i!=null&&Dr.is(i.range)&&(Ke.string(i.expression)||i.expression===void 0)}t.is=r})(ZW||(ZW={}));var JW;(function(t){function e(n,i){return{frameId:n,stoppedLocation:i}}t.create=e;function r(n){const i=n;return Ke.defined(i)&&Dr.is(n.stoppedLocation)}t.is=r})(JW||(JW={}));var yC;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}t.is=e})(yC||(yC={}));var vC;(function(t){function e(n){return{value:n}}t.create=e;function r(n){const i=n;return Ke.objectLiteral(i)&&(i.tooltip===void 0||Ke.string(i.tooltip)||Tm.is(i.tooltip))&&(i.location===void 0||iE.is(i.location))&&(i.command===void 0||qf.is(i.command))}t.is=r})(vC||(vC={}));var eY;(function(t){function e(n,i,a){const s={position:n,label:i};return a!==void 0&&(s.kind=a),s}t.create=e;function r(n){const i=n;return Ke.objectLiteral(i)&&jr.is(i.position)&&(Ke.string(i.label)||Ke.typedArray(i.label,vC.is))&&(i.kind===void 0||yC.is(i.kind))&&i.textEdits===void 0||Ke.typedArray(i.textEdits,Wf.is)&&(i.tooltip===void 0||Ke.string(i.tooltip)||Tm.is(i.tooltip))&&(i.paddingLeft===void 0||Ke.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ke.boolean(i.paddingRight))}t.is=r})(eY||(eY={}));var tY;(function(t){function e(r){return{kind:"snippet",value:r}}t.createSnippet=e})(tY||(tY={}));var rY;(function(t){function e(r,n,i,a){return{insertText:r,filterText:n,range:i,command:a}}t.create=e})(rY||(rY={}));var nY;(function(t){function e(r){return{items:r}}t.create=e})(nY||(nY={}));var iY;(function(t){t.Invoked=0,t.Automatic=1})(iY||(iY={}));var aY;(function(t){function e(r,n){return{range:r,text:n}}t.create=e})(aY||(aY={}));var sY;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}t.create=e})(sY||(sY={}));var oY;(function(t){function e(r){const n=r;return Ke.objectLiteral(n)&&sC.is(n.uri)&&Ke.string(n.name)}t.is=e})(oY||(oY={}));var lY;(function(t){function e(a,s,o,l){return new MOe(a,s,o,l)}t.create=e;function r(a){let s=a;return!!(Ke.defined(s)&&Ke.string(s.uri)&&(Ke.undefined(s.languageId)||Ke.string(s.languageId))&&Ke.uinteger(s.lineCount)&&Ke.func(s.getText)&&Ke.func(s.positionAt)&&Ke.func(s.offsetAt))}t.is=r;function n(a,s){let o=a.getText(),l=i(s,(h,d)=>{let f=h.range.start.line-d.range.start.line;return f===0?h.range.start.character-d.range.start.character:f}),u=o.length;for(let h=l.length-1;h>=0;h--){let d=l[h],f=a.offsetAt(d.range.start),p=a.offsetAt(d.range.end);if(p<=u)o=o.substring(0,f)+d.newText+o.substring(p,o.length);else throw new Error("Overlapping edit");u=f}return o}t.applyEdits=n;function i(a,s){if(a.length<=1)return a;const o=a.length/2|0,l=a.slice(0,o),u=a.slice(o);i(l,s),i(u,s);let h=0,d=0,f=0;for(;h<l.length&&d<u.length;)s(l[h],u[d])<=0?a[f++]=l[h++]:a[f++]=u[d++];for(;h<l.length;)a[f++]=l[h++];for(;d<u.length;)a[f++]=u[d++];return a}})(lY||(lY={}));let MOe=class{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let a=r.charAt(i);n=a==="\r"||a===`
`,a==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return jr.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}let a=n-1;return jr.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};var Ke;(function(t){const e=Object.prototype.toString;function r(p){return typeof p<"u"}t.defined=r;function n(p){return typeof p>"u"}t.undefined=n;function i(p){return p===!0||p===!1}t.boolean=i;function a(p){return e.call(p)==="[object String]"}t.string=a;function s(p){return e.call(p)==="[object Number]"}t.number=s;function o(p,g,m){return e.call(p)==="[object Number]"&&g<=p&&p<=m}t.numberRange=o;function l(p){return e.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}t.integer=l;function u(p){return e.call(p)==="[object Number]"&&0<=p&&p<=2147483647}t.uinteger=u;function h(p){return e.call(p)==="[object Function]"}t.func=h;function d(p){return p!==null&&typeof p=="object"}t.objectLiteral=d;function f(p,g){return Array.isArray(p)&&p.every(g)}t.typedArray=f})(Ke||(Ke={}));class POe{constructor(){this.nodeStack=[]}get current(){var e;return(e=this.nodeStack[this.nodeStack.length-1])!==null&&e!==void 0?e:this.rootNode}buildRootNode(e){return this.rootNode=new uY(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const r=new xC;return r.grammarSource=e,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(e,r){const n=new bC(e.startOffset,e.image.length,gk(e),e.tokenType,!r);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){const r=e.container;if(r){const n=r.content.indexOf(e);n>=0&&r.content.splice(n,1)}}addHiddenNodes(e){const r=[];for(const a of e){const s=new bC(a.startOffset,a.image.length,gk(a),a.tokenType,!0);s.root=this.rootNode,r.push(s)}let n=this.current,i=!1;if(n.content.length>0){n.content.push(...r);return}for(;n.container;){const a=n.container.content.indexOf(n);if(a>0){n.container.content.splice(a,0,...r),i=!0;break}n=n.container}i||this.rootNode.content.unshift(...r)}construct(e){const r=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}}class cY{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,r;const n=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class bC extends cY{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,r,n,i,a=!1){super(),this._hidden=a,this._offset=e,this._tokenType=i,this._length=r,this._range=n}}class xC extends cY{constructor(){super(...arguments),this.content=new EC(this)}get children(){return this.content}get offset(){var e,r;return(r=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var e,r;return(r=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:0}get range(){const e=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(e&&r){if(this._rangeCache===void 0){const{range:n}=e,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:jr.create(0,0),end:jr.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const r=this.content[e];if(!r.hidden)return r}return this.content[this.content.length-1]}}class EC extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,EC.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,r,...n){return this.addParents(n),super.splice(e,r,...n)}addParents(e){for(const r of e)r.container=this.parent}}class uY extends xC{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const TC=Symbol("Datatype");function wC(t){return t.$type===TC}const hY="​",dY=t=>t.endsWith(hY)?t:t+hY;class fY{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const r=this.lexer.definition,n=e.LanguageMetaData.mode==="production";this.wrapper=new UOe(r,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:n,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,r){this.wrapper.wrapOr(e,r)}optional(e,r){this.wrapper.wrapOption(e,r)}many(e,r){this.wrapper.wrapMany(e,r)}atLeastOne(e,r){this.wrapper.wrapAtLeastOne(e,r)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class BOe extends fY{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new POe,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,r){const n=this.computeRuleType(e),i=this.wrapper.DEFINE_RULE(dY(e.name),this.startImplementation(n,r).bind(this));return this.allRules.set(e.name,i),e.entry&&(this.mainRule=i),i}computeRuleType(e){if(!e.fragment){if(GV(e))return TC;{const r=Lk(e);return r??e.name}}}parse(e,r={}){this.nodeBuilder.buildRootNode(e);const n=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=n.tokens;const i=r.rule?this.allRules.get(r.rule):this.mainRule;if(!i)throw new Error(r.rule?`No rule found with name '${r.rule}'`:"No main rule available.");const a=i.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:a,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}startImplementation(e,r){return n=>{const i=!this.isRecording()&&e!==void 0;if(i){const s={$type:e};this.stack.push(s),e===TC&&(s.value="")}let a;try{a=r(n)}catch{a=void 0}return a===void 0&&i&&(a=this.construct()),a}}extractHiddenTokens(e){const r=this.lexerResult.hidden;if(!r.length)return[];const n=e.startOffset;for(let i=0;i<r.length;i++)if(r[i].startOffset>n)return r.splice(0,i);return r.splice(0,r.length)}consume(e,r,n){const i=this.wrapper.wrapConsume(e,r);if(!this.isRecording()&&this.isValidToken(i)){const a=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(a);const s=this.nodeBuilder.buildLeafNode(i,n),{assignment:o,isCrossRef:l}=this.getAssignment(n),u=this.current;if(o){const h=Rh(n)?i.image:this.converter.convert(i.image,s);this.assign(o.operator,o.feature,h,s,l)}else if(wC(u)){let h=i.image;Rh(n)||(h=this.converter.convert(h,s).toString()),u.value+=h}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,r,n,i,a){let s;!this.isRecording()&&!n&&(s=this.nodeBuilder.buildCompositeNode(i));const o=this.wrapper.wrapSubrule(e,r,a);!this.isRecording()&&s&&s.length>0&&this.performSubruleAssignment(o,i,s)}performSubruleAssignment(e,r,n){const{assignment:i,isCrossRef:a}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,e,n,a);else if(!i){const s=this.current;if(wC(s))s.value+=e.toString();else if(typeof e=="object"&&e){const l=this.assignWithoutOverride(e,s);this.stack.pop(),this.stack.push(l)}}}action(e,r){if(!this.isRecording()){let n=this.current;if(r.feature&&r.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode),this.nodeBuilder.buildCompositeNode(r).content.push(n.$cstNode);const a={$type:e};this.stack.push(a),this.assign(r.operator,r.feature,n,n.$cstNode,!1)}else n.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return yRe(e),this.nodeBuilder.construct(e),this.stack.pop(),wC(e)?this.converter.convert(e.value,e.$cstNode):(vRe(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const r=_x(e,Nh);this.assignmentMap.set(e,{assignment:r,isCrossRef:r?Ek(r.terminal):!1})}return this.assignmentMap.get(e)}assign(e,r,n,i,a){const s=this.current;let o;switch(a&&typeof n=="string"?o=this.linker.buildReference(s,r,i,n):o=n,e){case"=":{s[r]=o;break}case"?=":{s[r]=!0;break}case"+=":Array.isArray(s[r])||(s[r]=[]),s[r].push(o)}}assignWithoutOverride(e,r){for(const[i,a]of Object.entries(r)){const s=e[i];s===void 0?e[i]=a:Array.isArray(s)&&Array.isArray(a)&&(a.push(...s),e[i]=a)}const n=e.$cstNode;return n&&(n.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class FOe{buildMismatchTokenMessage(e){return Hf.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Hf.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Hf.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Hf.buildEarlyExitMessage(e)}}class pY extends FOe{buildMismatchTokenMessage({expected:e,actual:r}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class $Oe extends fY{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const r=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,r){const n=this.wrapper.DEFINE_RULE(dY(e.name),this.startImplementation(r).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return r=>{const n=this.keepStackSize();try{e(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,r,n){this.wrapper.wrapConsume(e,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,r,n,i,a){this.before(i),this.wrapper.wrapSubrule(e,r,a),this.after(i)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(e);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}}const zOe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new pY};class UOe extends XDe{constructor(e,r){const n=r&&"maxLookahead"in r;super(e,Object.assign(Object.assign(Object.assign({},zOe),{lookaheadStrategy:n?new Qk({maxLookahead:r.maxLookahead}):new gOe({logging:r.skipValidations?()=>{}:void 0})}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,r){return this.RULE(e,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,r){return this.consume(e,r)}wrapSubrule(e,r,n){return this.subrule(e,r,{ARGS:[n]})}wrapOr(e,r){this.or(e,r)}wrapOption(e,r){this.option(e,r)}wrapMany(e,r){this.many(e,r)}wrapAtLeastOne(e,r){this.atLeastOne(e,r)}}function gY(t,e,r){return HOe({parser:e,tokens:r,ruleNames:new Map},t),e}function HOe(t,e){const r=FV(e,!1),n=Gi(e.rules).filter(js).filter(i=>r.has(i));for(const i of n){const a=Object.assign(Object.assign({},t),{consume:1,optional:1,subrule:1,many:1,or:1});t.parser.rule(i,Ph(a,i.definition))}}function Ph(t,e,r=!1){let n;if(Rh(e))n=KOe(t,e);else if(Cx(e))n=GOe(t,e);else if(Nh(e))n=Ph(t,e.terminal);else if(Ek(e))n=mY(t,e);else if(Ih(e))n=VOe(t,e);else if(LV(e))n=WOe(t,e);else if(NV(e))n=YOe(t,e);else if(Tk(e))n=XOe(t,e);else if(cRe(e)){const i=t.consume++;n=()=>t.parser.consume(i,su,e)}else throw new SV(e.$cstNode,`Unexpected element type: ${e.$type}`);return yY(t,r?void 0:lE(e),n,e.cardinality)}function GOe(t,e){const r=Nk(e);return()=>t.parser.action(r,e)}function VOe(t,e){const r=e.rule.ref;if(js(r)){const n=t.subrule++,i=r.fragment,a=e.arguments.length>0?qOe(r,e.arguments):()=>({});return s=>t.parser.subrule(n,vY(t,r),i,e,a(s))}else if(Lh(r)){const n=t.consume++,i=SC(t,r.name);return()=>t.parser.consume(n,i,e)}else if(r)P1();else throw new SV(e.$cstNode,`Undefined rule: ${e.rule.$refText}`)}function qOe(t,e){const r=e.map(n=>dc(n.value));return n=>{const i={};for(let a=0;a<r.length;a++){const s=t.parameters[a],o=r[a];i[s.name]=o(n)}return i}}function dc(t){if(nRe(t)){const e=dc(t.left),r=dc(t.right);return n=>e(n)||r(n)}else if(rRe(t)){const e=dc(t.left),r=dc(t.right);return n=>e(n)&&r(n)}else if(iRe(t)){const e=dc(t.value);return r=>!e(r)}else if(aRe(t)){const e=t.parameter.ref.name;return r=>r!==void 0&&r[e]===!0}else if(tRe(t)){const e=!!t.true;return()=>e}P1()}function WOe(t,e){if(e.elements.length===1)return Ph(t,e.elements[0]);{const r=[];for(const i of e.elements){const a={ALT:Ph(t,i,!0)},s=lE(i);s&&(a.GATE=dc(s)),r.push(a)}const n=t.or++;return i=>t.parser.alternatives(n,r.map(a=>{const s={ALT:()=>a.ALT(i)},o=a.GATE;return o&&(s.GATE=()=>o(i)),s}))}}function YOe(t,e){if(e.elements.length===1)return Ph(t,e.elements[0]);const r=[];for(const o of e.elements){const l={ALT:Ph(t,o,!0)},u=lE(o);u&&(l.GATE=dc(u)),r.push(l)}const n=t.or++,i=(o,l)=>{const u=l.getRuleStack().join("-");return`uGroup_${o}_${u}`},a=o=>t.parser.alternatives(n,r.map((l,u)=>{const h={ALT:()=>!0},d=t.parser;h.ALT=()=>{if(l.ALT(o),!d.isRecording()){const p=i(n,d);d.unorderedGroups.get(p)||d.unorderedGroups.set(p,[]);const g=d.unorderedGroups.get(p);typeof(g==null?void 0:g[u])>"u"&&(g[u]=!0)}};const f=l.GATE;return f?h.GATE=()=>f(o):h.GATE=()=>{const p=d.unorderedGroups.get(i(n,d));return!(p!=null&&p[u])},h})),s=yY(t,lE(e),a,"*");return o=>{s(o),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(n,t.parser))}}function XOe(t,e){const r=e.elements.map(n=>Ph(t,n));return n=>r.forEach(i=>i(n))}function lE(t){if(Tk(t))return t.guardCondition}function mY(t,e,r=e.terminal){if(r)if(Ih(r)&&js(r.rule.ref)){const n=r.rule.ref,i=t.subrule++;return a=>t.parser.subrule(i,vY(t,n),!1,e,a)}else if(Ih(r)&&Lh(r.rule.ref)){const n=t.consume++,i=SC(t,r.rule.ref.name);return()=>t.parser.consume(n,i,e)}else if(Rh(r)){const n=t.consume++,i=SC(t,r.value);return()=>t.parser.consume(n,i,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const n=UV(e.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+Nk(e.type.ref));return mY(t,e,i)}}function KOe(t,e){const r=t.consume++,n=t.tokens[e.value];if(!n)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(r,n,e)}function yY(t,e,r,n){const i=e&&dc(e);if(!n)if(i){const a=t.or++;return s=>t.parser.alternatives(a,[{ALT:()=>r(s),GATE:()=>i(s)},{ALT:Yq(),GATE:()=>!i(s)}])}else return r;if(n==="*"){const a=t.many++;return s=>t.parser.many(a,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else if(n==="+"){const a=t.many++;if(i){const s=t.or++;return o=>t.parser.alternatives(s,[{ALT:()=>t.parser.atLeastOne(a,{DEF:()=>r(o)}),GATE:()=>i(o)},{ALT:Yq(),GATE:()=>!i(o)}])}else return s=>t.parser.atLeastOne(a,{DEF:()=>r(s)})}else if(n==="?"){const a=t.optional++;return s=>t.parser.optional(a,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else P1()}function vY(t,e){const r=jOe(t,e),n=t.parser.getRule(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function jOe(t,e){if(js(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let r=e,n=r.$container,i=e.$type;for(;!js(n);)(Tk(n)||LV(n)||NV(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,t.ruleNames.set(e,i),i}}function SC(t,e){const r=t.tokens[e];if(!r)throw new Error(`Token "${e}" not found."`);return r}function QOe(t){const e=t.Grammar,r=t.parser.Lexer,n=new $Oe(t);return gY(e,n,r.definition),n.finalize(),n}function ZOe(t){const e=JOe(t);return e.finalize(),e}function JOe(t){const e=t.Grammar,r=t.parser.Lexer,n=new BOe(t);return gY(e,n,r.definition)}class bY{constructor(){this.diagnostics=[]}buildTokens(e,r){const n=Gi(FV(e,!1)),i=this.buildTerminalTokens(n),a=this.buildKeywordTokens(n,i,r);return i.forEach(s=>{const o=s.PATTERN;typeof o=="object"&&o&&"test"in o&&_k(o)?a.unshift(s):a.push(s)}),a}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(Lh).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(e){const r=Rk(e),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:e.name,PATTERN:n};return typeof n=="function"&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=_k(r)?is.SKIPPED:"hidden"),i}requiresCustomPattern(e){return e.flags.includes("u")||e.flags.includes("s")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){const r=new RegExp(e,e.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(e,r,n){return e.filter(js).flatMap(i=>hm(i).filter(Rh)).distinct(i=>i.value).toArray().sort((i,a)=>a.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(e,r,n){const i=this.buildKeywordPattern(e,n),a={name:e.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(e,r)};return typeof i=="function"&&(a.LINE_BREAKS=!0),a}buildKeywordPattern(e,r){return r?new RegExp(_Re(e.value)):e.value}findLongerAlt(e,r){return r.reduce((n,i)=>{const a=i==null?void 0:i.PATTERN;return a!=null&&a.source&&ARe("^"+a.source+"$",e.value)&&n.push(i),n},[])}}class xY{convert(e,r){let n=r.grammarSource;if(Ek(n)&&(n=IRe(n)),Ih(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,r)}return e}runConverter(e,r,n){var i;switch(e.name.toUpperCase()){case"INT":return fc.convertInt(r);case"STRING":return fc.convertString(r);case"ID":return fc.convertID(r)}switch((i=$Re(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return fc.convertNumber(r);case"boolean":return fc.convertBoolean(r);case"bigint":return fc.convertBigint(r);case"date":return fc.convertDate(r);default:return r}}}var fc;(function(t){function e(u){let h="";for(let d=1;d<u.length-1;d++){const f=u.charAt(d);if(f==="\\"){const p=u.charAt(++d);h+=r(p)}else h+=f}return h}t.convertString=e;function r(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}function n(u){return u.charAt(0)==="^"?u.substring(1):u}t.convertID=n;function i(u){return parseInt(u)}t.convertInt=i;function a(u){return BigInt(u)}t.convertBigint=a;function s(u){return new Date(u)}t.convertDate=s;function o(u){return Number(u)}t.convertNumber=o;function l(u){return u.toLowerCase()==="true"}t.convertBoolean=l})(fc||(fc={}));var Bh={},cE={},EY;function TY(){if(EY)return cE;EY=1,Object.defineProperty(cE,"__esModule",{value:!0});let t;function e(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}return function(r){function n(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");t=i}r.install=n}(e||(e={})),cE.default=e,cE}var qi={},wY;function eMe(){if(wY)return qi;wY=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.stringArray=qi.array=qi.func=qi.error=qi.number=qi.string=qi.boolean=void 0;function t(o){return o===!0||o===!1}qi.boolean=t;function e(o){return typeof o=="string"||o instanceof String}qi.string=e;function r(o){return typeof o=="number"||o instanceof Number}qi.number=r;function n(o){return o instanceof Error}qi.error=n;function i(o){return typeof o=="function"}qi.func=i;function a(o){return Array.isArray(o)}qi.array=a;function s(o){return a(o)&&o.every(l=>e(l))}return qi.stringArray=s,qi}var Fh={},SY;function kY(){if(SY)return Fh;SY=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.Emitter=Fh.Event=void 0;const t=TY();var e;(function(i){const a={dispose(){}};i.None=function(){return a}})(e||(Fh.Event=e={}));class r{add(a,s=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(a),this._contexts.push(s),Array.isArray(o)&&o.push({dispose:()=>this.remove(a,s)})}remove(a,s=null){if(!this._callbacks)return;let o=!1;for(let l=0,u=this._callbacks.length;l<u;l++)if(this._callbacks[l]===a)if(this._contexts[l]===s){this._callbacks.splice(l,1),this._contexts.splice(l,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...a){if(!this._callbacks)return[];const s=[],o=this._callbacks.slice(0),l=this._contexts.slice(0);for(let u=0,h=o.length;u<h;u++)try{s.push(o[u].apply(l[u],a))}catch(d){(0,t.default)().console.error(d)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class n{constructor(a){this._options=a}get event(){return this._event||(this._event=(a,s,o)=>{this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(a,s);const l={dispose:()=>{this._callbacks&&(this._callbacks.remove(a,s),l.dispose=n._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(o)&&o.push(l),l}),this._event}fire(a){this._callbacks&&this._callbacks.invoke.call(this._callbacks,a)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return Fh.Emitter=n,n._noop=function(){},Fh}var CY;function tMe(){if(CY)return Bh;CY=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.CancellationTokenSource=Bh.CancellationToken=void 0;const t=TY(),e=eMe(),r=kY();var n;(function(o){o.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None});function l(u){const h=u;return h&&(h===o.None||h===o.Cancelled||e.boolean(h.isCancellationRequested)&&!!h.onCancellationRequested)}o.is=l})(n||(Bh.CancellationToken=n={}));const i=Object.freeze(function(o,l){const u=(0,t.default)().timer.setTimeout(o.bind(l),0);return{dispose(){u.dispose()}}});class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class s{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=n.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=n.None}}return Bh.CancellationTokenSource=s,Bh}var Rn=tMe();function rMe(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let uE=0,nMe=10;function iMe(){return uE=performance.now(),new Rn.CancellationTokenSource}const hE=Symbol("OperationCancelled");function dE(t){return t===hE}async function As(t){if(t===Rn.CancellationToken.None)return;const e=performance.now();if(e-uE>=nMe&&(uE=e,await rMe(),uE=performance.now()),t.isCancellationRequested)throw hE}class kC{constructor(){this.promise=new Promise((e,r)=>{this.resolve=n=>(e(n),this),this.reject=n=>(r(n),this)})}}class wm{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(const n of e)if(wm.isIncremental(n)){const i=LY(n.range),a=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(s,this._content.length);const o=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let u=this._lineOffsets;const h=_Y(n.text,!1,a);if(l-o===h.length)for(let f=0,p=h.length;f<p;f++)u[f+o+1]=h[f];else h.length<1e4?u.splice(o+1,l-o,...h):this._lineOffsets=u=u.slice(0,o+1).concat(h,u.slice(l+1));const d=n.text.length-(s-a);if(d!==0)for(let f=o+1+h.length,p=u.length;f<p;f++)u[f]=u[f]+d}else if(wm.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=_Y(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){const s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}const a=n-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){const r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;const n=r[e.line];if(e.character<=0)return n;const i=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(n+e.character,i);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(e,r){for(;e>r&&AY(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}}var CC;(function(t){function e(i,a,s,o){return new wm(i,a,s,o)}t.create=e;function r(i,a,s){if(i instanceof wm)return i.update(a,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=r;function n(i,a){const s=i.getText(),o=_C(a.map(aMe),(h,d)=>{const f=h.range.start.line-d.range.start.line;return f===0?h.range.start.character-d.range.start.character:f});let l=0;const u=[];for(const h of o){const d=i.offsetAt(h.range.start);if(d<l)throw new Error("Overlapping edit");d>l&&u.push(s.substring(l,d)),h.newText.length&&u.push(h.newText),l=i.offsetAt(h.range.end)}return u.push(s.substr(l)),u.join("")}t.applyEdits=n})(CC||(CC={}));function _C(t,e){if(t.length<=1)return t;const r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);_C(n,e),_C(i,e);let a=0,s=0,o=0;for(;a<n.length&&s<i.length;)e(n[a],i[s])<=0?t[o++]=n[a++]:t[o++]=i[s++];for(;a<n.length;)t[o++]=n[a++];for(;s<i.length;)t[o++]=i[s++];return t}function _Y(t,e,r=0){const n=e?[r]:[];for(let i=0;i<t.length;i++){const a=t.charCodeAt(i);AY(a)&&(a===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function AY(t){return t===13||t===10}function LY(t){const e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function aMe(t){const e=LY(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var NY;(()=>{var t={470:i=>{function a(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function s(l,u){for(var h,d="",f=0,p=-1,g=0,m=0;m<=l.length;++m){if(m<l.length)h=l.charCodeAt(m);else{if(h===47)break;h=47}if(h===47){if(!(p===m-1||g===1))if(p!==m-1&&g===2){if(d.length<2||f!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var y=d.lastIndexOf("/");if(y!==d.length-1){y===-1?(d="",f=0):f=(d=d.slice(0,y)).length-1-d.lastIndexOf("/"),p=m,g=0;continue}}else if(d.length===2||d.length===1){d="",f=0,p=m,g=0;continue}}u&&(d.length>0?d+="/..":d="..",f=2)}else d.length>0?d+="/"+l.slice(p+1,m):d=l.slice(p+1,m),f=m-p-1;p=m,g=0}else h===46&&g!==-1?++g:g=-1}return d}var o={resolve:function(){for(var l,u="",h=!1,d=arguments.length-1;d>=-1&&!h;d--){var f;d>=0?f=arguments[d]:(l===void 0&&(l=process.cwd()),f=l),a(f),f.length!==0&&(u=f+"/"+u,h=f.charCodeAt(0)===47)}return u=s(u,!h),h?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(l){if(a(l),l.length===0)return".";var u=l.charCodeAt(0)===47,h=l.charCodeAt(l.length-1)===47;return(l=s(l,!u)).length!==0||u||(l="."),l.length>0&&h&&(l+="/"),u?"/"+l:l},isAbsolute:function(l){return a(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,u=0;u<arguments.length;++u){var h=arguments[u];a(h),h.length>0&&(l===void 0?l=h:l+="/"+h)}return l===void 0?".":o.normalize(l)},relative:function(l,u){if(a(l),a(u),l===u||(l=o.resolve(l))===(u=o.resolve(u)))return"";for(var h=1;h<l.length&&l.charCodeAt(h)===47;++h);for(var d=l.length,f=d-h,p=1;p<u.length&&u.charCodeAt(p)===47;++p);for(var g=u.length-p,m=f<g?f:g,y=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(u.charCodeAt(p+v)===47)return u.slice(p+v+1);if(v===0)return u.slice(p+v)}else f>m&&(l.charCodeAt(h+v)===47?y=v:v===0&&(y=0));break}var b=l.charCodeAt(h+v);if(b!==u.charCodeAt(p+v))break;b===47&&(y=v)}var x="";for(v=h+y+1;v<=d;++v)v!==d&&l.charCodeAt(v)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+u.slice(p+y):(p+=y,u.charCodeAt(p)===47&&++p,u.slice(p))},_makeLong:function(l){return l},dirname:function(l){if(a(l),l.length===0)return".";for(var u=l.charCodeAt(0),h=u===47,d=-1,f=!0,p=l.length-1;p>=1;--p)if((u=l.charCodeAt(p))===47){if(!f){d=p;break}}else f=!1;return d===-1?h?"/":".":h&&d===1?"//":l.slice(0,d)},basename:function(l,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');a(l);var h,d=0,f=-1,p=!0;if(u!==void 0&&u.length>0&&u.length<=l.length){if(u.length===l.length&&u===l)return"";var g=u.length-1,m=-1;for(h=l.length-1;h>=0;--h){var y=l.charCodeAt(h);if(y===47){if(!p){d=h+1;break}}else m===-1&&(p=!1,m=h+1),g>=0&&(y===u.charCodeAt(g)?--g==-1&&(f=h):(g=-1,f=m))}return d===f?f=m:f===-1&&(f=l.length),l.slice(d,f)}for(h=l.length-1;h>=0;--h)if(l.charCodeAt(h)===47){if(!p){d=h+1;break}}else f===-1&&(p=!1,f=h+1);return f===-1?"":l.slice(d,f)},extname:function(l){a(l);for(var u=-1,h=0,d=-1,f=!0,p=0,g=l.length-1;g>=0;--g){var m=l.charCodeAt(g);if(m!==47)d===-1&&(f=!1,d=g+1),m===46?u===-1?u=g:p!==1&&(p=1):u!==-1&&(p=-1);else if(!f){h=g+1;break}}return u===-1||d===-1||p===0||p===1&&u===d-1&&u===h+1?"":l.slice(u,d)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(u,h){var d=h.dir||h.root,f=h.base||(h.name||"")+(h.ext||"");return d?d===h.root?d+f:d+"/"+f:f}(0,l)},parse:function(l){a(l);var u={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return u;var h,d=l.charCodeAt(0),f=d===47;f?(u.root="/",h=1):h=0;for(var p=-1,g=0,m=-1,y=!0,v=l.length-1,b=0;v>=h;--v)if((d=l.charCodeAt(v))!==47)m===-1&&(y=!1,m=v+1),d===46?p===-1?p=v:b!==1&&(b=1):p!==-1&&(b=-1);else if(!y){g=v+1;break}return p===-1||m===-1||b===0||b===1&&p===m-1&&p===g+1?m!==-1&&(u.base=u.name=g===0&&f?l.slice(1,m):l.slice(g,m)):(g===0&&f?(u.name=l.slice(1,p),u.base=l.slice(1,m)):(u.name=l.slice(g,p),u.base=l.slice(g,m)),u.ext=l.slice(p,m)),g>0?u.dir=l.slice(0,g-1):f&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},e={};function r(i){var a=e[i];if(a!==void 0)return a.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.d=(i,a)=>{for(var s in a)r.o(a,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:a[s]})},r.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>f,Utils:()=>N}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function l(C,D){if(!C.scheme&&D)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${C.authority}", path: "${C.path}", query: "${C.query}", fragment: "${C.fragment}"}`);if(C.scheme&&!a.test(C.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(C.path){if(C.authority){if(!s.test(C.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(C.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const u="",h="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{constructor(D,P,A,R,O,M=!1){Or(this,"scheme");Or(this,"authority");Or(this,"path");Or(this,"query");Or(this,"fragment");typeof D=="object"?(this.scheme=D.scheme||u,this.authority=D.authority||u,this.path=D.path||u,this.query=D.query||u,this.fragment=D.fragment||u):(this.scheme=function(I,F){return I||F?I:"file"}(D,M),this.authority=P||u,this.path=function(I,F){switch(I){case"https":case"http":case"file":F?F[0]!==h&&(F=h+F):F=h}return F}(this.scheme,A||u),this.query=R||u,this.fragment=O||u,l(this,M))}static isUri(D){return D instanceof f||!!D&&typeof D.authority=="string"&&typeof D.fragment=="string"&&typeof D.path=="string"&&typeof D.query=="string"&&typeof D.scheme=="string"&&typeof D.fsPath=="string"&&typeof D.with=="function"&&typeof D.toString=="function"}get fsPath(){return b(this)}with(D){if(!D)return this;let{scheme:P,authority:A,path:R,query:O,fragment:M}=D;return P===void 0?P=this.scheme:P===null&&(P=u),A===void 0?A=this.authority:A===null&&(A=u),R===void 0?R=this.path:R===null&&(R=u),O===void 0?O=this.query:O===null&&(O=u),M===void 0?M=this.fragment:M===null&&(M=u),P===this.scheme&&A===this.authority&&R===this.path&&O===this.query&&M===this.fragment?this:new g(P,A,R,O,M)}static parse(D,P=!1){const A=d.exec(D);return A?new g(A[2]||u,S(A[4]||u),S(A[5]||u),S(A[7]||u),S(A[9]||u),P):new g(u,u,u,u,u)}static file(D){let P=u;if(i&&(D=D.replace(/\\/g,h)),D[0]===h&&D[1]===h){const A=D.indexOf(h,2);A===-1?(P=D.substring(2),D=h):(P=D.substring(2,A),D=D.substring(A)||h)}return new g("file",P,D,u,u)}static from(D){const P=new g(D.scheme,D.authority,D.path,D.query,D.fragment);return l(P,!0),P}toString(D=!1){return x(this,D)}toJSON(){return this}static revive(D){if(D){if(D instanceof f)return D;{const P=new g(D);return P._formatted=D.external,P._fsPath=D._sep===p?D.fsPath:null,P}}return D}}const p=i?1:void 0;class g extends f{constructor(){super(...arguments);Or(this,"_formatted",null);Or(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=b(this)),this._fsPath}toString(P=!1){return P?x(this,!0):(this._formatted||(this._formatted=x(this,!1)),this._formatted)}toJSON(){const P={$mid:1};return this._fsPath&&(P.fsPath=this._fsPath,P._sep=p),this._formatted&&(P.external=this._formatted),this.path&&(P.path=this.path),this.scheme&&(P.scheme=this.scheme),this.authority&&(P.authority=this.authority),this.query&&(P.query=this.query),this.fragment&&(P.fragment=this.fragment),P}}const m={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function y(C,D,P){let A,R=-1;for(let O=0;O<C.length;O++){const M=C.charCodeAt(O);if(M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===45||M===46||M===95||M===126||D&&M===47||P&&M===91||P&&M===93||P&&M===58)R!==-1&&(A+=encodeURIComponent(C.substring(R,O)),R=-1),A!==void 0&&(A+=C.charAt(O));else{A===void 0&&(A=C.substr(0,O));const I=m[M];I!==void 0?(R!==-1&&(A+=encodeURIComponent(C.substring(R,O)),R=-1),A+=I):R===-1&&(R=O)}}return R!==-1&&(A+=encodeURIComponent(C.substring(R))),A!==void 0?A:C}function v(C){let D;for(let P=0;P<C.length;P++){const A=C.charCodeAt(P);A===35||A===63?(D===void 0&&(D=C.substr(0,P)),D+=m[A]):D!==void 0&&(D+=C[P])}return D!==void 0?D:C}function b(C,D){let P;return P=C.authority&&C.path.length>1&&C.scheme==="file"?`//${C.authority}${C.path}`:C.path.charCodeAt(0)===47&&(C.path.charCodeAt(1)>=65&&C.path.charCodeAt(1)<=90||C.path.charCodeAt(1)>=97&&C.path.charCodeAt(1)<=122)&&C.path.charCodeAt(2)===58?C.path[1].toLowerCase()+C.path.substr(2):C.path,i&&(P=P.replace(/\//g,"\\")),P}function x(C,D){const P=D?v:y;let A="",{scheme:R,authority:O,path:M,query:I,fragment:F}=C;if(R&&(A+=R,A+=":"),(O||R==="file")&&(A+=h,A+=h),O){let B=O.indexOf("@");if(B!==-1){const $=O.substr(0,B);O=O.substr(B+1),B=$.lastIndexOf(":"),B===-1?A+=P($,!1,!1):(A+=P($.substr(0,B),!1,!1),A+=":",A+=P($.substr(B+1),!1,!0)),A+="@"}O=O.toLowerCase(),B=O.lastIndexOf(":"),B===-1?A+=P(O,!1,!0):(A+=P(O.substr(0,B),!1,!0),A+=O.substr(B))}if(M){if(M.length>=3&&M.charCodeAt(0)===47&&M.charCodeAt(2)===58){const B=M.charCodeAt(1);B>=65&&B<=90&&(M=`/${String.fromCharCode(B+32)}:${M.substr(3)}`)}else if(M.length>=2&&M.charCodeAt(1)===58){const B=M.charCodeAt(0);B>=65&&B<=90&&(M=`${String.fromCharCode(B+32)}:${M.substr(2)}`)}A+=P(M,!0,!1)}return I&&(A+="?",A+=P(I,!1,!1)),F&&(A+="#",A+=D?F:y(F,!1,!1)),A}function T(C){try{return decodeURIComponent(C)}catch{return C.length>3?C.substr(0,3)+T(C.substr(3)):C}}const w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(C){return C.match(w)?C.replace(w,D=>T(D)):C}var k=r(470);const L=k.posix||k,_="/";var N;(function(C){C.joinPath=function(D,...P){return D.with({path:L.join(D.path,...P)})},C.resolvePath=function(D,...P){let A=D.path,R=!1;A[0]!==_&&(A=_+A,R=!0);let O=L.resolve(A,...P);return R&&O[0]===_&&!D.authority&&(O=O.substring(1)),D.with({path:O})},C.dirname=function(D){if(D.path.length===0||D.path===_)return D;let P=L.dirname(D.path);return P.length===1&&P.charCodeAt(0)===46&&(P=""),D.with({path:P})},C.basename=function(D){return L.basename(D.path)},C.extname=function(D){return L.extname(D.path)}})(N||(N={}))})(),NY=n})();const{URI:$h,Utils:Sm}=NY;var uu;(function(t){t.basename=Sm.basename,t.dirname=Sm.dirname,t.extname=Sm.extname,t.joinPath=Sm.joinPath,t.resolvePath=Sm.resolvePath;function e(i,a){return(i==null?void 0:i.toString())===(a==null?void 0:a.toString())}t.equals=e;function r(i,a){const s=typeof i=="string"?i:i.path,o=typeof a=="string"?a:a.path,l=s.split("/").filter(p=>p.length>0),u=o.split("/").filter(p=>p.length>0);let h=0;for(;h<l.length&&l[h]===u[h];h++);const d="../".repeat(l.length-h),f=u.slice(h).join("/");return d+f}t.relative=r;function n(i){return $h.parse(i.toString()).toString()}t.normalize=n})(uu||(uu={}));var Cn;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(Cn||(Cn={}));class sMe{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,r=Rn.CancellationToken.None){const n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,r)}fromTextDocument(e,r,n){return r=r??$h.parse(e.uri),Rn.CancellationToken.is(n)?this.createAsync(r,e,n):this.create(r,e,n)}fromString(e,r,n){return Rn.CancellationToken.is(n)?this.createAsync(r,e,n):this.create(r,e,n)}fromModel(e,r){return this.create(r,{$model:e})}create(e,r,n){if(typeof r=="string"){const i=this.parse(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else if("$model"in r){const i={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,e)}else{const i=this.parse(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}async createAsync(e,r,n){if(typeof r=="string"){const i=await this.parseAsync(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else{const i=await this.parseAsync(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}createLangiumDocument(e,r,n,i){let a;if(n)a={parseResult:e,uri:r,state:Cn.Parsed,references:[],textDocument:n};else{const s=this.createTextDocumentGetter(r,i);a={parseResult:e,uri:r,state:Cn.Parsed,references:[],get textDocument(){return s()}}}return e.value.$document=a,a}async update(e,r){var n,i;const a=(n=e.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,s=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),o=s?s.getText():await this.fileSystemProvider.readFile(e.uri);if(s)Object.defineProperty(e,"textDocument",{value:s});else{const l=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:l})}return a!==o&&(e.parseResult=await this.parseAsync(e.uri,o,r),e.parseResult.value.$document=e),e.state=Cn.Parsed,e}parse(e,r,n){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(r,n)}parseAsync(e,r,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(e,r){const n=this.serviceRegistry;let i;return()=>i??(i=CC.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,r??""))}}class oMe{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return Gi(this.documentMap.values())}addDocument(e){const r=e.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,e)}getDocument(e){const r=e.toString();return this.documentMap.get(r)}async getOrCreateDocument(e,r){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,r),this.addDocument(n),n)}createDocument(e,r,n){if(n)return this.langiumDocumentFactory.fromString(r,e,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(this.serviceRegistry.getServices(e).references.Linker.unlink(n),n.state=Cn.Changed,n.precomputedScopes=void 0,n.diagnostics=void 0),n}deleteDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=Cn.Changed,this.documentMap.delete(r)),n}}const AC=Symbol("ref_resolving");class lMe{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,r=Rn.CancellationToken.None){for(const n of Pf(e.parseResult.value))await As(r),DV(n).forEach(i=>this.doLink(i,e))}doLink(e,r){var n;const i=e.reference;if(i._ref===void 0){i._ref=AC;try{const a=this.getCandidate(e);if(dx(a))i._ref=a;else if(i._nodeDescription=a,this.langiumDocuments().hasDocument(a.documentUri)){const s=this.loadAstNode(a);i._ref=s??this.createLinkingError(e,a)}else i._ref=void 0}catch(a){console.error(`An error occurred while resolving reference to '${i.$refText}':`,a);const s=(n=a.message)!==null&&n!==void 0?n:String(a);i._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${i.$refText}': ${s}`})}r.references.push(i)}}unlink(e){for(const r of e.references)delete r._ref,delete r._nodeDescription;e.references=[]}getCandidate(e){const n=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return n??this.createLinkingError(e)}buildReference(e,r,n,i){const a=this,s={$refNode:n,$refText:i,get ref(){var o;if(ca(this._ref))return this._ref;if(q9e(this._nodeDescription)){const l=a.loadAstNode(this._nodeDescription);this._ref=l??a.createLinkingError({reference:s,container:e,property:r},this._nodeDescription)}else if(this._ref===void 0){this._ref=AC;const l=wk(e).$document,u=a.getLinkedNode({reference:s,container:e,property:r});if(u.error&&l&&l.state<Cn.ComputedScopes)return this._ref=void 0;this._ref=(o=u.node)!==null&&o!==void 0?o:u.error,this._nodeDescription=u.descr,l==null||l.references.push(this)}else if(this._ref===AC)throw new Error(`Cyclic reference resolution detected: ${a.astNodeLocator.getAstNodePath(e)}/${r} (symbol '${i}')`);return ca(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return dx(this._ref)?this._ref:void 0}};return s}getLinkedNode(e){var r;try{const n=this.getCandidate(e);if(dx(n))return{error:n};const i=this.loadAstNode(n);return i?{node:i,descr:n}:{descr:n,error:this.createLinkingError(e,n)}}catch(n){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,n);const i=(r=n.message)!==null&&r!==void 0?r:String(n);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${i}`})}}}loadAstNode(e){if(e.node)return e.node;const r=this.langiumDocuments().getDocument(e.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,e.path)}createLinkingError(e,r){const n=wk(e.container).$document;n&&n.state<Cn.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:r})}}function cMe(t){return typeof t.name=="string"}class uMe{getName(e){if(cMe(e))return e.name}getNameNode(e){return zV(e.$cstNode,"name")}}class hMe{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const r=BRe(e),n=e.astNode;if(r&&n){const i=n[r.feature];if(cl(i))return i.ref;if(Array.isArray(i)){for(const a of i)if(cl(a)&&a.$refNode&&a.$refNode.offset<=e.offset&&a.$refNode.end>=e.end)return a.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===e||X9e(e,i)))return n}}}findDeclarationNode(e){const r=this.findDeclaration(e);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(e,r){const n=[];if(r.includeDeclaration){const a=this.getReferenceToSelf(e);a&&n.push(a)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return r.documentUri&&(i=i.filter(a=>uu.equals(a.sourceUri,r.documentUri))),n.push(...i),Gi(n)}getReferenceToSelf(e){const r=this.nameProvider.getNameNode(e);if(r){const n=iu(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:px(r),local:!0}}}}class fE{constructor(e){if(this.map=new Map,e)for(const[r,n]of e)this.add(r,n)}get size(){return fk.sum(Gi(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,r){if(r===void 0)return this.map.delete(e);{const n=this.map.get(e);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(e):n.splice(i,1),!0}return!1}}get(e){var r;return(r=this.map.get(e))!==null&&r!==void 0?r:[]}has(e,r){if(r===void 0)return this.map.has(e);{const n=this.map.get(e);return n?n.indexOf(r)>=0:!1}}add(e,r){return this.map.has(e)?this.map.get(e).push(r):this.map.set(e,[r]),this}addAll(e,r){return this.map.has(e)?this.map.get(e).push(...r):this.map.set(e,Array.from(r)),this}forEach(e){this.map.forEach((r,n)=>r.forEach(i=>e(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Gi(this.map.entries()).flatMap(([e,r])=>r.map(n=>[e,n]))}keys(){return Gi(this.map.keys())}values(){return Gi(this.map.values()).flat()}entriesGroupedByKey(){return Gi(this.map.entries())}}class RY{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[r,n]of e)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,r){return this.map.set(e,r),this.inverse.set(r,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const r=this.map.get(e);return r!==void 0?(this.map.delete(e),this.inverse.delete(r),!0):!1}}class dMe{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,r=Rn.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,r)}async computeExportsForNode(e,r,n=Sk,i=Rn.CancellationToken.None){const a=[];this.exportNode(e,a,r);for(const s of n(e))await As(i),this.exportNode(s,a,r);return a}exportNode(e,r,n){const i=this.nameProvider.getName(e);i&&r.push(this.descriptions.createDescription(e,i,n))}async computeLocalScopes(e,r=Rn.CancellationToken.None){const n=e.parseResult.value,i=new fE;for(const a of hm(n))await As(r),this.processNode(a,e,i);return i}processNode(e,r,n){const i=e.$container;if(i){const a=this.nameProvider.getName(e);a&&n.add(i,this.descriptions.createDescription(e,a,r))}}}class IY{constructor(e,r,n){var i;this.elements=e,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===e.toLowerCase()):this.elements.find(n=>n.name===e);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}}class fMe{constructor(e,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1;for(const a of e){const s=this.caseInsensitive?a.name.toLowerCase():a.name;this.elements.set(s,a)}this.outerScope=r}getElement(e){const r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=Gi(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class DY{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class pMe extends DY{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,r){this.throwIfDisposed(),this.cache.set(e,r)}get(e,r){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(r){const n=r();return this.cache.set(e,n),n}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class gMe extends DY{constructor(e){super(),this.cache=new Map,this.converter=e??(r=>r)}has(e,r){return this.throwIfDisposed(),this.cacheForContext(e).has(r)}set(e,r,n){this.throwIfDisposed(),this.cacheForContext(e).set(r,n)}get(e,r,n){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(r))return i.get(r);if(n){const a=n();return i.set(r,a),a}else return}delete(e,r){return this.throwIfDisposed(),this.cacheForContext(e).delete(r)}clear(e){if(this.throwIfDisposed(),e){const r=this.converter(e);this.cache.delete(r)}else this.cache.clear()}cacheForContext(e){const r=this.converter(e);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}}class mMe extends pMe{constructor(e,r){super(),r?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(r,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((n,i)=>{i.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class yMe{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new mMe(e.shared)}getScope(e){const r=[],n=this.reflection.getReferenceType(e),i=iu(e.container).precomputedScopes;if(i){let s=e.container;do{const o=i.get(s);o.length>0&&r.push(Gi(o).filter(l=>this.reflection.isSubtype(l.type,n))),s=s.$container}while(s)}let a=this.getGlobalScope(n,e);for(let s=r.length-1;s>=0;s--)a=this.createScope(r[s],a);return a}createScope(e,r,n){return new IY(Gi(e),r,n)}createScopeForNodes(e,r,n){const i=Gi(e).map(a=>{const s=this.nameProvider.getName(a);if(s)return this.descriptions.createDescription(a,s)}).nonNullable();return new IY(i,r,n)}getGlobalScope(e,r){return this.globalScopeCache.get(e,()=>new fMe(this.indexManager.allElements(e)))}}function vMe(t){return typeof t.$comment=="string"}function OY(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class bMe{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,r){const n=r??{},i=r==null?void 0:r.replacer,a=(o,l)=>this.replacer(o,l,n),s=i?(o,l)=>i(o,l,a):a;try{return this.currentDocument=iu(e),JSON.stringify(e,s,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(e,r){const n=r??{},i=JSON.parse(e);return this.linkNode(i,i,n),i}replacer(e,r,{refText:n,sourceText:i,textRegions:a,comments:s,uriConverter:o}){var l,u,h,d;if(!this.ignoreProperties.has(e))if(cl(r)){const f=r.ref,p=n?r.$refText:void 0;if(f){const g=iu(f);let m="";this.currentDocument&&this.currentDocument!==g&&(o?m=o(g.uri,r):m=g.uri.toString());const y=this.astNodeLocator.getAstNodePath(f);return{$ref:`${m}#${y}`,$refText:p}}else return{$error:(u=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:p}}else if(ca(r)){let f;if(a&&(f=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!e||r.$document)&&(f!=null&&f.$textRegion)&&(f.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),i&&!e&&(f??(f=Object.assign({},r)),f.$sourceText=(d=r.$cstNode)===null||d===void 0?void 0:d.text),s){f??(f=Object.assign({},r));const p=this.commentProvider.getComment(r);p&&(f.$comment=p.replace(/\r/g,""))}return f??r}else return r}addAstNodeRegionWithAssignmentsTo(e){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(e.$cstNode){const n=e.$textRegion=r(e.$cstNode),i=n.assignments={};return Object.keys(e).filter(a=>!a.startsWith("$")).forEach(a=>{const s=ORe(e.$cstNode,a).map(r);s.length!==0&&(i[a]=s)}),e}}linkNode(e,r,n,i,a,s){for(const[l,u]of Object.entries(e))if(Array.isArray(u))for(let h=0;h<u.length;h++){const d=u[h];OY(d)?u[h]=this.reviveReference(e,l,r,d,n):ca(d)&&this.linkNode(d,r,n,e,l,h)}else OY(u)?e[l]=this.reviveReference(e,l,r,u,n):ca(u)&&this.linkNode(u,r,n,e,l);const o=e;o.$container=i,o.$containerProperty=a,o.$containerIndex=s}reviveReference(e,r,n,i,a){let s=i.$refText,o=i.$error;if(i.$ref){const l=this.getRefNode(n,i.$ref,a.uriConverter);if(ca(l))return s||(s=this.nameProvider.getName(l)),{$refText:s??"",ref:l};o=l}if(o){const l={$refText:s??""};return l.error={container:e,property:r,message:o,reference:l},l}else return}getRefNode(e,r,n){try{const i=r.indexOf("#");if(i===0){const l=this.astNodeLocator.getAstNode(e,r.substring(1));return l||"Could not resolve path: "+r}if(i<0){const l=n?n(r):$h.parse(r),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+r}const a=n?n(r.substring(0,i)):$h.parse(r.substring(0,i)),s=this.langiumDocuments.getDocument(a);if(!s)return"Could not find document for URI: "+r;if(i===r.length-1)return s.parseResult.value;const o=this.astNodeLocator.getAstNode(s.parseResult.value,r.substring(i+1));return o||"Could not resolve URI: "+r}catch(i){return String(i)}}}class xMe{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e==null?void 0:e.workspace.TextDocuments}register(e){const r=e.LanguageMetaData;for(const n of r.fileExtensions)this.fileExtensionMap.has(n)&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${r.languageId}'.`),this.fileExtensionMap.set(n,e);this.languageIdMap.set(r.languageId,e),this.languageIdMap.size===1?this.singleton=e:this.singleton=void 0}getServices(e){var r,n;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const i=(n=(r=this.textDocuments)===null||r===void 0?void 0:r.get(e))===null||n===void 0?void 0:n.languageId;if(i!==void 0){const o=this.languageIdMap.get(i);if(o)return o}const a=uu.extname(e),s=this.fileExtensionMap.get(a);if(!s)throw i?new Error(`The service registry contains no services for the extension '${a}' for language '${i}'.`):new Error(`The service registry contains no services for the extension '${a}'.`);return s}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function km(t){return{code:t}}var pE;(function(t){t.all=["fast","slow","built-in"]})(pE||(pE={}));class EMe{constructor(e){this.entries=new fE,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,a]of Object.entries(e)){const s=a;if(Array.isArray(s))for(const o of s){const l={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,l)}else if(typeof s=="function"){const o={check:this.wrapValidationException(s,r),category:n};this.addEntry(i,o)}else P1()}}wrapValidationException(e,r){return async(n,i,a)=>{await this.handleException(()=>e.call(r,n,i,a),"An error occurred during validation",i,n)}}async handleException(e,r,n,i){try{await e()}catch(a){if(dE(a))throw a;console.error(`${r}:`,a),a instanceof Error&&a.stack&&console.error(a.stack);const s=a instanceof Error?a.message:String(a);n("error",`${r}: ${s}`,{node:i})}}addEntry(e,r){if(e==="AstNode"){this.entries.add("AstNode",r);return}for(const n of this.reflection.getAllSubTypes(e))this.entries.add(n,r)}getChecks(e,r){let n=Gi(this.entries.get(e)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}registerBeforeDocument(e,r=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",r))}registerAfterDocument(e,r=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",r))}wrapPreparationException(e,r,n){return async(i,a,s,o)=>{await this.handleException(()=>e.call(n,i,a,s,o),r,a,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class TMe{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,r={},n=Rn.CancellationToken.None){const i=e.parseResult,a=[];if(await As(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,a,r),r.stopAfterLexingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===ko.LexingError})||(this.processParsingErrors(i,a,r),r.stopAfterParsingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===ko.ParsingError}))||(this.processLinkingErrors(e,a,r),r.stopAfterLinkingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===ko.LinkingError}))))return a;try{a.push(...await this.validateAst(i.value,r,n))}catch(s){if(dE(s))throw s;console.error("An error occurred during validation:",s)}return await As(n),a}processLexingErrors(e,r,n){var i,a,s;const o=[...e.lexerErrors,...(a=(i=e.lexerReport)===null||i===void 0?void 0:i.diagnostics)!==null&&a!==void 0?a:[]];for(const l of o){const u=(s=l.severity)!==null&&s!==void 0?s:"error",h={severity:LC(u),range:{start:{line:l.line-1,character:l.column-1},end:{line:l.line-1,character:l.column+l.length-1}},message:l.message,data:SMe(u),source:this.getSource()};r.push(h)}}processParsingErrors(e,r,n){for(const i of e.parserErrors){let a;if(isNaN(i.token.startOffset)){if("previousToken"in i){const s=i.previousToken;if(isNaN(s.startOffset)){const o={line:0,character:0};a={start:o,end:o}}else{const o={line:s.endLine-1,character:s.endColumn};a={start:o,end:o}}}}else a=gk(i.token);if(a){const s={severity:LC("error"),range:a,message:i.message,data:km(ko.ParsingError),source:this.getSource()};r.push(s)}}}processLinkingErrors(e,r,n){for(const i of e.references){const a=i.error;if(a){const s={node:a.container,property:a.property,index:a.index,data:{code:ko.LinkingError,containerType:a.container.$type,property:a.property,refText:a.reference.$refText}};r.push(this.toDiagnostic("error",a.message,s))}}}async validateAst(e,r,n=Rn.CancellationToken.None){const i=[],a=(s,o,l)=>{i.push(this.toDiagnostic(s,o,l))};return await this.validateAstBefore(e,r,a,n),await this.validateAstNodes(e,r,a,n),await this.validateAstAfter(e,r,a,n),i}async validateAstBefore(e,r,n,i=Rn.CancellationToken.None){var a;const s=this.validationRegistry.checksBefore;for(const o of s)await As(i),await o(e,n,(a=r.categories)!==null&&a!==void 0?a:[],i)}async validateAstNodes(e,r,n,i=Rn.CancellationToken.None){await Promise.all(Pf(e).map(async a=>{await As(i);const s=this.validationRegistry.getChecks(a.$type,r.categories);for(const o of s)await o(a,n,i)}))}async validateAstAfter(e,r,n,i=Rn.CancellationToken.None){var a;const s=this.validationRegistry.checksAfter;for(const o of s)await As(i),await o(e,n,(a=r.categories)!==null&&a!==void 0?a:[],i)}toDiagnostic(e,r,n){return{message:r,range:wMe(n),severity:LC(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function wMe(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=zV(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=MRe(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function LC(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}function SMe(t){switch(t){case"error":return km(ko.LexingError);case"warning":return km(ko.LexingWarning);case"info":return km(ko.LexingInfo);case"hint":return km(ko.LexingHint);default:throw new Error("Invalid diagnostic severity: "+t)}}var ko;(function(t){t.LexingError="lexing-error",t.LexingWarning="lexing-warning",t.LexingInfo="lexing-info",t.LexingHint="lexing-hint",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(ko||(ko={}));class kMe{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,r,n){const i=n??iu(e);r??(r=this.nameProvider.getName(e));const a=this.astNodeLocator.getAstNodePath(e);if(!r)throw new Error(`Node at path ${a} has no name.`);let s;const o=()=>{var l;return s??(s=px((l=this.nameProvider.getNameNode(e))!==null&&l!==void 0?l:e.$cstNode))};return{node:e,name:r,get nameSegment(){return o()},selectionSegment:px(e.$cstNode),type:e.$type,documentUri:i.uri,path:a}}}class CMe{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,r=Rn.CancellationToken.None){const n=[],i=e.parseResult.value;for(const a of Pf(i))await As(r),DV(a).filter(s=>!dx(s)).forEach(s=>{const o=this.createDescription(s);o&&n.push(o)});return n}createDescription(e){const r=e.reference.$nodeDescription,n=e.reference.$refNode;if(!r||!n)return;const i=iu(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:r.documentUri,targetPath:r.path,segment:px(n),local:uu.equals(r.documentUri,i)}}}class _Me{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const r=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:r}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?e+this.indexSeparator+r:e}getAstNode(e,r){return r.split(this.segmentSeparator).reduce((i,a)=>{if(!i||a.length===0)return i;const s=a.indexOf(this.indexSeparator);if(s>0){const o=a.substring(0,s),l=parseInt(a.substring(s+1)),u=i[o];return u==null?void 0:u[l]}return i[a]},e)}}var AMe=kY();class LMe{constructor(e){this._ready=new kC,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new AMe.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var r,n;this.workspaceConfig=(n=(r=e.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(e){if(this.workspaceConfig){if(e.register){const r=this.serviceRegistry.all;e.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(r);r.forEach((i,a)=>{this.updateSectionConfiguration(i.section,n[a])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(r=>{const n=e.settings[r];this.updateSectionConfiguration(r,n),this.onConfigurationSectionUpdateEmitter.fire({section:r,configuration:n})})}updateSectionConfiguration(e,r){this.settings[e]=r}async getConfiguration(e,r){await this.ready;const n=this.toSectionName(e);if(this.settings[n])return this.settings[n][r]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var Cm;(function(t){function e(r){return{dispose:async()=>await r()}}t.create=e})(Cm||(Cm={}));class NMe{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new fE,this.documentPhaseListeners=new fE,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Cn.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,r={},n=Rn.CancellationToken.None){var i,a;for(const s of e){const o=s.uri.toString();if(s.state===Cn.Validated){if(typeof r.validation=="boolean"&&r.validation)s.state=Cn.IndexedReferences,s.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){const l=this.buildState.get(o),u=(i=l==null?void 0:l.result)===null||i===void 0?void 0:i.validationChecks;if(u){const d=((a=r.validation.categories)!==null&&a!==void 0?a:pE.all).filter(f=>!u.includes(f));d.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:d})},result:l.result}),s.state=Cn.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=Cn.Changed,await this.emitUpdate(e.map(s=>s.uri),[]),await this.buildDocuments(e,r,n)}async update(e,r,n=Rn.CancellationToken.None){this.currentState=Cn.Changed;for(const s of r)this.langiumDocuments.deleteDocument(s),this.buildState.delete(s.toString()),this.indexManager.remove(s);for(const s of e){if(!this.langiumDocuments.invalidateDocument(s)){const l=this.langiumDocumentFactory.fromModel({$type:"INVALID"},s);l.state=Cn.Changed,this.langiumDocuments.addDocument(l)}this.buildState.delete(s.toString())}const i=Gi(e).concat(r).map(s=>s.toString()).toSet();this.langiumDocuments.all.filter(s=>!i.has(s.uri.toString())&&this.shouldRelink(s,i)).forEach(s=>{this.serviceRegistry.getServices(s.uri).references.Linker.unlink(s),s.state=Math.min(s.state,Cn.ComputedScopes),s.diagnostics=void 0}),await this.emitUpdate(e,r),await As(n);const a=this.sortDocuments(this.langiumDocuments.all.filter(s=>{var o;return s.state<Cn.Linked||!(!((o=this.buildState.get(s.uri.toString()))===null||o===void 0)&&o.completed)}).toArray());await this.buildDocuments(a,this.updateBuildOptions,n)}async emitUpdate(e,r){await Promise.all(this.updateListeners.map(n=>n(e,r)))}sortDocuments(e){let r=0,n=e.length-1;for(;r<n;){for(;r<e.length&&this.hasTextDocument(e[r]);)r++;for(;n>=0&&!this.hasTextDocument(e[n]);)n--;r<n&&([e[r],e[n]]=[e[n],e[r]])}return e}hasTextDocument(e){var r;return!!(!((r=this.textDocuments)===null||r===void 0)&&r.get(e.uri))}shouldRelink(e,r){return e.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(e,r)}onUpdate(e){return this.updateListeners.push(e),Cm.create(()=>{const r=this.updateListeners.indexOf(e);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(e,r,n){this.prepareBuild(e,r),await this.runCancelable(e,Cn.Parsed,n,a=>this.langiumDocumentFactory.update(a,n)),await this.runCancelable(e,Cn.IndexedContent,n,a=>this.indexManager.updateContent(a,n)),await this.runCancelable(e,Cn.ComputedScopes,n,async a=>{const s=this.serviceRegistry.getServices(a.uri).references.ScopeComputation;a.precomputedScopes=await s.computeLocalScopes(a,n)}),await this.runCancelable(e,Cn.Linked,n,a=>this.serviceRegistry.getServices(a.uri).references.Linker.link(a,n)),await this.runCancelable(e,Cn.IndexedReferences,n,a=>this.indexManager.updateReferences(a,n));const i=e.filter(a=>this.shouldValidate(a));await this.runCancelable(i,Cn.Validated,n,a=>this.validate(a,n));for(const a of e){const s=this.buildState.get(a.uri.toString());s&&(s.completed=!0)}}prepareBuild(e,r){for(const n of e){const i=n.uri.toString(),a=this.buildState.get(i);(!a||a.completed)&&this.buildState.set(i,{completed:!1,options:r,result:a==null?void 0:a.result})}}async runCancelable(e,r,n,i){const a=e.filter(o=>o.state<r);for(const o of a)await As(n),await i(o),o.state=r,await this.notifyDocumentPhase(o,r,n);const s=e.filter(o=>o.state===r);await this.notifyBuildPhase(s,r,n),this.currentState=r}onBuildPhase(e,r){return this.buildPhaseListeners.add(e,r),Cm.create(()=>{this.buildPhaseListeners.delete(e,r)})}onDocumentPhase(e,r){return this.documentPhaseListeners.add(e,r),Cm.create(()=>{this.documentPhaseListeners.delete(e,r)})}waitUntil(e,r,n){let i;if(r&&"path"in r?i=r:n=r,n??(n=Rn.CancellationToken.None),i){const a=this.langiumDocuments.getDocument(i);if(a&&a.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(hE):new Promise((a,s)=>{const o=this.onBuildPhase(e,()=>{if(o.dispose(),l.dispose(),i){const u=this.langiumDocuments.getDocument(i);a(u==null?void 0:u.uri)}else a(void 0)}),l=n.onCancellationRequested(()=>{o.dispose(),l.dispose(),s(hE)})})}async notifyDocumentPhase(e,r,n){const a=this.documentPhaseListeners.get(r).slice();for(const s of a)try{await s(e,n)}catch(o){if(!dE(o))throw o}}async notifyBuildPhase(e,r,n){if(e.length===0)return;const a=this.buildPhaseListeners.get(r).slice();for(const s of a)await As(n),await s(e,n)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,r){var n,i;const a=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,s=this.getBuildOptions(e).validation,o=typeof s=="object"?s:void 0,l=await a.validateDocument(e,o,r);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;const u=this.buildState.get(e.uri.toString());if(u){(n=u.result)!==null&&n!==void 0||(u.result={});const h=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:pE.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(e){var r,n;return(n=(r=this.buildState.get(e.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}class RMe{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new gMe,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,r){const n=iu(e).uri,i=[];return this.referenceIndex.forEach(a=>{a.forEach(s=>{uu.equals(s.targetUri,n)&&s.targetPath===r&&i.push(s)})}),Gi(i)}allElements(e,r){let n=Gi(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,r){var n;return r?this.symbolByTypeIndex.get(e,r,()=>{var a;return((a=this.symbolIndex.get(e))!==null&&a!==void 0?a:[]).filter(o=>this.astReflection.isSubtype(o.type,r))}):(n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]}remove(e){const r=e.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(e,r=Rn.CancellationToken.None){const i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,r),a=e.uri.toString();this.symbolIndex.set(a,i),this.symbolByTypeIndex.clear(a)}async updateReferences(e,r=Rn.CancellationToken.None){const i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,r);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,r){const n=this.referenceIndex.get(e.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}}class IMe{constructor(e){this.initialBuildOptions={},this._ready=new kC,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var r;this.folders=(r=e.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(e){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(e,r=Rn.CancellationToken.None){const n=await this.performStartup(e);await As(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(e){const r=this.serviceRegistry.all.flatMap(a=>a.LanguageMetaData.fileExtensions),n=[],i=a=>{n.push(a),this.langiumDocuments.hasDocument(a.uri)||this.langiumDocuments.addDocument(a)};return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(a=>[a,this.getRootFolder(a)]).map(async a=>this.traverseFolder(...a,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(e,r){return Promise.resolve()}getRootFolder(e){return $h.parse(e.uri)}async traverseFolder(e,r,n,i){const a=await this.fileSystemProvider.readDirectory(r);await Promise.all(a.map(async s=>{if(this.includeEntry(e,s,n)){if(s.isDirectory)await this.traverseFolder(e,s.uri,n,i);else if(s.isFile){const o=await this.langiumDocuments.getOrCreateDocument(s.uri);i(o)}}}))}includeEntry(e,r,n){const i=uu.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const a=uu.extname(r.uri);return n.includes(a)}return!1}}class DMe{buildUnexpectedCharactersMessage(e,r,n,i,a){return $k.buildUnexpectedCharactersMessage(e,r,n,i,a)}buildUnableToPopLexerModeMessage(e){return $k.buildUnableToPopLexerModeMessage(e)}}const OMe={mode:"full"};class MMe{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const r=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=PY(r)?Object.values(r):r,i=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new is(n,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,r=OMe){var n,i,a;const s=this.chevrotainLexer.tokenize(e);return{tokens:s.tokens,errors:s.errors,hidden:(n=s.groups.hidden)!==null&&n!==void 0?n:[],report:(a=(i=this.tokenBuilder).flushLexingReport)===null||a===void 0?void 0:a.call(i,e)}}toTokenTypeDictionary(e){if(PY(e))return e;const r=MY(e)?Object.values(e.modes).flat():e,n={};return r.forEach(i=>n[i.name]=i),n}}function PMe(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function MY(t){return t&&"modes"in t&&"defaultMode"in t}function PY(t){return!PMe(t)&&!MY(t)}function BMe(t,e,r){let n,i;typeof t=="string"?(i=e,n=r):(i=t.range.start,n=e),i||(i=jr.create(0,0));const a=BY(t),s=RC(n),o=zMe({lines:a,position:i,options:s});return qMe({index:0,tokens:o,position:i})}function FMe(t,e){const r=RC(e),n=BY(t);if(n.length===0)return!1;const i=n[0],a=n[n.length-1],s=r.start,o=r.end;return!!(s!=null&&s.exec(i))&&!!(o!=null&&o.exec(a))}function BY(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(TRe)}const FY=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,$Me=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function zMe(t){var e,r,n;const i=[];let a=t.position.line,s=t.position.character;for(let o=0;o<t.lines.length;o++){const l=o===0,u=o===t.lines.length-1;let h=t.lines[o],d=0;if(l&&t.options.start){const p=(e=t.options.start)===null||e===void 0?void 0:e.exec(h);p&&(d=p.index+p[0].length)}else{const p=(r=t.options.line)===null||r===void 0?void 0:r.exec(h);p&&(d=p.index+p[0].length)}if(u){const p=(n=t.options.end)===null||n===void 0?void 0:n.exec(h);p&&(h=h.substring(0,p.index))}if(h=h.substring(0,VMe(h)),NC(h,d)>=h.length){if(i.length>0){const p=jr.create(a,s);i.push({type:"break",content:"",range:Dr.create(p,p)})}}else{FY.lastIndex=d;const p=FY.exec(h);if(p){const g=p[0],m=p[1],y=jr.create(a,s+d),v=jr.create(a,s+d+g.length);i.push({type:"tag",content:m,range:Dr.create(y,v)}),d+=g.length,d=NC(h,d)}if(d<h.length){const g=h.substring(d),m=Array.from(g.matchAll($Me));i.push(...UMe(m,g,a,s+d))}}a++,s=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function UMe(t,e,r,n){const i=[];if(t.length===0){const a=jr.create(r,n),s=jr.create(r,n+e.length);i.push({type:"text",content:e,range:Dr.create(a,s)})}else{let a=0;for(const o of t){const l=o.index,u=e.substring(a,l);u.length>0&&i.push({type:"text",content:e.substring(a,l),range:Dr.create(jr.create(r,a+n),jr.create(r,l+n))});let h=u.length+1;const d=o[1];if(i.push({type:"inline-tag",content:d,range:Dr.create(jr.create(r,a+h+n),jr.create(r,a+h+d.length+n))}),h+=d.length,o.length===4){h+=o[2].length;const f=o[3];i.push({type:"text",content:f,range:Dr.create(jr.create(r,a+h+n),jr.create(r,a+h+f.length+n))})}else i.push({type:"text",content:"",range:Dr.create(jr.create(r,a+h+n),jr.create(r,a+h+n))});a=l+o[0].length}const s=e.substring(a);s.length>0&&i.push({type:"text",content:s,range:Dr.create(jr.create(r,a+n),jr.create(r,a+n+s.length))})}return i}const HMe=/\S/,GMe=/\s*$/;function NC(t,e){const r=t.substring(e).match(HMe);return r?e+r.index:t.length}function VMe(t){const e=t.match(GMe);if(e&&typeof e.index=="number")return e.index}function qMe(t){var e,r,n,i;const a=jr.create(t.position.line,t.position.character);if(t.tokens.length===0)return new HY([],Dr.create(a,a));const s=[];for(;t.index<t.tokens.length;){const u=WMe(t,s[s.length-1]);u&&s.push(u)}const o=(r=(e=s[0])===null||e===void 0?void 0:e.range.start)!==null&&r!==void 0?r:a,l=(i=(n=s[s.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:a;return new HY(s,Dr.create(o,l))}function WMe(t,e){const r=t.tokens[t.index];if(r.type==="tag")return zY(t,!1);if(r.type==="text"||r.type==="inline-tag")return $Y(t);YMe(r,e),t.index++}function YMe(t,e){if(e){const r=new GY("",t.range);"inlines"in e?e.inlines.push(r):e.content.inlines.push(r)}}function $Y(t){let e=t.tokens[t.index];const r=e;let n=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(XMe(t)),n=e,e=t.tokens[t.index];return new OC(i,Dr.create(r.range.start,n.range.end))}function XMe(t){return t.tokens[t.index].type==="inline-tag"?zY(t,!0):UY(t)}function zY(t,e){const r=t.tokens[t.index++],n=r.content.substring(1),i=t.tokens[t.index];if((i==null?void 0:i.type)==="text")if(e){const a=UY(t);return new DC(n,new OC([a],a.range),e,Dr.create(r.range.start,a.range.end))}else{const a=$Y(t);return new DC(n,a,e,Dr.create(r.range.start,a.range.end))}else{const a=r.range;return new DC(n,new OC([],a),e,a)}}function UY(t){const e=t.tokens[t.index++];return new GY(e.content,e.range)}function RC(t){if(!t)return RC({start:"/**",end:"*/",line:"*"});const{start:e,end:r,line:n}=t;return{start:IC(e,!0),end:IC(r,!1),line:IC(n,!0)}}function IC(t,e){if(typeof t=="string"||typeof t=="object"){const r=typeof t=="string"?Ix(t):t.source;return e?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return t}class HY{constructor(e,r){this.elements=e,this.range=r}getTag(e){return this.getAllTags().find(r=>r.name===e)}getTags(e){return this.getAllTags().filter(r=>r.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const r of this.elements)if(e.length===0)e=r.toString();else{const n=r.toString();e+=VY(e)+n}return e.trim()}toMarkdown(e){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(e);else{const i=n.toMarkdown(e);r+=VY(r)+i}return r.trim()}}class DC{constructor(e,r,n,i){this.name=e,this.content=r,this.inline=n,this.range=i}toString(){let e=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?e=`${e} ${r}`:this.content.inlines.length>1&&(e=`${e}
${r}`),this.inline?`{${e}}`:e}toMarkdown(e){var r,n;return(n=(r=e==null?void 0:e.renderTag)===null||r===void 0?void 0:r.call(e,this))!==null&&n!==void 0?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){const r=this.content.toMarkdown(e);if(this.inline){const a=KMe(this.name,r,e??{});if(typeof a=="string")return a}let n="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?n="*":(e==null?void 0:e.tag)==="bold"?n="**":(e==null?void 0:e.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i} — ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}}function KMe(t,e,r){var n,i;if(t==="linkplain"||t==="linkcode"||t==="link"){const a=e.indexOf(" ");let s=e;if(a>0){const l=NC(e,a);s=e.substring(l),e=e.substring(0,a)}return(t==="linkcode"||t==="link"&&r.link==="code")&&(s=`\`${s}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,e,s))!==null&&i!==void 0?i:jMe(e,s)}}function jMe(t,e){try{return $h.parse(t,!0),`[${e}](${t})`}catch{return t}}class OC{constructor(e,r){this.inlines=e,this.range=r}toString(){let e="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];e+=n.toString(),i&&i.range.start.line>n.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],a=this.inlines[n+1];r+=i.toMarkdown(e),a&&a.range.start.line>i.range.start.line&&(r+=`
`)}return r}}class GY{constructor(e,r){this.text=e,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}function VY(t){return t.endsWith(`
`)?`
`:`

`}class QMe{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const r=this.commentProvider.getComment(e);if(r&&FMe(r))return BMe(r).toMarkdown({renderLink:(i,a)=>this.documentationLinkRenderer(e,i,a),renderTag:i=>this.documentationTagRenderer(e,i)})}documentationLinkRenderer(e,r,n){var i;const a=(i=this.findNameInPrecomputedScopes(e,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,r);if(a&&a.nameSegment){const s=a.nameSegment.range.start.line+1,o=a.nameSegment.range.start.character+1,l=a.documentUri.with({fragment:`L${s},${o}`});return`[${n}](${l.toString()})`}else return}documentationTagRenderer(e,r){}findNameInPrecomputedScopes(e,r){const i=iu(e).precomputedScopes;if(!i)return;let a=e;do{const o=i.get(a).find(l=>l.name===r);if(o)return o;a=a.$container}while(a)}findNameInGlobalScope(e,r){return this.indexManager.allElements().find(i=>i.name===r)}}class ZMe{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var r;return vMe(e)?e.$comment:(r=Z9e(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}class JMe{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,r){return Promise.resolve(this.syncParser.parse(e))}}class ePe{constructor(){this.previousTokenSource=new Rn.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const r=iMe();return this.previousTokenSource=r,this.enqueue(this.writeQueue,e,r.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,r,n=Rn.CancellationToken.None){const i=new kC,a={action:r,deferred:i,cancellationToken:n};return e.push(a),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const a=await Promise.resolve().then(()=>r(i));n.resolve(a)}catch(a){dE(a)?n.resolve(void 0):n.reject(a)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class tPe{constructor(e){this.grammarElementIdMap=new RY,this.tokenTypeIdMap=new RY,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(r=>Object.assign(Object.assign({},r),{message:r.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const r=new Map,n=new Map;for(const i of Pf(e))r.set(i,{});if(e.$cstNode)for(const i of pk(e.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,r));for(const[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)ca(o)?s.push(this.dehydrateAstNode(o,r)):cl(o)?s.push(this.dehydrateReference(o,r)):s.push(o)}else ca(a)?n[i]=this.dehydrateAstNode(a,r):cl(a)?n[i]=this.dehydrateReference(a,r):a!==void 0&&(n[i]=a);return n}dehydrateReference(e,r){const n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=r.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,r){const n=r.cstNodes.get(e);return TV(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=r.astNodes.get(e.astNode),M1(e)?n.content=e.content.map(i=>this.dehydrateCstNode(i,r)):EV(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){const r=e.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(e){const r=new Map,n=new Map;for(const a of Pf(e))r.set(a,{});let i;if(e.$cstNode)for(const a of pk(e.$cstNode)){let s;"fullText"in a?(s=new uY(a.fullText),i=s):"content"in a?s=new xC:"tokenType"in a&&(s=this.hydrateCstLeafNode(a)),s&&(n.set(a,s),s.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=r.cstNodes.get(e.$cstNode));for(const[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)ca(o)?s.push(this.setParent(this.hydrateAstNode(o,r),n)):cl(o)?s.push(this.hydrateReference(o,n,i,r)):s.push(o)}else ca(a)?n[i]=this.setParent(this.hydrateAstNode(a,r),n):cl(a)?n[i]=this.hydrateReference(a,n,i,r):a!==void 0&&(n[i]=a);return n}setParent(e,r){return e.$container=r,e}hydrateReference(e,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,r,n=0){const i=r.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=r.astNodes.get(e.astNode),M1(i))for(const a of e.content){const s=this.hydrateCstNode(a,r,n++);i.content.push(s)}return i}hydrateCstLeafNode(e){const r=this.getTokenType(e.tokenType),n=e.offset,i=e.length,a=e.startLine,s=e.startColumn,o=e.endLine,l=e.endColumn,u=e.hidden;return new bC(n,i,{start:{line:a,character:s},end:{line:o,character:l}},r,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const r of Pf(this.grammar))eRe(r)&&this.grammarElementIdMap.set(r,e++)}}function zh(t){return{documentation:{CommentProvider:e=>new ZMe(e),DocumentationProvider:e=>new QMe(e)},parser:{AsyncParser:e=>new JMe(e),GrammarConfig:e=>qRe(e),LangiumParser:e=>ZOe(e),CompletionParser:e=>QOe(e),ValueConverter:()=>new xY,TokenBuilder:()=>new bY,Lexer:e=>new MMe(e),ParserErrorMessageProvider:()=>new pY,LexerErrorMessageProvider:()=>new DMe},workspace:{AstNodeLocator:()=>new _Me,AstNodeDescriptionProvider:e=>new kMe(e),ReferenceDescriptionProvider:e=>new CMe(e)},references:{Linker:e=>new lMe(e),NameProvider:()=>new uMe,ScopeProvider:e=>new yMe(e),ScopeComputation:e=>new dMe(e),References:e=>new hMe(e)},serializer:{Hydrator:e=>new tPe(e),JsonSerializer:e=>new bMe(e)},validation:{DocumentValidator:e=>new TMe(e),ValidationRegistry:e=>new EMe(e)},shared:()=>t.shared}}function Uh(t){return{ServiceRegistry:e=>new xMe(e),workspace:{LangiumDocuments:e=>new oMe(e),LangiumDocumentFactory:e=>new sMe(e),DocumentBuilder:e=>new NMe(e),IndexManager:e=>new RMe(e),WorkspaceManager:e=>new IMe(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new ePe,ConfigurationProvider:e=>new LMe(e)}}}var qY;(function(t){t.merge=(e,r)=>gE(gE({},e),r)})(qY||(qY={}));function as(t,e,r,n,i,a,s,o,l){const u=[t,e,r,n,i,a,s,o,l].reduce(gE,{});return WY(u)}const rPe=Symbol("isProxy");function WY(t,e){const r=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(n,i)=>i===rPe?!0:XY(n,i,t,e||r),getOwnPropertyDescriptor:(n,i)=>(XY(n,i,t,e||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in t,ownKeys:()=>[...Object.getOwnPropertyNames(t)]});return r}const YY=Symbol();function XY(t,e,r,n){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===YY)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in r){const i=r[e];t[e]=YY;try{t[e]=typeof i=="function"?i(n):WY(i,n)}catch(a){throw t[e]=a instanceof Error?a:void 0,a}return t[e]}else return}function gE(t,e){if(e){for(const[r,n]of Object.entries(e))if(n!==void 0){const i=t[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?t[r]=gE(i,n):t[r]=n}}return t}class nPe{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const Hh={fileSystemProvider:()=>new nPe},iPe={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},aPe={AstReflection:()=>new RV};function sPe(){const t=as(Uh(Hh),aPe),e=as(zh({shared:t}),iPe);return t.ServiceRegistry.register(e),e}function Xf(t){var e;const r=sPe(),n=r.serializer.JsonSerializer.deserialize(t);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,$h.parse(`memory://${(e=n.name)!==null&&e!==void 0?e:"grammar"}.langium`)),n}var oPe=Object.defineProperty,$t=(t,e)=>oPe(t,"name",{value:e,configurable:!0}),KY="Statement",mE="Architecture";function lPe(t){return dl.isInstance(t,mE)}$t(lPe,"isArchitecture");var yE="Axis",_m="Branch";function cPe(t){return dl.isInstance(t,_m)}$t(cPe,"isBranch");var vE="Checkout",bE="CherryPicking",Am="Commit";function uPe(t){return dl.isInstance(t,Am)}$t(uPe,"isCommit");var MC="Curve",PC="Edge",BC="Entry",Lm="GitGraph";function hPe(t){return dl.isInstance(t,Lm)}$t(hPe,"isGitGraph");var FC="Group",xE="Info";function dPe(t){return dl.isInstance(t,xE)}$t(dPe,"isInfo");var $C="Junction",Nm="Merge";function fPe(t){return dl.isInstance(t,Nm)}$t(fPe,"isMerge");var zC="Option",EE="Packet";function pPe(t){return dl.isInstance(t,EE)}$t(pPe,"isPacket");var TE="PacketBlock";function gPe(t){return dl.isInstance(t,TE)}$t(gPe,"isPacketBlock");var wE="Pie";function mPe(t){return dl.isInstance(t,wE)}$t(mPe,"isPie");var SE="PieSection";function yPe(t){return dl.isInstance(t,SE)}$t(yPe,"isPieSection");var UC="Radar",HC="Service",kE="Direction",jY=(K0=class extends xV{getAllTypes(){return[mE,yE,_m,vE,bE,Am,MC,kE,PC,BC,Lm,FC,xE,$C,Nm,zC,EE,TE,wE,SE,UC,HC,KY]}computeIsSubtype(e,r){switch(e){case _m:case vE:case bE:case Am:case Nm:return this.isSubtype(KY,r);case kE:return this.isSubtype(Lm,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){case"Entry:axis":return yE;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case mE:return{name:mE,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case yE:return{name:yE,properties:[{name:"label"},{name:"name"}]};case _m:return{name:_m,properties:[{name:"name"},{name:"order"}]};case vE:return{name:vE,properties:[{name:"branch"}]};case bE:return{name:bE,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case Am:return{name:Am,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case MC:return{name:MC,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case PC:return{name:PC,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case BC:return{name:BC,properties:[{name:"axis"},{name:"value"}]};case Lm:return{name:Lm,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case FC:return{name:FC,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case xE:return{name:xE,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case $C:return{name:$C,properties:[{name:"id"},{name:"in"}]};case Nm:return{name:Nm,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case zC:return{name:zC,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case EE:return{name:EE,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case TE:return{name:TE,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case wE:return{name:wE,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case SE:return{name:SE,properties:[{name:"label"},{name:"value"}]};case UC:return{name:UC,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case HC:return{name:HC,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case kE:return{name:kE,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},$t(K0,"MermaidAstReflection"),K0),dl=new jY,QY,vPe=$t(()=>QY??(QY=Xf(`{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"InfoGrammar"),ZY,bPe=$t(()=>ZY??(ZY=Xf(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),JY,xPe=$t(()=>JY??(JY=Xf(`{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PieGrammar"),eX,EPe=$t(()=>eX??(eX=Xf(`{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"ArchitectureGrammar"),tX,TPe=$t(()=>tX??(tX=Xf(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),rX,wPe=$t(()=>rX??(rX=Xf(`{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}`)),"RadarGrammar"),SPe={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},kPe={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},CPe={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},_Pe={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},APe={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},LPe={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Kf={AstReflection:$t(()=>new jY,"AstReflection")},NPe={Grammar:$t(()=>vPe(),"Grammar"),LanguageMetaData:$t(()=>SPe,"LanguageMetaData"),parser:{}},RPe={Grammar:$t(()=>bPe(),"Grammar"),LanguageMetaData:$t(()=>kPe,"LanguageMetaData"),parser:{}},IPe={Grammar:$t(()=>xPe(),"Grammar"),LanguageMetaData:$t(()=>CPe,"LanguageMetaData"),parser:{}},DPe={Grammar:$t(()=>EPe(),"Grammar"),LanguageMetaData:$t(()=>_Pe,"LanguageMetaData"),parser:{}},OPe={Grammar:$t(()=>TPe(),"Grammar"),LanguageMetaData:$t(()=>APe,"LanguageMetaData"),parser:{}},MPe={Grammar:$t(()=>wPe(),"Grammar"),LanguageMetaData:$t(()=>LPe,"LanguageMetaData"),parser:{}},PPe=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,BPe=/accTitle[\t ]*:([^\n\r]*)/,FPe=/title([\t ][^\n\r]*|)/,$Pe={ACC_DESCR:PPe,ACC_TITLE:BPe,TITLE:FPe},GC=(j0=class extends xY{runConverter(e,r,n){let i=this.runCommonConverter(e,r,n);return i===void 0&&(i=this.runCustomConverter(e,r,n)),i===void 0?super.runConverter(e,r,n):i}runCommonConverter(e,r,n){const i=$Pe[e.name];if(i===void 0)return;const a=i.exec(r);if(a!==null){if(a[1]!==void 0)return a[1].trim().replace(/[\t ]{2,}/gm," ");if(a[2]!==void 0)return a[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},$t(j0,"AbstractMermaidValueConverter"),j0),CE=(Q0=class extends GC{runCustomConverter(e,r,n){}},$t(Q0,"CommonValueConverter"),Q0),Gh=(Z0=class extends bY{constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,r,n){const i=super.buildKeywordTokens(e,r,n);return i.forEach(a=>{this.keywords.has(a.name)&&a.PATTERN!==void 0&&(a.PATTERN=new RegExp(a.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),i}},$t(Z0,"AbstractMermaidTokenBuilder"),Z0);J0=class extends Gh{},$t(J0,"CommonTokenBuilder");var zPe=(ep=class extends Gh{constructor(){super(["gitGraph"])}},$t(ep,"GitGraphTokenBuilder"),ep),nX={parser:{TokenBuilder:$t(()=>new zPe,"TokenBuilder"),ValueConverter:$t(()=>new CE,"ValueConverter")}};function iX(t=Hh){const e=as(Uh(t),Kf),r=as(zh({shared:e}),OPe,nX);return e.ServiceRegistry.register(r),{shared:e,GitGraph:r}}$t(iX,"createGitGraphServices");var UPe=(tp=class extends Gh{constructor(){super(["info","showInfo"])}},$t(tp,"InfoTokenBuilder"),tp),aX={parser:{TokenBuilder:$t(()=>new UPe,"TokenBuilder"),ValueConverter:$t(()=>new CE,"ValueConverter")}};function sX(t=Hh){const e=as(Uh(t),Kf),r=as(zh({shared:e}),NPe,aX);return e.ServiceRegistry.register(r),{shared:e,Info:r}}$t(sX,"createInfoServices");var HPe=(rp=class extends Gh{constructor(){super(["packet-beta"])}},$t(rp,"PacketTokenBuilder"),rp),oX={parser:{TokenBuilder:$t(()=>new HPe,"TokenBuilder"),ValueConverter:$t(()=>new CE,"ValueConverter")}};function lX(t=Hh){const e=as(Uh(t),Kf),r=as(zh({shared:e}),RPe,oX);return e.ServiceRegistry.register(r),{shared:e,Packet:r}}$t(lX,"createPacketServices");var GPe=(np=class extends Gh{constructor(){super(["pie","showData"])}},$t(np,"PieTokenBuilder"),np),VPe=(ip=class extends GC{runCustomConverter(e,r,n){if(e.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},$t(ip,"PieValueConverter"),ip),cX={parser:{TokenBuilder:$t(()=>new GPe,"TokenBuilder"),ValueConverter:$t(()=>new VPe,"ValueConverter")}};function uX(t=Hh){const e=as(Uh(t),Kf),r=as(zh({shared:e}),IPe,cX);return e.ServiceRegistry.register(r),{shared:e,Pie:r}}$t(uX,"createPieServices");var qPe=(ap=class extends Gh{constructor(){super(["architecture"])}},$t(ap,"ArchitectureTokenBuilder"),ap),WPe=(sp=class extends GC{runCustomConverter(e,r,n){if(e.name==="ARCH_ICON")return r.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return r.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return r.replace(/[[\]]/g,"").trim()}},$t(sp,"ArchitectureValueConverter"),sp),hX={parser:{TokenBuilder:$t(()=>new qPe,"TokenBuilder"),ValueConverter:$t(()=>new WPe,"ValueConverter")}};function dX(t=Hh){const e=as(Uh(t),Kf),r=as(zh({shared:e}),DPe,hX);return e.ServiceRegistry.register(r),{shared:e,Architecture:r}}$t(dX,"createArchitectureServices");var YPe=(op=class extends Gh{constructor(){super(["radar-beta"])}},$t(op,"RadarTokenBuilder"),op),fX={parser:{TokenBuilder:$t(()=>new YPe,"TokenBuilder"),ValueConverter:$t(()=>new CE,"ValueConverter")}};function pX(t=Hh){const e=as(Uh(t),Kf),r=as(zh({shared:e}),MPe,fX);return e.ServiceRegistry.register(r),{shared:e,Radar:r}}$t(pX,"createRadarServices");var hu={},XPe={info:$t(async()=>{const{createInfoServices:t}=await Promise.resolve().then(()=>RJe),e=t().Info.parser.LangiumParser;hu.info=e},"info"),packet:$t(async()=>{const{createPacketServices:t}=await Promise.resolve().then(()=>IJe),e=t().Packet.parser.LangiumParser;hu.packet=e},"packet"),pie:$t(async()=>{const{createPieServices:t}=await Promise.resolve().then(()=>DJe),e=t().Pie.parser.LangiumParser;hu.pie=e},"pie"),architecture:$t(async()=>{const{createArchitectureServices:t}=await Promise.resolve().then(()=>OJe),e=t().Architecture.parser.LangiumParser;hu.architecture=e},"architecture"),gitGraph:$t(async()=>{const{createGitGraphServices:t}=await Promise.resolve().then(()=>MJe),e=t().GitGraph.parser.LangiumParser;hu.gitGraph=e},"gitGraph"),radar:$t(async()=>{const{createRadarServices:t}=await Promise.resolve().then(()=>PJe),e=t().Radar.parser.LangiumParser;hu.radar=e},"radar")};async function Vh(t,e){const r=XPe[t];if(!r)throw new Error(`Unknown diagram type: ${t}`);hu[t]||await r();const i=hu[t].parse(e);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new KPe(i);return i.value}$t(Vh,"parse");var KPe=(lp=class extends Error{constructor(e){const r=e.lexerErrors.map(i=>i.message).join(`
`),n=e.parserErrors.map(i=>i.message).join(`
`);super(`Parsing failed: ${r} ${n}`),this.result=e}},$t(lp,"MermaidParseError"),lp),rn={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},jPe=Rr.gitGraph,qh=E(()=>bs({...jPe,...qr().gitGraph}),"getConfig"),Dt=new hk(()=>{const t=qh(),e=t.mainBranchName,r=t.mainBranchOrder;return{mainBranchName:e,commits:new Map,head:null,branchConfig:new Map([[e,{name:e,order:r}]]),branches:new Map([[e,null]]),currBranch:e,direction:"LR",seq:0,options:{}}});function _E(){return LB({length:7})}E(_E,"getID");function gX(t,e){const r=Object.create(null);return t.reduce((n,i)=>{const a=e(i);return r[a]||(r[a]=!0,n.push(i)),n},[])}E(gX,"uniqBy");var QPe=E(function(t){Dt.records.direction=t},"setDirection"),ZPe=E(function(t){se.debug("options str",t),t=t==null?void 0:t.trim(),t=t||"{}";try{Dt.records.options=JSON.parse(t)}catch(e){se.error("error while parsing gitGraph options",e.message)}},"setOptions"),JPe=E(function(){return Dt.records.options},"getOptions"),eBe=E(function(t){let e=t.msg,r=t.id;const n=t.type;let i=t.tags;se.info("commit",e,r,n,i),se.debug("Entering commit:",e,r,n,i);const a=qh();r=xt.sanitizeText(r,a),e=xt.sanitizeText(e,a),i=i==null?void 0:i.map(o=>xt.sanitizeText(o,a));const s={id:r||Dt.records.seq+"-"+_E(),message:e,seq:Dt.records.seq++,type:n??rn.NORMAL,tags:i??[],parents:Dt.records.head==null?[]:[Dt.records.head.id],branch:Dt.records.currBranch};Dt.records.head=s,se.info("main branch",a.mainBranchName),Dt.records.commits.set(s.id,s),Dt.records.branches.set(Dt.records.currBranch,s.id),se.debug("in pushCommit "+s.id)},"commit"),tBe=E(function(t){let e=t.name;const r=t.order;if(e=xt.sanitizeText(e,qh()),Dt.records.branches.has(e))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${e}")`);Dt.records.branches.set(e,Dt.records.head!=null?Dt.records.head.id:null),Dt.records.branchConfig.set(e,{name:e,order:r}),mX(e),se.debug("in createBranch")},"branch"),rBe=E(t=>{let e=t.branch,r=t.id;const n=t.type,i=t.tags,a=qh();e=xt.sanitizeText(e,a),r&&(r=xt.sanitizeText(r,a));const s=Dt.records.branches.get(Dt.records.currBranch),o=Dt.records.branches.get(e),l=s?Dt.records.commits.get(s):void 0,u=o?Dt.records.commits.get(o):void 0;if(l&&u&&l.branch===e)throw new Error(`Cannot merge branch '${e}' into itself.`);if(Dt.records.currBranch===e){const f=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw f.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},f}if(l===void 0||!l){const f=new Error(`Incorrect usage of "merge". Current branch (${Dt.records.currBranch})has no commits`);throw f.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["commit"]},f}if(!Dt.records.branches.has(e)){const f=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw f.hash={text:`merge ${e}`,token:`merge ${e}`,expected:[`branch ${e}`]},f}if(u===void 0||!u){const f=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw f.hash={text:`merge ${e}`,token:`merge ${e}`,expected:['"commit"']},f}if(l===u){const f=new Error('Incorrect usage of "merge". Both branches have same head');throw f.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},f}if(r&&Dt.records.commits.has(r)){const f=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom id");throw f.hash={text:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,token:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,expected:[`merge ${e} ${r}_UNIQUE ${n} ${i==null?void 0:i.join(" ")}`]},f}const h=o||"",d={id:r||`${Dt.records.seq}-${_E()}`,message:`merged branch ${e} into ${Dt.records.currBranch}`,seq:Dt.records.seq++,parents:Dt.records.head==null?[]:[Dt.records.head.id,h],branch:Dt.records.currBranch,type:rn.MERGE,customType:n,customId:!!r,tags:i??[]};Dt.records.head=d,Dt.records.commits.set(d.id,d),Dt.records.branches.set(Dt.records.currBranch,d.id),se.debug(Dt.records.branches),se.debug("in mergeBranch")},"merge"),nBe=E(function(t){let e=t.id,r=t.targetId,n=t.tags,i=t.parent;se.debug("Entering cherryPick:",e,r,n);const a=qh();if(e=xt.sanitizeText(e,a),r=xt.sanitizeText(r,a),n=n==null?void 0:n.map(l=>xt.sanitizeText(l,a)),i=xt.sanitizeText(i,a),!e||!Dt.records.commits.has(e)){const l=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw l.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},l}const s=Dt.records.commits.get(e);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&!(Array.isArray(s.parents)&&s.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const o=s.branch;if(s.type===rn.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!Dt.records.commits.has(r)){if(o===Dt.records.currBranch){const d=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const l=Dt.records.branches.get(Dt.records.currBranch);if(l===void 0||!l){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${Dt.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const u=Dt.records.commits.get(l);if(u===void 0||!u){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${Dt.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const h={id:Dt.records.seq+"-"+_E(),message:`cherry-picked ${s==null?void 0:s.message} into ${Dt.records.currBranch}`,seq:Dt.records.seq++,parents:Dt.records.head==null?[]:[Dt.records.head.id,s.id],branch:Dt.records.currBranch,type:rn.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${s.id}${s.type===rn.MERGE?`|parent:${i}`:""}`]};Dt.records.head=h,Dt.records.commits.set(h.id,h),Dt.records.branches.set(Dt.records.currBranch,h.id),se.debug(Dt.records.branches),se.debug("in cherryPick")}},"cherryPick"),mX=E(function(t){if(t=xt.sanitizeText(t,qh()),Dt.records.branches.has(t)){Dt.records.currBranch=t;const e=Dt.records.branches.get(Dt.records.currBranch);e===void 0||!e?Dt.records.head=null:Dt.records.head=Dt.records.commits.get(e)??null}else{const e=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${t}")`);throw e.hash={text:`checkout ${t}`,token:`checkout ${t}`,expected:[`branch ${t}`]},e}},"checkout");function VC(t,e,r){const n=t.indexOf(e);n===-1?t.push(r):t.splice(n,1,r)}E(VC,"upsert");function qC(t){const e=t.reduce((i,a)=>i.seq>a.seq?i:a,t[0]);let r="";t.forEach(function(i){i===e?r+="	*":r+="	|"});const n=[r,e.id,e.seq];for(const i in Dt.records.branches)Dt.records.branches.get(i)===e.id&&n.push(i);if(se.debug(n.join(" ")),e.parents&&e.parents.length==2&&e.parents[0]&&e.parents[1]){const i=Dt.records.commits.get(e.parents[0]);VC(t,e,i),e.parents[1]&&t.push(Dt.records.commits.get(e.parents[1]))}else{if(e.parents.length==0)return;if(e.parents[0]){const i=Dt.records.commits.get(e.parents[0]);VC(t,e,i)}}t=gX(t,i=>i.id),qC(t)}E(qC,"prettyPrintCommitHistory");var iBe=E(function(){se.debug(Dt.records.commits);const t=yX()[0];qC([t])},"prettyPrint"),aBe=E(function(){Dt.reset(),si()},"clear"),sBe=E(function(){return[...Dt.records.branchConfig.values()].map((e,r)=>e.order!==null&&e.order!==void 0?e:{...e,order:parseFloat(`0.${r}`)}).sort((e,r)=>(e.order??0)-(r.order??0)).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),oBe=E(function(){return Dt.records.branches},"getBranches"),lBe=E(function(){return Dt.records.commits},"getCommits"),yX=E(function(){const t=[...Dt.records.commits.values()];return t.forEach(function(e){se.debug(e.id)}),t.sort((e,r)=>e.seq-r.seq),t},"getCommitsArray"),cBe=E(function(){return Dt.records.currBranch},"getCurrentBranch"),uBe=E(function(){return Dt.records.direction},"getDirection"),hBe=E(function(){return Dt.records.head},"getHead"),vX={commitType:rn,getConfig:qh,setDirection:QPe,setOptions:ZPe,getOptions:JPe,commit:eBe,branch:tBe,merge:rBe,cherryPick:nBe,checkout:mX,prettyPrint:iBe,clear:aBe,getBranchesAsObjArray:sBe,getBranches:oBe,getCommits:lBe,getCommitsArray:yX,getCurrentBranch:cBe,getDirection:uBe,getHead:hBe,setAccTitle:oi,getAccTitle:ki,getAccDescription:_i,setAccDescription:Ci,setDiagramTitle:Fi,getDiagramTitle:li},dBe=E((t,e)=>{Of(t,e),t.dir&&e.setDirection(t.dir);for(const r of t.statements)fBe(r,e)},"populate"),fBe=E((t,e)=>{const n={Commit:E(i=>e.commit(pBe(i)),"Commit"),Branch:E(i=>e.branch(gBe(i)),"Branch"),Merge:E(i=>e.merge(mBe(i)),"Merge"),Checkout:E(i=>e.checkout(yBe(i)),"Checkout"),CherryPicking:E(i=>e.cherryPick(vBe(i)),"CherryPicking")}[t.$type];n?n(t):se.error(`Unknown statement type: ${t.$type}`)},"parseStatement"),pBe=E(t=>({id:t.id,msg:t.message??"",type:t.type!==void 0?rn[t.type]:rn.NORMAL,tags:t.tags??void 0}),"parseCommit"),gBe=E(t=>({name:t.name,order:t.order??0}),"parseBranch"),mBe=E(t=>({branch:t.branch,id:t.id??"",type:t.type!==void 0?rn[t.type]:void 0,tags:t.tags??void 0}),"parseMerge"),yBe=E(t=>t.branch,"parseCheckout"),vBe=E(t=>{var r;return{id:t.id,targetId:"",tags:((r=t.tags)==null?void 0:r.length)===0?void 0:t.tags,parent:t.parent}},"parseCherryPicking"),bBe={parse:E(async t=>{const e=await Vh("gitGraph",t);se.debug(e),dBe(e,vX)},"parse")},WC=Re(),ti=WC==null?void 0:WC.gitGraph,du=10,fu=40,fl=4,pc=2,Wh=8,ss=new Map,os=new Map,AE=30,Rm=new Map,LE=[],pu=0,Nr="LR",xBe=E(()=>{ss.clear(),os.clear(),Rm.clear(),pu=0,LE=[],Nr="LR"},"clear"),bX=E(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof t=="string"?t.split(/\\n|\n|<br\s*\/?>/gi):t).forEach(n=>{const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n.trim(),e.appendChild(i)}),e},"drawText"),xX=E(t=>{let e,r,n;return Nr==="BT"?(r=E((i,a)=>i<=a,"comparisonFunc"),n=1/0):(r=E((i,a)=>i>=a,"comparisonFunc"),n=0),t.forEach(i=>{var s,o;const a=Nr==="TB"||Nr=="BT"?(s=os.get(i))==null?void 0:s.y:(o=os.get(i))==null?void 0:o.x;a!==void 0&&r(a,n)&&(e=i,n=a)}),e},"findClosestParent"),EBe=E(t=>{let e="",r=1/0;return t.forEach(n=>{const i=os.get(n).y;i<=r&&(e=n,r=i)}),e||void 0},"findClosestParentBT"),TBe=E((t,e,r)=>{let n=r,i=r;const a=[];t.forEach(s=>{const o=e.get(s);if(!o)throw new Error(`Commit not found for key ${s}`);o.parents.length?(n=SBe(o),i=Math.max(n,i)):a.push(o),kBe(o,n)}),n=i,a.forEach(s=>{CBe(s,n,r)}),t.forEach(s=>{const o=e.get(s);if(o!=null&&o.parents.length){const l=EBe(o.parents);n=os.get(l).y-fu,n<=i&&(i=n);const u=ss.get(o.branch).pos,h=n-du;os.set(o.id,{x:u,y:h})}})},"setParallelBTPos"),wBe=E(t=>{var n;const e=xX(t.parents.filter(i=>i!==null));if(!e)throw new Error(`Closest parent not found for commit ${t.id}`);const r=(n=os.get(e))==null?void 0:n.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${t.id}`);return r},"findClosestParentPos"),SBe=E(t=>wBe(t)+fu,"calculateCommitPosition"),kBe=E((t,e)=>{const r=ss.get(t.branch);if(!r)throw new Error(`Branch not found for commit ${t.id}`);const n=r.pos,i=e+du;return os.set(t.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),CBe=E((t,e,r)=>{const n=ss.get(t.branch);if(!n)throw new Error(`Branch not found for commit ${t.id}`);const i=e+r,a=n.pos;os.set(t.id,{x:a,y:i})},"setRootPosition"),_Be=E((t,e,r,n,i,a)=>{if(a===rn.HIGHLIGHT)t.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${e.id} commit-highlight${i%Wh} ${n}-outer`),t.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${e.id} commit${i%Wh} ${n}-inner`);else if(a===rn.CHERRY_PICK)t.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`);else{const s=t.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",e.type===rn.MERGE?9:10),s.attr("class",`commit ${e.id} commit${i%Wh}`),a===rn.MERGE){const o=t.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${n} ${e.id} commit${i%Wh}`)}a===rn.REVERSE&&t.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${e.id} commit${i%Wh}`)}},"drawCommitBullet"),ABe=E((t,e,r,n)=>{var i;if(e.type!==rn.CHERRY_PICK&&(e.customId&&e.type===rn.MERGE||e.type!==rn.MERGE)&&(ti!=null&&ti.showCommitLabel)){const a=t.append("g"),s=a.insert("rect").attr("class","commit-label-bkg"),o=a.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(e.id),l=(i=o.node())==null?void 0:i.getBBox();if(l&&(s.attr("x",r.posWithOffset-l.width/2-pc).attr("y",r.y+13.5).attr("width",l.width+2*pc).attr("height",l.height+2*pc),Nr==="TB"||Nr==="BT"?(s.attr("x",r.x-(l.width+4*fl+5)).attr("y",r.y-12),o.attr("x",r.x-(l.width+4*fl)).attr("y",r.y+l.height-12)):o.attr("x",r.posWithOffset-l.width/2),ti.rotateCommitLabel))if(Nr==="TB"||Nr==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),s.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const u=-7.5-(l.width+10)/25*9.5,h=10+l.width/25*8.5;a.attr("transform","translate("+u+", "+h+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),LBe=E((t,e,r,n)=>{var i;if(e.tags.length>0){let a=0,s=0,o=0;const l=[];for(const u of e.tags.reverse()){const h=t.insert("polygon"),d=t.append("circle"),f=t.append("text").attr("y",r.y-16-a).attr("class","tag-label").text(u),p=(i=f.node())==null?void 0:i.getBBox();if(!p)throw new Error("Tag bbox not found");s=Math.max(s,p.width),o=Math.max(o,p.height),f.attr("x",r.posWithOffset-p.width/2),l.push({tag:f,hole:d,rect:h,yOffset:a}),a+=20}for(const{tag:u,hole:h,rect:d,yOffset:f}of l){const p=o/2,g=r.y-19.2-f;if(d.attr("class","tag-label-bkg").attr("points",`
      ${n-s/2-fl/2},${g+pc}  
      ${n-s/2-fl/2},${g-pc}
      ${r.posWithOffset-s/2-fl},${g-p-pc}
      ${r.posWithOffset+s/2+fl},${g-p-pc}
      ${r.posWithOffset+s/2+fl},${g+p+pc}
      ${r.posWithOffset-s/2-fl},${g+p+pc}`),h.attr("cy",g).attr("cx",n-s/2+fl/2).attr("r",1.5).attr("class","tag-hole"),Nr==="TB"||Nr==="BT"){const m=n+f;d.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${m+2}
        ${r.x},${m-2}
        ${r.x+du},${m-p-2}
        ${r.x+du+s+4},${m-p-2}
        ${r.x+du+s+4},${m+p+2}
        ${r.x+du},${m+p+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("cx",r.x+fl/2).attr("cy",m).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("x",r.x+5).attr("y",m+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),NBe=E(t=>{switch(t.customType??t.type){case rn.NORMAL:return"commit-normal";case rn.REVERSE:return"commit-reverse";case rn.HIGHLIGHT:return"commit-highlight";case rn.MERGE:return"commit-merge";case rn.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),RBe=E((t,e,r,n)=>{const i={x:0,y:0};if(t.parents.length>0){const a=xX(t.parents);if(a){const s=n.get(a)??i;return e==="TB"?s.y+fu:e==="BT"?(n.get(t.id)??i).y-fu:s.x+fu}}else return e==="TB"?AE:e==="BT"?(n.get(t.id)??i).y-fu:0;return 0},"calculatePosition"),IBe=E((t,e,r)=>{var s,o;const n=Nr==="BT"&&r?e:e+du,i=Nr==="TB"||Nr==="BT"?n:(s=ss.get(t.branch))==null?void 0:s.pos,a=Nr==="TB"||Nr==="BT"?(o=ss.get(t.branch))==null?void 0:o.pos:n;if(a===void 0||i===void 0)throw new Error(`Position were undefined for commit ${t.id}`);return{x:a,y:i,posWithOffset:n}},"getCommitPosition"),EX=E((t,e,r)=>{if(!ti)throw new Error("GitGraph config not found");const n=t.append("g").attr("class","commit-bullets"),i=t.append("g").attr("class","commit-labels");let a=Nr==="TB"||Nr==="BT"?AE:0;const s=[...e.keys()],o=(ti==null?void 0:ti.parallelCommits)??!1,l=E((h,d)=>{var g,m;const f=(g=e.get(h))==null?void 0:g.seq,p=(m=e.get(d))==null?void 0:m.seq;return f!==void 0&&p!==void 0?f-p:0},"sortKeys");let u=s.sort(l);Nr==="BT"&&(o&&TBe(u,e,a),u=u.reverse()),u.forEach(h=>{var p;const d=e.get(h);if(!d)throw new Error(`Commit not found for key ${h}`);o&&(a=RBe(d,Nr,a,os));const f=IBe(d,a,o);if(r){const g=NBe(d),m=d.customType??d.type,y=((p=ss.get(d.branch))==null?void 0:p.index)??0;_Be(n,d,f,g,y,m),ABe(i,d,f,a),LBe(i,d,f,a)}Nr==="TB"||Nr==="BT"?os.set(d.id,{x:f.x,y:f.posWithOffset}):os.set(d.id,{x:f.posWithOffset,y:f.y}),a=Nr==="BT"&&o?a+fu:a+fu+du,a>pu&&(pu=a)})},"drawCommits"),DBe=E((t,e,r,n,i)=>{const s=(Nr==="TB"||Nr==="BT"?r.x<n.x:r.y<n.y)?e.branch:t.branch,o=E(u=>u.branch===s,"isOnBranchToGetCurve"),l=E(u=>u.seq>t.seq&&u.seq<e.seq,"isBetweenCommits");return[...i.values()].some(u=>l(u)&&o(u))},"shouldRerouteArrow"),Im=E((t,e,r=0)=>{const n=t+Math.abs(t-e)/2;if(r>5)return n;if(LE.every(s=>Math.abs(s-n)>=10))return LE.push(n),n;const a=Math.abs(t-e);return Im(t,e-a/5,r+1)},"findLane"),OBe=E((t,e,r,n)=>{var p,g,m,y,v;const i=os.get(e.id),a=os.get(r.id);if(i===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${e.id} and ${r.id}`);const s=DBe(e,r,i,a,n);let o="",l="",u=0,h=0,d=(p=ss.get(r.branch))==null?void 0:p.index;r.type===rn.MERGE&&e.id!==r.parents[0]&&(d=(g=ss.get(e.branch))==null?void 0:g.index);let f;if(s){o="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10;const b=i.y<a.y?Im(i.y,a.y):Im(a.y,i.y),x=i.x<a.x?Im(i.x,a.x):Im(a.x,i.x);Nr==="TB"?i.x<a.x?f=`M ${i.x} ${i.y} L ${x-u} ${i.y} ${l} ${x} ${i.y+h} L ${x} ${a.y-u} ${o} ${x+h} ${a.y} L ${a.x} ${a.y}`:(d=(m=ss.get(e.branch))==null?void 0:m.index,f=`M ${i.x} ${i.y} L ${x+u} ${i.y} ${o} ${x} ${i.y+h} L ${x} ${a.y-u} ${l} ${x-h} ${a.y} L ${a.x} ${a.y}`):Nr==="BT"?i.x<a.x?f=`M ${i.x} ${i.y} L ${x-u} ${i.y} ${o} ${x} ${i.y-h} L ${x} ${a.y+u} ${l} ${x+h} ${a.y} L ${a.x} ${a.y}`:(d=(y=ss.get(e.branch))==null?void 0:y.index,f=`M ${i.x} ${i.y} L ${x+u} ${i.y} ${l} ${x} ${i.y-h} L ${x} ${a.y+u} ${o} ${x-h} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?f=`M ${i.x} ${i.y} L ${i.x} ${b-u} ${o} ${i.x+h} ${b} L ${a.x-u} ${b} ${l} ${a.x} ${b+h} L ${a.x} ${a.y}`:(d=(v=ss.get(e.branch))==null?void 0:v.index,f=`M ${i.x} ${i.y} L ${i.x} ${b+u} ${l} ${i.x+h} ${b} L ${a.x-u} ${b} ${o} ${a.x} ${b-h} L ${a.x} ${a.y}`)}else o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,Nr==="TB"?(i.x<a.x&&(r.type===rn.MERGE&&e.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${l} ${a.x} ${i.y+h} L ${a.x} ${a.y}`),i.x>a.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===rn.MERGE&&e.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${l} ${i.x-h} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x+u} ${i.y} ${o} ${a.x} ${i.y+h} L ${a.x} ${a.y}`),i.x===a.x&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):Nr==="BT"?(i.x<a.x&&(r.type===rn.MERGE&&e.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${l} ${i.x+h} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.x>a.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===rn.MERGE&&e.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${o} ${i.x-h} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.x===a.x&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(r.type===rn.MERGE&&e.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${l} ${a.x} ${i.y+h} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(r.type===rn.MERGE&&e.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${l} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));if(f===void 0)throw new Error("Line definition not found");t.append("path").attr("d",f).attr("class","arrow arrow"+d%Wh)},"drawArrow"),MBe=E((t,e)=>{const r=t.append("g").attr("class","commit-arrows");[...e.keys()].forEach(n=>{const i=e.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(a=>{OBe(r,e.get(a),i,e)})})},"drawArrows"),PBe=E((t,e)=>{const r=t.append("g");e.forEach((n,i)=>{var g;const a=i%Wh,s=(g=ss.get(n.name))==null?void 0:g.pos;if(s===void 0)throw new Error(`Position not found for branch ${n.name}`);const o=r.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",pu),o.attr("y2",s),o.attr("class","branch branch"+a),Nr==="TB"?(o.attr("y1",AE),o.attr("x1",s),o.attr("y2",pu),o.attr("x2",s)):Nr==="BT"&&(o.attr("y1",pu),o.attr("x1",s),o.attr("y2",AE),o.attr("x2",s)),LE.push(s);const l=n.name,u=bX(l),h=r.insert("rect"),f=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);f.node().appendChild(u);const p=u.getBBox();h.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-p.width-4-((ti==null?void 0:ti.rotateCommitLabel)===!0?30:0)).attr("y",-p.height/2+8).attr("width",p.width+18).attr("height",p.height+4),f.attr("transform","translate("+(-p.width-14-((ti==null?void 0:ti.rotateCommitLabel)===!0?30:0))+", "+(s-p.height/2-1)+")"),Nr==="TB"?(h.attr("x",s-p.width/2-10).attr("y",0),f.attr("transform","translate("+(s-p.width/2-5)+", 0)")):Nr==="BT"?(h.attr("x",s-p.width/2-10).attr("y",pu),f.attr("transform","translate("+(s-p.width/2-5)+", "+pu+")")):h.attr("transform","translate(-19, "+(s-p.height/2)+")")})},"drawBranches"),BBe=E(function(t,e,r,n,i){return ss.set(t,{pos:e,index:r}),e+=50+(i?40:0)+(Nr==="TB"||Nr==="BT"?n.width/2:0),e},"setBranchPosition"),FBe=E(function(t,e,r,n){if(xBe(),se.debug("in gitgraph renderer",t+`
`,"id:",e,r),!ti)throw new Error("GitGraph config not found");const i=ti.rotateCommitLabel??!1,a=n.db;Rm=a.getCommits();const s=a.getBranchesAsObjArray();Nr=a.getDirection();const o=mt(`[id="${e}"]`);let l=0;s.forEach((u,h)=>{var y;const d=bX(u.name),f=o.append("g"),p=f.insert("g").attr("class","branchLabel"),g=p.insert("g").attr("class","label branch-label");(y=g.node())==null||y.appendChild(d);const m=d.getBBox();l=BBe(u.name,l,h,m,i),g.remove(),p.remove(),f.remove()}),EX(o,Rm,!1),ti.showBranches&&PBe(o,s),MBe(o,Rm),EX(o,Rm,!0),dr.insertTitle(o,"gitTitleText",ti.titleTopMargin??0,a.getDiagramTitle()),jI(void 0,o,ti.diagramPadding,ti.useMaxWidth)},"draw"),$Be={draw:FBe},zBe=E(t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),UBe=zBe,HBe={parser:bBe,db:vX,renderer:$Be,styles:UBe};const GBe=Object.freeze(Object.defineProperty({__proto__:null,diagram:HBe},Symbol.toStringTag,{value:"Module"}));var NE={exports:{}},VBe=NE.exports,TX;function qBe(){return TX||(TX=1,function(t,e){(function(r,n){t.exports=n()})(VBe,function(){var r="day";return function(n,i,a){var s=function(u){return u.add(4-u.isoWeekday(),r)},o=i.prototype;o.isoWeekYear=function(){return s(this).year()},o.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),r);var h,d,f,p,g=s(this),m=(h=this.isoWeekYear(),d=this.$u,f=(d?a.utc:a)().year(h).startOf("year"),p=4-f.isoWeekday(),f.isoWeekday()>4&&(p+=7),f.add(p,r));return g.diff(m,"week")+1},o.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=o.startOf;o.startOf=function(u,h){var d=this.$utils(),f=!!d.u(h)||h;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,h)}}})}(NE)),NE.exports}var WBe=qBe();const YBe=Pl(WBe);var RE={exports:{}},XBe=RE.exports,wX;function KBe(){return wX||(wX=1,function(t,e){(function(r,n){t.exports=n()})(XBe,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},u=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(v){this[y]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var b=v.match(/([+-]|\d\d)/g),x=60*b[1]+(+b[2]||0);return x===0?0:b[0]==="+"?-x:x}(y)}],f=function(y){var v=l[y];return v&&(v.indexOf?v:v.s.concat(v.f))},p=function(y,v){var b,x=l.meridiem;if(x){for(var T=1;T<=24;T+=1)if(y.indexOf(x(T,0,v))>-1){b=T>12;break}}else b=y===(v?"pm":"PM");return b},g={A:[o,function(y){this.afternoon=p(y,!1)}],a:[o,function(y){this.afternoon=p(y,!0)}],Q:[i,function(y){this.month=3*(y-1)+1}],S:[i,function(y){this.milliseconds=100*+y}],SS:[a,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,h("seconds")],ss:[s,h("seconds")],m:[s,h("minutes")],mm:[s,h("minutes")],H:[s,h("hours")],h:[s,h("hours")],HH:[s,h("hours")],hh:[s,h("hours")],D:[s,h("day")],DD:[a,h("day")],Do:[o,function(y){var v=l.ordinal,b=y.match(/\d+/);if(this.day=b[0],v)for(var x=1;x<=31;x+=1)v(x).replace(/\[|\]/g,"")===y&&(this.day=x)}],w:[s,h("week")],ww:[a,h("week")],M:[s,h("month")],MM:[a,h("month")],MMM:[o,function(y){var v=f("months"),b=(f("monthsShort")||v.map(function(x){return x.slice(0,3)})).indexOf(y)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[o,function(y){var v=f("months").indexOf(y)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,h("year")],YY:[a,function(y){this.year=u(y)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function m(y){var v,b;v=y,b=l&&l.formats;for(var x=(y=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,C,D){var P=D&&D.toUpperCase();return C||b[D]||r[D]||b[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,R,O){return R||O.slice(1)})})).match(n),T=x.length,w=0;w<T;w+=1){var S=x[w],k=g[S],L=k&&k[0],_=k&&k[1];x[w]=_?{regex:L,parser:_}:S.replace(/^\[|\]$/g,"")}return function(N){for(var C={},D=0,P=0;D<T;D+=1){var A=x[D];if(typeof A=="string")P+=A.length;else{var R=A.regex,O=A.parser,M=N.slice(P),I=R.exec(M)[0];O.call(C,I),N=N.replace(I,"")}}return function(F){var B=F.afternoon;if(B!==void 0){var $=F.hours;B?$<12&&(F.hours+=12):$===12&&(F.hours=0),delete F.afternoon}}(C),C}}return function(y,v,b){b.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(u=y.parseTwoDigitYear);var x=v.prototype,T=x.parse;x.parse=function(w){var S=w.date,k=w.utc,L=w.args;this.$u=k;var _=L[1];if(typeof _=="string"){var N=L[2]===!0,C=L[3]===!0,D=N||C,P=L[2];C&&(P=L[2]),l=this.$locale(),!N&&P&&(l=b.Ls[P]),this.$d=function(M,I,F,B){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*M);var $=m(I)(M),V=$.year,H=$.month,te=$.day,X=$.hours,ee=$.minutes,re=$.seconds,pe=$.milliseconds,K=$.zone,W=$.week,j=new Date,Y=te||(V||H?1:j.getDate()),Q=V||j.getFullYear(),ie=0;V&&!H||(ie=H>0?H-1:j.getMonth());var J,we=X||0,ue=ee||0,ae=re||0,Ue=pe||0;return K?new Date(Date.UTC(Q,ie,Y,we,ue,ae,Ue+60*K.offset*1e3)):F?new Date(Date.UTC(Q,ie,Y,we,ue,ae,Ue)):(J=new Date(Q,ie,Y,we,ue,ae,Ue),W&&(J=B(J).week(W).toDate()),J)}catch{return new Date("")}}(S,_,k,b),this.init(),P&&P!==!0&&(this.$L=this.locale(P).$L),D&&S!=this.format(_)&&(this.$d=new Date("")),l={}}else if(_ instanceof Array)for(var A=_.length,R=1;R<=A;R+=1){L[1]=_[R-1];var O=b.apply(this,L);if(O.isValid()){this.$d=O.$d,this.$L=O.$L,this.init();break}R===A&&(this.$d=new Date(""))}else T.call(this,w)}}})}(RE)),RE.exports}var jBe=KBe();const QBe=Pl(jBe);var IE={exports:{}},ZBe=IE.exports,SX;function JBe(){return SX||(SX=1,function(t,e){(function(r,n){t.exports=n()})(ZBe,function(){return function(r,n){var i=n.prototype,a=i.format;i.format=function(s){var o=this,l=this.$locale();if(!this.isValid())return a.bind(this)(s);var u=this.$utils(),h=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return a.bind(this)(h)}}})}(IE)),IE.exports}var eFe=JBe();const tFe=Pl(eFe);var YC=function(){var t=E(function(P,A,R,O){for(R=R||{},O=P.length;O--;R[P[O]]=A);return R},"o"),e=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],a=[1,29],s=[1,30],o=[1,31],l=[1,32],u=[1,33],h=[1,34],d=[1,9],f=[1,10],p=[1,11],g=[1,12],m=[1,13],y=[1,14],v=[1,15],b=[1,16],x=[1,19],T=[1,20],w=[1,21],S=[1,22],k=[1,23],L=[1,25],_=[1,35],N={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:E(function(A,R,O,M,I,F,B){var $=F.length-1;switch(I){case 1:return F[$-1];case 2:this.$=[];break;case 3:F[$-1].push(F[$]),this.$=F[$-1];break;case 4:case 5:this.$=F[$];break;case 6:case 7:this.$=[];break;case 8:M.setWeekday("monday");break;case 9:M.setWeekday("tuesday");break;case 10:M.setWeekday("wednesday");break;case 11:M.setWeekday("thursday");break;case 12:M.setWeekday("friday");break;case 13:M.setWeekday("saturday");break;case 14:M.setWeekday("sunday");break;case 15:M.setWeekend("friday");break;case 16:M.setWeekend("saturday");break;case 17:M.setDateFormat(F[$].substr(11)),this.$=F[$].substr(11);break;case 18:M.enableInclusiveEndDates(),this.$=F[$].substr(18);break;case 19:M.TopAxis(),this.$=F[$].substr(8);break;case 20:M.setAxisFormat(F[$].substr(11)),this.$=F[$].substr(11);break;case 21:M.setTickInterval(F[$].substr(13)),this.$=F[$].substr(13);break;case 22:M.setExcludes(F[$].substr(9)),this.$=F[$].substr(9);break;case 23:M.setIncludes(F[$].substr(9)),this.$=F[$].substr(9);break;case 24:M.setTodayMarker(F[$].substr(12)),this.$=F[$].substr(12);break;case 27:M.setDiagramTitle(F[$].substr(6)),this.$=F[$].substr(6);break;case 28:this.$=F[$].trim(),M.setAccTitle(this.$);break;case 29:case 30:this.$=F[$].trim(),M.setAccDescription(this.$);break;case 31:M.addSection(F[$].substr(8)),this.$=F[$].substr(8);break;case 33:M.addTask(F[$-1],F[$]),this.$="task";break;case 34:this.$=F[$-1],M.setClickEvent(F[$-1],F[$],null);break;case 35:this.$=F[$-2],M.setClickEvent(F[$-2],F[$-1],F[$]);break;case 36:this.$=F[$-2],M.setClickEvent(F[$-2],F[$-1],null),M.setLink(F[$-2],F[$]);break;case 37:this.$=F[$-3],M.setClickEvent(F[$-3],F[$-2],F[$-1]),M.setLink(F[$-3],F[$]);break;case 38:this.$=F[$-2],M.setClickEvent(F[$-2],F[$],null),M.setLink(F[$-2],F[$-1]);break;case 39:this.$=F[$-3],M.setClickEvent(F[$-3],F[$-1],F[$]),M.setLink(F[$-3],F[$-2]);break;case 40:this.$=F[$-1],M.setLink(F[$-1],F[$]);break;case 41:case 47:this.$=F[$-1]+" "+F[$];break;case 42:case 43:case 45:this.$=F[$-2]+" "+F[$-1]+" "+F[$];break;case 44:case 46:this.$=F[$-3]+" "+F[$-2]+" "+F[$-1]+" "+F[$];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:l,19:18,20:u,21:h,22:d,23:f,24:p,25:g,26:m,27:y,28:v,29:b,30:x,31:T,33:w,35:S,36:k,37:24,38:L,40:_},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:l,19:18,20:u,21:h,22:d,23:f,24:p,25:g,26:m,27:y,28:v,29:b,30:x,31:T,33:w,35:S,36:k,37:24,38:L,40:_},t(e,[2,5]),t(e,[2,6]),t(e,[2,17]),t(e,[2,18]),t(e,[2,19]),t(e,[2,20]),t(e,[2,21]),t(e,[2,22]),t(e,[2,23]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),t(e,[2,27]),{32:[1,37]},{34:[1,38]},t(e,[2,30]),t(e,[2,31]),t(e,[2,32]),{39:[1,39]},t(e,[2,8]),t(e,[2,9]),t(e,[2,10]),t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),{41:[1,40],43:[1,41]},t(e,[2,4]),t(e,[2,28]),t(e,[2,29]),t(e,[2,33]),t(e,[2,34],{42:[1,42],43:[1,43]}),t(e,[2,40],{41:[1,44]}),t(e,[2,35],{43:[1,45]}),t(e,[2,36]),t(e,[2,38],{42:[1,46]}),t(e,[2,37]),t(e,[2,39])],defaultActions:{},parseError:E(function(A,R){if(R.recoverable)this.trace(A);else{var O=new Error(A);throw O.hash=R,O}},"parseError"),parse:E(function(A){var R=this,O=[0],M=[],I=[null],F=[],B=this.table,$="",V=0,H=0,te=2,X=1,ee=F.slice.call(arguments,1),re=Object.create(this.lexer),pe={yy:{}};for(var K in this.yy)Object.prototype.hasOwnProperty.call(this.yy,K)&&(pe.yy[K]=this.yy[K]);re.setInput(A,pe.yy),pe.yy.lexer=re,pe.yy.parser=this,typeof re.yylloc>"u"&&(re.yylloc={});var W=re.yylloc;F.push(W);var j=re.options&&re.options.ranges;typeof pe.yy.parseError=="function"?this.parseError=pe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Y(Pe){O.length=O.length-2*Pe,I.length=I.length-Pe,F.length=F.length-Pe}E(Y,"popStack");function Q(){var Pe;return Pe=M.pop()||re.lex()||X,typeof Pe!="number"&&(Pe instanceof Array&&(M=Pe,Pe=M.pop()),Pe=R.symbols_[Pe]||Pe),Pe}E(Q,"lex");for(var ie,J,we,ue,ae={},Ue,xe,Ze,Je;;){if(J=O[O.length-1],this.defaultActions[J]?we=this.defaultActions[J]:((ie===null||typeof ie>"u")&&(ie=Q()),we=B[J]&&B[J][ie]),typeof we>"u"||!we.length||!we[0]){var Xe="";Je=[];for(Ue in B[J])this.terminals_[Ue]&&Ue>te&&Je.push("'"+this.terminals_[Ue]+"'");re.showPosition?Xe="Parse error on line "+(V+1)+`:
`+re.showPosition()+`
Expecting `+Je.join(", ")+", got '"+(this.terminals_[ie]||ie)+"'":Xe="Parse error on line "+(V+1)+": Unexpected "+(ie==X?"end of input":"'"+(this.terminals_[ie]||ie)+"'"),this.parseError(Xe,{text:re.match,token:this.terminals_[ie]||ie,line:re.yylineno,loc:W,expected:Je})}if(we[0]instanceof Array&&we.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+ie);switch(we[0]){case 1:O.push(ie),I.push(re.yytext),F.push(re.yylloc),O.push(we[1]),ie=null,H=re.yyleng,$=re.yytext,V=re.yylineno,W=re.yylloc;break;case 2:if(xe=this.productions_[we[1]][1],ae.$=I[I.length-xe],ae._$={first_line:F[F.length-(xe||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(xe||1)].first_column,last_column:F[F.length-1].last_column},j&&(ae._$.range=[F[F.length-(xe||1)].range[0],F[F.length-1].range[1]]),ue=this.performAction.apply(ae,[$,H,V,pe.yy,we[1],I,F].concat(ee)),typeof ue<"u")return ue;xe&&(O=O.slice(0,-1*xe*2),I=I.slice(0,-1*xe),F=F.slice(0,-1*xe)),O.push(this.productions_[we[1]][0]),I.push(ae.$),F.push(ae._$),Ze=B[O[O.length-2]][O[O.length-1]],O.push(Ze);break;case 3:return!0}}return!0},"parse")},C=function(){var P={EOF:1,parseError:E(function(R,O){if(this.yy.parser)this.yy.parser.parseError(R,O);else throw new Error(R)},"parseError"),setInput:E(function(A,R){return this.yy=R||this.yy||{},this._input=A,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var A=this._input[0];this.yytext+=A,this.yyleng++,this.offset++,this.match+=A,this.matched+=A;var R=A.match(/(?:\r\n?|\n).*/g);return R?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),A},"input"),unput:E(function(A){var R=A.length,O=A.split(/(?:\r\n?|\n)/g);this._input=A+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-R),this.offset-=R;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1&&(this.yylineno-=O.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===M.length?this.yylloc.first_column:0)+M[M.length-O.length].length-O[0].length:this.yylloc.first_column-R},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-R]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(A){this.unput(this.match.slice(A))},"less"),pastInput:E(function(){var A=this.matched.substr(0,this.matched.length-this.match.length);return(A.length>20?"...":"")+A.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var A=this.match;return A.length<20&&(A+=this._input.substr(0,20-A.length)),(A.substr(0,20)+(A.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var A=this.pastInput(),R=new Array(A.length+1).join("-");return A+this.upcomingInput()+`
`+R+"^"},"showPosition"),test_match:E(function(A,R){var O,M,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),M=A[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+A[0].length},this.yytext+=A[0],this.match+=A[0],this.matches=A,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(A[0].length),this.matched+=A[0],O=this.performAction.call(this,this.yy,this,R,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var F in I)this[F]=I[F];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var A,R,O,M;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),F=0;F<I.length;F++)if(O=this._input.match(this.rules[I[F]]),O&&(!R||O[0].length>R[0].length)){if(R=O,M=F,this.options.backtrack_lexer){if(A=this.test_match(O,I[F]),A!==!1)return A;if(this._backtrack){R=!1;continue}else return!1}else if(!this.options.flex)break}return R?(A=this.test_match(R,I[M]),A!==!1?A:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var R=this.next();return R||this.lex()},"lex"),begin:E(function(R){this.conditionStack.push(R)},"begin"),popState:E(function(){var R=this.conditionStack.length-1;return R>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(R){return R=this.conditionStack.length-1-Math.abs(R||0),R>=0?this.conditionStack[R]:"INITIAL"},"topState"),pushState:E(function(R){this.begin(R)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(R,O,M,I){switch(M){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return P}();N.lexer=C;function D(){this.yy={}}return E(D,"Parser"),D.prototype=N,N.Parser=D,new D}();YC.parser=YC;var rFe=YC;ea.extend(YBe),ea.extend(QBe),ea.extend(tFe);var kX={friday:5,saturday:6},pl="",XC="",KC=void 0,jC="",Dm=[],Om=[],QC=new Map,ZC=[],DE=[],jf="",JC="",CX=["active","done","crit","milestone","vert"],e_=[],Mm=!1,t_=!1,r_="sunday",OE="saturday",n_=0,nFe=E(function(){ZC=[],DE=[],jf="",e_=[],ME=0,a_=void 0,PE=void 0,mi=[],pl="",XC="",JC="",KC=void 0,jC="",Dm=[],Om=[],Mm=!1,t_=!1,n_=0,QC=new Map,si(),r_="sunday",OE="saturday"},"clear"),iFe=E(function(t){XC=t},"setAxisFormat"),aFe=E(function(){return XC},"getAxisFormat"),sFe=E(function(t){KC=t},"setTickInterval"),oFe=E(function(){return KC},"getTickInterval"),lFe=E(function(t){jC=t},"setTodayMarker"),cFe=E(function(){return jC},"getTodayMarker"),uFe=E(function(t){pl=t},"setDateFormat"),hFe=E(function(){Mm=!0},"enableInclusiveEndDates"),dFe=E(function(){return Mm},"endDatesAreInclusive"),fFe=E(function(){t_=!0},"enableTopAxis"),pFe=E(function(){return t_},"topAxisEnabled"),gFe=E(function(t){JC=t},"setDisplayMode"),mFe=E(function(){return JC},"getDisplayMode"),yFe=E(function(){return pl},"getDateFormat"),vFe=E(function(t){Dm=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),bFe=E(function(){return Dm},"getIncludes"),xFe=E(function(t){Om=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),EFe=E(function(){return Om},"getExcludes"),TFe=E(function(){return QC},"getLinks"),wFe=E(function(t){jf=t,ZC.push(t)},"addSection"),SFe=E(function(){return ZC},"getSections"),kFe=E(function(){let t=IX();const e=10;let r=0;for(;!t&&r<e;)t=IX(),r++;return DE=mi,DE},"getTasks"),_X=E(function(t,e,r,n){return n.includes(t.format(e.trim()))?!1:r.includes("weekends")&&(t.isoWeekday()===kX[OE]||t.isoWeekday()===kX[OE]+1)||r.includes(t.format("dddd").toLowerCase())?!0:r.includes(t.format(e.trim()))},"isInvalidDate"),CFe=E(function(t){r_=t},"setWeekday"),_Fe=E(function(){return r_},"getWeekday"),AFe=E(function(t){OE=t},"setWeekend"),AX=E(function(t,e,r,n){if(!r.length||t.manualEndTime)return;let i;t.startTime instanceof Date?i=ea(t.startTime):i=ea(t.startTime,e,!0),i=i.add(1,"d");let a;t.endTime instanceof Date?a=ea(t.endTime):a=ea(t.endTime,e,!0);const[s,o]=LFe(i,a,e,r,n);t.endTime=s.toDate(),t.renderEndTime=o},"checkTaskDates"),LFe=E(function(t,e,r,n,i){let a=!1,s=null;for(;t<=e;)a||(s=e.toDate()),a=_X(t,r,n,i),a&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,s]},"fixTaskDates"),i_=E(function(t,e,r){r=r.trim();const i=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let s=null;for(const l of i.groups.ids.split(" ")){let u=Yh(l);u!==void 0&&(!s||u.endTime>s.endTime)&&(s=u)}if(s)return s.endTime;const o=new Date;return o.setHours(0,0,0,0),o}let a=ea(r,e.trim(),!0);if(a.isValid())return a.toDate();{se.debug("Invalid date:"+r),se.debug("With date format:"+e.trim());const s=new Date(r);if(s===void 0||isNaN(s.getTime())||s.getFullYear()<-1e4||s.getFullYear()>1e4)throw new Error("Invalid date:"+r);return s}},"getStartDate"),LX=E(function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),NX=E(function(t,e,r,n=!1){r=r.trim();const a=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(a!==null){let h=null;for(const f of a.groups.ids.split(" ")){let p=Yh(f);p!==void 0&&(!h||p.startTime<h.startTime)&&(h=p)}if(h)return h.startTime;const d=new Date;return d.setHours(0,0,0,0),d}let s=ea(r,e.trim(),!0);if(s.isValid())return n&&(s=s.add(1,"d")),s.toDate();let o=ea(t);const[l,u]=LX(r);if(!Number.isNaN(l)){const h=o.add(l,u);h.isValid()&&(o=h)}return o.toDate()},"getEndDate"),ME=0,Qf=E(function(t){return t===void 0?(ME=ME+1,"task"+ME):t},"parseId"),NFe=E(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;const n=r.split(","),i={};s_(n,i,CX);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let a="";switch(n.length){case 1:i.id=Qf(),i.startTime=t.endTime,a=n[0];break;case 2:i.id=Qf(),i.startTime=i_(void 0,pl,n[0]),a=n[1];break;case 3:i.id=Qf(n[0]),i.startTime=i_(void 0,pl,n[1]),a=n[2];break}return a&&(i.endTime=NX(i.startTime,pl,a,Mm),i.manualEndTime=ea(a,"YYYY-MM-DD",!0).isValid(),AX(i,pl,Om,Dm)),i},"compileData"),RFe=E(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;const n=r.split(","),i={};s_(n,i,CX);for(let a=0;a<n.length;a++)n[a]=n[a].trim();switch(n.length){case 1:i.id=Qf(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:n[0]};break;case 2:i.id=Qf(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=Qf(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break}return i},"parseData"),a_,PE,mi=[],RX={},IFe=E(function(t,e){const r={section:jf,type:jf,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},n=RFe(PE,e);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=PE,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.vert=n.vert,r.order=n_,n_++;const i=mi.push(r);PE=r.id,RX[r.id]=i-1},"addTask"),Yh=E(function(t){const e=RX[t];return mi[e]},"findTaskById"),DFe=E(function(t,e){const r={section:jf,type:jf,description:t,task:t,classes:[]},n=NFe(a_,e);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.vert=n.vert,a_=r,DE.push(r)},"addTaskOrg"),IX=E(function(){const t=E(function(r){const n=mi[r];let i="";switch(mi[r].raw.startTime.type){case"prevTaskEnd":{const a=Yh(n.prevTaskId);n.startTime=a.endTime;break}case"getStartDate":i=i_(void 0,pl,mi[r].raw.startTime.startData),i&&(mi[r].startTime=i);break}return mi[r].startTime&&(mi[r].endTime=NX(mi[r].startTime,pl,mi[r].raw.endTime.data,Mm),mi[r].endTime&&(mi[r].processed=!0,mi[r].manualEndTime=ea(mi[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),AX(mi[r],pl,Om,Dm))),mi[r].processed},"compileTask");let e=!0;for(const[r,n]of mi.entries())t(r),e=e&&n.processed;return e},"compileTasks"),OFe=E(function(t,e){let r=e;Re().securityLevel!=="loose"&&(r=ju.sanitizeUrl(e)),t.split(",").forEach(function(n){Yh(n)!==void 0&&(OX(n,()=>{window.open(r,"_self")}),QC.set(n,r))}),DX(t,"clickable")},"setLink"),DX=E(function(t,e){t.split(",").forEach(function(r){let n=Yh(r);n!==void 0&&n.classes.push(e)})},"setClass"),MFe=E(function(t,e,r){if(Re().securityLevel!=="loose"||e===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<n.length;a++){let s=n[a].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),n[a]=s}}n.length===0&&n.push(t),Yh(t)!==void 0&&OX(t,()=>{dr.runFunc(e,...n)})},"setClickFun"),OX=E(function(t,e){e_.push(function(){const r=document.querySelector(`[id="${t}"]`);r!==null&&r.addEventListener("click",function(){e()})},function(){const r=document.querySelector(`[id="${t}-text"]`);r!==null&&r.addEventListener("click",function(){e()})})},"pushFun"),PFe=E(function(t,e,r){t.split(",").forEach(function(n){MFe(n,e,r)}),DX(t,"clickable")},"setClickEvent"),BFe=E(function(t){e_.forEach(function(e){e(t)})},"bindFunctions"),FFe={getConfig:E(()=>Re().gantt,"getConfig"),clear:nFe,setDateFormat:uFe,getDateFormat:yFe,enableInclusiveEndDates:hFe,endDatesAreInclusive:dFe,enableTopAxis:fFe,topAxisEnabled:pFe,setAxisFormat:iFe,getAxisFormat:aFe,setTickInterval:sFe,getTickInterval:oFe,setTodayMarker:lFe,getTodayMarker:cFe,setAccTitle:oi,getAccTitle:ki,setDiagramTitle:Fi,getDiagramTitle:li,setDisplayMode:gFe,getDisplayMode:mFe,setAccDescription:Ci,getAccDescription:_i,addSection:wFe,getSections:SFe,getTasks:kFe,addTask:IFe,findTaskById:Yh,addTaskOrg:DFe,setIncludes:vFe,getIncludes:bFe,setExcludes:xFe,getExcludes:EFe,setClickEvent:PFe,setLink:OFe,getLinks:TFe,bindFunctions:BFe,parseDuration:LX,isInvalidDate:_X,setWeekday:CFe,getWeekday:_Fe,setWeekend:AFe};function s_(t,e,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){const a="^\\s*"+i+"\\s*$",s=new RegExp(a);t[0].match(s)&&(e[i]=!0,t.shift(1),n=!0)})}E(s_,"getTaskTags");var $Fe=E(function(){se.debug("Something is calling, setConf, remove the call")},"setConf"),MX={monday:Lg,tuesday:KM,wednesday:jM,thursday:ah,friday:QM,saturday:ZM,sunday:Ag},zFe=E((t,e)=>{let r=[...t].map(()=>-1/0),n=[...t].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),i=0;for(const a of n)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+e,s>i&&(i=s);break}return i},"getMaxIntersections"),gc,UFe=E(function(t,e,r,n){const i=Re().gantt,a=Re().securityLevel;let s;a==="sandbox"&&(s=mt("#i"+e));const o=mt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=a==="sandbox"?s.nodes()[0].contentDocument:document,u=l.getElementById(e);gc=u.parentElement.offsetWidth,gc===void 0&&(gc=1200),i.useWidth!==void 0&&(gc=i.useWidth);const h=n.db.getTasks();let d=[];for(const L of h)d.push(L.type);d=k(d);const f={};let p=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){const L={};for(const N of h)L[N.section]===void 0?L[N.section]=[N]:L[N.section].push(N);let _=0;for(const N of Object.keys(L)){const C=zFe(L[N],_)+1;_+=C,p+=C*(i.barHeight+i.barGap),f[N]=C}}else{p+=h.length*(i.barHeight+i.barGap);for(const L of d)f[L]=h.filter(_=>_.type===L).length}u.setAttribute("viewBox","0 0 "+gc+" "+p);const g=o.select(`[id="${e}"]`),m=Sve().domain([cpe(h,function(L){return L.startTime}),lpe(h,function(L){return L.endTime})]).rangeRound([0,gc-i.leftPadding-i.rightPadding]);function y(L,_){const N=L.startTime,C=_.startTime;let D=0;return N>C?D=1:N<C&&(D=-1),D}E(y,"taskCompare"),h.sort(y),v(h,gc,p),qa(g,p,gc,i.useMaxWidth),g.append("text").text(n.db.getDiagramTitle()).attr("x",gc/2).attr("y",i.titleTopMargin).attr("class","titleText");function v(L,_,N){const C=i.barHeight,D=C+i.barGap,P=i.topPadding,A=i.leftPadding,R=Jd().domain([0,d.length]).range(["#00B9FA","#F95002"]).interpolate(I1e);x(D,P,A,_,N,L,n.db.getExcludes(),n.db.getIncludes()),T(A,P,_,N),b(L,D,P,A,C,R,_),w(D,P),S(A,P,_,N)}E(v,"makeGantt");function b(L,_,N,C,D,P,A){L.sort((B,$)=>B.vert===$.vert?0:B.vert?1:-1);const O=[...new Set(L.map(B=>B.order))].map(B=>L.find($=>$.order===B));g.append("g").selectAll("rect").data(O).enter().append("rect").attr("x",0).attr("y",function(B,$){return $=B.order,$*_+N-2}).attr("width",function(){return A-i.rightPadding/2}).attr("height",_).attr("class",function(B){for(const[$,V]of d.entries())if(B.type===V)return"section section"+$%i.numberSectionStyles;return"section section0"}).enter();const M=g.append("g").selectAll("rect").data(L).enter(),I=n.db.getLinks();if(M.append("rect").attr("id",function(B){return B.id}).attr("rx",3).attr("ry",3).attr("x",function(B){return B.milestone?m(B.startTime)+C+.5*(m(B.endTime)-m(B.startTime))-.5*D:m(B.startTime)+C}).attr("y",function(B,$){return $=B.order,B.vert?i.gridLineStartPadding:$*_+N}).attr("width",function(B){return B.milestone?D:B.vert?.08*D:m(B.renderEndTime||B.endTime)-m(B.startTime)}).attr("height",function(B){return B.vert?h.length*(i.barHeight+i.barGap)+i.barHeight*2:D}).attr("transform-origin",function(B,$){return $=B.order,(m(B.startTime)+C+.5*(m(B.endTime)-m(B.startTime))).toString()+"px "+($*_+N+.5*D).toString()+"px"}).attr("class",function(B){const $="task";let V="";B.classes.length>0&&(V=B.classes.join(" "));let H=0;for(const[X,ee]of d.entries())B.type===ee&&(H=X%i.numberSectionStyles);let te="";return B.active?B.crit?te+=" activeCrit":te=" active":B.done?B.crit?te=" doneCrit":te=" done":B.crit&&(te+=" crit"),te.length===0&&(te=" task"),B.milestone&&(te=" milestone "+te),B.vert&&(te=" vert "+te),te+=H,te+=" "+V,$+te}),M.append("text").attr("id",function(B){return B.id+"-text"}).text(function(B){return B.task}).attr("font-size",i.fontSize).attr("x",function(B){let $=m(B.startTime),V=m(B.renderEndTime||B.endTime);if(B.milestone&&($+=.5*(m(B.endTime)-m(B.startTime))-.5*D,V=$+D),B.vert)return m(B.startTime)+C;const H=this.getBBox().width;return H>V-$?V+H+1.5*i.leftPadding>A?$+C-5:V+C+5:(V-$)/2+$+C}).attr("y",function(B,$){return B.vert?i.gridLineStartPadding+h.length*(i.barHeight+i.barGap)+60:($=B.order,$*_+i.barHeight/2+(i.fontSize/2-2)+N)}).attr("text-height",D).attr("class",function(B){const $=m(B.startTime);let V=m(B.endTime);B.milestone&&(V=$+D);const H=this.getBBox().width;let te="";B.classes.length>0&&(te=B.classes.join(" "));let X=0;for(const[re,pe]of d.entries())B.type===pe&&(X=re%i.numberSectionStyles);let ee="";return B.active&&(B.crit?ee="activeCritText"+X:ee="activeText"+X),B.done?B.crit?ee=ee+" doneCritText"+X:ee=ee+" doneText"+X:B.crit&&(ee=ee+" critText"+X),B.milestone&&(ee+=" milestoneText"),B.vert&&(ee+=" vertText"),H>V-$?V+H+1.5*i.leftPadding>A?te+" taskTextOutsideLeft taskTextOutside"+X+" "+ee:te+" taskTextOutsideRight taskTextOutside"+X+" "+ee+" width-"+H:te+" taskText taskText"+X+" "+ee+" width-"+H}),Re().securityLevel==="sandbox"){let B;B=mt("#i"+e);const $=B.nodes()[0].contentDocument;M.filter(function(V){return I.has(V.id)}).each(function(V){var H=$.querySelector("#"+V.id),te=$.querySelector("#"+V.id+"-text");const X=H.parentNode;var ee=$.createElement("a");ee.setAttribute("xlink:href",I.get(V.id)),ee.setAttribute("target","_top"),X.appendChild(ee),ee.appendChild(H),ee.appendChild(te)})}}E(b,"drawRects");function x(L,_,N,C,D,P,A,R){if(A.length===0&&R.length===0)return;let O,M;for(const{startTime:H,endTime:te}of P)(O===void 0||H<O)&&(O=H),(M===void 0||te>M)&&(M=te);if(!O||!M)return;if(ea(M).diff(ea(O),"year")>5){se.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const I=n.db.getDateFormat(),F=[];let B=null,$=ea(O);for(;$.valueOf()<=M;)n.db.isInvalidDate($,I,A,R)?B?B.end=$:B={start:$,end:$}:B&&(F.push(B),B=null),$=$.add(1,"d");g.append("g").selectAll("rect").data(F).enter().append("rect").attr("id",function(H){return"exclude-"+H.start.format("YYYY-MM-DD")}).attr("x",function(H){return m(H.start)+N}).attr("y",i.gridLineStartPadding).attr("width",function(H){const te=H.end.add(1,"day");return m(te)-m(H.start)}).attr("height",D-_-i.gridLineStartPadding).attr("transform-origin",function(H,te){return(m(H.start)+N+.5*(m(H.end)-m(H.start))).toString()+"px "+(te*L+.5*D).toString()+"px"}).attr("class","exclude-range")}E(x,"drawExcludeDays");function T(L,_,N,C){let D=vpe(m).tickSize(-C+_+i.gridLineStartPadding).tickFormat(O2(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));const A=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(A!==null){const R=A[1],O=A[2],M=n.db.getWeekday()||i.weekday;switch(O){case"millisecond":D.ticks(ef.every(R));break;case"second":D.ticks(qc.every(R));break;case"minute":D.ticks(Cg.every(R));break;case"hour":D.ticks(_g.every(R));break;case"day":D.ticks(nh.every(R));break;case"week":D.ticks(MX[M].every(R));break;case"month":D.ticks(Ng.every(R));break}}if(g.append("g").attr("class","grid").attr("transform","translate("+L+", "+(C-50)+")").call(D).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let R=ype(m).tickSize(-C+_+i.gridLineStartPadding).tickFormat(O2(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(A!==null){const O=A[1],M=A[2],I=n.db.getWeekday()||i.weekday;switch(M){case"millisecond":R.ticks(ef.every(O));break;case"second":R.ticks(qc.every(O));break;case"minute":R.ticks(Cg.every(O));break;case"hour":R.ticks(_g.every(O));break;case"day":R.ticks(nh.every(O));break;case"week":R.ticks(MX[I].every(O));break;case"month":R.ticks(Ng.every(O));break}}g.append("g").attr("class","grid").attr("transform","translate("+L+", "+_+")").call(R).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}E(T,"makeGrid");function w(L,_){let N=0;const C=Object.keys(f).map(D=>[D,f[D]]);g.append("g").selectAll("text").data(C).enter().append(function(D){const P=D[0].split(xt.lineBreakRegex),A=-(P.length-1)/2,R=l.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("dy",A+"em");for(const[O,M]of P.entries()){const I=l.createElementNS("http://www.w3.org/2000/svg","tspan");I.setAttribute("alignment-baseline","central"),I.setAttribute("x","10"),O>0&&I.setAttribute("dy","1em"),I.textContent=M,R.appendChild(I)}return R}).attr("x",10).attr("y",function(D,P){if(P>0)for(let A=0;A<P;A++)return N+=C[P-1][1],D[1]*L/2+N*L+_;else return D[1]*L/2+_}).attr("font-size",i.sectionFontSize).attr("class",function(D){for(const[P,A]of d.entries())if(D[0]===A)return"sectionTitle sectionTitle"+P%i.numberSectionStyles;return"sectionTitle"})}E(w,"vertLabels");function S(L,_,N,C){const D=n.db.getTodayMarker();if(D==="off")return;const P=g.append("g").attr("class","today"),A=new Date,R=P.append("line");R.attr("x1",m(A)+L).attr("x2",m(A)+L).attr("y1",i.titleTopMargin).attr("y2",C-i.titleTopMargin).attr("class","today"),D!==""&&R.attr("style",D.replace(/,/g,";"))}E(S,"drawToday");function k(L){const _={},N=[];for(let C=0,D=L.length;C<D;++C)Object.prototype.hasOwnProperty.call(_,L[C])||(_[L[C]]=!0,N.push(L[C]));return N}E(k,"checkUnique")},"draw"),HFe={setConf:$Fe,draw:UFe},GFe=E(t=>`
  .mermaid-main-font {
        font-family: ${t.fontFamily};
  }

  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${t.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${t.fontFamily};
    fill: ${t.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${t.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    font-family: ${t.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${t.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${t.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.titleColor||t.textColor};
    font-family: ${t.fontFamily};
  }
`,"getStyles"),VFe=GFe,qFe={parser:rFe,db:FFe,renderer:HFe,styles:VFe};const WFe=Object.freeze(Object.defineProperty({__proto__:null,diagram:qFe},Symbol.toStringTag,{value:"Module"}));var YFe={parse:E(async t=>{const e=await Vh("info",t);se.debug(e)},"parse")},XFe={version:D6.version+""},KFe=E(()=>XFe.version,"getVersion"),jFe={getVersion:KFe},QFe=E((t,e,r)=>{se.debug(`rendering info diagram
`+t);const n=ic(e);qa(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),ZFe={draw:QFe},JFe={parser:YFe,db:jFe,renderer:ZFe};const e$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:JFe},Symbol.toStringTag,{value:"Module"}));var t$e=Rr.pie,o_={sections:new Map,showData:!1},BE=o_.sections,l_=o_.showData,r$e=structuredClone(t$e),n$e=E(()=>structuredClone(r$e),"getConfig"),i$e=E(()=>{BE=new Map,l_=o_.showData,si()},"clear"),a$e=E(({label:t,value:e})=>{BE.has(t)||(BE.set(t,e),se.debug(`added new section: ${t}, with value: ${e}`))},"addSection"),s$e=E(()=>BE,"getSections"),o$e=E(t=>{l_=t},"setShowData"),l$e=E(()=>l_,"getShowData"),PX={getConfig:n$e,clear:i$e,setDiagramTitle:Fi,getDiagramTitle:li,setAccTitle:oi,getAccTitle:ki,setAccDescription:Ci,getAccDescription:_i,addSection:a$e,getSections:s$e,setShowData:o$e,getShowData:l$e},c$e=E((t,e)=>{Of(t,e),e.setShowData(t.showData),t.sections.map(e.addSection)},"populateDb"),u$e={parse:E(async t=>{const e=await Vh("pie",t);se.debug(e),c$e(e,PX)},"parse")},h$e=E(t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${t.pieOuterStrokeColor};
    stroke-width: ${t.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,"getStyles"),d$e=h$e,f$e=E(t=>{const e=[...t.entries()].map(n=>({label:n[0],value:n[1]})).sort((n,i)=>i.value-n.value);return $ve().value(n=>n.value)(e)},"createPieArcs"),p$e=E((t,e,r,n)=>{se.debug(`rendering pie chart
`+t);const i=n.db,a=Re(),s=bs(i.getConfig(),a.pie),o=40,l=18,u=4,h=450,d=h,f=ic(e),p=f.append("g");p.attr("transform","translate("+d/2+","+h/2+")");const{themeVariables:g}=a;let[m]=Xc(g.pieOuterStrokeWidth);m??(m=2);const y=s.textPosition,v=Math.min(d,h)/2-o,b=af().innerRadius(0).outerRadius(v),x=af().innerRadius(v*y).outerRadius(v*y);p.append("circle").attr("cx",0).attr("cy",0).attr("r",v+m/2).attr("class","pieOuterCircle");const T=i.getSections(),w=f$e(T),S=[g.pie1,g.pie2,g.pie3,g.pie4,g.pie5,g.pie6,g.pie7,g.pie8,g.pie9,g.pie10,g.pie11,g.pie12],k=I2(S);p.selectAll("mySlices").data(w).enter().append("path").attr("d",b).attr("fill",D=>k(D.data.label)).attr("class","pieCircle");let L=0;T.forEach(D=>{L+=D}),p.selectAll("mySlices").data(w).enter().append("text").text(D=>(D.data.value/L*100).toFixed(0)+"%").attr("transform",D=>"translate("+x.centroid(D)+")").style("text-anchor","middle").attr("class","slice"),p.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-400/2).attr("class","pieTitleText");const _=p.selectAll(".legend").data(k.domain()).enter().append("g").attr("class","legend").attr("transform",(D,P)=>{const A=l+u,R=A*k.domain().length/2,O=12*l,M=P*A-R;return"translate("+O+","+M+")"});_.append("rect").attr("width",l).attr("height",l).style("fill",k).style("stroke",k),_.data(w).append("text").attr("x",l+u).attr("y",l-u).text(D=>{const{label:P,value:A}=D.data;return i.getShowData()?`${P} [${A}]`:P});const N=Math.max(..._.selectAll("text").nodes().map(D=>(D==null?void 0:D.getBoundingClientRect().width)??0)),C=d+o+l+u+N;f.attr("viewBox",`0 0 ${C} ${h}`),qa(f,h,C,s.useMaxWidth)},"draw"),g$e={draw:p$e},m$e={parser:u$e,db:PX,renderer:g$e,styles:d$e};const y$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:m$e},Symbol.toStringTag,{value:"Module"}));var c_=function(){var t=E(function(fe,U,le,oe){for(le=le||{},oe=fe.length;oe--;le[fe[oe]]=U);return le},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[55,56,57],u=[2,36],h=[1,37],d=[1,36],f=[1,38],p=[1,35],g=[1,43],m=[1,41],y=[1,14],v=[1,23],b=[1,18],x=[1,19],T=[1,20],w=[1,21],S=[1,22],k=[1,24],L=[1,25],_=[1,26],N=[1,27],C=[1,28],D=[1,29],P=[1,32],A=[1,33],R=[1,34],O=[1,39],M=[1,40],I=[1,42],F=[1,44],B=[1,62],$=[1,61],V=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],H=[1,65],te=[1,66],X=[1,67],ee=[1,68],re=[1,69],pe=[1,70],K=[1,71],W=[1,72],j=[1,73],Y=[1,74],Q=[1,75],ie=[1,76],J=[4,5,6,7,8,9,10,11,12,13,14,15,18],we=[1,90],ue=[1,91],ae=[1,92],Ue=[1,99],xe=[1,93],Ze=[1,96],Je=[1,94],Xe=[1,95],Pe=[1,97],We=[1,98],he=[1,102],Te=[10,55,56,57],Be=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],ye={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:E(function(U,le,oe,ge,me,Ce,Ie){var Ne=Ce.length-1;switch(me){case 23:this.$=Ce[Ne];break;case 24:this.$=Ce[Ne-1]+""+Ce[Ne];break;case 26:this.$=Ce[Ne-1]+Ce[Ne];break;case 27:this.$=[Ce[Ne].trim()];break;case 28:Ce[Ne-2].push(Ce[Ne].trim()),this.$=Ce[Ne-2];break;case 29:this.$=Ce[Ne-4],ge.addClass(Ce[Ne-2],Ce[Ne]);break;case 37:this.$=[];break;case 42:this.$=Ce[Ne].trim(),ge.setDiagramTitle(this.$);break;case 43:this.$=Ce[Ne].trim(),ge.setAccTitle(this.$);break;case 44:case 45:this.$=Ce[Ne].trim(),ge.setAccDescription(this.$);break;case 46:ge.addSection(Ce[Ne].substr(8)),this.$=Ce[Ne].substr(8);break;case 47:ge.addPoint(Ce[Ne-3],"",Ce[Ne-1],Ce[Ne],[]);break;case 48:ge.addPoint(Ce[Ne-4],Ce[Ne-3],Ce[Ne-1],Ce[Ne],[]);break;case 49:ge.addPoint(Ce[Ne-4],"",Ce[Ne-2],Ce[Ne-1],Ce[Ne]);break;case 50:ge.addPoint(Ce[Ne-5],Ce[Ne-4],Ce[Ne-2],Ce[Ne-1],Ce[Ne]);break;case 51:ge.setXAxisLeftText(Ce[Ne-2]),ge.setXAxisRightText(Ce[Ne]);break;case 52:Ce[Ne-1].text+=" ⟶ ",ge.setXAxisLeftText(Ce[Ne-1]);break;case 53:ge.setXAxisLeftText(Ce[Ne]);break;case 54:ge.setYAxisBottomText(Ce[Ne-2]),ge.setYAxisTopText(Ce[Ne]);break;case 55:Ce[Ne-1].text+=" ⟶ ",ge.setYAxisBottomText(Ce[Ne-1]);break;case 56:ge.setYAxisBottomText(Ce[Ne]);break;case 57:ge.setQuadrant1Text(Ce[Ne]);break;case 58:ge.setQuadrant2Text(Ce[Ne]);break;case 59:ge.setQuadrant3Text(Ce[Ne]);break;case 60:ge.setQuadrant4Text(Ce[Ne]);break;case 64:this.$={text:Ce[Ne],type:"text"};break;case 65:this.$={text:Ce[Ne-1].text+""+Ce[Ne],type:Ce[Ne-1].type};break;case 66:this.$={text:Ce[Ne],type:"text"};break;case 67:this.$={text:Ce[Ne],type:"markdown"};break;case 68:this.$=Ce[Ne];break;case 69:this.$=Ce[Ne-1]+""+Ce[Ne];break}},"anonymous"),table:[{18:e,26:1,27:2,28:r,55:n,56:i,57:a},{1:[3]},{18:e,26:8,27:2,28:r,55:n,56:i,57:a},{18:e,26:9,27:2,28:r,55:n,56:i,57:a},t(s,[2,33],{29:10}),t(o,[2,61]),t(o,[2,62]),t(o,[2,63]),{1:[2,30]},{1:[2,31]},t(l,u,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:h,5:d,10:f,12:p,13:g,14:m,18:y,25:v,35:b,37:x,39:T,41:w,42:S,48:k,50:L,51:_,52:N,53:C,54:D,60:P,61:A,63:R,64:O,65:M,66:I,67:F}),t(s,[2,34]),{27:45,55:n,56:i,57:a},t(l,[2,37]),t(l,u,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:h,5:d,10:f,12:p,13:g,14:m,18:y,25:v,35:b,37:x,39:T,41:w,42:S,48:k,50:L,51:_,52:N,53:C,54:D,60:P,61:A,63:R,64:O,65:M,66:I,67:F}),t(l,[2,39]),t(l,[2,40]),t(l,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},t(l,[2,45]),t(l,[2,46]),{18:[1,50]},{4:h,5:d,10:f,12:p,13:g,14:m,43:51,58:31,60:P,61:A,63:R,64:O,65:M,66:I,67:F},{4:h,5:d,10:f,12:p,13:g,14:m,43:52,58:31,60:P,61:A,63:R,64:O,65:M,66:I,67:F},{4:h,5:d,10:f,12:p,13:g,14:m,43:53,58:31,60:P,61:A,63:R,64:O,65:M,66:I,67:F},{4:h,5:d,10:f,12:p,13:g,14:m,43:54,58:31,60:P,61:A,63:R,64:O,65:M,66:I,67:F},{4:h,5:d,10:f,12:p,13:g,14:m,43:55,58:31,60:P,61:A,63:R,64:O,65:M,66:I,67:F},{4:h,5:d,10:f,12:p,13:g,14:m,43:56,58:31,60:P,61:A,63:R,64:O,65:M,66:I,67:F},{4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,44:[1,57],47:[1,58],58:60,59:59,63:R,64:O,65:M,66:I,67:F},t(V,[2,64]),t(V,[2,66]),t(V,[2,67]),t(V,[2,70]),t(V,[2,71]),t(V,[2,72]),t(V,[2,73]),t(V,[2,74]),t(V,[2,75]),t(V,[2,76]),t(V,[2,77]),t(V,[2,78]),t(V,[2,79]),t(V,[2,80]),t(s,[2,35]),t(l,[2,38]),t(l,[2,42]),t(l,[2,43]),t(l,[2,44]),{3:64,4:H,5:te,6:X,7:ee,8:re,9:pe,10:K,11:W,12:j,13:Y,14:Q,15:ie,21:63},t(l,[2,53],{59:59,58:60,4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,49:[1,77],63:R,64:O,65:M,66:I,67:F}),t(l,[2,56],{59:59,58:60,4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,49:[1,78],63:R,64:O,65:M,66:I,67:F}),t(l,[2,57],{59:59,58:60,4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,63:R,64:O,65:M,66:I,67:F}),t(l,[2,58],{59:59,58:60,4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,63:R,64:O,65:M,66:I,67:F}),t(l,[2,59],{59:59,58:60,4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,63:R,64:O,65:M,66:I,67:F}),t(l,[2,60],{59:59,58:60,4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,63:R,64:O,65:M,66:I,67:F}),{45:[1,79]},{44:[1,80]},t(V,[2,65]),t(V,[2,81]),t(V,[2,82]),t(V,[2,83]),{3:82,4:H,5:te,6:X,7:ee,8:re,9:pe,10:K,11:W,12:j,13:Y,14:Q,15:ie,18:[1,81]},t(J,[2,23]),t(J,[2,1]),t(J,[2,2]),t(J,[2,3]),t(J,[2,4]),t(J,[2,5]),t(J,[2,6]),t(J,[2,7]),t(J,[2,8]),t(J,[2,9]),t(J,[2,10]),t(J,[2,11]),t(J,[2,12]),t(l,[2,52],{58:31,43:83,4:h,5:d,10:f,12:p,13:g,14:m,60:P,61:A,63:R,64:O,65:M,66:I,67:F}),t(l,[2,55],{58:31,43:84,4:h,5:d,10:f,12:p,13:g,14:m,60:P,61:A,63:R,64:O,65:M,66:I,67:F}),{46:[1,85]},{45:[1,86]},{4:we,5:ue,6:ae,8:Ue,11:xe,13:Ze,16:89,17:Je,18:Xe,19:Pe,20:We,22:88,23:87},t(J,[2,24]),t(l,[2,51],{59:59,58:60,4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,63:R,64:O,65:M,66:I,67:F}),t(l,[2,54],{59:59,58:60,4:h,5:d,8:B,10:f,12:p,13:g,14:m,18:$,63:R,64:O,65:M,66:I,67:F}),t(l,[2,47],{22:88,16:89,23:100,4:we,5:ue,6:ae,8:Ue,11:xe,13:Ze,17:Je,18:Xe,19:Pe,20:We}),{46:[1,101]},t(l,[2,29],{10:he}),t(Te,[2,27],{16:103,4:we,5:ue,6:ae,8:Ue,11:xe,13:Ze,17:Je,18:Xe,19:Pe,20:We}),t(Be,[2,25]),t(Be,[2,13]),t(Be,[2,14]),t(Be,[2,15]),t(Be,[2,16]),t(Be,[2,17]),t(Be,[2,18]),t(Be,[2,19]),t(Be,[2,20]),t(Be,[2,21]),t(Be,[2,22]),t(l,[2,49],{10:he}),t(l,[2,48],{22:88,16:89,23:104,4:we,5:ue,6:ae,8:Ue,11:xe,13:Ze,17:Je,18:Xe,19:Pe,20:We}),{4:we,5:ue,6:ae,8:Ue,11:xe,13:Ze,16:89,17:Je,18:Xe,19:Pe,20:We,22:105},t(Be,[2,26]),t(l,[2,50],{10:he}),t(Te,[2,28],{16:103,4:we,5:ue,6:ae,8:Ue,11:xe,13:Ze,17:Je,18:Xe,19:Pe,20:We})],defaultActions:{8:[2,30],9:[2,31]},parseError:E(function(U,le){if(le.recoverable)this.trace(U);else{var oe=new Error(U);throw oe.hash=le,oe}},"parseError"),parse:E(function(U){var le=this,oe=[0],ge=[],me=[null],Ce=[],Ie=this.table,Ne="",et=0,ut=0,rt=2,de=1,De=Ce.slice.call(arguments,1),Le=Object.create(this.lexer),je={yy:{}};for(var dt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,dt)&&(je.yy[dt]=this.yy[dt]);Le.setInput(U,je.yy),je.yy.lexer=Le,je.yy.parser=this,typeof Le.yylloc>"u"&&(Le.yylloc={});var lt=Le.yylloc;Ce.push(lt);var $e=Le.options&&Le.options.ranges;typeof je.yy.parseError=="function"?this.parseError=je.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tt(nr){oe.length=oe.length-2*nr,me.length=me.length-nr,Ce.length=Ce.length-nr}E(tt,"popStack");function Ve(){var nr;return nr=ge.pop()||Le.lex()||de,typeof nr!="number"&&(nr instanceof Array&&(ge=nr,nr=ge.pop()),nr=le.symbols_[nr]||nr),nr}E(Ve,"lex");for(var it,ft,Tt,kt,Nt={},Tr,Ut,Lr,br;;){if(ft=oe[oe.length-1],this.defaultActions[ft]?Tt=this.defaultActions[ft]:((it===null||typeof it>"u")&&(it=Ve()),Tt=Ie[ft]&&Ie[ft][it]),typeof Tt>"u"||!Tt.length||!Tt[0]){var mr="";br=[];for(Tr in Ie[ft])this.terminals_[Tr]&&Tr>rt&&br.push("'"+this.terminals_[Tr]+"'");Le.showPosition?mr="Parse error on line "+(et+1)+`:
`+Le.showPosition()+`
Expecting `+br.join(", ")+", got '"+(this.terminals_[it]||it)+"'":mr="Parse error on line "+(et+1)+": Unexpected "+(it==de?"end of input":"'"+(this.terminals_[it]||it)+"'"),this.parseError(mr,{text:Le.match,token:this.terminals_[it]||it,line:Le.yylineno,loc:lt,expected:br})}if(Tt[0]instanceof Array&&Tt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ft+", token: "+it);switch(Tt[0]){case 1:oe.push(it),me.push(Le.yytext),Ce.push(Le.yylloc),oe.push(Tt[1]),it=null,ut=Le.yyleng,Ne=Le.yytext,et=Le.yylineno,lt=Le.yylloc;break;case 2:if(Ut=this.productions_[Tt[1]][1],Nt.$=me[me.length-Ut],Nt._$={first_line:Ce[Ce.length-(Ut||1)].first_line,last_line:Ce[Ce.length-1].last_line,first_column:Ce[Ce.length-(Ut||1)].first_column,last_column:Ce[Ce.length-1].last_column},$e&&(Nt._$.range=[Ce[Ce.length-(Ut||1)].range[0],Ce[Ce.length-1].range[1]]),kt=this.performAction.apply(Nt,[Ne,ut,et,je.yy,Tt[1],me,Ce].concat(De)),typeof kt<"u")return kt;Ut&&(oe=oe.slice(0,-1*Ut*2),me=me.slice(0,-1*Ut),Ce=Ce.slice(0,-1*Ut)),oe.push(this.productions_[Tt[1]][0]),me.push(Nt.$),Ce.push(Nt._$),Lr=Ie[oe[oe.length-2]][oe[oe.length-1]],oe.push(Lr);break;case 3:return!0}}return!0},"parse")},Me=function(){var fe={EOF:1,parseError:E(function(le,oe){if(this.yy.parser)this.yy.parser.parseError(le,oe);else throw new Error(le)},"parseError"),setInput:E(function(U,le){return this.yy=le||this.yy||{},this._input=U,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var U=this._input[0];this.yytext+=U,this.yyleng++,this.offset++,this.match+=U,this.matched+=U;var le=U.match(/(?:\r\n?|\n).*/g);return le?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),U},"input"),unput:E(function(U){var le=U.length,oe=U.split(/(?:\r\n?|\n)/g);this._input=U+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-le),this.offset-=le;var ge=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var me=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===ge.length?this.yylloc.first_column:0)+ge[ge.length-oe.length].length-oe[0].length:this.yylloc.first_column-le},this.options.ranges&&(this.yylloc.range=[me[0],me[0]+this.yyleng-le]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(U){this.unput(this.match.slice(U))},"less"),pastInput:E(function(){var U=this.matched.substr(0,this.matched.length-this.match.length);return(U.length>20?"...":"")+U.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var U=this.match;return U.length<20&&(U+=this._input.substr(0,20-U.length)),(U.substr(0,20)+(U.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var U=this.pastInput(),le=new Array(U.length+1).join("-");return U+this.upcomingInput()+`
`+le+"^"},"showPosition"),test_match:E(function(U,le){var oe,ge,me;if(this.options.backtrack_lexer&&(me={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(me.yylloc.range=this.yylloc.range.slice(0))),ge=U[0].match(/(?:\r\n?|\n).*/g),ge&&(this.yylineno+=ge.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ge?ge[ge.length-1].length-ge[ge.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+U[0].length},this.yytext+=U[0],this.match+=U[0],this.matches=U,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(U[0].length),this.matched+=U[0],oe=this.performAction.call(this,this.yy,this,le,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var Ce in me)this[Ce]=me[Ce];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var U,le,oe,ge;this._more||(this.yytext="",this.match="");for(var me=this._currentRules(),Ce=0;Ce<me.length;Ce++)if(oe=this._input.match(this.rules[me[Ce]]),oe&&(!le||oe[0].length>le[0].length)){if(le=oe,ge=Ce,this.options.backtrack_lexer){if(U=this.test_match(oe,me[Ce]),U!==!1)return U;if(this._backtrack){le=!1;continue}else return!1}else if(!this.options.flex)break}return le?(U=this.test_match(le,me[ge]),U!==!1?U:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var le=this.next();return le||this.lex()},"lex"),begin:E(function(le){this.conditionStack.push(le)},"begin"),popState:E(function(){var le=this.conditionStack.length-1;return le>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(le){return le=this.conditionStack.length-1-Math.abs(le||0),le>=0?this.conditionStack[le]:"INITIAL"},"topState"),pushState:E(function(le){this.begin(le)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(le,oe,ge,me){switch(ge){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return fe}();ye.lexer=Me;function Z(){this.yy={}}return E(Z,"Parser"),Z.prototype=ye,ye.Parser=Z,new Z}();c_.parser=c_;var v$e=c_,Oa=Uv(),b$e=(cp=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var e,r,n,i,a,s,o,l,u,h,d,f,p,g,m,y,v,b;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((e=Rr.quadrantChart)==null?void 0:e.chartWidth)||500,chartWidth:((r=Rr.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((n=Rr.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((i=Rr.quadrantChart)==null?void 0:i.titleFontSize)||20,quadrantPadding:((a=Rr.quadrantChart)==null?void 0:a.quadrantPadding)||5,xAxisLabelPadding:((s=Rr.quadrantChart)==null?void 0:s.xAxisLabelPadding)||5,yAxisLabelPadding:((o=Rr.quadrantChart)==null?void 0:o.yAxisLabelPadding)||5,xAxisLabelFontSize:((l=Rr.quadrantChart)==null?void 0:l.xAxisLabelFontSize)||16,yAxisLabelFontSize:((u=Rr.quadrantChart)==null?void 0:u.yAxisLabelFontSize)||16,quadrantLabelFontSize:((h=Rr.quadrantChart)==null?void 0:h.quadrantLabelFontSize)||16,quadrantTextTopPadding:((d=Rr.quadrantChart)==null?void 0:d.quadrantTextTopPadding)||5,pointTextPadding:((f=Rr.quadrantChart)==null?void 0:f.pointTextPadding)||5,pointLabelFontSize:((p=Rr.quadrantChart)==null?void 0:p.pointLabelFontSize)||12,pointRadius:((g=Rr.quadrantChart)==null?void 0:g.pointRadius)||5,xAxisPosition:((m=Rr.quadrantChart)==null?void 0:m.xAxisPosition)||"top",yAxisPosition:((y=Rr.quadrantChart)==null?void 0:y.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((v=Rr.quadrantChart)==null?void 0:v.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((b=Rr.quadrantChart)==null?void 0:b.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:Oa.quadrant1Fill,quadrant2Fill:Oa.quadrant2Fill,quadrant3Fill:Oa.quadrant3Fill,quadrant4Fill:Oa.quadrant4Fill,quadrant1TextFill:Oa.quadrant1TextFill,quadrant2TextFill:Oa.quadrant2TextFill,quadrant3TextFill:Oa.quadrant3TextFill,quadrant4TextFill:Oa.quadrant4TextFill,quadrantPointFill:Oa.quadrantPointFill,quadrantPointTextFill:Oa.quadrantPointTextFill,quadrantXAxisTextFill:Oa.quadrantXAxisTextFill,quadrantYAxisTextFill:Oa.quadrantYAxisTextFill,quadrantTitleFill:Oa.quadrantTitleFill,quadrantInternalBorderStrokeFill:Oa.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Oa.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,se.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,r){this.classes.set(e,r)}setConfig(e){se.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){se.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,r,n,i){const a=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,s={top:e==="top"&&r?a:0,bottom:e==="bottom"&&r?a:0},o=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,l={left:this.config.yAxisPosition==="left"&&n?o:0,right:this.config.yAxisPosition==="right"&&n?o:0},u=this.config.titleFontSize+this.config.titlePadding*2,h={top:i?u:0},d=this.config.quadrantPadding+l.left,f=this.config.quadrantPadding+s.top+h.top,p=this.config.chartWidth-this.config.quadrantPadding*2-l.left-l.right,g=this.config.chartHeight-this.config.quadrantPadding*2-s.top-s.bottom-h.top,m=p/2,y=g/2;return{xAxisSpace:s,yAxisSpace:l,titleSpace:h,quadrantSpace:{quadrantLeft:d,quadrantTop:f,quadrantWidth:p,quadrantHalfWidth:m,quadrantHeight:g,quadrantHalfHeight:y}}}getAxisLabels(e,r,n,i){const{quadrantSpace:a,titleSpace:s}=i,{quadrantHalfHeight:o,quadrantHeight:l,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:d,quadrantWidth:f}=a,p=!!this.data.xAxisRightText,g=!!this.data.yAxisTopText,m=[];return this.data.xAxisLeftText&&r&&m.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(p?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&m.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(p?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&m.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+f+this.config.quadrantPadding,y:d+l-(g?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&m.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+f+this.config.quadrantPadding,y:d+o-(g?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),m}getQuadrants(e){const{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:a,quadrantTop:s}=r,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s,width:a,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s,width:a,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant4Fill}];for(const l of o)l.text.x=l.x+l.width/2,this.data.points.length===0?(l.text.y=l.y+l.height/2,l.text.horizontalPos="middle"):(l.text.y=l.y+this.config.quadrantTextTopPadding,l.text.horizontalPos="top");return o}getQuadrantPoints(e){const{quadrantSpace:r}=e,{quadrantHeight:n,quadrantLeft:i,quadrantTop:a,quadrantWidth:s}=r,o=Jd().domain([0,1]).range([i,s+i]),l=Jd().domain([0,1]).range([n+a,a]);return this.data.points.map(h=>{const d=this.classes.get(h.className);return d&&(h={...d,...h}),{x:o(h.x),y:l(h.y),fill:h.color??this.themeConfig.quadrantPointFill,radius:h.radius??this.config.pointRadius,text:{text:h.text,fill:this.themeConfig.quadrantPointTextFill,x:o(h.x),y:l(h.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:h.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:h.strokeWidth??"0px"}})}getBorders(e){const r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=e,{quadrantHalfHeight:i,quadrantHeight:a,quadrantLeft:s,quadrantHalfWidth:o,quadrantTop:l,quadrantWidth:u}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:l,x2:s+u+r,y2:l},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+u,y1:l+r,x2:s+u,y2:l+a-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:l+a,x2:s+u+r,y2:l+a},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:l+r,x2:s,y2:l+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+o,y1:l+r,x2:s+o,y2:l+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+r,y1:l+i,x2:s+u-r,y2:l+i}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,a=this.calculateSpace(i,e,r,n);return{points:this.getQuadrantPoints(a),quadrants:this.getQuadrants(a),axisLabels:this.getAxisLabels(i,e,r,a),borderLines:this.getBorders(a),title:this.getTitle(n)}}},E(cp,"QuadrantBuilder"),cp),FE=(up=class extends Error{constructor(e,r,n){super(`value for ${e} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},E(up,"InvalidStyleError"),up);function u_(t){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(t)}E(u_,"validateHexCode");function BX(t){return!/^\d+$/.test(t)}E(BX,"validateNumber");function FX(t){return!/^\d+px$/.test(t)}E(FX,"validateSizeInPixels");var x$e=Re();function gl(t){return on(t.trim(),x$e)}E(gl,"textSanitizer");var Wi=new b$e;function $X(t){Wi.setData({quadrant1Text:gl(t.text)})}E($X,"setQuadrant1Text");function zX(t){Wi.setData({quadrant2Text:gl(t.text)})}E(zX,"setQuadrant2Text");function UX(t){Wi.setData({quadrant3Text:gl(t.text)})}E(UX,"setQuadrant3Text");function HX(t){Wi.setData({quadrant4Text:gl(t.text)})}E(HX,"setQuadrant4Text");function GX(t){Wi.setData({xAxisLeftText:gl(t.text)})}E(GX,"setXAxisLeftText");function VX(t){Wi.setData({xAxisRightText:gl(t.text)})}E(VX,"setXAxisRightText");function qX(t){Wi.setData({yAxisTopText:gl(t.text)})}E(qX,"setYAxisTopText");function WX(t){Wi.setData({yAxisBottomText:gl(t.text)})}E(WX,"setYAxisBottomText");function $E(t){const e={};for(const r of t){const[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(BX(i))throw new FE(n,i,"number");e.radius=parseInt(i)}else if(n==="color"){if(u_(i))throw new FE(n,i,"hex code");e.color=i}else if(n==="stroke-color"){if(u_(i))throw new FE(n,i,"hex code");e.strokeColor=i}else if(n==="stroke-width"){if(FX(i))throw new FE(n,i,"number of pixels (eg. 10px)");e.strokeWidth=i}else throw new Error(`style named ${n} is not supported.`)}return e}E($E,"parseStyles");function YX(t,e,r,n,i){const a=$E(i);Wi.addPoints([{x:r,y:n,text:gl(t.text),className:e,...a}])}E(YX,"addPoint");function XX(t,e){Wi.addClass(t,$E(e))}E(XX,"addClass");function KX(t){Wi.setConfig({chartWidth:t})}E(KX,"setWidth");function jX(t){Wi.setConfig({chartHeight:t})}E(jX,"setHeight");function QX(){const t=Re(),{themeVariables:e,quadrantChart:r}=t;return r&&Wi.setConfig(r),Wi.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),Wi.setData({titleText:li()}),Wi.build()}E(QX,"getQuadrantData");var E$e=E(function(){Wi.clear(),si()},"clear"),T$e={setWidth:KX,setHeight:jX,setQuadrant1Text:$X,setQuadrant2Text:zX,setQuadrant3Text:UX,setQuadrant4Text:HX,setXAxisLeftText:GX,setXAxisRightText:VX,setYAxisTopText:qX,setYAxisBottomText:WX,parseStyles:$E,addPoint:YX,addClass:XX,getQuadrantData:QX,clear:E$e,setAccTitle:oi,getAccTitle:ki,setDiagramTitle:Fi,getDiagramTitle:li,getAccDescription:_i,setAccDescription:Ci},w$e=E((t,e,r,n)=>{var L,_,N;function i(C){return C==="top"?"hanging":"middle"}E(i,"getDominantBaseLine");function a(C){return C==="left"?"start":"middle"}E(a,"getTextAnchor");function s(C){return`translate(${C.x}, ${C.y}) rotate(${C.rotation||0})`}E(s,"getTransformation");const o=Re();se.debug(`Rendering quadrant chart
`+t);const l=o.securityLevel;let u;l==="sandbox"&&(u=mt("#i"+e));const d=mt(l==="sandbox"?u.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`),f=d.append("g").attr("class","main"),p=((L=o.quadrantChart)==null?void 0:L.chartWidth)??500,g=((_=o.quadrantChart)==null?void 0:_.chartHeight)??500;qa(d,g,p,((N=o.quadrantChart)==null?void 0:N.useMaxWidth)??!0),d.attr("viewBox","0 0 "+p+" "+g),n.db.setHeight(g),n.db.setWidth(p);const m=n.db.getQuadrantData(),y=f.append("g").attr("class","quadrants"),v=f.append("g").attr("class","border"),b=f.append("g").attr("class","data-points"),x=f.append("g").attr("class","labels"),T=f.append("g").attr("class","title");m.title&&T.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",i(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&v.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",C=>C.x1).attr("y1",C=>C.y1).attr("x2",C=>C.x2).attr("y2",C=>C.y2).style("stroke",C=>C.strokeFill).style("stroke-width",C=>C.strokeWidth);const w=y.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");w.append("rect").attr("x",C=>C.x).attr("y",C=>C.y).attr("width",C=>C.width).attr("height",C=>C.height).attr("fill",C=>C.fill),w.append("text").attr("x",0).attr("y",0).attr("fill",C=>C.text.fill).attr("font-size",C=>C.text.fontSize).attr("dominant-baseline",C=>i(C.text.horizontalPos)).attr("text-anchor",C=>a(C.text.verticalPos)).attr("transform",C=>s(C.text)).text(C=>C.text.text),x.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(C=>C.text).attr("fill",C=>C.fill).attr("font-size",C=>C.fontSize).attr("dominant-baseline",C=>i(C.horizontalPos)).attr("text-anchor",C=>a(C.verticalPos)).attr("transform",C=>s(C));const k=b.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");k.append("circle").attr("cx",C=>C.x).attr("cy",C=>C.y).attr("r",C=>C.radius).attr("fill",C=>C.fill).attr("stroke",C=>C.strokeColor).attr("stroke-width",C=>C.strokeWidth),k.append("text").attr("x",0).attr("y",0).text(C=>C.text.text).attr("fill",C=>C.text.fill).attr("font-size",C=>C.text.fontSize).attr("dominant-baseline",C=>i(C.text.horizontalPos)).attr("text-anchor",C=>a(C.text.verticalPos)).attr("transform",C=>s(C.text))},"draw"),S$e={draw:w$e},k$e={parser:v$e,db:T$e,renderer:S$e,styles:E(()=>"","styles")};const C$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:k$e},Symbol.toStringTag,{value:"Module"}));var h_=function(){var t=E(function(R,O,M,I){for(M=M||{},I=R.length;I--;M[R[I]]=O);return M},"o"),e=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],a=[1,6],s=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],l=[1,25],u=[1,26],h=[1,28],d=[1,29],f=[1,30],p=[1,31],g=[1,32],m=[1,33],y=[1,34],v=[1,35],b=[1,36],x=[1,37],T=[1,43],w=[1,42],S=[1,47],k=[1,50],L=[1,10,12,14,16,18,19,21,23,34,35,36],_=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],N=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],C=[1,64],D={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:E(function(O,M,I,F,B,$,V){var H=$.length-1;switch(B){case 5:F.setOrientation($[H]);break;case 9:F.setDiagramTitle($[H].text.trim());break;case 12:F.setLineData({text:"",type:"text"},$[H]);break;case 13:F.setLineData($[H-1],$[H]);break;case 14:F.setBarData({text:"",type:"text"},$[H]);break;case 15:F.setBarData($[H-1],$[H]);break;case 16:this.$=$[H].trim(),F.setAccTitle(this.$);break;case 17:case 18:this.$=$[H].trim(),F.setAccDescription(this.$);break;case 19:this.$=$[H-1];break;case 20:this.$=[Number($[H-2]),...$[H]];break;case 21:this.$=[Number($[H])];break;case 22:F.setXAxisTitle($[H]);break;case 23:F.setXAxisTitle($[H-1]);break;case 24:F.setXAxisTitle({type:"text",text:""});break;case 25:F.setXAxisBand($[H]);break;case 26:F.setXAxisRangeData(Number($[H-2]),Number($[H]));break;case 27:this.$=$[H-1];break;case 28:this.$=[$[H-2],...$[H]];break;case 29:this.$=[$[H]];break;case 30:F.setYAxisTitle($[H]);break;case 31:F.setYAxisTitle($[H-1]);break;case 32:F.setYAxisTitle({type:"text",text:""});break;case 33:F.setYAxisRangeData(Number($[H-2]),Number($[H]));break;case 37:this.$={text:$[H],type:"text"};break;case 38:this.$={text:$[H],type:"text"};break;case 39:this.$={text:$[H],type:"markdown"};break;case 40:this.$=$[H];break;case 41:this.$=$[H-1]+""+$[H];break}},"anonymous"),table:[t(e,r,{3:1,4:2,7:4,5:n,34:i,35:a,36:s}),{1:[3]},t(e,r,{4:2,7:4,3:8,5:n,34:i,35:a,36:s}),t(e,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},t(o,[2,34]),t(o,[2,35]),t(o,[2,36]),{1:[2,1]},t(e,r,{4:2,7:4,3:21,5:n,34:i,35:a,36:s}),{1:[2,3]},t(o,[2,5]),t(e,[2,7],{4:22,34:i,35:a,36:s}),{11:23,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{11:39,13:38,24:T,27:w,29:40,30:41,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{11:45,15:44,27:S,33:46,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{11:49,17:48,24:k,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{11:52,17:51,24:k,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{20:[1,53]},{22:[1,54]},t(L,[2,18]),{1:[2,2]},t(L,[2,8]),t(L,[2,9]),t(_,[2,37],{40:55,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x}),t(_,[2,38]),t(_,[2,39]),t(N,[2,40]),t(N,[2,42]),t(N,[2,43]),t(N,[2,44]),t(N,[2,45]),t(N,[2,46]),t(N,[2,47]),t(N,[2,48]),t(N,[2,49]),t(N,[2,50]),t(N,[2,51]),t(L,[2,10]),t(L,[2,22],{30:41,29:56,24:T,27:w}),t(L,[2,24]),t(L,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},t(L,[2,11]),t(L,[2,30],{33:60,27:S}),t(L,[2,32]),{31:[1,61]},t(L,[2,12]),{17:62,24:k},{25:63,27:C},t(L,[2,14]),{17:65,24:k},t(L,[2,16]),t(L,[2,17]),t(N,[2,41]),t(L,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},t(L,[2,31]),{27:[1,69]},t(L,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},t(L,[2,15]),t(L,[2,26]),t(L,[2,27]),{11:59,32:72,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},t(L,[2,33]),t(L,[2,19]),{25:73,27:C},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:E(function(O,M){if(M.recoverable)this.trace(O);else{var I=new Error(O);throw I.hash=M,I}},"parseError"),parse:E(function(O){var M=this,I=[0],F=[],B=[null],$=[],V=this.table,H="",te=0,X=0,ee=2,re=1,pe=$.slice.call(arguments,1),K=Object.create(this.lexer),W={yy:{}};for(var j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(W.yy[j]=this.yy[j]);K.setInput(O,W.yy),W.yy.lexer=K,W.yy.parser=this,typeof K.yylloc>"u"&&(K.yylloc={});var Y=K.yylloc;$.push(Y);var Q=K.options&&K.options.ranges;typeof W.yy.parseError=="function"?this.parseError=W.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ie(he){I.length=I.length-2*he,B.length=B.length-he,$.length=$.length-he}E(ie,"popStack");function J(){var he;return he=F.pop()||K.lex()||re,typeof he!="number"&&(he instanceof Array&&(F=he,he=F.pop()),he=M.symbols_[he]||he),he}E(J,"lex");for(var we,ue,ae,Ue,xe={},Ze,Je,Xe,Pe;;){if(ue=I[I.length-1],this.defaultActions[ue]?ae=this.defaultActions[ue]:((we===null||typeof we>"u")&&(we=J()),ae=V[ue]&&V[ue][we]),typeof ae>"u"||!ae.length||!ae[0]){var We="";Pe=[];for(Ze in V[ue])this.terminals_[Ze]&&Ze>ee&&Pe.push("'"+this.terminals_[Ze]+"'");K.showPosition?We="Parse error on line "+(te+1)+`:
`+K.showPosition()+`
Expecting `+Pe.join(", ")+", got '"+(this.terminals_[we]||we)+"'":We="Parse error on line "+(te+1)+": Unexpected "+(we==re?"end of input":"'"+(this.terminals_[we]||we)+"'"),this.parseError(We,{text:K.match,token:this.terminals_[we]||we,line:K.yylineno,loc:Y,expected:Pe})}if(ae[0]instanceof Array&&ae.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ue+", token: "+we);switch(ae[0]){case 1:I.push(we),B.push(K.yytext),$.push(K.yylloc),I.push(ae[1]),we=null,X=K.yyleng,H=K.yytext,te=K.yylineno,Y=K.yylloc;break;case 2:if(Je=this.productions_[ae[1]][1],xe.$=B[B.length-Je],xe._$={first_line:$[$.length-(Je||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(Je||1)].first_column,last_column:$[$.length-1].last_column},Q&&(xe._$.range=[$[$.length-(Je||1)].range[0],$[$.length-1].range[1]]),Ue=this.performAction.apply(xe,[H,X,te,W.yy,ae[1],B,$].concat(pe)),typeof Ue<"u")return Ue;Je&&(I=I.slice(0,-1*Je*2),B=B.slice(0,-1*Je),$=$.slice(0,-1*Je)),I.push(this.productions_[ae[1]][0]),B.push(xe.$),$.push(xe._$),Xe=V[I[I.length-2]][I[I.length-1]],I.push(Xe);break;case 3:return!0}}return!0},"parse")},P=function(){var R={EOF:1,parseError:E(function(M,I){if(this.yy.parser)this.yy.parser.parseError(M,I);else throw new Error(M)},"parseError"),setInput:E(function(O,M){return this.yy=M||this.yy||{},this._input=O,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var O=this._input[0];this.yytext+=O,this.yyleng++,this.offset++,this.match+=O,this.matched+=O;var M=O.match(/(?:\r\n?|\n).*/g);return M?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),O},"input"),unput:E(function(O){var M=O.length,I=O.split(/(?:\r\n?|\n)/g);this._input=O+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-M),this.offset-=M;var F=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var B=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===F.length?this.yylloc.first_column:0)+F[F.length-I.length].length-I[0].length:this.yylloc.first_column-M},this.options.ranges&&(this.yylloc.range=[B[0],B[0]+this.yyleng-M]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(O){this.unput(this.match.slice(O))},"less"),pastInput:E(function(){var O=this.matched.substr(0,this.matched.length-this.match.length);return(O.length>20?"...":"")+O.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var O=this.match;return O.length<20&&(O+=this._input.substr(0,20-O.length)),(O.substr(0,20)+(O.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var O=this.pastInput(),M=new Array(O.length+1).join("-");return O+this.upcomingInput()+`
`+M+"^"},"showPosition"),test_match:E(function(O,M){var I,F,B;if(this.options.backtrack_lexer&&(B={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(B.yylloc.range=this.yylloc.range.slice(0))),F=O[0].match(/(?:\r\n?|\n).*/g),F&&(this.yylineno+=F.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:F?F[F.length-1].length-F[F.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+O[0].length},this.yytext+=O[0],this.match+=O[0],this.matches=O,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(O[0].length),this.matched+=O[0],I=this.performAction.call(this,this.yy,this,M,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var $ in B)this[$]=B[$];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var O,M,I,F;this._more||(this.yytext="",this.match="");for(var B=this._currentRules(),$=0;$<B.length;$++)if(I=this._input.match(this.rules[B[$]]),I&&(!M||I[0].length>M[0].length)){if(M=I,F=$,this.options.backtrack_lexer){if(O=this.test_match(I,B[$]),O!==!1)return O;if(this._backtrack){M=!1;continue}else return!1}else if(!this.options.flex)break}return M?(O=this.test_match(M,B[F]),O!==!1?O:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var M=this.next();return M||this.lex()},"lex"),begin:E(function(M){this.conditionStack.push(M)},"begin"),popState:E(function(){var M=this.conditionStack.length-1;return M>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(M){return M=this.conditionStack.length-1-Math.abs(M||0),M>=0?this.conditionStack[M]:"INITIAL"},"topState"),pushState:E(function(M){this.begin(M)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(M,I,F,B){switch(F){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return R}();D.lexer=P;function A(){this.yy={}}return E(A,"Parser"),A.prototype=D,D.Parser=A,new A}();h_.parser=h_;var _$e=h_;function d_(t){return t.type==="bar"}E(d_,"isBarPlot");function f_(t){return t.type==="band"}E(f_,"isBandAxisData");function Zf(t){return t.type==="linear"}E(Zf,"isLinearAxisData");var ZX=(hp=class{constructor(e){this.parentGroup=e}getMaxDimension(e,r){if(!this.parentGroup)return{width:e.reduce((a,s)=>Math.max(s.length,a),0)*r,height:r};const n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(const a of e){const s=uF(i,1,a),o=s?s.width:a.length*r,l=s?s.height:r;n.width=Math.max(n.width,o),n.height=Math.max(n.height,l)}return i.remove(),n}},E(hp,"TextDimensionCalculatorWithFont"),hp),JX=.7,eK=.2,tK=(dp=class{constructor(e,r,n,i){this.axisConfig=e,this.title=r,this.textDimensionCalculator=n,this.axisThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){const e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){JX*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(JX*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let r=e.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=eK*e.width;this.outerPadding=Math.min(n.width/2,i);const a=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-r}calculateSpaceIfDrawnVertical(e){let r=e.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=eK*e.height;this.outerPadding=Math.min(n.height/2,i);const a=n.width+this.axisConfig.labelPadding*2;a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width-r,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},E(dp,"BaseAxis"),dp),A$e=(fp=class extends tK{constructor(e,r,n,i,a){super(e,i,a,r),this.categories=n,this.scale=C5().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=C5().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),se.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}},E(fp,"BandAxis"),fp),L$e=(pp=class extends tK{constructor(e,r,n,i,a){super(e,i,a,r),this.domain=n,this.scale=Jd().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=Jd().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}},E(pp,"LinearAxis"),pp);function p_(t,e,r,n){const i=new ZX(n);return f_(t)?new A$e(e,r,t.categories,t.title,i):new L$e(e,r,[t.min,t.max],t.title,i)}E(p_,"getAxis");var N$e=(gp=class{constructor(e,r,n,i){this.textDimensionCalculator=e,this.chartConfig=r,this.chartData=n,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){const r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,e.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},E(gp,"ChartTitle"),gp);function rK(t,e,r,n){const i=new ZX(n);return new N$e(i,t,e,r)}E(rK,"getChartTitleComponent");var R$e=(mp=class{constructor(e,r,n,i,a){this.plotData=e,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=a}getDrawableElement(){const e=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]);let r;return this.orientation==="horizontal"?r=Mg().y(n=>n[0]).x(n=>n[1])(e):r=Mg().x(n=>n[0]).y(n=>n[1])(e),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},E(mp,"LinePlot"),mp),I$e=(yp=class{constructor(e,r,n,i,a,s){this.barData=e,this.boundingRect=r,this.xAxis=n,this.yAxis=i,this.orientation=a,this.plotIndex=s}getDrawableElement(){const e=this.barData.data.map(a=>[this.xAxis.getScaleValue(a[0]),this.yAxis.getScaleValue(a[1])]),n=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),i=n/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:this.boundingRect.x,y:a[0]-i,height:n,width:a[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:a[0]-i,y:a[1],width:n,height:this.boundingRect.y+this.boundingRect.height-a[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},E(yp,"BarPlot"),yp),D$e=(vp=class{constructor(e,r,n){this.chartConfig=e,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(e,r){this.xAxis=e,this.yAxis=r}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");const e=[];for(const[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{const i=new R$e(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break;case"bar":{const i=new I$e(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break}return e}},E(vp,"BasePlot"),vp);function nK(t,e,r){return new D$e(t,e,r)}E(nK,"getPlotComponent");var O$e=(bp=class{constructor(e,r,n,i){this.chartConfig=e,this.chartData=r,this.componentStore={title:rK(e,r,n,i),plot:nK(e,r,n),xAxis:p_(r.xAxis,e.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:p_(r.yAxis,e.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}calculateVerticalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:s});e-=o.width,r-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=o.height,r-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:e,height:r}),r-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:e,height:r}),n=o.width,e-=o.width,e>0&&(a+=e,e=0),r>0&&(s+=r,r=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+a]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+s}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(l=>d_(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=0,s=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),l=this.componentStore.plot.calculateSpace({width:s,height:o});e-=l.width,r-=l.height,l=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=l.height,r-=l.height,this.componentStore.xAxis.setAxisPosition("left"),l=this.componentStore.xAxis.calculateSpace({width:e,height:r}),e-=l.width,i=l.width,this.componentStore.yAxis.setAxisPosition("top"),l=this.componentStore.yAxis.calculateSpace({width:e,height:r}),r-=l.height,a=n+l.height,e>0&&(s+=e,e=0),r>0&&(o+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:o}),this.componentStore.plot.setBoundingBoxXY({x:i,y:a}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([a,a+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(u=>d_(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const r of Object.values(this.componentStore))e.push(...r.getDrawableElements());return e}},E(bp,"Orchestrator"),bp),M$e=(xp=class{static build(e,r,n,i){return new O$e(e,r,n,i).getDrawableElement()}},E(xp,"XYChartBuilder"),xp),Pm=0,iK,Bm=v_(),Fm=y_(),Qr=b_(),g_=Fm.plotColorPalette.split(",").map(t=>t.trim()),zE=!1,m_=!1;function y_(){const t=Uv(),e=qr();return bs(t.xyChart,e.themeVariables.xyChart)}E(y_,"getChartDefaultThemeConfig");function v_(){const t=qr();return bs(Rr.xyChart,t.xyChart)}E(v_,"getChartDefaultConfig");function b_(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}E(b_,"getChartDefaultData");function UE(t){const e=qr();return on(t.trim(),e)}E(UE,"textSanitizer");function aK(t){iK=t}E(aK,"setTmpSVGG");function sK(t){t==="horizontal"?Bm.chartOrientation="horizontal":Bm.chartOrientation="vertical"}E(sK,"setOrientation");function oK(t){Qr.xAxis.title=UE(t.text)}E(oK,"setXAxisTitle");function x_(t,e){Qr.xAxis={type:"linear",title:Qr.xAxis.title,min:t,max:e},zE=!0}E(x_,"setXAxisRangeData");function lK(t){Qr.xAxis={type:"band",title:Qr.xAxis.title,categories:t.map(e=>UE(e.text))},zE=!0}E(lK,"setXAxisBand");function cK(t){Qr.yAxis.title=UE(t.text)}E(cK,"setYAxisTitle");function uK(t,e){Qr.yAxis={type:"linear",title:Qr.yAxis.title,min:t,max:e},m_=!0}E(uK,"setYAxisRangeData");function hK(t){const e=Math.min(...t),r=Math.max(...t),n=Zf(Qr.yAxis)?Qr.yAxis.min:1/0,i=Zf(Qr.yAxis)?Qr.yAxis.max:-1/0;Qr.yAxis={type:"linear",title:Qr.yAxis.title,min:Math.min(n,e),max:Math.max(i,r)}}E(hK,"setYAxisRangeFromPlotData");function E_(t){let e=[];if(t.length===0)return e;if(!zE){const r=Zf(Qr.xAxis)?Qr.xAxis.min:1/0,n=Zf(Qr.xAxis)?Qr.xAxis.max:-1/0;x_(Math.min(r,1),Math.max(n,t.length))}if(m_||hK(t),f_(Qr.xAxis)&&(e=Qr.xAxis.categories.map((r,n)=>[r,t[n]])),Zf(Qr.xAxis)){const r=Qr.xAxis.min,n=Qr.xAxis.max,i=(n-r)/(t.length-1),a=[];for(let s=r;s<=n;s+=i)a.push(`${s}`);e=a.map((s,o)=>[s,t[o]])}return e}E(E_,"transformDataWithoutCategory");function T_(t){return g_[t===0?0:t%g_.length]}E(T_,"getPlotColorFromPalette");function dK(t,e){const r=E_(e);Qr.plots.push({type:"line",strokeFill:T_(Pm),strokeWidth:2,data:r}),Pm++}E(dK,"setLineData");function fK(t,e){const r=E_(e);Qr.plots.push({type:"bar",fill:T_(Pm),data:r}),Pm++}E(fK,"setBarData");function pK(){if(Qr.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return Qr.title=li(),M$e.build(Bm,Qr,Fm,iK)}E(pK,"getDrawableElem");function gK(){return Fm}E(gK,"getChartThemeConfig");function mK(){return Bm}E(mK,"getChartConfig");function yK(){return Qr}E(yK,"getXYChartData");var P$e=E(function(){si(),Pm=0,Bm=v_(),Qr=b_(),Fm=y_(),g_=Fm.plotColorPalette.split(",").map(t=>t.trim()),zE=!1,m_=!1},"clear"),B$e={getDrawableElem:pK,clear:P$e,setAccTitle:oi,getAccTitle:ki,setDiagramTitle:Fi,getDiagramTitle:li,getAccDescription:_i,setAccDescription:Ci,setOrientation:sK,setXAxisTitle:oK,setXAxisRangeData:x_,setXAxisBand:lK,setYAxisTitle:cK,setYAxisRangeData:uK,setLineData:dK,setBarData:fK,setTmpSVGG:aK,getChartThemeConfig:gK,getChartConfig:mK,getXYChartData:yK},F$e=E((t,e,r,n)=>{const i=n.db,a=i.getChartThemeConfig(),s=i.getChartConfig(),o=i.getXYChartData().plots[0].data.map(v=>v[1]);function l(v){return v==="top"?"text-before-edge":"middle"}E(l,"getDominantBaseLine");function u(v){return v==="left"?"start":v==="right"?"end":"middle"}E(u,"getTextAnchor");function h(v){return`translate(${v.x}, ${v.y}) rotate(${v.rotation||0})`}E(h,"getTextTransformation"),se.debug(`Rendering xychart chart
`+t);const d=ic(e),f=d.append("g").attr("class","main"),p=f.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");qa(d,s.height,s.width,!0),d.attr("viewBox",`0 0 ${s.width} ${s.height}`),p.attr("fill",a.backgroundColor),i.setTmpSVGG(d.append("g").attr("class","mermaid-tmp-group"));const g=i.getDrawableElem(),m={};function y(v){let b=f,x="";for(const[T]of v.entries()){let w=f;T>0&&m[x]&&(w=m[x]),x+=v[T],b=m[x],b||(b=m[x]=w.append("g").attr("class",v[T]))}return b}E(y,"getGroup");for(const v of g){if(v.data.length===0)continue;const b=y(v.groupTexts);switch(v.type){case"rect":if(b.selectAll("rect").data(v.data).enter().append("rect").attr("x",x=>x.x).attr("y",x=>x.y).attr("width",x=>x.width).attr("height",x=>x.height).attr("fill",x=>x.fill).attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth),s.showDataLabel)if(s.chartOrientation==="horizontal"){let x=function(L,_){const{data:N,label:C}=L;return _*C.length*T<=N.width-10};E(x,"fitsHorizontally");const T=.7,w=v.data.map((L,_)=>({data:L,label:o[_].toString()})).filter(L=>L.data.width>0&&L.data.height>0),S=w.map(L=>{const{data:_}=L;let N=_.height*.7;for(;!x(L,N)&&N>0;)N-=1;return N}),k=Math.floor(Math.min(...S));b.selectAll("text").data(w).enter().append("text").attr("x",L=>L.data.x+L.data.width-10).attr("y",L=>L.data.y+L.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${k}px`).text(L=>L.label)}else{let x=function(L,_,N){const{data:C,label:D}=L,A=_*D.length*.7,R=C.x+C.width/2,O=R-A/2,M=R+A/2,I=O>=C.x&&M<=C.x+C.width,F=C.y+N+_<=C.y+C.height;return I&&F};E(x,"fitsInBar");const T=10,w=v.data.map((L,_)=>({data:L,label:o[_].toString()})).filter(L=>L.data.width>0&&L.data.height>0),S=w.map(L=>{const{data:_,label:N}=L;let C=_.width/(N.length*.7);for(;!x(L,C,T)&&C>0;)C-=1;return C}),k=Math.floor(Math.min(...S));b.selectAll("text").data(w).enter().append("text").attr("x",L=>L.data.x+L.data.width/2).attr("y",L=>L.data.y+T).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${k}px`).text(L=>L.label)}break;case"text":b.selectAll("text").data(v.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",x=>x.fill).attr("font-size",x=>x.fontSize).attr("dominant-baseline",x=>l(x.verticalPos)).attr("text-anchor",x=>u(x.horizontalPos)).attr("transform",x=>h(x)).text(x=>x.text);break;case"path":b.selectAll("path").data(v.data).enter().append("path").attr("d",x=>x.path).attr("fill",x=>x.fill?x.fill:"none").attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth);break}}},"draw"),$$e={draw:F$e},z$e={parser:_$e,db:B$e,renderer:$$e};const U$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:z$e},Symbol.toStringTag,{value:"Module"}));var w_=function(){var t=E(function(ye,Me,Z,fe){for(Z=Z||{},fe=ye.length;fe--;Z[ye[fe]]=Me);return Z},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],s=[1,22],o=[2,7],l=[1,26],u=[1,27],h=[1,28],d=[1,29],f=[1,33],p=[1,34],g=[1,35],m=[1,36],y=[1,37],v=[1,38],b=[1,24],x=[1,31],T=[1,32],w=[1,30],S=[1,39],k=[1,40],L=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],_=[1,61],N=[89,90],C=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],D=[27,29],P=[1,70],A=[1,71],R=[1,72],O=[1,73],M=[1,74],I=[1,75],F=[1,76],B=[1,83],$=[1,80],V=[1,84],H=[1,85],te=[1,86],X=[1,87],ee=[1,88],re=[1,89],pe=[1,90],K=[1,91],W=[1,92],j=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],Y=[63,64],Q=[1,101],ie=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],J=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],we=[1,110],ue=[1,106],ae=[1,107],Ue=[1,108],xe=[1,109],Ze=[1,111],Je=[1,116],Xe=[1,117],Pe=[1,114],We=[1,115],he={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:E(function(Me,Z,fe,U,le,oe,ge){var me=oe.length-1;switch(le){case 4:this.$=oe[me].trim(),U.setAccTitle(this.$);break;case 5:case 6:this.$=oe[me].trim(),U.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:U.setDirection("TB");break;case 18:U.setDirection("BT");break;case 19:U.setDirection("RL");break;case 20:U.setDirection("LR");break;case 21:U.addRequirement(oe[me-3],oe[me-4]);break;case 22:U.addRequirement(oe[me-5],oe[me-6]),U.setClass([oe[me-5]],oe[me-3]);break;case 23:U.setNewReqId(oe[me-2]);break;case 24:U.setNewReqText(oe[me-2]);break;case 25:U.setNewReqRisk(oe[me-2]);break;case 26:U.setNewReqVerifyMethod(oe[me-2]);break;case 29:this.$=U.RequirementType.REQUIREMENT;break;case 30:this.$=U.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=U.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=U.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=U.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=U.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=U.RiskLevel.LOW_RISK;break;case 36:this.$=U.RiskLevel.MED_RISK;break;case 37:this.$=U.RiskLevel.HIGH_RISK;break;case 38:this.$=U.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=U.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=U.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=U.VerifyType.VERIFY_TEST;break;case 42:U.addElement(oe[me-3]);break;case 43:U.addElement(oe[me-5]),U.setClass([oe[me-5]],oe[me-3]);break;case 44:U.setNewElementType(oe[me-2]);break;case 45:U.setNewElementDocRef(oe[me-2]);break;case 48:U.addRelationship(oe[me-2],oe[me],oe[me-4]);break;case 49:U.addRelationship(oe[me-2],oe[me-4],oe[me]);break;case 50:this.$=U.Relationships.CONTAINS;break;case 51:this.$=U.Relationships.COPIES;break;case 52:this.$=U.Relationships.DERIVES;break;case 53:this.$=U.Relationships.SATISFIES;break;case 54:this.$=U.Relationships.VERIFIES;break;case 55:this.$=U.Relationships.REFINES;break;case 56:this.$=U.Relationships.TRACES;break;case 57:this.$=oe[me-2],U.defineClass(oe[me-1],oe[me]);break;case 58:U.setClass(oe[me-1],oe[me]);break;case 59:U.setClass([oe[me-2]],oe[me]);break;case 60:case 62:this.$=[oe[me]];break;case 61:case 63:this.$=oe[me-2].concat([oe[me]]);break;case 64:this.$=oe[me-2],U.setCssStyle(oe[me-1],oe[me]);break;case 65:this.$=[oe[me]];break;case 66:oe[me-2].push(oe[me]),this.$=oe[me-2];break;case 68:this.$=oe[me-1]+oe[me];break}},"anonymous"),table:[{3:1,4:2,6:e,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:e,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},t(a,[2,6]),{3:12,4:2,6:e,9:r,11:n,13:i},{1:[2,2]},{4:17,5:s,7:13,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},t(a,[2,4]),t(a,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:s,7:42,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{4:17,5:s,7:43,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{4:17,5:s,7:44,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{4:17,5:s,7:45,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{4:17,5:s,7:46,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{4:17,5:s,7:47,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{4:17,5:s,7:48,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{4:17,5:s,7:49,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{4:17,5:s,7:50,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:g,44:m,45:y,46:v,54:b,72:x,74:T,77:w,89:S,90:k},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},t(L,[2,17]),t(L,[2,18]),t(L,[2,19]),t(L,[2,20]),{30:60,33:62,75:_,89:S,90:k},{30:63,33:62,75:_,89:S,90:k},{30:64,33:62,75:_,89:S,90:k},t(N,[2,29]),t(N,[2,30]),t(N,[2,31]),t(N,[2,32]),t(N,[2,33]),t(N,[2,34]),t(C,[2,81]),t(C,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},t(D,[2,79]),t(D,[2,80]),{27:[1,67],29:[1,68]},t(D,[2,85]),t(D,[2,86]),{62:69,65:P,66:A,67:R,68:O,69:M,70:I,71:F},{62:77,65:P,66:A,67:R,68:O,69:M,70:I,71:F},{30:78,33:62,75:_,89:S,90:k},{73:79,75:B,76:$,78:81,79:82,80:V,81:H,82:te,83:X,84:ee,85:re,86:pe,87:K,88:W},t(j,[2,60]),t(j,[2,62]),{73:93,75:B,76:$,78:81,79:82,80:V,81:H,82:te,83:X,84:ee,85:re,86:pe,87:K,88:W},{30:94,33:62,75:_,76:$,89:S,90:k},{5:[1,95]},{30:96,33:62,75:_,89:S,90:k},{5:[1,97]},{30:98,33:62,75:_,89:S,90:k},{63:[1,99]},t(Y,[2,50]),t(Y,[2,51]),t(Y,[2,52]),t(Y,[2,53]),t(Y,[2,54]),t(Y,[2,55]),t(Y,[2,56]),{64:[1,100]},t(L,[2,59],{76:$}),t(L,[2,64],{76:Q}),{33:103,75:[1,102],89:S,90:k},t(ie,[2,65],{79:104,75:B,80:V,81:H,82:te,83:X,84:ee,85:re,86:pe,87:K,88:W}),t(J,[2,67]),t(J,[2,69]),t(J,[2,70]),t(J,[2,71]),t(J,[2,72]),t(J,[2,73]),t(J,[2,74]),t(J,[2,75]),t(J,[2,76]),t(J,[2,77]),t(J,[2,78]),t(L,[2,57],{76:Q}),t(L,[2,58],{76:$}),{5:we,28:105,31:ue,34:ae,36:Ue,38:xe,40:Ze},{27:[1,112],76:$},{5:Je,40:Xe,56:113,57:Pe,59:We},{27:[1,118],76:$},{33:119,89:S,90:k},{33:120,89:S,90:k},{75:B,78:121,79:82,80:V,81:H,82:te,83:X,84:ee,85:re,86:pe,87:K,88:W},t(j,[2,61]),t(j,[2,63]),t(J,[2,68]),t(L,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:we,28:126,31:ue,34:ae,36:Ue,38:xe,40:Ze},t(L,[2,28]),{5:[1,127]},t(L,[2,42]),{32:[1,128]},{32:[1,129]},{5:Je,40:Xe,56:130,57:Pe,59:We},t(L,[2,47]),{5:[1,131]},t(L,[2,48]),t(L,[2,49]),t(ie,[2,66],{79:104,75:B,80:V,81:H,82:te,83:X,84:ee,85:re,86:pe,87:K,88:W}),{33:132,89:S,90:k},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},t(L,[2,27]),{5:we,28:145,31:ue,34:ae,36:Ue,38:xe,40:Ze},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},t(L,[2,46]),{5:Je,40:Xe,56:152,57:Pe,59:We},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},t(L,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},t(L,[2,43]),{5:we,28:159,31:ue,34:ae,36:Ue,38:xe,40:Ze},{5:we,28:160,31:ue,34:ae,36:Ue,38:xe,40:Ze},{5:we,28:161,31:ue,34:ae,36:Ue,38:xe,40:Ze},{5:we,28:162,31:ue,34:ae,36:Ue,38:xe,40:Ze},{5:Je,40:Xe,56:163,57:Pe,59:We},{5:Je,40:Xe,56:164,57:Pe,59:We},t(L,[2,23]),t(L,[2,24]),t(L,[2,25]),t(L,[2,26]),t(L,[2,44]),t(L,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:E(function(Me,Z){if(Z.recoverable)this.trace(Me);else{var fe=new Error(Me);throw fe.hash=Z,fe}},"parseError"),parse:E(function(Me){var Z=this,fe=[0],U=[],le=[null],oe=[],ge=this.table,me="",Ce=0,Ie=0,Ne=2,et=1,ut=oe.slice.call(arguments,1),rt=Object.create(this.lexer),de={yy:{}};for(var De in this.yy)Object.prototype.hasOwnProperty.call(this.yy,De)&&(de.yy[De]=this.yy[De]);rt.setInput(Me,de.yy),de.yy.lexer=rt,de.yy.parser=this,typeof rt.yylloc>"u"&&(rt.yylloc={});var Le=rt.yylloc;oe.push(Le);var je=rt.options&&rt.options.ranges;typeof de.yy.parseError=="function"?this.parseError=de.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function dt(Lr){fe.length=fe.length-2*Lr,le.length=le.length-Lr,oe.length=oe.length-Lr}E(dt,"popStack");function lt(){var Lr;return Lr=U.pop()||rt.lex()||et,typeof Lr!="number"&&(Lr instanceof Array&&(U=Lr,Lr=U.pop()),Lr=Z.symbols_[Lr]||Lr),Lr}E(lt,"lex");for(var $e,tt,Ve,it,ft={},Tt,kt,Nt,Tr;;){if(tt=fe[fe.length-1],this.defaultActions[tt]?Ve=this.defaultActions[tt]:(($e===null||typeof $e>"u")&&($e=lt()),Ve=ge[tt]&&ge[tt][$e]),typeof Ve>"u"||!Ve.length||!Ve[0]){var Ut="";Tr=[];for(Tt in ge[tt])this.terminals_[Tt]&&Tt>Ne&&Tr.push("'"+this.terminals_[Tt]+"'");rt.showPosition?Ut="Parse error on line "+(Ce+1)+`:
`+rt.showPosition()+`
Expecting `+Tr.join(", ")+", got '"+(this.terminals_[$e]||$e)+"'":Ut="Parse error on line "+(Ce+1)+": Unexpected "+($e==et?"end of input":"'"+(this.terminals_[$e]||$e)+"'"),this.parseError(Ut,{text:rt.match,token:this.terminals_[$e]||$e,line:rt.yylineno,loc:Le,expected:Tr})}if(Ve[0]instanceof Array&&Ve.length>1)throw new Error("Parse Error: multiple actions possible at state: "+tt+", token: "+$e);switch(Ve[0]){case 1:fe.push($e),le.push(rt.yytext),oe.push(rt.yylloc),fe.push(Ve[1]),$e=null,Ie=rt.yyleng,me=rt.yytext,Ce=rt.yylineno,Le=rt.yylloc;break;case 2:if(kt=this.productions_[Ve[1]][1],ft.$=le[le.length-kt],ft._$={first_line:oe[oe.length-(kt||1)].first_line,last_line:oe[oe.length-1].last_line,first_column:oe[oe.length-(kt||1)].first_column,last_column:oe[oe.length-1].last_column},je&&(ft._$.range=[oe[oe.length-(kt||1)].range[0],oe[oe.length-1].range[1]]),it=this.performAction.apply(ft,[me,Ie,Ce,de.yy,Ve[1],le,oe].concat(ut)),typeof it<"u")return it;kt&&(fe=fe.slice(0,-1*kt*2),le=le.slice(0,-1*kt),oe=oe.slice(0,-1*kt)),fe.push(this.productions_[Ve[1]][0]),le.push(ft.$),oe.push(ft._$),Nt=ge[fe[fe.length-2]][fe[fe.length-1]],fe.push(Nt);break;case 3:return!0}}return!0},"parse")},Te=function(){var ye={EOF:1,parseError:E(function(Z,fe){if(this.yy.parser)this.yy.parser.parseError(Z,fe);else throw new Error(Z)},"parseError"),setInput:E(function(Me,Z){return this.yy=Z||this.yy||{},this._input=Me,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var Me=this._input[0];this.yytext+=Me,this.yyleng++,this.offset++,this.match+=Me,this.matched+=Me;var Z=Me.match(/(?:\r\n?|\n).*/g);return Z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Me},"input"),unput:E(function(Me){var Z=Me.length,fe=Me.split(/(?:\r\n?|\n)/g);this._input=Me+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Z),this.offset-=Z;var U=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),fe.length-1&&(this.yylineno-=fe.length-1);var le=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:fe?(fe.length===U.length?this.yylloc.first_column:0)+U[U.length-fe.length].length-fe[0].length:this.yylloc.first_column-Z},this.options.ranges&&(this.yylloc.range=[le[0],le[0]+this.yyleng-Z]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(Me){this.unput(this.match.slice(Me))},"less"),pastInput:E(function(){var Me=this.matched.substr(0,this.matched.length-this.match.length);return(Me.length>20?"...":"")+Me.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var Me=this.match;return Me.length<20&&(Me+=this._input.substr(0,20-Me.length)),(Me.substr(0,20)+(Me.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var Me=this.pastInput(),Z=new Array(Me.length+1).join("-");return Me+this.upcomingInput()+`
`+Z+"^"},"showPosition"),test_match:E(function(Me,Z){var fe,U,le;if(this.options.backtrack_lexer&&(le={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(le.yylloc.range=this.yylloc.range.slice(0))),U=Me[0].match(/(?:\r\n?|\n).*/g),U&&(this.yylineno+=U.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:U?U[U.length-1].length-U[U.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Me[0].length},this.yytext+=Me[0],this.match+=Me[0],this.matches=Me,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Me[0].length),this.matched+=Me[0],fe=this.performAction.call(this,this.yy,this,Z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),fe)return fe;if(this._backtrack){for(var oe in le)this[oe]=le[oe];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Me,Z,fe,U;this._more||(this.yytext="",this.match="");for(var le=this._currentRules(),oe=0;oe<le.length;oe++)if(fe=this._input.match(this.rules[le[oe]]),fe&&(!Z||fe[0].length>Z[0].length)){if(Z=fe,U=oe,this.options.backtrack_lexer){if(Me=this.test_match(fe,le[oe]),Me!==!1)return Me;if(this._backtrack){Z=!1;continue}else return!1}else if(!this.options.flex)break}return Z?(Me=this.test_match(Z,le[U]),Me!==!1?Me:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var Z=this.next();return Z||this.lex()},"lex"),begin:E(function(Z){this.conditionStack.push(Z)},"begin"),popState:E(function(){var Z=this.conditionStack.length-1;return Z>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(Z){return Z=this.conditionStack.length-1-Math.abs(Z||0),Z>=0?this.conditionStack[Z]:"INITIAL"},"topState"),pushState:E(function(Z){this.begin(Z)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(Z,fe,U,le){switch(U){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;case 60:return this.begin("style"),74;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return fe.yytext=fe.yytext.trim(),89;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return ye}();he.lexer=Te;function Be(){this.yy={}}return E(Be,"Parser"),Be.prototype=he,he.Parser=Be,new Be}();w_.parser=w_;var H$e=w_,G$e=(Ep=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=oi,this.getAccTitle=ki,this.setAccDescription=Ci,this.getAccDescription=_i,this.setDiagramTitle=Fi,this.getDiagramTitle=li,this.getConfig=E(()=>Re().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}getDirection(){return this.direction}setDirection(e){this.direction=e}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(e,r){return this.requirements.has(e)||this.requirements.set(e,{name:e,type:r,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(e)}getRequirements(){return this.requirements}setNewReqId(e){this.latestRequirement!==void 0&&(this.latestRequirement.requirementId=e)}setNewReqText(e){this.latestRequirement!==void 0&&(this.latestRequirement.text=e)}setNewReqRisk(e){this.latestRequirement!==void 0&&(this.latestRequirement.risk=e)}setNewReqVerifyMethod(e){this.latestRequirement!==void 0&&(this.latestRequirement.verifyMethod=e)}addElement(e){return this.elements.has(e)||(this.elements.set(e,{name:e,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),se.info("Added new element: ",e)),this.resetLatestElement(),this.elements.get(e)}getElements(){return this.elements}setNewElementType(e){this.latestElement!==void 0&&(this.latestElement.type=e)}setNewElementDocRef(e){this.latestElement!==void 0&&(this.latestElement.docRef=e)}addRelationship(e,r,n){this.relations.push({type:e,src:r,dst:n})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,si()}setCssStyle(e,r){for(const n of e){const i=this.requirements.get(n)??this.elements.get(n);if(!r||!i)return;for(const a of r)a.includes(",")?i.cssStyles.push(...a.split(",")):i.cssStyles.push(a)}}setClass(e,r){var n;for(const i of e){const a=this.requirements.get(i)??this.elements.get(i);if(a)for(const s of r){a.classes.push(s);const o=(n=this.classes.get(s))==null?void 0:n.styles;o&&a.cssStyles.push(...o)}}}defineClass(e,r){for(const n of e){let i=this.classes.get(n);i===void 0&&(i={id:n,styles:[],textStyles:[]},this.classes.set(n,i)),r&&r.forEach(function(a){if(/color/.exec(a)){const s=a.replace("fill","bgFill");i.textStyles.push(s)}i.styles.push(a)}),this.requirements.forEach(a=>{a.classes.includes(n)&&a.cssStyles.push(...r.flatMap(s=>s.split(",")))}),this.elements.forEach(a=>{a.classes.includes(n)&&a.cssStyles.push(...r.flatMap(s=>s.split(",")))})}}getClasses(){return this.classes}getData(){var i,a,s,o;const e=Re(),r=[],n=[];for(const l of this.requirements.values()){const u=l;u.id=l.name,u.cssStyles=l.cssStyles,u.cssClasses=l.classes.join(" "),u.shape="requirementBox",u.look=e.look,r.push(u)}for(const l of this.elements.values()){const u=l;u.shape="requirementBox",u.look=e.look,u.id=l.name,u.cssStyles=l.cssStyles,u.cssClasses=l.classes.join(" "),r.push(u)}for(const l of this.relations){let u=0;const h=l.type===this.Relationships.CONTAINS,d={id:`${l.src}-${l.dst}-${u}`,start:((i=this.requirements.get(l.src))==null?void 0:i.name)??((a=this.elements.get(l.src))==null?void 0:a.name),end:((s=this.requirements.get(l.dst))==null?void 0:s.name)??((o=this.elements.get(l.dst))==null?void 0:o.name),label:`&lt;&lt;${l.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",h?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:h?"normal":"dashed",arrowTypeStart:h?"requirement_contains":"",arrowTypeEnd:h?"":"requirement_arrow",look:e.look};n.push(d),u++}return{nodes:r,edges:n,other:{},config:e,direction:this.getDirection()}}},E(Ep,"RequirementDB"),Ep),V$e=E(t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }
  .divider {
    stroke: ${t.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }
  .labelBkg {
    background-color: ${t.edgeLabelBackground};
  }

`,"getStyles"),q$e=V$e,vK={};Fv(vK,{draw:()=>W$e});var W$e=E(async function(t,e,r,n){se.info("REF0:"),se.info("Drawing requirement diagram (unified)",e);const{securityLevel:i,state:a,layout:s}=Re(),o=n.db.getData(),l=D1(e,i);o.type=n.type,o.layoutAlgorithm=Sb(s),o.nodeSpacing=(a==null?void 0:a.nodeSpacing)??50,o.rankSpacing=(a==null?void 0:a.rankSpacing)??50,o.markers=["requirement_contains","requirement_arrow"],o.diagramId=e,await s1(o,l);const u=8;dr.insertTitle(l,"requirementDiagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),O1(l,u,"requirementDiagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),Y$e={parser:H$e,get db(){return new G$e},renderer:vK,styles:q$e};const X$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:Y$e},Symbol.toStringTag,{value:"Module"}));var S_=function(){var t=E(function(K,W,j,Y){for(j=j||{},Y=K.length;Y--;j[K[Y]]=W);return j},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,13],l=[1,14],u=[1,16],h=[1,17],d=[1,18],f=[1,24],p=[1,25],g=[1,26],m=[1,27],y=[1,28],v=[1,29],b=[1,30],x=[1,31],T=[1,32],w=[1,33],S=[1,34],k=[1,35],L=[1,36],_=[1,37],N=[1,38],C=[1,39],D=[1,41],P=[1,42],A=[1,43],R=[1,44],O=[1,45],M=[1,46],I=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],F=[4,5,16,50,52,53],B=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],$=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],V=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],H=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],te=[68,69,70],X=[1,122],ee={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:E(function(W,j,Y,Q,ie,J,we){var ue=J.length-1;switch(ie){case 3:return Q.apply(J[ue]),J[ue];case 4:case 9:this.$=[];break;case 5:case 10:J[ue-1].push(J[ue]),this.$=J[ue-1];break;case 6:case 7:case 11:case 12:this.$=J[ue];break;case 8:case 13:this.$=[];break;case 15:J[ue].type="createParticipant",this.$=J[ue];break;case 16:J[ue-1].unshift({type:"boxStart",boxData:Q.parseBoxData(J[ue-2])}),J[ue-1].push({type:"boxEnd",boxText:J[ue-2]}),this.$=J[ue-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(J[ue-2]),sequenceIndexStep:Number(J[ue-1]),sequenceVisible:!0,signalType:Q.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(J[ue-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:Q.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:Q.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:Q.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:Q.LINETYPE.ACTIVE_START,actor:J[ue-1].actor};break;case 23:this.$={type:"activeEnd",signalType:Q.LINETYPE.ACTIVE_END,actor:J[ue-1].actor};break;case 29:Q.setDiagramTitle(J[ue].substring(6)),this.$=J[ue].substring(6);break;case 30:Q.setDiagramTitle(J[ue].substring(7)),this.$=J[ue].substring(7);break;case 31:this.$=J[ue].trim(),Q.setAccTitle(this.$);break;case 32:case 33:this.$=J[ue].trim(),Q.setAccDescription(this.$);break;case 34:J[ue-1].unshift({type:"loopStart",loopText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.LOOP_START}),J[ue-1].push({type:"loopEnd",loopText:J[ue-2],signalType:Q.LINETYPE.LOOP_END}),this.$=J[ue-1];break;case 35:J[ue-1].unshift({type:"rectStart",color:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.RECT_START}),J[ue-1].push({type:"rectEnd",color:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.RECT_END}),this.$=J[ue-1];break;case 36:J[ue-1].unshift({type:"optStart",optText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.OPT_START}),J[ue-1].push({type:"optEnd",optText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.OPT_END}),this.$=J[ue-1];break;case 37:J[ue-1].unshift({type:"altStart",altText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.ALT_START}),J[ue-1].push({type:"altEnd",signalType:Q.LINETYPE.ALT_END}),this.$=J[ue-1];break;case 38:J[ue-1].unshift({type:"parStart",parText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.PAR_START}),J[ue-1].push({type:"parEnd",signalType:Q.LINETYPE.PAR_END}),this.$=J[ue-1];break;case 39:J[ue-1].unshift({type:"parStart",parText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.PAR_OVER_START}),J[ue-1].push({type:"parEnd",signalType:Q.LINETYPE.PAR_END}),this.$=J[ue-1];break;case 40:J[ue-1].unshift({type:"criticalStart",criticalText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.CRITICAL_START}),J[ue-1].push({type:"criticalEnd",signalType:Q.LINETYPE.CRITICAL_END}),this.$=J[ue-1];break;case 41:J[ue-1].unshift({type:"breakStart",breakText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.BREAK_START}),J[ue-1].push({type:"breakEnd",optText:Q.parseMessage(J[ue-2]),signalType:Q.LINETYPE.BREAK_END}),this.$=J[ue-1];break;case 43:this.$=J[ue-3].concat([{type:"option",optionText:Q.parseMessage(J[ue-1]),signalType:Q.LINETYPE.CRITICAL_OPTION},J[ue]]);break;case 45:this.$=J[ue-3].concat([{type:"and",parText:Q.parseMessage(J[ue-1]),signalType:Q.LINETYPE.PAR_AND},J[ue]]);break;case 47:this.$=J[ue-3].concat([{type:"else",altText:Q.parseMessage(J[ue-1]),signalType:Q.LINETYPE.ALT_ELSE},J[ue]]);break;case 48:J[ue-3].draw="participant",J[ue-3].type="addParticipant",J[ue-3].description=Q.parseMessage(J[ue-1]),this.$=J[ue-3];break;case 49:J[ue-1].draw="participant",J[ue-1].type="addParticipant",this.$=J[ue-1];break;case 50:J[ue-3].draw="actor",J[ue-3].type="addParticipant",J[ue-3].description=Q.parseMessage(J[ue-1]),this.$=J[ue-3];break;case 51:J[ue-1].draw="actor",J[ue-1].type="addParticipant",this.$=J[ue-1];break;case 52:J[ue-1].type="destroyParticipant",this.$=J[ue-1];break;case 53:this.$=[J[ue-1],{type:"addNote",placement:J[ue-2],actor:J[ue-1].actor,text:J[ue]}];break;case 54:J[ue-2]=[].concat(J[ue-1],J[ue-1]).slice(0,2),J[ue-2][0]=J[ue-2][0].actor,J[ue-2][1]=J[ue-2][1].actor,this.$=[J[ue-1],{type:"addNote",placement:Q.PLACEMENT.OVER,actor:J[ue-2].slice(0,2),text:J[ue]}];break;case 55:this.$=[J[ue-1],{type:"addLinks",actor:J[ue-1].actor,text:J[ue]}];break;case 56:this.$=[J[ue-1],{type:"addALink",actor:J[ue-1].actor,text:J[ue]}];break;case 57:this.$=[J[ue-1],{type:"addProperties",actor:J[ue-1].actor,text:J[ue]}];break;case 58:this.$=[J[ue-1],{type:"addDetails",actor:J[ue-1].actor,text:J[ue]}];break;case 61:this.$=[J[ue-2],J[ue]];break;case 62:this.$=J[ue];break;case 63:this.$=Q.PLACEMENT.LEFTOF;break;case 64:this.$=Q.PLACEMENT.RIGHTOF;break;case 65:this.$=[J[ue-4],J[ue-1],{type:"addMessage",from:J[ue-4].actor,to:J[ue-1].actor,signalType:J[ue-3],msg:J[ue],activate:!0},{type:"activeStart",signalType:Q.LINETYPE.ACTIVE_START,actor:J[ue-1].actor}];break;case 66:this.$=[J[ue-4],J[ue-1],{type:"addMessage",from:J[ue-4].actor,to:J[ue-1].actor,signalType:J[ue-3],msg:J[ue]},{type:"activeEnd",signalType:Q.LINETYPE.ACTIVE_END,actor:J[ue-4].actor}];break;case 67:this.$=[J[ue-3],J[ue-1],{type:"addMessage",from:J[ue-3].actor,to:J[ue-1].actor,signalType:J[ue-2],msg:J[ue]}];break;case 68:this.$={type:"addParticipant",actor:J[ue]};break;case 69:this.$=Q.LINETYPE.SOLID_OPEN;break;case 70:this.$=Q.LINETYPE.DOTTED_OPEN;break;case 71:this.$=Q.LINETYPE.SOLID;break;case 72:this.$=Q.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=Q.LINETYPE.DOTTED;break;case 74:this.$=Q.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=Q.LINETYPE.SOLID_CROSS;break;case 76:this.$=Q.LINETYPE.DOTTED_CROSS;break;case 77:this.$=Q.LINETYPE.SOLID_POINT;break;case 78:this.$=Q.LINETYPE.DOTTED_POINT;break;case 79:this.$=Q.parseMessage(J[ue].trim().substring(1));break}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},t(I,[2,5]),{9:47,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},t(I,[2,7]),t(I,[2,8]),t(I,[2,14]),{12:48,50:_,52:N,53:C},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:M},{22:55,70:M},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},t(I,[2,29]),t(I,[2,30]),{32:[1,61]},{34:[1,62]},t(I,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:M},{22:72,70:M},{22:73,70:M},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:M},{22:90,70:M},{22:91,70:M},{22:92,70:M},t([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),t(I,[2,6]),t(I,[2,15]),t(F,[2,9],{10:93}),t(I,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},t(I,[2,21]),{5:[1,97]},{5:[1,98]},t(I,[2,24]),t(I,[2,25]),t(I,[2,26]),t(I,[2,27]),t(I,[2,28]),t(I,[2,31]),t(I,[2,32]),t(B,i,{7:99}),t(B,i,{7:100}),t(B,i,{7:101}),t($,i,{40:102,7:103}),t(V,i,{42:104,7:105}),t(V,i,{7:105,42:106}),t(H,i,{45:107,7:108}),t(B,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:M},t(te,[2,69]),t(te,[2,70]),t(te,[2,71]),t(te,[2,72]),t(te,[2,73]),t(te,[2,74]),t(te,[2,75]),t(te,[2,76]),t(te,[2,77]),t(te,[2,78]),{22:118,70:M},{22:120,58:119,70:M},{70:[2,63]},{70:[2,64]},{56:121,81:X},{56:123,81:X},{56:124,81:X},{56:125,81:X},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:_,52:N,53:C},{5:[1,131]},t(I,[2,19]),t(I,[2,20]),t(I,[2,22]),t(I,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,132],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,133],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,134],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},{16:[1,135]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,46],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,49:[1,136],50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},{16:[1,137]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,44],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,48:[1,138],50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},{16:[1,139]},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,42],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,47:[1,141],50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,142],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:T,41:w,43:S,44:k,46:L,50:_,52:N,53:C,54:D,59:P,60:A,61:R,62:O,70:M},{15:[1,143]},t(I,[2,49]),{15:[1,144]},t(I,[2,51]),t(I,[2,52]),{22:145,70:M},{22:146,70:M},{56:147,81:X},{56:148,81:X},{56:149,81:X},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},t(I,[2,16]),t(F,[2,10]),{12:151,50:_,52:N,53:C},t(F,[2,12]),t(F,[2,13]),t(I,[2,18]),t(I,[2,34]),t(I,[2,35]),t(I,[2,36]),t(I,[2,37]),{15:[1,152]},t(I,[2,38]),{15:[1,153]},t(I,[2,39]),t(I,[2,40]),{15:[1,154]},t(I,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:X},{56:158,81:X},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:M},t(F,[2,11]),t($,i,{7:103,40:160}),t(V,i,{7:105,42:161}),t(H,i,{7:108,45:162}),t(I,[2,48]),t(I,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:E(function(W,j){if(j.recoverable)this.trace(W);else{var Y=new Error(W);throw Y.hash=j,Y}},"parseError"),parse:E(function(W){var j=this,Y=[0],Q=[],ie=[null],J=[],we=this.table,ue="",ae=0,Ue=0,xe=2,Ze=1,Je=J.slice.call(arguments,1),Xe=Object.create(this.lexer),Pe={yy:{}};for(var We in this.yy)Object.prototype.hasOwnProperty.call(this.yy,We)&&(Pe.yy[We]=this.yy[We]);Xe.setInput(W,Pe.yy),Pe.yy.lexer=Xe,Pe.yy.parser=this,typeof Xe.yylloc>"u"&&(Xe.yylloc={});var he=Xe.yylloc;J.push(he);var Te=Xe.options&&Xe.options.ranges;typeof Pe.yy.parseError=="function"?this.parseError=Pe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Be(Ne){Y.length=Y.length-2*Ne,ie.length=ie.length-Ne,J.length=J.length-Ne}E(Be,"popStack");function ye(){var Ne;return Ne=Q.pop()||Xe.lex()||Ze,typeof Ne!="number"&&(Ne instanceof Array&&(Q=Ne,Ne=Q.pop()),Ne=j.symbols_[Ne]||Ne),Ne}E(ye,"lex");for(var Me,Z,fe,U,le={},oe,ge,me,Ce;;){if(Z=Y[Y.length-1],this.defaultActions[Z]?fe=this.defaultActions[Z]:((Me===null||typeof Me>"u")&&(Me=ye()),fe=we[Z]&&we[Z][Me]),typeof fe>"u"||!fe.length||!fe[0]){var Ie="";Ce=[];for(oe in we[Z])this.terminals_[oe]&&oe>xe&&Ce.push("'"+this.terminals_[oe]+"'");Xe.showPosition?Ie="Parse error on line "+(ae+1)+`:
`+Xe.showPosition()+`
Expecting `+Ce.join(", ")+", got '"+(this.terminals_[Me]||Me)+"'":Ie="Parse error on line "+(ae+1)+": Unexpected "+(Me==Ze?"end of input":"'"+(this.terminals_[Me]||Me)+"'"),this.parseError(Ie,{text:Xe.match,token:this.terminals_[Me]||Me,line:Xe.yylineno,loc:he,expected:Ce})}if(fe[0]instanceof Array&&fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Z+", token: "+Me);switch(fe[0]){case 1:Y.push(Me),ie.push(Xe.yytext),J.push(Xe.yylloc),Y.push(fe[1]),Me=null,Ue=Xe.yyleng,ue=Xe.yytext,ae=Xe.yylineno,he=Xe.yylloc;break;case 2:if(ge=this.productions_[fe[1]][1],le.$=ie[ie.length-ge],le._$={first_line:J[J.length-(ge||1)].first_line,last_line:J[J.length-1].last_line,first_column:J[J.length-(ge||1)].first_column,last_column:J[J.length-1].last_column},Te&&(le._$.range=[J[J.length-(ge||1)].range[0],J[J.length-1].range[1]]),U=this.performAction.apply(le,[ue,Ue,ae,Pe.yy,fe[1],ie,J].concat(Je)),typeof U<"u")return U;ge&&(Y=Y.slice(0,-1*ge*2),ie=ie.slice(0,-1*ge),J=J.slice(0,-1*ge)),Y.push(this.productions_[fe[1]][0]),ie.push(le.$),J.push(le._$),me=we[Y[Y.length-2]][Y[Y.length-1]],Y.push(me);break;case 3:return!0}}return!0},"parse")},re=function(){var K={EOF:1,parseError:E(function(j,Y){if(this.yy.parser)this.yy.parser.parseError(j,Y);else throw new Error(j)},"parseError"),setInput:E(function(W,j){return this.yy=j||this.yy||{},this._input=W,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var W=this._input[0];this.yytext+=W,this.yyleng++,this.offset++,this.match+=W,this.matched+=W;var j=W.match(/(?:\r\n?|\n).*/g);return j?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),W},"input"),unput:E(function(W){var j=W.length,Y=W.split(/(?:\r\n?|\n)/g);this._input=W+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-j),this.offset-=j;var Q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var ie=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===Q.length?this.yylloc.first_column:0)+Q[Q.length-Y.length].length-Y[0].length:this.yylloc.first_column-j},this.options.ranges&&(this.yylloc.range=[ie[0],ie[0]+this.yyleng-j]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(W){this.unput(this.match.slice(W))},"less"),pastInput:E(function(){var W=this.matched.substr(0,this.matched.length-this.match.length);return(W.length>20?"...":"")+W.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var W=this.match;return W.length<20&&(W+=this._input.substr(0,20-W.length)),(W.substr(0,20)+(W.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var W=this.pastInput(),j=new Array(W.length+1).join("-");return W+this.upcomingInput()+`
`+j+"^"},"showPosition"),test_match:E(function(W,j){var Y,Q,ie;if(this.options.backtrack_lexer&&(ie={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ie.yylloc.range=this.yylloc.range.slice(0))),Q=W[0].match(/(?:\r\n?|\n).*/g),Q&&(this.yylineno+=Q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Q?Q[Q.length-1].length-Q[Q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+W[0].length},this.yytext+=W[0],this.match+=W[0],this.matches=W,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(W[0].length),this.matched+=W[0],Y=this.performAction.call(this,this.yy,this,j,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var J in ie)this[J]=ie[J];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var W,j,Y,Q;this._more||(this.yytext="",this.match="");for(var ie=this._currentRules(),J=0;J<ie.length;J++)if(Y=this._input.match(this.rules[ie[J]]),Y&&(!j||Y[0].length>j[0].length)){if(j=Y,Q=J,this.options.backtrack_lexer){if(W=this.test_match(Y,ie[J]),W!==!1)return W;if(this._backtrack){j=!1;continue}else return!1}else if(!this.options.flex)break}return j?(W=this.test_match(j,ie[Q]),W!==!1?W:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var j=this.next();return j||this.lex()},"lex"),begin:E(function(j){this.conditionStack.push(j)},"begin"),popState:E(function(){var j=this.conditionStack.length-1;return j>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(j){return j=this.conditionStack.length-1-Math.abs(j||0),j>=0?this.conditionStack[j]:"INITIAL"},"topState"),pushState:E(function(j){this.begin(j)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(j,Y,Q,ie){switch(Q){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return Y.yytext=Y.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return Y.yytext=Y.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 81;case 65:return 68;case 66:return 69;case 67:return 5;case 68:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0}}};return K}();ee.lexer=re;function pe(){this.yy={}}return E(pe,"Parser"),pe.prototype=ee,ee.Parser=pe,new pe}();S_.parser=S_;var K$e=S_,j$e={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},Q$e={FILLED:0,OPEN:1},Z$e={LEFTOF:0,RIGHTOF:1,OVER:2},J$e=(Tp=class{constructor(){this.state=new hk(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=oi,this.setAccDescription=Ci,this.setDiagramTitle=Fi,this.getAccTitle=ki,this.getAccDescription=_i,this.getDiagramTitle=li,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(Re().wrap),this.LINETYPE=j$e,this.ARROWTYPE=Q$e,this.PLACEMENT=Z$e}addBox(e){this.state.records.boxes.push({name:e.text,wrap:e.wrap??this.autoWrap(),fill:e.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(e,r,n,i){let a=this.state.records.currentBox;const s=this.state.records.actors.get(e);if(s){if(this.state.records.currentBox&&s.box&&this.state.records.currentBox!==s.box)throw new Error(`A same participant should only be defined in one Box: ${s.name} can't be in '${s.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(a=s.box?s.box:this.state.records.currentBox,s.box=a,s&&r===s.name&&n==null)return}if((n==null?void 0:n.text)==null&&(n={text:r,type:i}),(i==null||n.text==null)&&(n={text:r,type:i}),this.state.records.actors.set(e,{box:a,name:r,description:n.text,wrap:n.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:i??"participant"}),this.state.records.prevActor){const o=this.state.records.actors.get(this.state.records.prevActor);o&&(o.nextActor=e)}this.state.records.currentBox&&this.state.records.currentBox.actorKeys.push(e),this.state.records.prevActor=e}activationCount(e){let r,n=0;if(!e)return 0;for(r=0;r<this.state.records.messages.length;r++)this.state.records.messages[r].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[r].from===e&&n++,this.state.records.messages[r].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[r].from===e&&n--;return n}addMessage(e,r,n,i){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:r,message:n.text,wrap:n.wrap??this.autoWrap(),answer:i})}addSignal(e,r,n,i,a=!1){if(i===this.LINETYPE.ACTIVE_END&&this.activationCount(e??"")<1){const o=new Error("Trying to inactivate an inactive participant ("+e+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:r,message:(n==null?void 0:n.text)??"",wrap:(n==null?void 0:n.wrap)??this.autoWrap(),type:i,activate:a}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some(e=>e.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(e){return this.state.records.actors.get(e)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(e){this.state.records.wrapEnabled=e}extractWrap(e){if(e===void 0)return{};e=e.trim();const r=/^:?wrap:/.exec(e)!==null?!0:/^:?nowrap:/.exec(e)!==null?!1:void 0;return{cleanedText:(r===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:r}}autoWrap(){var e;return this.state.records.wrapEnabled!==void 0?this.state.records.wrapEnabled:((e=Re().sequence)==null?void 0:e.wrap)??!1}clear(){this.state.reset(),si()}parseMessage(e){const r=e.trim(),{wrap:n,cleanedText:i}=this.extractWrap(r),a={text:i,wrap:n};return se.debug(`parseMessage: ${JSON.stringify(a)}`),a}parseBoxData(e){const r=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e);let n=r!=null&&r[1]?r[1].trim():"transparent",i=r!=null&&r[2]?r[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",n)||(n="transparent",i=e.trim());else{const o=new Option().style;o.color=n,o.color!==n&&(n="transparent",i=e.trim())}const{wrap:a,cleanedText:s}=this.extractWrap(i);return{text:s?on(s,Re()):void 0,color:n,wrap:a}}addNote(e,r,n){const i={actor:e,placement:r,message:n.text,wrap:n.wrap??this.autoWrap()},a=[].concat(e,e);this.state.records.notes.push(i),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:a[0],to:a[1],message:n.text,wrap:n.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:r})}addLinks(e,r){const n=this.getActor(e);try{let i=on(r.text,Re());i=i.replace(/&equals;/g,"="),i=i.replace(/&amp;/g,"&");const a=JSON.parse(i);this.insertLinks(n,a)}catch(i){se.error("error while parsing actor link text",i)}}addALink(e,r){const n=this.getActor(e);try{const i={};let a=on(r.text,Re());const s=a.indexOf("@");a=a.replace(/&equals;/g,"="),a=a.replace(/&amp;/g,"&");const o=a.slice(0,s-1).trim(),l=a.slice(s+1).trim();i[o]=l,this.insertLinks(n,i)}catch(i){se.error("error while parsing actor link text",i)}}insertLinks(e,r){if(e.links==null)e.links=r;else for(const n in r)e.links[n]=r[n]}addProperties(e,r){const n=this.getActor(e);try{const i=on(r.text,Re()),a=JSON.parse(i);this.insertProperties(n,a)}catch(i){se.error("error while parsing actor properties text",i)}}insertProperties(e,r){if(e.properties==null)e.properties=r;else for(const n in r)e.properties[n]=r[n]}boxEnd(){this.state.records.currentBox=void 0}addDetails(e,r){const n=this.getActor(e),i=document.getElementById(r.text);try{const a=i.innerHTML,s=JSON.parse(a);s.properties&&this.insertProperties(n,s.properties),s.links&&this.insertLinks(n,s.links)}catch(a){se.error("error while parsing actor details text",a)}}getActorProperty(e,r){if((e==null?void 0:e.properties)!==void 0)return e.properties[r]}apply(e){if(Array.isArray(e))e.forEach(r=>{this.apply(r)});else switch(e.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":this.addActor(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(this.state.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=e.actor,this.addActor(e.actor,e.actor,e.description,e.draw),this.state.records.createdActors.set(e.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=e.actor,this.state.records.destroyedActors.set(e.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"addNote":this.addNote(e.actor,e.placement,e.text);break;case"addLinks":this.addLinks(e.actor,e.text);break;case"addALink":this.addALink(e.actor,e.text);break;case"addProperties":this.addProperties(e.actor,e.text);break;case"addDetails":this.addDetails(e.actor,e.text);break;case"addMessage":if(this.state.records.lastCreated){if(e.to!==this.state.records.lastCreated)throw new Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");this.state.records.lastCreated=void 0}else if(this.state.records.lastDestroyed){if(e.to!==this.state.records.lastDestroyed&&e.from!==this.state.records.lastDestroyed)throw new Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");this.state.records.lastDestroyed=void 0}this.addSignal(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":this.addBox(e.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"rectStart":this.addSignal(void 0,void 0,e.color,e.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"optStart":this.addSignal(void 0,void 0,e.optText,e.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"altStart":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"else":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":oi(e.text);break;case"parStart":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"and":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,e.criticalText,e.signalType);break;case"option":this.addSignal(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"breakStart":this.addSignal(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break}}getConfig(){return Re().sequence}},E(Tp,"SequenceDB"),Tp),eze=E(t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),tze=eze,Xh=18*2,bK="actor-top",xK="actor-bottom",rze="actor-box",EK="actor-man",k_=E(function(t,e){return ax(t,e)},"drawRect"),nze=E(function(t,e,r,n,i){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const a=e.links,s=e.actorCnt,o=e.rectData;var l="none";i&&(l="block !important");const u=t.append("g");u.attr("id","actor"+s+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l);var h="";o.class!==void 0&&(h=" "+o.class);let d=o.width>r?o.width:r;const f=u.append("rect");if(f.attr("class","actorPopupMenuPanel"+h),f.attr("x",o.x),f.attr("y",o.height),f.attr("fill",o.fill),f.attr("stroke",o.stroke),f.attr("width",d),f.attr("height",o.height),f.attr("rx",o.rx),f.attr("ry",o.ry),a!=null){var p=20;for(let y in a){var g=u.append("a"),m=ju.sanitizeUrl(a[y]);g.attr("xlink:href",m),g.attr("target","_blank"),xze(n)(y,g,o.x+10,o.height+p,d,20,{class:"actor"},n),p+=30}}return f.attr("height",p),{height:o.height+p,width:d}},"drawPopup"),ize=E(function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),HE=E(async function(t,e,r=null){let n=t.append("foreignObject");const i=await lg(e.text,qr()),s=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(s.height)).attr("width",Math.round(s.width)),e.class==="noteText"){const o=t.node().firstChild;o.setAttribute("height",s.height+2*e.textMargin);const l=o.getBBox();n.attr("x",Math.round(l.x+l.width/2-s.width/2)).attr("y",Math.round(l.y+l.height/2-s.height/2))}else if(r){let{startx:o,stopx:l,starty:u}=r;if(o>l){const h=o;o=l,l=h}n.attr("x",Math.round(o+Math.abs(o-l)/2-s.width/2)),e.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-s.height))}return[n]},"drawKatex"),Jf=E(function(t,e){let r=0,n=0;const i=e.text.split(xt.lineBreakRegex),[a,s]=Xc(e.fontSize);let o=[],l=0,u=E(()=>e.y,"yfunc");if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=E(()=>Math.round(e.y+e.textMargin),"yfunc");break;case"middle":case"center":u=E(()=>Math.round(e.y+(r+n+e.textMargin)/2),"yfunc");break;case"bottom":case"end":u=E(()=>Math.round(e.y+(r+n+2*e.textMargin)-e.textMargin),"yfunc");break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[h,d]of i.entries()){e.textMargin!==void 0&&e.textMargin===0&&a!==void 0&&(l=h*a);const f=t.append("text");f.attr("x",e.x),f.attr("y",u()),e.anchor!==void 0&&f.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&f.style("font-family",e.fontFamily),s!==void 0&&f.style("font-size",s),e.fontWeight!==void 0&&f.style("font-weight",e.fontWeight),e.fill!==void 0&&f.attr("fill",e.fill),e.class!==void 0&&f.attr("class",e.class),e.dy!==void 0?f.attr("dy",e.dy):l!==0&&f.attr("dy",l);const p=d||bB;if(e.tspan){const g=f.append("tspan");g.attr("x",e.x),e.fill!==void 0&&g.attr("fill",e.fill),g.text(p)}else f.text(p);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(n+=(f._groups||f)[0][0].getBBox().height,r=n),o.push(f)}return o},"drawText"),TK=E(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}E(r,"genPoints");const n=t.append("polygon");return n.attr("points",r(e.x,e.y,e.width,e.height,7)),n.attr("class","labelBox"),e.y=e.y+e.height/2,Jf(t,e),n},"drawLabel"),ml=-1,wK=E((t,e,r,n)=>{t.select&&r.forEach(i=>{const a=e.get(i),s=t.select("#actor"+a.actorCnt);!n.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):n.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),aze=E(function(t,e,r,n){var p,g;const i=n?e.stopy:e.starty,a=e.x+e.width/2,s=i+e.height,o=t.append("g").lower();var l=o;n||(ml++,Object.keys(e.links||{}).length&&!r.forceMenus&&l.attr("onclick",ize(`actor${ml}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+ml).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),l=o.append("g"),e.actorCnt=ml,e.links!=null&&l.attr("id","root-"+ml));const u=Ah();var h="actor";(p=e.properties)!=null&&p.class?h=e.properties.class:u.fill="#eaeaea",n?h+=` ${xK}`:h+=` ${bK}`,u.x=e.x,u.y=i,u.width=e.width,u.height=e.height,u.class=h,u.rx=3,u.ry=3,u.name=e.name;const d=k_(l,u);if(e.rectData=u,(g=e.properties)!=null&&g.icon){const m=e.properties.icon.trim();m.charAt(0)==="@"?LNe(l,u.x+u.width-20,u.y+10,m.substr(1)):ANe(l,u.x+u.width-20,u.y+10,m)}C_(r,ra(e.description))(e.description,l,u.x,u.y,u.width,u.height,{class:`actor ${rze}`},r);let f=e.height;if(d.node){const m=d.node().getBBox();e.height=m.height,f=m.height}return f},"drawActorTypeParticipant"),sze=E(function(t,e,r,n){const i=n?e.stopy:e.starty,a=e.x+e.width/2,s=i+80,o=t.append("g").lower();n||(ml++,o.append("line").attr("id","actor"+ml).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=ml);const l=t.append("g");let u=EK;n?u+=` ${xK}`:u+=` ${bK}`,l.attr("class",u),l.attr("name",e.name);const h=Ah();h.x=e.x,h.y=i,h.fill="#eaeaea",h.width=e.width,h.height=e.height,h.class="actor",h.rx=3,h.ry=3,l.append("line").attr("id","actor-man-torso"+ml).attr("x1",a).attr("y1",i+25).attr("x2",a).attr("y2",i+45),l.append("line").attr("id","actor-man-arms"+ml).attr("x1",a-Xh/2).attr("y1",i+33).attr("x2",a+Xh/2).attr("y2",i+33),l.append("line").attr("x1",a-Xh/2).attr("y1",i+60).attr("x2",a).attr("y2",i+45),l.append("line").attr("x1",a).attr("y1",i+45).attr("x2",a+Xh/2-2).attr("y2",i+60);const d=l.append("circle");d.attr("cx",e.x+e.width/2),d.attr("cy",i+10),d.attr("r",15),d.attr("width",e.width),d.attr("height",e.height);const f=l.node().getBBox();return e.height=f.height,C_(r,ra(e.description))(e.description,l,h.x,h.y+35,h.width,h.height,{class:`actor ${EK}`},r),e.height},"drawActorTypeActor"),oze=E(async function(t,e,r,n){switch(e.type){case"actor":return await sze(t,e,r,n);case"participant":return await aze(t,e,r,n)}},"drawActor"),lze=E(function(t,e,r){const i=t.append("g");SK(i,e),e.name&&C_(r)(e.name,i,e.x,e.y+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},r),i.lower()},"drawBox"),cze=E(function(t){return t.append("g")},"anchorElement"),uze=E(function(t,e,r,n,i){const a=Ah(),s=e.anchored;a.x=e.startx,a.y=e.starty,a.class="activation"+i%3,a.width=e.stopx-e.startx,a.height=r-e.starty,k_(s,a)},"drawActivation"),hze=E(async function(t,e,r,n){const{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=n,d=t.append("g"),f=E(function(m,y,v,b){return d.append("line").attr("x1",m).attr("y1",y).attr("x2",v).attr("y2",b).attr("class","loopLine")},"drawLoopLine");f(e.startx,e.starty,e.stopx,e.starty),f(e.stopx,e.starty,e.stopx,e.stopy),f(e.startx,e.stopy,e.stopx,e.stopy),f(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(m){f(e.startx,m.y,e.stopx,m.y).style("stroke-dasharray","3, 3")});let p=ek();p.text=r,p.x=e.startx,p.y=e.starty,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=o||50,p.height=s||20,p.textMargin=a,p.class="labelText",TK(d,p),p=kK(),p.text=e.title,p.x=e.startx+o/2+(e.stopx-e.startx)/2,p.y=e.starty+i+a,p.anchor="middle",p.valign="middle",p.textMargin=a,p.class="loopText",p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=!0;let g=ra(p.text)?await HE(d,p,e):Jf(d,p);if(e.sectionTitles!==void 0){for(const[m,y]of Object.entries(e.sectionTitles))if(y.message){p.text=y.message,p.x=e.startx+(e.stopx-e.startx)/2,p.y=e.sections[m].y+i+a,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=e.wrap,ra(p.text)?(e.starty=e.sections[m].y,await HE(d,p,e)):Jf(d,p);let v=Math.round(g.map(b=>(b._groups||b)[0][0].getBBox().height).reduce((b,x)=>b+x));e.sections[m].height+=v-(i+a)}}return e.height=Math.round(e.stopy-e.starty),d},"drawLoop"),SK=E(function(t,e){sV(t,e)},"drawBackgroundRect"),dze=E(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),fze=E(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),pze=E(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),gze=E(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),mze=E(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),yze=E(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),vze=E(function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),kK=E(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),bze=E(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),C_=function(){function t(a,s,o,l,u,h,d){const f=s.append("text").attr("x",o+u/2).attr("y",l+h/2+5).style("text-anchor","middle").text(a);i(f,d)}E(t,"byText");function e(a,s,o,l,u,h,d,f){const{actorFontSize:p,actorFontFamily:g,actorFontWeight:m}=f,[y,v]=Xc(p),b=a.split(xt.lineBreakRegex);for(let x=0;x<b.length;x++){const T=x*y-y*(b.length-1)/2,w=s.append("text").attr("x",o+u/2).attr("y",l).style("text-anchor","middle").style("font-size",v).style("font-weight",m).style("font-family",g);w.append("tspan").attr("x",o+u/2).attr("dy",T).text(b[x]),w.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(w,d)}}E(e,"byTspan");function r(a,s,o,l,u,h,d,f){const p=s.append("switch"),m=p.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),e(a,p,o,l,u,h,d,f),i(m,d)}E(r,"byFo");async function n(a,s,o,l,u,h,d,f){const p=await og(a,qr()),g=s.append("switch"),y=g.append("foreignObject").attr("x",o+u/2-p.width/2).attr("y",l+h/2-p.height/2).attr("width",p.width).attr("height",p.height).append("xhtml:div").style("height","100%").style("width","100%");y.append("div").style("text-align","center").style("vertical-align","middle").html(await lg(a,qr())),e(a,g,o,l,u,h,d,f),i(y,d)}E(n,"byKatex");function i(a,s){for(const o in s)s.hasOwnProperty(o)&&a.attr(o,s[o])}return E(i,"_setTextAttrs"),function(a,s=!1){return s?n:a.textPlacement==="fo"?r:a.textPlacement==="old"?t:e}}(),xze=function(){function t(i,a,s,o,l,u,h){const d=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(i);n(d,h)}E(t,"byText");function e(i,a,s,o,l,u,h,d){const{actorFontSize:f,actorFontFamily:p,actorFontWeight:g}=d,m=i.split(xt.lineBreakRegex);for(let y=0;y<m.length;y++){const v=y*f-f*(m.length-1)/2,b=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",f).style("font-weight",g).style("font-family",p);b.append("tspan").attr("x",s).attr("dy",v).text(m[y]),b.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,h)}}E(e,"byTspan");function r(i,a,s,o,l,u,h,d){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,s,o,l,u,h,d),n(g,h)}E(r,"byFo");function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return E(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),Vn={drawRect:k_,drawText:Jf,drawLabel:TK,drawActor:oze,drawBox:lze,drawPopup:nze,anchorElement:cze,drawActivation:uze,drawLoop:hze,drawBackgroundRect:SK,insertArrowHead:gze,insertArrowFilledHead:mze,insertSequenceNumber:yze,insertArrowCrossHead:vze,insertDatabaseIcon:dze,insertComputerIcon:fze,insertClockIcon:pze,getTextObj:kK,getNoteRect:bze,fixLifeLineHeights:wK,sanitizeUrl:ju.sanitizeUrl},ze={},pt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:E(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},"getHeight"),clear:E(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:E(function(t){this.boxes.push(t)},"addBox"),addActor:E(function(t){this.actors.push(t)},"addActor"),addLoop:E(function(t){this.loops.push(t)},"addLoop"),addMessage:E(function(t){this.messages.push(t)},"addMessage"),addNote:E(function(t){this.notes.push(t)},"addNote"),lastActor:E(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:E(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:E(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:E(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:E(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,AK(Re())},"init"),updateVal:E(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:E(function(t,e,r,n){const i=this;let a=0;function s(o){return E(function(u){a++;const h=i.sequenceItems.length-a+1;i.updateVal(u,"starty",e-h*ze.boxMargin,Math.min),i.updateVal(u,"stopy",n+h*ze.boxMargin,Math.max),i.updateVal(pt.data,"startx",t-h*ze.boxMargin,Math.min),i.updateVal(pt.data,"stopx",r+h*ze.boxMargin,Math.max),o!=="activation"&&(i.updateVal(u,"startx",t-h*ze.boxMargin,Math.min),i.updateVal(u,"stopx",r+h*ze.boxMargin,Math.max),i.updateVal(pt.data,"starty",e-h*ze.boxMargin,Math.min),i.updateVal(pt.data,"stopy",n+h*ze.boxMargin,Math.max))},"updateItemBounds")}E(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:E(function(t,e,r,n){const i=xt.getMin(t,r),a=xt.getMax(t,r),s=xt.getMin(e,n),o=xt.getMax(e,n);this.updateVal(pt.data,"startx",i,Math.min),this.updateVal(pt.data,"starty",s,Math.min),this.updateVal(pt.data,"stopx",a,Math.max),this.updateVal(pt.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),newActivation:E(function(t,e,r){const n=r.get(t.from),i=GE(t.from).length||0,a=n.x+n.width/2+(i-1)*ze.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+ze.activationWidth,stopy:void 0,actor:t.from,anchored:Vn.anchorElement(e)})},"newActivation"),endActivation:E(function(t){const e=this.activations.map(function(r){return r.actor}).lastIndexOf(t.from);return this.activations.splice(e,1)[0]},"endActivation"),createLoop:E(function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},"createLoop"),newLoop:E(function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},"newLoop"),endLoop:E(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:E(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:E(function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:pt.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},"addSectionToLoop"),saveVerticalPos:E(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:E(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:E(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=xt.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:E(function(){return this.verticalPos},"getVerticalPos"),getBounds:E(function(){return{bounds:this.data,models:this.models}},"getBounds")},Eze=E(async function(t,e){pt.bumpVerticalPos(ze.boxMargin),e.height=ze.boxMargin,e.starty=pt.getVerticalPos();const r=Ah();r.x=e.startx,r.y=e.starty,r.width=e.width||ze.width,r.class="note";const n=t.append("g"),i=Vn.drawRect(n,r),a=ek();a.x=e.startx,a.y=e.starty,a.width=r.width,a.dy="1em",a.text=e.message,a.class="noteText",a.fontFamily=ze.noteFontFamily,a.fontSize=ze.noteFontSize,a.fontWeight=ze.noteFontWeight,a.anchor=ze.noteAlign,a.textMargin=ze.noteMargin,a.valign="center";const s=ra(a.text)?await HE(n,a):Jf(n,a),o=Math.round(s.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",o+2*ze.noteMargin),e.height+=o+2*ze.noteMargin,pt.bumpVerticalPos(o+2*ze.noteMargin),e.stopy=e.starty+o+2*ze.noteMargin,e.stopx=e.startx+r.width,pt.insert(e.startx,e.starty,e.stopx,e.stopy),pt.models.addNote(e)},"drawNote"),Kh=E(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont"),e0=E(t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),"noteFont"),__=E(t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),"actorFont");async function CK(t,e){pt.bumpVerticalPos(10);const{startx:r,stopx:n,message:i}=e,a=xt.splitBreaks(i).length,s=ra(i),o=s?await og(i,Re()):dr.calculateTextDimensions(i,Kh(ze));if(!s){const d=o.height/a;e.height+=d,pt.bumpVerticalPos(d)}let l,u=o.height-10;const h=o.width;if(r===n){l=pt.getVerticalPos()+u,ze.rightAngles||(u+=ze.boxMargin,l=pt.getVerticalPos()+u),u+=30;const d=xt.getMax(h/2,ze.width/2);pt.insert(r-d,pt.getVerticalPos()-10+u,n+d,pt.getVerticalPos()+30+u)}else u+=ze.boxMargin,l=pt.getVerticalPos()+u,pt.insert(r,l-10,n,l);return pt.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,pt.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l}E(CK,"boundMessage");var Tze=E(async function(t,e,r,n){const{startx:i,stopx:a,starty:s,message:o,type:l,sequenceIndex:u,sequenceVisible:h}=e,d=dr.calculateTextDimensions(o,Kh(ze)),f=ek();f.x=i,f.y=s+10,f.width=a-i,f.class="messageText",f.dy="1em",f.text=o,f.fontFamily=ze.messageFontFamily,f.fontSize=ze.messageFontSize,f.fontWeight=ze.messageFontWeight,f.anchor=ze.messageAlign,f.valign="center",f.textMargin=ze.wrapPadding,f.tspan=!1,ra(f.text)?await HE(t,f,{startx:i,stopx:a,starty:r}):Jf(t,f);const p=d.width;let g;i===a?ze.rightAngles?g=t.append("path").attr("d",`M  ${i},${r} H ${i+xt.getMax(ze.width/2,p/2)} V ${r+25} H ${i}`):g=t.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(g=t.append("line"),g.attr("x1",i),g.attr("y1",r),g.attr("x2",a),g.attr("y2",r)),l===n.db.LINETYPE.DOTTED||l===n.db.LINETYPE.DOTTED_CROSS||l===n.db.LINETYPE.DOTTED_POINT||l===n.db.LINETYPE.DOTTED_OPEN||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(g.style("stroke-dasharray","3, 3"),g.attr("class","messageLine1")):g.attr("class","messageLine0");let m="";ze.arrowMarkerAbsolute&&(m=sg(!0)),g.attr("stroke-width",2),g.attr("stroke","none"),g.style("fill","none"),(l===n.db.LINETYPE.SOLID||l===n.db.LINETYPE.DOTTED)&&g.attr("marker-end","url("+m+"#arrowhead)"),(l===n.db.LINETYPE.BIDIRECTIONAL_SOLID||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(g.attr("marker-start","url("+m+"#arrowhead)"),g.attr("marker-end","url("+m+"#arrowhead)")),(l===n.db.LINETYPE.SOLID_POINT||l===n.db.LINETYPE.DOTTED_POINT)&&g.attr("marker-end","url("+m+"#filled-head)"),(l===n.db.LINETYPE.SOLID_CROSS||l===n.db.LINETYPE.DOTTED_CROSS)&&g.attr("marker-end","url("+m+"#crosshead)"),(h||ze.showSequenceNumbers)&&(g.attr("marker-start","url("+m+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},"drawMessage"),wze=E(function(t,e,r,n,i,a,s){let o=0,l=0,u,h=0;for(const d of n){const f=e.get(d),p=f.box;u&&u!=p&&(s||pt.models.addBox(u),l+=ze.boxMargin+u.margin),p&&p!=u&&(s||(p.x=o+l,p.y=i),l+=p.margin),f.width=f.width||ze.width,f.height=xt.getMax(f.height||ze.height,ze.height),f.margin=f.margin||ze.actorMargin,h=xt.getMax(h,f.height),r.get(f.name)&&(l+=f.width/2),f.x=o+l,f.starty=pt.getVerticalPos(),pt.insert(f.x,i,f.x+f.width,f.height),o+=f.width+l,f.box&&(f.box.width=o+p.margin-f.box.x),l=f.margin,u=f.box,pt.models.addActor(f)}u&&!s&&pt.models.addBox(u),pt.bumpVerticalPos(h)},"addActorRenderingData"),A_=E(async function(t,e,r,n){if(n){let i=0;pt.bumpVerticalPos(ze.boxMargin*2);for(const a of r){const s=e.get(a);s.stopy||(s.stopy=pt.getVerticalPos());const o=await Vn.drawActor(t,s,ze,!0);i=xt.getMax(i,o)}pt.bumpVerticalPos(i+ze.boxMargin)}else for(const i of r){const a=e.get(i);await Vn.drawActor(t,a,ze,!1)}},"drawActors"),_K=E(function(t,e,r,n){let i=0,a=0;for(const s of r){const o=e.get(s),l=kze(o),u=Vn.drawPopup(t,o,l,ze,ze.forceMenus,n);u.height>i&&(i=u.height),u.width+o.x>a&&(a=u.width+o.x)}return{maxHeight:i,maxWidth:a}},"drawActorsPopup"),AK=E(function(t){ai(ze,t),t.fontFamily&&(ze.actorFontFamily=ze.noteFontFamily=ze.messageFontFamily=t.fontFamily),t.fontSize&&(ze.actorFontSize=ze.noteFontSize=ze.messageFontSize=t.fontSize),t.fontWeight&&(ze.actorFontWeight=ze.noteFontWeight=ze.messageFontWeight=t.fontWeight)},"setConf"),GE=E(function(t){return pt.activations.filter(function(e){return e.actor===t})},"actorActivations"),LK=E(function(t,e){const r=e.get(t),n=GE(t),i=n.reduce(function(s,o){return xt.getMin(s,o.startx)},r.x+r.width/2-1),a=n.reduce(function(s,o){return xt.getMax(s,o.stopx)},r.x+r.width/2+1);return[i,a]},"activationBounds");function Co(t,e,r,n,i){pt.bumpVerticalPos(r);let a=n;if(e.id&&e.message&&t[e.id]){const s=t[e.id].width,o=Kh(ze);e.message=dr.wrapLabel(`[${e.message}]`,s-2*ze.wrapPadding,o),e.width=s,e.wrap=!0;const l=dr.calculateTextDimensions(e.message,o),u=xt.getMax(l.height,ze.labelBoxHeight);a=n+u,se.debug(`${u} - ${e.message}`)}i(e),pt.bumpVerticalPos(a)}E(Co,"adjustLoopHeightForWrap");function NK(t,e,r,n,i,a,s){function o(u,h){u.x<i.get(t.from).x?(pt.insert(e.stopx-h,e.starty,e.startx,e.stopy+u.height/2+ze.noteMargin),e.stopx=e.stopx+h):(pt.insert(e.startx,e.starty,e.stopx+h,e.stopy+u.height/2+ze.noteMargin),e.stopx=e.stopx-h)}E(o,"receiverAdjustment");function l(u,h){u.x<i.get(t.to).x?(pt.insert(e.startx-h,e.starty,e.stopx,e.stopy+u.height/2+ze.noteMargin),e.startx=e.startx+h):(pt.insert(e.stopx,e.starty,e.startx+h,e.stopy+u.height/2+ze.noteMargin),e.startx=e.startx-h)}if(E(l,"senderAdjustment"),a.get(t.to)==n){const u=i.get(t.to),h=u.type=="actor"?Xh/2+3:u.width/2+3;o(u,h),u.starty=r-u.height/2,pt.bumpVerticalPos(u.height/2)}else if(s.get(t.from)==n){const u=i.get(t.from);if(ze.mirrorActors){const h=u.type=="actor"?Xh/2:u.width/2;l(u,h)}u.stopy=r-u.height/2,pt.bumpVerticalPos(u.height/2)}else if(s.get(t.to)==n){const u=i.get(t.to);if(ze.mirrorActors){const h=u.type=="actor"?Xh/2+3:u.width/2+3;o(u,h)}u.stopy=r-u.height/2,pt.bumpVerticalPos(u.height/2)}}E(NK,"adjustCreatedDestroyedData");var Sze=E(async function(t,e,r,n){const{securityLevel:i,sequence:a}=Re();ze=a;let s;i==="sandbox"&&(s=mt("#i"+e));const o=mt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?s.nodes()[0].contentDocument:document;pt.init(),se.debug(n.db);const u=i==="sandbox"?o.select(`[id="${e}"]`):mt(`[id="${e}"]`),h=n.db.getActors(),d=n.db.getCreatedActors(),f=n.db.getDestroyedActors(),p=n.db.getBoxes();let g=n.db.getActorKeys();const m=n.db.getMessages(),y=n.db.getDiagramTitle(),v=n.db.hasAtLeastOneBox(),b=n.db.hasAtLeastOneBoxWithTitle(),x=await RK(h,m,n);if(ze.height=await IK(h,x,p),Vn.insertComputerIcon(u),Vn.insertDatabaseIcon(u),Vn.insertClockIcon(u),v&&(pt.bumpVerticalPos(ze.boxMargin),b&&pt.bumpVerticalPos(p[0].textMaxHeight)),ze.hideUnusedParticipants===!0){const I=new Set;m.forEach(F=>{I.add(F.from),I.add(F.to)}),g=g.filter(F=>I.has(F))}wze(u,h,d,g,0,m,!1);const T=await Aze(m,h,x,n);Vn.insertArrowHead(u),Vn.insertArrowCrossHead(u),Vn.insertArrowFilledHead(u),Vn.insertSequenceNumber(u);function w(I,F){const B=pt.endActivation(I);B.starty+18>F&&(B.starty=F-6,F+=12),Vn.drawActivation(u,B,F,ze,GE(I.from).length),pt.insert(B.startx,F-10,B.stopx,F)}E(w,"activeEnd");let S=1,k=1;const L=[],_=[];let N=0;for(const I of m){let F,B,$;switch(I.type){case n.db.LINETYPE.NOTE:pt.resetVerticalPos(),B=I.noteModel,await Eze(u,B);break;case n.db.LINETYPE.ACTIVE_START:pt.newActivation(I,u,h);break;case n.db.LINETYPE.ACTIVE_END:w(I,pt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Co(T,I,ze.boxMargin,ze.boxMargin+ze.boxTextMargin,V=>pt.newLoop(V));break;case n.db.LINETYPE.LOOP_END:F=pt.endLoop(),await Vn.drawLoop(u,F,"loop",ze),pt.bumpVerticalPos(F.stopy-pt.getVerticalPos()),pt.models.addLoop(F);break;case n.db.LINETYPE.RECT_START:Co(T,I,ze.boxMargin,ze.boxMargin,V=>pt.newLoop(void 0,V.message));break;case n.db.LINETYPE.RECT_END:F=pt.endLoop(),_.push(F),pt.models.addLoop(F),pt.bumpVerticalPos(F.stopy-pt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Co(T,I,ze.boxMargin,ze.boxMargin+ze.boxTextMargin,V=>pt.newLoop(V));break;case n.db.LINETYPE.OPT_END:F=pt.endLoop(),await Vn.drawLoop(u,F,"opt",ze),pt.bumpVerticalPos(F.stopy-pt.getVerticalPos()),pt.models.addLoop(F);break;case n.db.LINETYPE.ALT_START:Co(T,I,ze.boxMargin,ze.boxMargin+ze.boxTextMargin,V=>pt.newLoop(V));break;case n.db.LINETYPE.ALT_ELSE:Co(T,I,ze.boxMargin+ze.boxTextMargin,ze.boxMargin,V=>pt.addSectionToLoop(V));break;case n.db.LINETYPE.ALT_END:F=pt.endLoop(),await Vn.drawLoop(u,F,"alt",ze),pt.bumpVerticalPos(F.stopy-pt.getVerticalPos()),pt.models.addLoop(F);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Co(T,I,ze.boxMargin,ze.boxMargin+ze.boxTextMargin,V=>pt.newLoop(V)),pt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Co(T,I,ze.boxMargin+ze.boxTextMargin,ze.boxMargin,V=>pt.addSectionToLoop(V));break;case n.db.LINETYPE.PAR_END:F=pt.endLoop(),await Vn.drawLoop(u,F,"par",ze),pt.bumpVerticalPos(F.stopy-pt.getVerticalPos()),pt.models.addLoop(F);break;case n.db.LINETYPE.AUTONUMBER:S=I.message.start||S,k=I.message.step||k,I.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Co(T,I,ze.boxMargin,ze.boxMargin+ze.boxTextMargin,V=>pt.newLoop(V));break;case n.db.LINETYPE.CRITICAL_OPTION:Co(T,I,ze.boxMargin+ze.boxTextMargin,ze.boxMargin,V=>pt.addSectionToLoop(V));break;case n.db.LINETYPE.CRITICAL_END:F=pt.endLoop(),await Vn.drawLoop(u,F,"critical",ze),pt.bumpVerticalPos(F.stopy-pt.getVerticalPos()),pt.models.addLoop(F);break;case n.db.LINETYPE.BREAK_START:Co(T,I,ze.boxMargin,ze.boxMargin+ze.boxTextMargin,V=>pt.newLoop(V));break;case n.db.LINETYPE.BREAK_END:F=pt.endLoop(),await Vn.drawLoop(u,F,"break",ze),pt.bumpVerticalPos(F.stopy-pt.getVerticalPos()),pt.models.addLoop(F);break;default:try{$=I.msgModel,$.starty=pt.getVerticalPos(),$.sequenceIndex=S,$.sequenceVisible=n.db.showSequenceNumbers();const V=await CK(u,$);NK(I,$,V,N,h,d,f),L.push({messageModel:$,lineStartY:V}),pt.models.addMessage($)}catch(V){se.error("error while drawing message",V)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(I.type)&&(S=S+k),N++}se.debug("createdActors",d),se.debug("destroyedActors",f),await A_(u,h,g,!1);for(const I of L)await Tze(u,I.messageModel,I.lineStartY,n);ze.mirrorActors&&await A_(u,h,g,!0),_.forEach(I=>Vn.drawBackgroundRect(u,I)),wK(u,h,g,ze);for(const I of pt.models.boxes)I.height=pt.getVerticalPos()-I.y,pt.insert(I.x,I.y,I.x+I.width,I.height),I.startx=I.x,I.starty=I.y,I.stopx=I.startx+I.width,I.stopy=I.starty+I.height,I.stroke="rgb(0,0,0, 0.5)",Vn.drawBox(u,I,ze);v&&pt.bumpVerticalPos(ze.boxMargin);const C=_K(u,h,g,l),{bounds:D}=pt.getBounds();D.startx===void 0&&(D.startx=0),D.starty===void 0&&(D.starty=0),D.stopx===void 0&&(D.stopx=0),D.stopy===void 0&&(D.stopy=0);let P=D.stopy-D.starty;P<C.maxHeight&&(P=C.maxHeight);let A=P+2*ze.diagramMarginY;ze.mirrorActors&&(A=A-ze.boxMargin+ze.bottomMarginAdj);let R=D.stopx-D.startx;R<C.maxWidth&&(R=C.maxWidth);const O=R+2*ze.diagramMarginX;y&&u.append("text").text(y).attr("x",(D.stopx-D.startx)/2-2*ze.diagramMarginX).attr("y",-25),qa(u,A,O,ze.useMaxWidth);const M=y?40:0;u.attr("viewBox",D.startx-ze.diagramMarginX+" -"+(ze.diagramMarginY+M)+" "+O+" "+(A+M)),se.debug("models:",pt.models)},"draw");async function RK(t,e,r){const n={};for(const i of e)if(t.get(i.to)&&t.get(i.from)){const a=t.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;const s=i.placement!==void 0,o=!s,l=s?e0(ze):Kh(ze),u=i.wrap?dr.wrapLabel(i.message,ze.width-2*ze.wrapPadding,l):i.message,d=(ra(u)?await og(i.message,Re()):dr.calculateTextDimensions(u,l)).width+2*ze.wrapPadding;o&&i.from===a.nextActor?n[i.to]=xt.getMax(n[i.to]||0,d):o&&i.from===a.prevActor?n[i.from]=xt.getMax(n[i.from]||0,d):o&&i.from===i.to?(n[i.from]=xt.getMax(n[i.from]||0,d/2),n[i.to]=xt.getMax(n[i.to]||0,d/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=xt.getMax(n[i.from]||0,d):i.placement===r.db.PLACEMENT.LEFTOF?n[a.prevActor]=xt.getMax(n[a.prevActor]||0,d):i.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(n[a.prevActor]=xt.getMax(n[a.prevActor]||0,d/2)),a.nextActor&&(n[i.from]=xt.getMax(n[i.from]||0,d/2)))}return se.debug("maxMessageWidthPerActor:",n),n}E(RK,"getMaxMessageWidthPerActor");var kze=E(function(t){let e=0;const r=__(ze);for(const n in t.links){const a=dr.calculateTextDimensions(n,r).width+2*ze.wrapPadding+2*ze.boxMargin;e<a&&(e=a)}return e},"getRequiredPopupWidth");async function IK(t,e,r){let n=0;for(const a of t.keys()){const s=t.get(a);s.wrap&&(s.description=dr.wrapLabel(s.description,ze.width-2*ze.wrapPadding,__(ze)));const o=ra(s.description)?await og(s.description,Re()):dr.calculateTextDimensions(s.description,__(ze));s.width=s.wrap?ze.width:xt.getMax(ze.width,o.width+2*ze.wrapPadding),s.height=s.wrap?xt.getMax(o.height,ze.height):ze.height,n=xt.getMax(n,s.height)}for(const a in e){const s=t.get(a);if(!s)continue;const o=t.get(s.nextActor);if(!o){const d=e[a]+ze.actorMargin-s.width/2;s.margin=xt.getMax(d,ze.actorMargin);continue}const u=e[a]+ze.actorMargin-s.width/2-o.width/2;s.margin=xt.getMax(u,ze.actorMargin)}let i=0;return r.forEach(a=>{const s=Kh(ze);let o=a.actorKeys.reduce((h,d)=>h+=t.get(d).width+(t.get(d).margin||0),0);o-=2*ze.boxTextMargin,a.wrap&&(a.name=dr.wrapLabel(a.name,o-2*ze.wrapPadding,s));const l=dr.calculateTextDimensions(a.name,s);i=xt.getMax(l.height,i);const u=xt.getMax(o,l.width+2*ze.wrapPadding);if(a.margin=ze.boxTextMargin,o<u){const h=(u-o)/2;a.margin+=h}}),r.forEach(a=>a.textMaxHeight=i),xt.getMax(n,ze.height)}E(IK,"calculateActorMargins");var Cze=E(async function(t,e,r){const n=e.get(t.from),i=e.get(t.to),a=n.x,s=i.x,o=t.wrap&&t.message;let l=ra(t.message)?await og(t.message,Re()):dr.calculateTextDimensions(o?dr.wrapLabel(t.message,ze.width,e0(ze)):t.message,e0(ze));const u={width:o?ze.width:xt.getMax(ze.width,l.width+2*ze.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===r.db.PLACEMENT.RIGHTOF?(u.width=o?xt.getMax(ze.width,l.width):xt.getMax(n.width/2+i.width/2,l.width+2*ze.noteMargin),u.startx=a+(n.width+ze.actorMargin)/2):t.placement===r.db.PLACEMENT.LEFTOF?(u.width=o?xt.getMax(ze.width,l.width+2*ze.noteMargin):xt.getMax(n.width/2+i.width/2,l.width+2*ze.noteMargin),u.startx=a-u.width+(n.width-ze.actorMargin)/2):t.to===t.from?(l=dr.calculateTextDimensions(o?dr.wrapLabel(t.message,xt.getMax(ze.width,n.width),e0(ze)):t.message,e0(ze)),u.width=o?xt.getMax(ze.width,n.width):xt.getMax(n.width,ze.width,l.width+2*ze.noteMargin),u.startx=a+(n.width-u.width)/2):(u.width=Math.abs(a+n.width/2-(s+i.width/2))+ze.actorMargin,u.startx=a<s?a+n.width/2-ze.actorMargin/2:s+i.width/2-ze.actorMargin/2),o&&(u.message=dr.wrapLabel(t.message,u.width-2*ze.wrapPadding,e0(ze))),se.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${t.message}]`),u},"buildNoteModel"),_ze=E(function(t,e,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type))return{};const[n,i]=LK(t.from,e),[a,s]=LK(t.to,e),o=n<=a;let l=o?i:n,u=o?a:s;const h=Math.abs(a-s)>2,d=E(m=>o?-m:m,"adjustValue");t.from===t.to?u=l:(t.activate&&!h&&(u+=d(ze.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(t.type)||(u+=d(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(l-=d(3)));const f=[n,i,a,s],p=Math.abs(l-u);t.wrap&&t.message&&(t.message=dr.wrapLabel(t.message,xt.getMax(p+2*ze.wrapPadding,ze.width),Kh(ze)));const g=dr.calculateTextDimensions(t.message,Kh(ze));return{width:xt.getMax(t.wrap?0:g.width+2*ze.wrapPadding,p+2*ze.wrapPadding,ze.width),height:0,startx:l,stopx:u,starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,f),toBounds:Math.max.apply(null,f)}},"buildMessageModel"),Aze=E(async function(t,e,r,n){const i={},a=[];let s,o,l;for(const u of t){switch(u.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:a.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:u.message&&(s=a.pop(),i[s.id]=s,i[u.id]=s,a.push(s));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case n.db.LINETYPE.ACTIVE_START:{const d=e.get(u.from?u.from:u.to.actor),f=GE(u.from?u.from:u.to.actor).length,p=d.x+d.width/2+(f-1)*ze.activationWidth/2,g={startx:p,stopx:p+ze.activationWidth,actor:u.from,enabled:!0};pt.activations.push(g)}break;case n.db.LINETYPE.ACTIVE_END:{const d=pt.activations.map(f=>f.actor).lastIndexOf(u.from);pt.activations.splice(d,1).splice(0,1)}break}u.placement!==void 0?(o=await Cze(u,e,n),u.noteModel=o,a.forEach(d=>{s=d,s.from=xt.getMin(s.from,o.startx),s.to=xt.getMax(s.to,o.startx+o.width),s.width=xt.getMax(s.width,Math.abs(s.from-s.to))-ze.labelBoxWidth})):(l=_ze(u,e,n),u.msgModel=l,l.startx&&l.stopx&&a.length>0&&a.forEach(d=>{if(s=d,l.startx===l.stopx){const f=e.get(u.from),p=e.get(u.to);s.from=xt.getMin(f.x-l.width/2,f.x-f.width/2,s.from),s.to=xt.getMax(p.x+l.width/2,p.x+f.width/2,s.to),s.width=xt.getMax(s.width,Math.abs(s.to-s.from))-ze.labelBoxWidth}else s.from=xt.getMin(l.startx,s.from),s.to=xt.getMax(l.stopx,s.to),s.width=xt.getMax(s.width,l.width)-ze.labelBoxWidth}))}return pt.activations=[],se.debug("Loop type widths:",i),i},"calculateLoopBounds"),Lze={bounds:pt,drawActors:A_,drawActorsPopup:_K,setConf:AK,draw:Sze},Nze={parser:K$e,get db(){return new J$e},renderer:Lze,styles:tze,init:E(t=>{t.sequence||(t.sequence={}),t.wrap&&(t.sequence.wrap=t.wrap,kw({sequence:{wrap:t.wrap}}))},"init")};const Rze=Object.freeze(Object.defineProperty({__proto__:null,diagram:Nze},Symbol.toStringTag,{value:"Module"}));var L_=function(){var t=E(function(We,he,Te,Be){for(Te=Te||{},Be=We.length;Be--;Te[We[Be]]=he);return Te},"o"),e=[1,18],r=[1,19],n=[1,20],i=[1,41],a=[1,42],s=[1,26],o=[1,24],l=[1,25],u=[1,32],h=[1,33],d=[1,34],f=[1,45],p=[1,35],g=[1,36],m=[1,37],y=[1,38],v=[1,27],b=[1,28],x=[1,29],T=[1,30],w=[1,31],S=[1,44],k=[1,46],L=[1,43],_=[1,47],N=[1,9],C=[1,8,9],D=[1,58],P=[1,59],A=[1,60],R=[1,61],O=[1,62],M=[1,63],I=[1,64],F=[1,8,9,41],B=[1,76],$=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],V=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],H=[13,58,84,99,101,102],te=[13,58,71,72,84,99,101,102],X=[13,58,66,67,68,69,70,84,99,101,102],ee=[1,98],re=[1,115],pe=[1,107],K=[1,113],W=[1,108],j=[1,109],Y=[1,110],Q=[1,111],ie=[1,112],J=[1,114],we=[22,58,59,80,84,85,86,87,88,89],ue=[1,8,9,39,41,44],ae=[1,8,9,22],Ue=[1,143],xe=[1,8,9,59],Ze=[1,8,9,22,58,59,80,84,85,86,87,88,89],Je={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:E(function(he,Te,Be,ye,Me,Z,fe){var U=Z.length-1;switch(Me){case 8:this.$=Z[U-1];break;case 9:case 12:case 14:this.$=Z[U];break;case 10:case 13:this.$=Z[U-2]+"."+Z[U];break;case 11:case 15:this.$=Z[U-1]+Z[U];break;case 16:case 17:this.$=Z[U-1]+"~"+Z[U]+"~";break;case 18:ye.addRelation(Z[U]);break;case 19:Z[U-1].title=ye.cleanupLabel(Z[U]),ye.addRelation(Z[U-1]);break;case 30:this.$=Z[U].trim(),ye.setAccTitle(this.$);break;case 31:case 32:this.$=Z[U].trim(),ye.setAccDescription(this.$);break;case 33:ye.addClassesToNamespace(Z[U-3],Z[U-1]);break;case 34:ye.addClassesToNamespace(Z[U-4],Z[U-1]);break;case 35:this.$=Z[U],ye.addNamespace(Z[U]);break;case 36:this.$=[Z[U]];break;case 37:this.$=[Z[U-1]];break;case 38:Z[U].unshift(Z[U-2]),this.$=Z[U];break;case 40:ye.setCssClass(Z[U-2],Z[U]);break;case 41:ye.addMembers(Z[U-3],Z[U-1]);break;case 42:ye.setCssClass(Z[U-5],Z[U-3]),ye.addMembers(Z[U-5],Z[U-1]);break;case 43:this.$=Z[U],ye.addClass(Z[U]);break;case 44:this.$=Z[U-1],ye.addClass(Z[U-1]),ye.setClassLabel(Z[U-1],Z[U]);break;case 45:ye.addAnnotation(Z[U],Z[U-2]);break;case 46:case 59:this.$=[Z[U]];break;case 47:Z[U].push(Z[U-1]),this.$=Z[U];break;case 48:break;case 49:ye.addMember(Z[U-1],ye.cleanupLabel(Z[U]));break;case 50:break;case 51:break;case 52:this.$={id1:Z[U-2],id2:Z[U],relation:Z[U-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:Z[U-3],id2:Z[U],relation:Z[U-1],relationTitle1:Z[U-2],relationTitle2:"none"};break;case 54:this.$={id1:Z[U-3],id2:Z[U],relation:Z[U-2],relationTitle1:"none",relationTitle2:Z[U-1]};break;case 55:this.$={id1:Z[U-4],id2:Z[U],relation:Z[U-2],relationTitle1:Z[U-3],relationTitle2:Z[U-1]};break;case 56:ye.addNote(Z[U],Z[U-1]);break;case 57:ye.addNote(Z[U]);break;case 58:this.$=Z[U-2],ye.defineClass(Z[U-1],Z[U]);break;case 60:this.$=Z[U-2].concat([Z[U]]);break;case 61:ye.setDirection("TB");break;case 62:ye.setDirection("BT");break;case 63:ye.setDirection("RL");break;case 64:ye.setDirection("LR");break;case 65:this.$={type1:Z[U-2],type2:Z[U],lineType:Z[U-1]};break;case 66:this.$={type1:"none",type2:Z[U],lineType:Z[U-1]};break;case 67:this.$={type1:Z[U-1],type2:"none",lineType:Z[U]};break;case 68:this.$={type1:"none",type2:"none",lineType:Z[U]};break;case 69:this.$=ye.relationType.AGGREGATION;break;case 70:this.$=ye.relationType.EXTENSION;break;case 71:this.$=ye.relationType.COMPOSITION;break;case 72:this.$=ye.relationType.DEPENDENCY;break;case 73:this.$=ye.relationType.LOLLIPOP;break;case 74:this.$=ye.lineType.LINE;break;case 75:this.$=ye.lineType.DOTTED_LINE;break;case 76:case 82:this.$=Z[U-2],ye.setClickEvent(Z[U-1],Z[U]);break;case 77:case 83:this.$=Z[U-3],ye.setClickEvent(Z[U-2],Z[U-1]),ye.setTooltip(Z[U-2],Z[U]);break;case 78:this.$=Z[U-2],ye.setLink(Z[U-1],Z[U]);break;case 79:this.$=Z[U-3],ye.setLink(Z[U-2],Z[U-1],Z[U]);break;case 80:this.$=Z[U-3],ye.setLink(Z[U-2],Z[U-1]),ye.setTooltip(Z[U-2],Z[U]);break;case 81:this.$=Z[U-4],ye.setLink(Z[U-3],Z[U-2],Z[U]),ye.setTooltip(Z[U-3],Z[U-1]);break;case 84:this.$=Z[U-3],ye.setClickEvent(Z[U-2],Z[U-1],Z[U]);break;case 85:this.$=Z[U-4],ye.setClickEvent(Z[U-3],Z[U-2],Z[U-1]),ye.setTooltip(Z[U-3],Z[U]);break;case 86:this.$=Z[U-3],ye.setLink(Z[U-2],Z[U]);break;case 87:this.$=Z[U-4],ye.setLink(Z[U-3],Z[U-1],Z[U]);break;case 88:this.$=Z[U-4],ye.setLink(Z[U-3],Z[U-1]),ye.setTooltip(Z[U-3],Z[U]);break;case 89:this.$=Z[U-5],ye.setLink(Z[U-4],Z[U-2],Z[U]),ye.setTooltip(Z[U-4],Z[U-1]);break;case 90:this.$=Z[U-2],ye.setCssStyle(Z[U-1],Z[U]);break;case 91:ye.setCssClass(Z[U-1],Z[U]);break;case 92:this.$=[Z[U]];break;case 93:Z[U-2].push(Z[U]),this.$=Z[U-2];break;case 95:this.$=Z[U-1]+Z[U];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:o,50:l,52:u,54:h,55:d,58:f,60:p,61:g,62:m,63:y,73:v,74:b,76:x,80:T,81:w,84:S,99:k,101:L,102:_},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(N,[2,5],{8:[1,48]}),{8:[1,49]},t(C,[2,18],{22:[1,50]}),t(C,[2,20]),t(C,[2,21]),t(C,[2,22]),t(C,[2,23]),t(C,[2,24]),t(C,[2,25]),t(C,[2,26]),t(C,[2,27]),t(C,[2,28]),t(C,[2,29]),{34:[1,51]},{36:[1,52]},t(C,[2,32]),t(C,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:D,67:P,68:A,69:R,70:O,71:M,72:I}),{39:[1,65]},t(F,[2,39],{39:[1,67],44:[1,66]}),t(C,[2,50]),t(C,[2,51]),{16:68,58:f,84:S,99:k,101:L},{16:39,18:69,19:40,58:f,84:S,99:k,101:L,102:_},{16:39,18:70,19:40,58:f,84:S,99:k,101:L,102:_},{16:39,18:71,19:40,58:f,84:S,99:k,101:L,102:_},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:f,84:S,99:k,101:L,102:_},{13:B,53:75},{56:77,58:[1,78]},t(C,[2,61]),t(C,[2,62]),t(C,[2,63]),t(C,[2,64]),t($,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:f,84:S,99:k,101:L,102:_}),t($,[2,14],{20:[1,82]}),{15:83,16:84,58:f,84:S,99:k,101:L},{16:39,18:85,19:40,58:f,84:S,99:k,101:L,102:_},t(V,[2,118]),t(V,[2,119]),t(V,[2,120]),t(V,[2,121]),t([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),t(N,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:e,35:r,37:n,42:i,46:a,47:s,49:o,50:l,52:u,54:h,55:d,58:f,60:p,61:g,62:m,63:y,73:v,74:b,76:x,80:T,81:w,84:S,99:k,101:L,102:_}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:o,50:l,52:u,54:h,55:d,58:f,60:p,61:g,62:m,63:y,73:v,74:b,76:x,80:T,81:w,84:S,99:k,101:L,102:_},t(C,[2,19]),t(C,[2,30]),t(C,[2,31]),{13:[1,89],16:39,18:88,19:40,58:f,84:S,99:k,101:L,102:_},{51:90,64:56,65:57,66:D,67:P,68:A,69:R,70:O,71:M,72:I},t(C,[2,49]),{65:91,71:M,72:I},t(H,[2,68],{64:92,66:D,67:P,68:A,69:R,70:O}),t(te,[2,69]),t(te,[2,70]),t(te,[2,71]),t(te,[2,72]),t(te,[2,73]),t(X,[2,74]),t(X,[2,75]),{8:[1,94],24:95,40:93,43:23,46:a},{16:96,58:f,84:S,99:k,101:L},{45:97,49:ee},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:re,57:104,58:pe,80:K,82:105,83:106,84:W,85:j,86:Y,87:Q,88:ie,89:J},{58:[1,116]},{13:B,53:117},t(C,[2,57]),t(C,[2,123]),{22:re,57:118,58:pe,59:[1,119],80:K,82:105,83:106,84:W,85:j,86:Y,87:Q,88:ie,89:J},t(we,[2,59]),{16:39,18:120,19:40,58:f,84:S,99:k,101:L,102:_},t($,[2,15]),t($,[2,16]),t($,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:f,84:S,99:k,101:L},t(ue,[2,43],{11:123,12:[1,124]}),t(N,[2,7]),{9:[1,125]},t(ae,[2,52]),{16:39,18:126,19:40,58:f,84:S,99:k,101:L,102:_},{13:[1,128],16:39,18:127,19:40,58:f,84:S,99:k,101:L,102:_},t(H,[2,67],{64:129,66:D,67:P,68:A,69:R,70:O}),t(H,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:a},{8:[1,132],41:[2,36]},t(F,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:ee},{16:39,18:136,19:40,58:f,84:S,99:k,101:L,102:_},t(C,[2,76],{13:[1,137]}),t(C,[2,78],{13:[1,139],75:[1,138]}),t(C,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},t(C,[2,90],{59:Ue}),t(xe,[2,92],{83:144,22:re,58:pe,80:K,84:W,85:j,86:Y,87:Q,88:ie,89:J}),t(Ze,[2,94]),t(Ze,[2,96]),t(Ze,[2,97]),t(Ze,[2,98]),t(Ze,[2,99]),t(Ze,[2,100]),t(Ze,[2,101]),t(Ze,[2,102]),t(Ze,[2,103]),t(Ze,[2,104]),t(C,[2,91]),t(C,[2,56]),t(C,[2,58],{59:Ue}),{58:[1,145]},t($,[2,13]),{15:146,16:84,58:f,84:S,99:k,101:L},{39:[2,11]},t(ue,[2,44]),{13:[1,147]},{1:[2,4]},t(ae,[2,54]),t(ae,[2,53]),{16:39,18:148,19:40,58:f,84:S,99:k,101:L,102:_},t(H,[2,65]),t(C,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:a},{45:151,49:ee},t(F,[2,41]),{41:[2,47]},t(C,[2,45]),t(C,[2,77]),t(C,[2,79]),t(C,[2,80],{75:[1,152]}),t(C,[2,83]),t(C,[2,84],{13:[1,153]}),t(C,[2,86],{13:[1,155],75:[1,154]}),{22:re,58:pe,80:K,82:156,83:106,84:W,85:j,86:Y,87:Q,88:ie,89:J},t(Ze,[2,95]),t(we,[2,60]),{39:[2,10]},{14:[1,157]},t(ae,[2,55]),t(C,[2,34]),{41:[2,38]},{41:[1,158]},t(C,[2,81]),t(C,[2,85]),t(C,[2,87]),t(C,[2,88],{75:[1,159]}),t(xe,[2,93],{83:144,22:re,58:pe,80:K,84:W,85:j,86:Y,87:Q,88:ie,89:J}),t(ue,[2,8]),t(F,[2,42]),t(C,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:E(function(he,Te){if(Te.recoverable)this.trace(he);else{var Be=new Error(he);throw Be.hash=Te,Be}},"parseError"),parse:E(function(he){var Te=this,Be=[0],ye=[],Me=[null],Z=[],fe=this.table,U="",le=0,oe=0,ge=2,me=1,Ce=Z.slice.call(arguments,1),Ie=Object.create(this.lexer),Ne={yy:{}};for(var et in this.yy)Object.prototype.hasOwnProperty.call(this.yy,et)&&(Ne.yy[et]=this.yy[et]);Ie.setInput(he,Ne.yy),Ne.yy.lexer=Ie,Ne.yy.parser=this,typeof Ie.yylloc>"u"&&(Ie.yylloc={});var ut=Ie.yylloc;Z.push(ut);var rt=Ie.options&&Ie.options.ranges;typeof Ne.yy.parseError=="function"?this.parseError=Ne.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function de(kt){Be.length=Be.length-2*kt,Me.length=Me.length-kt,Z.length=Z.length-kt}E(de,"popStack");function De(){var kt;return kt=ye.pop()||Ie.lex()||me,typeof kt!="number"&&(kt instanceof Array&&(ye=kt,kt=ye.pop()),kt=Te.symbols_[kt]||kt),kt}E(De,"lex");for(var Le,je,dt,lt,$e={},tt,Ve,it,ft;;){if(je=Be[Be.length-1],this.defaultActions[je]?dt=this.defaultActions[je]:((Le===null||typeof Le>"u")&&(Le=De()),dt=fe[je]&&fe[je][Le]),typeof dt>"u"||!dt.length||!dt[0]){var Tt="";ft=[];for(tt in fe[je])this.terminals_[tt]&&tt>ge&&ft.push("'"+this.terminals_[tt]+"'");Ie.showPosition?Tt="Parse error on line "+(le+1)+`:
`+Ie.showPosition()+`
Expecting `+ft.join(", ")+", got '"+(this.terminals_[Le]||Le)+"'":Tt="Parse error on line "+(le+1)+": Unexpected "+(Le==me?"end of input":"'"+(this.terminals_[Le]||Le)+"'"),this.parseError(Tt,{text:Ie.match,token:this.terminals_[Le]||Le,line:Ie.yylineno,loc:ut,expected:ft})}if(dt[0]instanceof Array&&dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+je+", token: "+Le);switch(dt[0]){case 1:Be.push(Le),Me.push(Ie.yytext),Z.push(Ie.yylloc),Be.push(dt[1]),Le=null,oe=Ie.yyleng,U=Ie.yytext,le=Ie.yylineno,ut=Ie.yylloc;break;case 2:if(Ve=this.productions_[dt[1]][1],$e.$=Me[Me.length-Ve],$e._$={first_line:Z[Z.length-(Ve||1)].first_line,last_line:Z[Z.length-1].last_line,first_column:Z[Z.length-(Ve||1)].first_column,last_column:Z[Z.length-1].last_column},rt&&($e._$.range=[Z[Z.length-(Ve||1)].range[0],Z[Z.length-1].range[1]]),lt=this.performAction.apply($e,[U,oe,le,Ne.yy,dt[1],Me,Z].concat(Ce)),typeof lt<"u")return lt;Ve&&(Be=Be.slice(0,-1*Ve*2),Me=Me.slice(0,-1*Ve),Z=Z.slice(0,-1*Ve)),Be.push(this.productions_[dt[1]][0]),Me.push($e.$),Z.push($e._$),it=fe[Be[Be.length-2]][Be[Be.length-1]],Be.push(it);break;case 3:return!0}}return!0},"parse")},Xe=function(){var We={EOF:1,parseError:E(function(Te,Be){if(this.yy.parser)this.yy.parser.parseError(Te,Be);else throw new Error(Te)},"parseError"),setInput:E(function(he,Te){return this.yy=Te||this.yy||{},this._input=he,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var he=this._input[0];this.yytext+=he,this.yyleng++,this.offset++,this.match+=he,this.matched+=he;var Te=he.match(/(?:\r\n?|\n).*/g);return Te?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),he},"input"),unput:E(function(he){var Te=he.length,Be=he.split(/(?:\r\n?|\n)/g);this._input=he+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Te),this.offset-=Te;var ye=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Be.length-1&&(this.yylineno-=Be.length-1);var Me=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Be?(Be.length===ye.length?this.yylloc.first_column:0)+ye[ye.length-Be.length].length-Be[0].length:this.yylloc.first_column-Te},this.options.ranges&&(this.yylloc.range=[Me[0],Me[0]+this.yyleng-Te]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(he){this.unput(this.match.slice(he))},"less"),pastInput:E(function(){var he=this.matched.substr(0,this.matched.length-this.match.length);return(he.length>20?"...":"")+he.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var he=this.match;return he.length<20&&(he+=this._input.substr(0,20-he.length)),(he.substr(0,20)+(he.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var he=this.pastInput(),Te=new Array(he.length+1).join("-");return he+this.upcomingInput()+`
`+Te+"^"},"showPosition"),test_match:E(function(he,Te){var Be,ye,Me;if(this.options.backtrack_lexer&&(Me={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Me.yylloc.range=this.yylloc.range.slice(0))),ye=he[0].match(/(?:\r\n?|\n).*/g),ye&&(this.yylineno+=ye.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ye?ye[ye.length-1].length-ye[ye.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+he[0].length},this.yytext+=he[0],this.match+=he[0],this.matches=he,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(he[0].length),this.matched+=he[0],Be=this.performAction.call(this,this.yy,this,Te,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Be)return Be;if(this._backtrack){for(var Z in Me)this[Z]=Me[Z];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var he,Te,Be,ye;this._more||(this.yytext="",this.match="");for(var Me=this._currentRules(),Z=0;Z<Me.length;Z++)if(Be=this._input.match(this.rules[Me[Z]]),Be&&(!Te||Be[0].length>Te[0].length)){if(Te=Be,ye=Z,this.options.backtrack_lexer){if(he=this.test_match(Be,Me[Z]),he!==!1)return he;if(this._backtrack){Te=!1;continue}else return!1}else if(!this.options.flex)break}return Te?(he=this.test_match(Te,Me[ye]),he!==!1?he:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var Te=this.next();return Te||this.lex()},"lex"),begin:E(function(Te){this.conditionStack.push(Te)},"begin"),popState:E(function(){var Te=this.conditionStack.length-1;return Te>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(Te){return Te=this.conditionStack.length-1-Math.abs(Te||0),Te>=0?this.conditionStack[Te]:"INITIAL"},"topState"),pushState:E(function(Te){this.begin(Te)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:E(function(Te,Be,ye,Me){switch(ye){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 22:this.popState();break;case 23:return 78;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 75;case 65:return 75;case 66:return 75;case 67:return 75;case 68:return 67;case 69:return 67;case 70:return 69;case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:return 88;case 85:return 88;case 86:return 89;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:return 87;case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return We}();Je.lexer=Xe;function Pe(){this.yy={}}return E(Pe,"Parser"),Pe.prototype=Je,Je.Parser=Pe,new Pe}();L_.parser=L_;var DK=L_,OK=["#","+","~","-",""],MK=(wp=class{constructor(e,r){this.memberType=r,this.visibility="",this.classifier="",this.text="";const n=on(e,Re());this.parseMember(n)}getDisplayDetails(){let e=this.visibility+Hc(this.id);this.memberType==="method"&&(e+=`(${Hc(this.parameters.trim())})`,this.returnType&&(e+=" : "+Hc(this.returnType))),e=e.trim();const r=this.parseClassifier();return{displayText:e,cssStyle:r}}parseMember(e){let r="";if(this.memberType==="method"){const a=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(a){const s=a[1]?a[1].trim():"";if(OK.includes(s)&&(this.visibility=s),this.id=a[2],this.parameters=a[3]?a[3].trim():"",r=a[4]?a[4].trim():"",this.returnType=a[5]?a[5].trim():"",r===""){const o=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(o)&&(r=o,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const i=e.length,a=e.substring(0,1),s=e.substring(i-1);OK.includes(a)&&(this.visibility=a),/[$*]/.exec(s)&&(r=s),this.id=e.substring(this.visibility===""?0:1,r===""?i:i-1)}this.classifier=r,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const n=`${this.visibility?"\\"+this.visibility:""}${Hc(this.id)}${this.memberType==="method"?`(${Hc(this.parameters)})${this.returnType?" : "+Hc(this.returnType):""}`:""}`;this.text=n.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},E(wp,"ClassMember"),wp),VE="classId-",PK=0,jh=E(t=>xt.sanitizeText(t,Re()),"sanitizeText"),BK=(Sp=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=E(e=>{let r=mt(".mermaidTooltip");(r._groups||r)[0][0]===null&&(r=mt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),mt(e).select("svg").selectAll("g.node").on("mouseover",a=>{const s=mt(a.currentTarget);if(s.attr("title")===null)return;const l=this.getBoundingClientRect();r.transition().duration(200).style("opacity",".9"),r.text(s.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.top-14+document.body.scrollTop+"px"),r.html(r.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",a=>{r.transition().duration(500).style("opacity",0),mt(a.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=oi,this.getAccTitle=ki,this.setAccDescription=Ci,this.getAccDescription=_i,this.setDiagramTitle=Fi,this.getDiagramTitle=li,this.getConfig=E(()=>Re().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}splitClassNameAndType(e){const r=xt.sanitizeText(e,Re());let n="",i=r;if(r.indexOf("~")>0){const a=r.split("~");i=jh(a[0]),n=jh(a[1])}return{className:i,type:n}}setClassLabel(e,r){const n=xt.sanitizeText(e,Re());r&&(r=jh(r));const{className:i}=this.splitClassNameAndType(n);this.classes.get(i).label=r,this.classes.get(i).text=`${r}${this.classes.get(i).type?`<${this.classes.get(i).type}>`:""}`}addClass(e){const r=xt.sanitizeText(e,Re()),{className:n,type:i}=this.splitClassNameAndType(r);if(this.classes.has(n))return;const a=xt.sanitizeText(n,Re());this.classes.set(a,{id:a,type:i,label:a,text:`${a}${i?`&lt;${i}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:VE+a+"-"+PK}),PK++}addInterface(e,r){const n={id:`interface${this.interfaces.length}`,label:e,classId:r};this.interfaces.push(n)}lookUpDomId(e){const r=xt.sanitizeText(e,Re());if(this.classes.has(r))return this.classes.get(r).domId;throw new Error("Class not found: "+r)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",si()}getClass(e){return this.classes.get(e)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(e){se.debug("Adding relation: "+JSON.stringify(e));const r=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];e.relation.type1===this.relationType.LOLLIPOP&&!r.includes(e.relation.type2)?(this.addClass(e.id2),this.addInterface(e.id1,e.id2),e.id1=`interface${this.interfaces.length-1}`):e.relation.type2===this.relationType.LOLLIPOP&&!r.includes(e.relation.type1)?(this.addClass(e.id1),this.addInterface(e.id2,e.id1),e.id2=`interface${this.interfaces.length-1}`):(this.addClass(e.id1),this.addClass(e.id2)),e.id1=this.splitClassNameAndType(e.id1).className,e.id2=this.splitClassNameAndType(e.id2).className,e.relationTitle1=xt.sanitizeText(e.relationTitle1.trim(),Re()),e.relationTitle2=xt.sanitizeText(e.relationTitle2.trim(),Re()),this.relations.push(e)}addAnnotation(e,r){const n=this.splitClassNameAndType(e).className;this.classes.get(n).annotations.push(r)}addMember(e,r){this.addClass(e);const n=this.splitClassNameAndType(e).className,i=this.classes.get(n);if(typeof r=="string"){const a=r.trim();a.startsWith("<<")&&a.endsWith(">>")?i.annotations.push(jh(a.substring(2,a.length-2))):a.indexOf(")")>0?i.methods.push(new MK(a,"method")):a&&i.members.push(new MK(a,"attribute"))}}addMembers(e,r){Array.isArray(r)&&(r.reverse(),r.forEach(n=>this.addMember(e,n)))}addNote(e,r){const n={id:`note${this.notes.length}`,class:r,text:e};this.notes.push(n)}cleanupLabel(e){return e.startsWith(":")&&(e=e.substring(1)),jh(e.trim())}setCssClass(e,r){e.split(",").forEach(n=>{let i=n;/\d/.exec(n[0])&&(i=VE+i);const a=this.classes.get(i);a&&(a.cssClasses+=" "+r)})}defineClass(e,r){for(const n of e){let i=this.styleClasses.get(n);i===void 0&&(i={id:n,styles:[],textStyles:[]},this.styleClasses.set(n,i)),r&&r.forEach(a=>{if(/color/.exec(a)){const s=a.replace("fill","bgFill");i.textStyles.push(s)}i.styles.push(a)}),this.classes.forEach(a=>{a.cssClasses.includes(n)&&a.styles.push(...r.flatMap(s=>s.split(",")))})}}setTooltip(e,r){e.split(",").forEach(n=>{r!==void 0&&(this.classes.get(n).tooltip=jh(r))})}getTooltip(e,r){return r&&this.namespaces.has(r)?this.namespaces.get(r).classes.get(e).tooltip:this.classes.get(e).tooltip}setLink(e,r,n){const i=Re();e.split(",").forEach(a=>{let s=a;/\d/.exec(a[0])&&(s=VE+s);const o=this.classes.get(s);o&&(o.link=dr.formatUrl(r,i),i.securityLevel==="sandbox"?o.linkTarget="_top":typeof n=="string"?o.linkTarget=jh(n):o.linkTarget="_blank")}),this.setCssClass(e,"clickable")}setClickEvent(e,r,n){e.split(",").forEach(i=>{this.setClickFunc(i,r,n),this.classes.get(i).haveCallback=!0}),this.setCssClass(e,"clickable")}setClickFunc(e,r,n){const i=xt.sanitizeText(e,Re());if(Re().securityLevel!=="loose"||r===void 0)return;const s=i;if(this.classes.has(s)){const o=this.lookUpDomId(s);let l=[];if(typeof n=="string"){l=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let u=0;u<l.length;u++){let h=l[u].trim();h.startsWith('"')&&h.endsWith('"')&&(h=h.substr(1,h.length-2)),l[u]=h}}l.length===0&&l.push(o),this.functions.push(()=>{const u=document.querySelector(`[id="${o}"]`);u!==null&&u.addEventListener("click",()=>{dr.runFunc(r,...l)},!1)})}}bindFunctions(e){this.functions.forEach(r=>{r(e)})}getDirection(){return this.direction}setDirection(e){this.direction=e}addNamespace(e){this.namespaces.has(e)||(this.namespaces.set(e,{id:e,classes:new Map,children:{},domId:VE+e+"-"+this.namespaceCounter}),this.namespaceCounter++)}getNamespace(e){return this.namespaces.get(e)}getNamespaces(){return this.namespaces}addClassesToNamespace(e,r){if(this.namespaces.has(e))for(const n of r){const{className:i}=this.splitClassNameAndType(n);this.classes.get(i).parent=e,this.namespaces.get(e).classes.set(i,this.classes.get(i))}}setCssStyle(e,r){const n=this.classes.get(e);if(!(!r||!n))for(const i of r)i.includes(",")?n.styles.push(...i.split(",")):n.styles.push(i)}getArrowMarker(e){let r;switch(e){case 0:r="aggregation";break;case 1:r="extension";break;case 2:r="composition";break;case 3:r="dependency";break;case 4:r="lollipop";break;default:r="none"}return r}getData(){var a;const e=[],r=[],n=Re();for(const s of this.namespaces.keys()){const o=this.namespaces.get(s);if(o){const l={id:o.id,label:o.id,isGroup:!0,padding:n.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:n.look};e.push(l)}}for(const s of this.classes.keys()){const o=this.classes.get(s);if(o){const l=o;l.parentId=o.parent,l.look=n.look,e.push(l)}}let i=0;for(const s of this.notes){i++;const o={id:s.id,label:s.text,isGroup:!1,shape:"note",padding:n.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${n.themeVariables.noteBkgColor}`,`stroke: ${n.themeVariables.noteBorderColor}`],look:n.look};e.push(o);const l=((a=this.classes.get(s.class))==null?void 0:a.id)??"";if(l){const u={id:`edgeNote${i}`,start:s.id,end:l,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:n.look};r.push(u)}}for(const s of this.interfaces){const o={id:s.id,label:s.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:n.look};e.push(o)}i=0;for(const s of this.relations){i++;const o={id:Yg(s.id1,s.id2,{prefix:"id",counter:i}),start:s.id1,end:s.id2,type:"normal",label:s.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(s.relation.type1),arrowTypeEnd:this.getArrowMarker(s.relation.type2),startLabelRight:s.relationTitle1==="none"?"":s.relationTitle1,endLabelLeft:s.relationTitle2==="none"?"":s.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:s.style||"",pattern:s.relation.lineType==1?"dashed":"solid",look:n.look};r.push(o)}return{nodes:e,edges:r,other:{},config:n,direction:this.getDirection()}}},E(Sp,"ClassDB"),Sp),Ize=E(t=>`g.classGroup text {
  fill: ${t.nodeBorder||t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}

.labelBkg {
  background: ${t.mainBkg};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
  ${I1()}
`,"getStyles"),FK=Ize,Dze=E((t,e="TB")=>{if(!t.doc)return e;let r=e;for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),Oze=E(function(t,e){return e.db.getClasses()},"getClasses"),Mze=E(async function(t,e,r,n){se.info("REF0:"),se.info("Drawing class diagram (v3)",e);const{securityLevel:i,state:a,layout:s}=Re(),o=n.db.getData(),l=D1(e,i);o.type=n.type,o.layoutAlgorithm=Sb(s),o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["aggregation","extension","composition","dependency","lollipop"],o.diagramId=e,await s1(o,l);const u=8;dr.insertTitle(l,"classDiagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),O1(l,u,"classDiagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),$K={getClasses:Oze,draw:Mze,getDir:Dze},Pze={parser:DK,get db(){return new BK},renderer:$K,styles:FK,init:E(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")};const Bze=Object.freeze(Object.defineProperty({__proto__:null,diagram:Pze},Symbol.toStringTag,{value:"Module"}));var Fze={parser:DK,get db(){return new BK},renderer:$K,styles:FK,init:E(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")};const $ze=Object.freeze(Object.defineProperty({__proto__:null,diagram:Fze},Symbol.toStringTag,{value:"Module"}));var N_=function(){var t=E(function(F,B,$,V){for($=$||{},V=F.length;V--;$[F[V]]=B);return $},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,16],l=[1,17],u=[1,18],h=[1,19],d=[1,33],f=[1,20],p=[1,21],g=[1,22],m=[1,23],y=[1,24],v=[1,26],b=[1,27],x=[1,28],T=[1,29],w=[1,30],S=[1,31],k=[1,32],L=[1,35],_=[1,36],N=[1,37],C=[1,38],D=[1,34],P=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],A=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],R=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],O={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:E(function(B,$,V,H,te,X,ee){var re=X.length-1;switch(te){case 3:return H.setRootDoc(X[re]),X[re];case 4:this.$=[];break;case 5:X[re]!="nl"&&(X[re-1].push(X[re]),this.$=X[re-1]);break;case 6:case 7:this.$=X[re];break;case 8:this.$="nl";break;case 12:this.$=X[re];break;case 13:const j=X[re-1];j.description=H.trimColon(X[re]),this.$=j;break;case 14:this.$={stmt:"relation",state1:X[re-2],state2:X[re]};break;case 15:const Y=H.trimColon(X[re]);this.$={stmt:"relation",state1:X[re-3],state2:X[re-1],description:Y};break;case 19:this.$={stmt:"state",id:X[re-3],type:"default",description:"",doc:X[re-1]};break;case 20:var pe=X[re],K=X[re-2].trim();if(X[re].match(":")){var W=X[re].split(":");pe=W[0],K=[K,W[1]]}this.$={stmt:"state",id:pe,type:"default",description:K};break;case 21:this.$={stmt:"state",id:X[re-3],type:"default",description:X[re-5],doc:X[re-1]};break;case 22:this.$={stmt:"state",id:X[re],type:"fork"};break;case 23:this.$={stmt:"state",id:X[re],type:"join"};break;case 24:this.$={stmt:"state",id:X[re],type:"choice"};break;case 25:this.$={stmt:"state",id:H.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:X[re-1].trim(),note:{position:X[re-2].trim(),text:X[re].trim()}};break;case 29:this.$=X[re].trim(),H.setAccTitle(this.$);break;case 30:case 31:this.$=X[re].trim(),H.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:X[re-3],url:X[re-2],tooltip:X[re-1]};break;case 33:this.$={stmt:"click",id:X[re-3],url:X[re-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:X[re-1].trim(),classes:X[re].trim()};break;case 36:this.$={stmt:"style",id:X[re-1].trim(),styleClass:X[re].trim()};break;case 37:this.$={stmt:"applyClass",id:X[re-1].trim(),styleClass:X[re].trim()};break;case 38:H.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:H.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:H.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:H.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:X[re].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:X[re-2].trim(),classes:[X[re].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:X[re-2].trim(),classes:[X[re].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:d,25:f,26:p,27:g,28:m,29:y,32:25,33:v,35:b,37:x,38:T,41:w,45:S,48:k,51:L,52:_,53:N,54:C,57:D},t(P,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:d,25:f,26:p,27:g,28:m,29:y,32:25,33:v,35:b,37:x,38:T,41:w,45:S,48:k,51:L,52:_,53:N,54:C,57:D},t(P,[2,7]),t(P,[2,8]),t(P,[2,9]),t(P,[2,10]),t(P,[2,11]),t(P,[2,12],{14:[1,40],15:[1,41]}),t(P,[2,16]),{18:[1,42]},t(P,[2,18],{20:[1,43]}),{23:[1,44]},t(P,[2,22]),t(P,[2,23]),t(P,[2,24]),t(P,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},t(P,[2,28]),{34:[1,49]},{36:[1,50]},t(P,[2,31]),{13:51,24:d,57:D},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},t(A,[2,44],{58:[1,56]}),t(A,[2,45],{58:[1,57]}),t(P,[2,38]),t(P,[2,39]),t(P,[2,40]),t(P,[2,41]),t(P,[2,6]),t(P,[2,13]),{13:58,24:d,57:D},t(P,[2,17]),t(R,i,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},t(P,[2,29]),t(P,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},t(P,[2,14],{14:[1,71]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,72],22:h,24:d,25:f,26:p,27:g,28:m,29:y,32:25,33:v,35:b,37:x,38:T,41:w,45:S,48:k,51:L,52:_,53:N,54:C,57:D},t(P,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},t(P,[2,34]),t(P,[2,35]),t(P,[2,36]),t(P,[2,37]),t(A,[2,46]),t(A,[2,47]),t(P,[2,15]),t(P,[2,19]),t(R,i,{7:78}),t(P,[2,26]),t(P,[2,27]),{5:[1,79]},{5:[1,80]},{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,81],22:h,24:d,25:f,26:p,27:g,28:m,29:y,32:25,33:v,35:b,37:x,38:T,41:w,45:S,48:k,51:L,52:_,53:N,54:C,57:D},t(P,[2,32]),t(P,[2,33]),t(P,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:E(function(B,$){if($.recoverable)this.trace(B);else{var V=new Error(B);throw V.hash=$,V}},"parseError"),parse:E(function(B){var $=this,V=[0],H=[],te=[null],X=[],ee=this.table,re="",pe=0,K=0,W=2,j=1,Y=X.slice.call(arguments,1),Q=Object.create(this.lexer),ie={yy:{}};for(var J in this.yy)Object.prototype.hasOwnProperty.call(this.yy,J)&&(ie.yy[J]=this.yy[J]);Q.setInput(B,ie.yy),ie.yy.lexer=Q,ie.yy.parser=this,typeof Q.yylloc>"u"&&(Q.yylloc={});var we=Q.yylloc;X.push(we);var ue=Q.options&&Q.options.ranges;typeof ie.yy.parseError=="function"?this.parseError=ie.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ae(Me){V.length=V.length-2*Me,te.length=te.length-Me,X.length=X.length-Me}E(ae,"popStack");function Ue(){var Me;return Me=H.pop()||Q.lex()||j,typeof Me!="number"&&(Me instanceof Array&&(H=Me,Me=H.pop()),Me=$.symbols_[Me]||Me),Me}E(Ue,"lex");for(var xe,Ze,Je,Xe,Pe={},We,he,Te,Be;;){if(Ze=V[V.length-1],this.defaultActions[Ze]?Je=this.defaultActions[Ze]:((xe===null||typeof xe>"u")&&(xe=Ue()),Je=ee[Ze]&&ee[Ze][xe]),typeof Je>"u"||!Je.length||!Je[0]){var ye="";Be=[];for(We in ee[Ze])this.terminals_[We]&&We>W&&Be.push("'"+this.terminals_[We]+"'");Q.showPosition?ye="Parse error on line "+(pe+1)+`:
`+Q.showPosition()+`
Expecting `+Be.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":ye="Parse error on line "+(pe+1)+": Unexpected "+(xe==j?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(ye,{text:Q.match,token:this.terminals_[xe]||xe,line:Q.yylineno,loc:we,expected:Be})}if(Je[0]instanceof Array&&Je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ze+", token: "+xe);switch(Je[0]){case 1:V.push(xe),te.push(Q.yytext),X.push(Q.yylloc),V.push(Je[1]),xe=null,K=Q.yyleng,re=Q.yytext,pe=Q.yylineno,we=Q.yylloc;break;case 2:if(he=this.productions_[Je[1]][1],Pe.$=te[te.length-he],Pe._$={first_line:X[X.length-(he||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(he||1)].first_column,last_column:X[X.length-1].last_column},ue&&(Pe._$.range=[X[X.length-(he||1)].range[0],X[X.length-1].range[1]]),Xe=this.performAction.apply(Pe,[re,K,pe,ie.yy,Je[1],te,X].concat(Y)),typeof Xe<"u")return Xe;he&&(V=V.slice(0,-1*he*2),te=te.slice(0,-1*he),X=X.slice(0,-1*he)),V.push(this.productions_[Je[1]][0]),te.push(Pe.$),X.push(Pe._$),Te=ee[V[V.length-2]][V[V.length-1]],V.push(Te);break;case 3:return!0}}return!0},"parse")},M=function(){var F={EOF:1,parseError:E(function($,V){if(this.yy.parser)this.yy.parser.parseError($,V);else throw new Error($)},"parseError"),setInput:E(function(B,$){return this.yy=$||this.yy||{},this._input=B,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var B=this._input[0];this.yytext+=B,this.yyleng++,this.offset++,this.match+=B,this.matched+=B;var $=B.match(/(?:\r\n?|\n).*/g);return $?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),B},"input"),unput:E(function(B){var $=B.length,V=B.split(/(?:\r\n?|\n)/g);this._input=B+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var H=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),V.length-1&&(this.yylineno-=V.length-1);var te=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:V?(V.length===H.length?this.yylloc.first_column:0)+H[H.length-V.length].length-V[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[te[0],te[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(B){this.unput(this.match.slice(B))},"less"),pastInput:E(function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var B=this.match;return B.length<20&&(B+=this._input.substr(0,20-B.length)),(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var B=this.pastInput(),$=new Array(B.length+1).join("-");return B+this.upcomingInput()+`
`+$+"^"},"showPosition"),test_match:E(function(B,$){var V,H,te;if(this.options.backtrack_lexer&&(te={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(te.yylloc.range=this.yylloc.range.slice(0))),H=B[0].match(/(?:\r\n?|\n).*/g),H&&(this.yylineno+=H.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:H?H[H.length-1].length-H[H.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+B[0].length},this.yytext+=B[0],this.match+=B[0],this.matches=B,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(B[0].length),this.matched+=B[0],V=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),V)return V;if(this._backtrack){for(var X in te)this[X]=te[X];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var B,$,V,H;this._more||(this.yytext="",this.match="");for(var te=this._currentRules(),X=0;X<te.length;X++)if(V=this._input.match(this.rules[te[X]]),V&&(!$||V[0].length>$[0].length)){if($=V,H=X,this.options.backtrack_lexer){if(B=this.test_match(V,te[X]),B!==!1)return B;if(this._backtrack){$=!1;continue}else return!1}else if(!this.options.flex)break}return $?(B=this.test_match($,te[H]),B!==!1?B:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var $=this.next();return $||this.lex()},"lex"),begin:E(function($){this.conditionStack.push($)},"begin"),popState:E(function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},"topState"),pushState:E(function($){this.begin($)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function($,V,H,te){switch(H){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;case 19:return this.popState(),"acc_title_value";case 20:return this.begin("acc_descr"),35;case 21:return this.popState(),"acc_descr_value";case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 27:return this.popState(),this.pushState("CLASSDEFID"),42;case 28:return this.popState(),43;case 29:return this.pushState("CLASS"),48;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;case 31:return this.popState(),50;case 32:return this.pushState("STYLE"),45;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;case 34:return this.popState(),47;case 35:return this.pushState("SCALE"),17;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),V.yytext=V.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),V.yytext=V.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),V.yytext=V.yytext.slice(0,-10).trim(),27;case 42:return this.popState(),V.yytext=V.yytext.slice(0,-8).trim(),25;case 43:return this.popState(),V.yytext=V.yytext.slice(0,-8).trim(),26;case 44:return this.popState(),V.yytext=V.yytext.slice(0,-10).trim(),27;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";case 51:return this.popState(),"ID";case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;case 57:break;case 58:return this.popState(),21;case 59:break;case 60:return this.begin("NOTE"),29;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:return this.popState(),this.pushState("NOTE_ID"),60;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;case 69:return this.popState(),V.yytext=V.yytext.substr(2).trim(),31;case 70:return this.popState(),V.yytext=V.yytext.slice(0,-8).trim(),31;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return V.yytext=V.yytext.trim(),14;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return F}();O.lexer=M;function I(){this.yy={}}return E(I,"Parser"),I.prototype=O,O.Parser=I,new I}();N_.parser=N_;var zK=N_,zze="TB",UK="TB",HK="dir",t0="state",r0="root",R_="relation",Uze="classDef",Hze="style",Gze="applyClass",$m="default",GK="divider",VK="fill:none",qK="fill: #333",WK="c",YK="text",XK="normal",I_="rect",D_="rectWithTitle",Vze="stateStart",qze="stateEnd",KK="divider",jK="roundedWithTitle",Wze="note",Yze="noteGroup",zm="statediagram",Xze="state",Kze=`${zm}-${Xze}`,QK="transition",jze="note",Qze="note-edge",Zze=`${QK} ${Qze}`,Jze=`${zm}-${jze}`,eUe="cluster",tUe=`${zm}-${eUe}`,rUe="cluster-alt",nUe=`${zm}-${rUe}`,ZK="parent",JK="note",iUe="state",O_="----",aUe=`${O_}${JK}`,ej=`${O_}${ZK}`,tj=E((t,e=UK)=>{if(!t.doc)return e;let r=e;for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),sUe=E(function(t,e){return e.db.getClasses()},"getClasses"),oUe=E(async function(t,e,r,n){se.info("REF0:"),se.info("Drawing state diagram (v2)",e);const{securityLevel:i,state:a,layout:s}=Re();n.db.extract(n.db.getRootDocV2());const o=n.db.getData(),l=D1(e,i);o.type=n.type,o.layoutAlgorithm=s,o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["barb"],o.diagramId=e,await s1(o,l);const u=8;try{(typeof n.db.getLinks=="function"?n.db.getLinks():new Map).forEach((d,f)=>{var x;const p=typeof f=="string"?f:typeof(f==null?void 0:f.id)=="string"?f.id:"";if(!p){se.warn("⚠️ Invalid or missing stateId from key:",JSON.stringify(f));return}const g=(x=l.node())==null?void 0:x.querySelectorAll("g");let m;if(g==null||g.forEach(T=>{var S;((S=T.textContent)==null?void 0:S.trim())===p&&(m=T)}),!m){se.warn("⚠️ Could not find node matching text:",p);return}const y=m.parentNode;if(!y){se.warn("⚠️ Node has no parent, cannot wrap:",p);return}const v=document.createElementNS("http://www.w3.org/2000/svg","a"),b=d.url.replace(/^"+|"+$/g,"");if(v.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b),v.setAttribute("target","_blank"),d.tooltip){const T=d.tooltip.replace(/^"+|"+$/g,"");v.setAttribute("title",T)}y.replaceChild(v,m),v.appendChild(m),se.info("🔗 Wrapped node in <a> tag for:",p,d.url)})}catch(h){se.error("❌ Error injecting clickable links:",h)}dr.insertTitle(l,"statediagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),O1(l,u,zm,(a==null?void 0:a.useMaxWidth)??!0)},"draw"),lUe={getClasses:sUe,draw:oUe,getDir:tj},qE=new Map,gu=0;function WE(t="",e=0,r="",n=O_){const i=r!==null&&r.length>0?`${n}${r}`:"";return`${iUe}-${t}${i}-${e}`}E(WE,"stateDomId");var cUe=E((t,e,r,n,i,a,s,o)=>{se.trace("items",e),e.forEach(l=>{switch(l.stmt){case t0:Hm(t,l,r,n,i,a,s,o);break;case $m:Hm(t,l,r,n,i,a,s,o);break;case R_:{Hm(t,l.state1,r,n,i,a,s,o),Hm(t,l.state2,r,n,i,a,s,o);const u={id:"edge"+gu,start:l.state1.id,end:l.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:VK,labelStyle:"",label:xt.sanitizeText(l.description??"",Re()),arrowheadStyle:qK,labelpos:WK,labelType:YK,thickness:XK,classes:QK,look:s};i.push(u),gu++}break}})},"setupDoc"),rj=E((t,e=UK)=>{let r=e;if(t.doc)for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");function Um(t,e,r){if(!e.id||e.id==="</join></fork>"||e.id==="</choice>")return;e.cssClasses&&(Array.isArray(e.cssCompiledStyles)||(e.cssCompiledStyles=[]),e.cssClasses.split(" ").forEach(i=>{const a=r.get(i);a&&(e.cssCompiledStyles=[...e.cssCompiledStyles??[],...a.styles])}));const n=t.find(i=>i.id===e.id);n?Object.assign(n,e):t.push(e)}E(Um,"insertOrUpdateNode");function nj(t){var e;return((e=t==null?void 0:t.classes)==null?void 0:e.join(" "))??""}E(nj,"getClassesFromDbInfo");function ij(t){return(t==null?void 0:t.styles)??[]}E(ij,"getStylesFromDbInfo");var Hm=E((t,e,r,n,i,a,s,o)=>{var p,g,m;const l=e.id,u=r.get(l),h=nj(u),d=ij(u),f=Re();if(se.info("dataFetcher parsedItem",e,u,d),l!=="root"){let y=I_;e.start===!0?y=Vze:e.start===!1&&(y=qze),e.type!==$m&&(y=e.type),qE.get(l)||qE.set(l,{id:l,shape:y,description:xt.sanitizeText(l,f),cssClasses:`${h} ${Kze}`,cssStyles:d});const v=qE.get(l);e.description&&(Array.isArray(v.description)?(v.shape=D_,v.description.push(e.description)):(p=v.description)!=null&&p.length&&v.description.length>0?(v.shape=D_,v.description===l?v.description=[e.description]:v.description=[v.description,e.description]):(v.shape=I_,v.description=e.description),v.description=xt.sanitizeTextOrArray(v.description,f)),((g=v.description)==null?void 0:g.length)===1&&v.shape===D_&&(v.type==="group"?v.shape=jK:v.shape=I_),!v.type&&e.doc&&(se.info("Setting cluster for XCX",l,rj(e)),v.type="group",v.isGroup=!0,v.dir=rj(e),v.shape=e.type===GK?KK:jK,v.cssClasses=`${v.cssClasses} ${tUe} ${a?nUe:""}`);const b={labelStyle:"",shape:v.shape,label:v.description,cssClasses:v.cssClasses,cssCompiledStyles:[],cssStyles:v.cssStyles,id:l,dir:v.dir,domId:WE(l,gu),type:v.type,isGroup:v.type==="group",padding:8,rx:10,ry:10,look:s};if(b.shape===KK&&(b.label=""),t&&t.id!=="root"&&(se.trace("Setting node ",l," to be child of its parent ",t.id),b.parentId=t.id),b.centerLabel=!0,e.note){const x={labelStyle:"",shape:Wze,label:e.note.text,cssClasses:Jze,cssStyles:[],cssCompiledStyles:[],id:l+aUe+"-"+gu,domId:WE(l,gu,JK),type:v.type,isGroup:v.type==="group",padding:(m=f.flowchart)==null?void 0:m.padding,look:s,position:e.note.position},T=l+ej,w={labelStyle:"",shape:Yze,label:e.note.text,cssClasses:v.cssClasses,cssStyles:[],id:l+ej,domId:WE(l,gu,ZK),type:"group",isGroup:!0,padding:16,look:s,position:e.note.position};gu++,w.id=T,x.parentId=T,Um(n,w,o),Um(n,x,o),Um(n,b,o);let S=l,k=x.id;e.note.position==="left of"&&(S=x.id,k=l),i.push({id:S+"-"+k,start:S,end:k,arrowhead:"none",arrowTypeEnd:"",style:VK,labelStyle:"",classes:Zze,arrowheadStyle:qK,labelpos:WK,labelType:YK,thickness:XK,look:s})}else Um(n,b,o)}e.doc&&(se.trace("Adding nodes children "),cUe(e,e.doc,r,n,i,!a,s,o))},"dataFetcher"),uUe=E(()=>{qE.clear(),gu=0},"reset"),Ma={START_NODE:"[*]",START_TYPE:"start",END_NODE:"[*]",END_TYPE:"end",COLOR_KEYWORD:"color",FILL_KEYWORD:"fill",BG_FILL:"bgFill",STYLECLASS_SEP:","},aj=E(()=>new Map,"newClassesList"),sj=E(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),YE=E(t=>JSON.parse(JSON.stringify(t)),"clone"),Qh=(yd=class{constructor(e){this.version=e,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=aj(),this.documents={root:sj()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=ki,this.setAccTitle=oi,this.getAccDescription=_i,this.setAccDescription=Ci,this.setDiagramTitle=Fi,this.getDiagramTitle=li,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}extract(e){this.clear(!0);for(const i of Array.isArray(e)?e:e.doc)switch(i.stmt){case t0:this.addState(i.id.trim(),i.type,i.doc,i.description,i.note);break;case R_:this.addRelation(i.state1,i.state2,i.description);break;case Uze:this.addStyleClass(i.id.trim(),i.classes);break;case Hze:this.handleStyleDef(i);break;case Gze:this.setCssClass(i.id.trim(),i.styleClass);break;case"click":this.addLink(i.id,i.url,i.tooltip);break}const r=this.getStates(),n=Re();uUe(),Hm(void 0,this.getRootDocV2(),r,this.nodes,this.edges,!0,n.look,this.classes);for(const i of this.nodes)if(Array.isArray(i.label)){if(i.description=i.label.slice(1),i.isGroup&&i.description.length>0)throw new Error(`Group nodes can only have label. Remove the additional description for node [${i.id}]`);i.label=i.label[0]}}handleStyleDef(e){const r=e.id.trim().split(","),n=e.styleClass.split(",");for(const i of r){let a=this.getState(i);if(!a){const s=i.trim();this.addState(s),a=this.getState(s)}a&&(a.styles=n.map(s=>{var o;return(o=s.replace(/;/g,""))==null?void 0:o.trim()}))}}setRootDoc(e){se.info("Setting root doc",e),this.rootDoc=e,this.version===1?this.extract(e):this.extract(this.getRootDocV2())}docTranslator(e,r,n){if(r.stmt===R_){this.docTranslator(e,r.state1,!0),this.docTranslator(e,r.state2,!1);return}if(r.stmt===t0&&(r.id===Ma.START_NODE?(r.id=e.id+(n?"_start":"_end"),r.start=n):r.id=r.id.trim()),r.stmt!==r0&&r.stmt!==t0||!r.doc)return;const i=[];let a=[];for(const s of r.doc)if(s.type===GK){const o=YE(s);o.doc=YE(a),i.push(o),a=[]}else a.push(s);if(i.length>0&&a.length>0){const s={stmt:t0,id:_B(),type:"divider",doc:YE(a)};i.push(YE(s)),r.doc=i}r.doc.forEach(s=>this.docTranslator(r,s,!0))}getRootDocV2(){return this.docTranslator({id:r0,stmt:r0},{id:r0,stmt:r0,doc:this.rootDoc},!0),{id:r0,doc:this.rootDoc}}addState(e,r=$m,n=void 0,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0){const u=e==null?void 0:e.trim();if(!this.currentDocument.states.has(u))se.info("Adding state ",u,i),this.currentDocument.states.set(u,{stmt:t0,id:u,descriptions:[],type:r,doc:n,note:a,classes:[],styles:[],textStyles:[]});else{const h=this.currentDocument.states.get(u);if(!h)throw new Error(`State not found: ${u}`);h.doc||(h.doc=n),h.type||(h.type=r)}if(i&&(se.info("Setting state description",u,i),(Array.isArray(i)?i:[i]).forEach(d=>this.addDescription(u,d.trim()))),a){const h=this.currentDocument.states.get(u);if(!h)throw new Error(`State not found: ${u}`);h.note=a,h.note.text=xt.sanitizeText(h.note.text,Re())}s&&(se.info("Setting state classes",u,s),(Array.isArray(s)?s:[s]).forEach(d=>this.setCssClass(u,d.trim()))),o&&(se.info("Setting state styles",u,o),(Array.isArray(o)?o:[o]).forEach(d=>this.setStyle(u,d.trim()))),l&&(se.info("Setting state styles",u,o),(Array.isArray(l)?l:[l]).forEach(d=>this.setTextStyle(u,d.trim())))}clear(e){this.nodes=[],this.edges=[],this.documents={root:sj()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=aj(),e||(this.links=new Map,si())}getState(e){return this.currentDocument.states.get(e)}getStates(){return this.currentDocument.states}logDocuments(){se.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(e,r,n){this.links.set(e,{url:r,tooltip:n}),se.warn("Adding link",e,r,n)}getLinks(){return this.links}startIdIfNeeded(e=""){return e===Ma.START_NODE?(this.startEndCount++,`${Ma.START_TYPE}${this.startEndCount}`):e}startTypeIfNeeded(e="",r=$m){return e===Ma.START_NODE?Ma.START_TYPE:r}endIdIfNeeded(e=""){return e===Ma.END_NODE?(this.startEndCount++,`${Ma.END_TYPE}${this.startEndCount}`):e}endTypeIfNeeded(e="",r=$m){return e===Ma.END_NODE?Ma.END_TYPE:r}addRelationObjs(e,r,n=""){const i=this.startIdIfNeeded(e.id.trim()),a=this.startTypeIfNeeded(e.id.trim(),e.type),s=this.startIdIfNeeded(r.id.trim()),o=this.startTypeIfNeeded(r.id.trim(),r.type);this.addState(i,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),this.addState(s,o,r.doc,r.description,r.note,r.classes,r.styles,r.textStyles),this.currentDocument.relations.push({id1:i,id2:s,relationTitle:xt.sanitizeText(n,Re())})}addRelation(e,r,n){if(typeof e=="object"&&typeof r=="object")this.addRelationObjs(e,r,n);else if(typeof e=="string"&&typeof r=="string"){const i=this.startIdIfNeeded(e.trim()),a=this.startTypeIfNeeded(e),s=this.endIdIfNeeded(r.trim()),o=this.endTypeIfNeeded(r);this.addState(i,a),this.addState(s,o),this.currentDocument.relations.push({id1:i,id2:s,relationTitle:n?xt.sanitizeText(n,Re()):void 0})}}addDescription(e,r){var a;const n=this.currentDocument.states.get(e),i=r.startsWith(":")?r.replace(":","").trim():r;(a=n==null?void 0:n.descriptions)==null||a.push(xt.sanitizeText(i,Re()))}cleanupLabel(e){return e.startsWith(":")?e.slice(2).trim():e.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(e,r=""){this.classes.has(e)||this.classes.set(e,{id:e,styles:[],textStyles:[]});const n=this.classes.get(e);r&&n&&r.split(Ma.STYLECLASS_SEP).forEach(i=>{const a=i.replace(/([^;]*);/,"$1").trim();if(RegExp(Ma.COLOR_KEYWORD).exec(i)){const o=a.replace(Ma.FILL_KEYWORD,Ma.BG_FILL).replace(Ma.COLOR_KEYWORD,Ma.FILL_KEYWORD);n.textStyles.push(o)}n.styles.push(a)})}getClasses(){return this.classes}setCssClass(e,r){e.split(",").forEach(n=>{var a;let i=this.getState(n);if(!i){const s=n.trim();this.addState(s),i=this.getState(s)}(a=i==null?void 0:i.classes)==null||a.push(r)})}setStyle(e,r){var n,i;(i=(n=this.getState(e))==null?void 0:n.styles)==null||i.push(r)}setTextStyle(e,r){var n,i;(i=(n=this.getState(e))==null?void 0:n.textStyles)==null||i.push(r)}getDirectionStatement(){return this.rootDoc.find(e=>e.stmt===HK)}getDirection(){var e;return((e=this.getDirectionStatement())==null?void 0:e.value)??zze}setDirection(e){const r=this.getDirectionStatement();r?r.value=e:this.rootDoc.unshift({stmt:HK,value:e})}trimColon(e){return e.startsWith(":")?e.slice(1).trim():e.trim()}getData(){const e=Re();return{nodes:this.nodes,edges:this.edges,other:{},config:e,direction:tj(this.getRootDocV2())}}getConfig(){return Re().state}},E(yd,"StateDB"),yd.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},yd),hUe=E(t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${t.edgeLabelBackground};
  p {
    background-color: ${t.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${t.edgeLabelBackground};
    fill: ${t.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),oj=hUe,dUe=E(t=>t.append("circle").attr("class","start-state").attr("r",Re().state.sizeUnit).attr("cx",Re().state.padding+Re().state.sizeUnit).attr("cy",Re().state.padding+Re().state.sizeUnit),"drawStartState"),fUe=E(t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Re().state.textHeight).attr("class","divider").attr("x2",Re().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),pUe=E((t,e)=>{const r=t.append("text").attr("x",2*Re().state.padding).attr("y",Re().state.textHeight+2*Re().state.padding).attr("font-size",Re().state.fontSize).attr("class","state-title").text(e.id),n=r.node().getBBox();return t.insert("rect",":first-child").attr("x",Re().state.padding).attr("y",Re().state.padding).attr("width",n.width+2*Re().state.padding).attr("height",n.height+2*Re().state.padding).attr("rx",Re().state.radius),r},"drawSimpleState"),gUe=E((t,e)=>{const r=E(function(f,p,g){const m=f.append("tspan").attr("x",2*Re().state.padding).text(p);g||m.attr("dy",Re().state.textHeight)},"addTspan"),i=t.append("text").attr("x",2*Re().state.padding).attr("y",Re().state.textHeight+1.3*Re().state.padding).attr("font-size",Re().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),a=i.height,s=t.append("text").attr("x",Re().state.padding).attr("y",a+Re().state.padding*.4+Re().state.dividerMargin+Re().state.textHeight).attr("class","state-description");let o=!0,l=!0;e.descriptions.forEach(function(f){o||(r(s,f,l),l=!1),o=!1});const u=t.append("line").attr("x1",Re().state.padding).attr("y1",Re().state.padding+a+Re().state.dividerMargin/2).attr("y2",Re().state.padding+a+Re().state.dividerMargin/2).attr("class","descr-divider"),h=s.node().getBBox(),d=Math.max(h.width,i.width);return u.attr("x2",d+3*Re().state.padding),t.insert("rect",":first-child").attr("x",Re().state.padding).attr("y",Re().state.padding).attr("width",d+2*Re().state.padding).attr("height",h.height+a+2*Re().state.padding).attr("rx",Re().state.radius),t},"drawDescrState"),mUe=E((t,e,r)=>{const n=Re().state.padding,i=2*Re().state.padding,a=t.node().getBBox(),s=a.width,o=a.x,l=t.append("text").attr("x",0).attr("y",Re().state.titleShift).attr("font-size",Re().state.fontSize).attr("class","state-title").text(e.id),h=l.node().getBBox().width+i;let d=Math.max(h,s);d===s&&(d=d+i);let f;const p=t.node().getBBox();e.doc,f=o-n,h>s&&(f=(s-d)/2+n),Math.abs(o-p.x)<n&&h>s&&(f=o-(h-s)/2);const g=1-Re().state.textHeight;return t.insert("rect",":first-child").attr("x",f).attr("y",g).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",p.height+Re().state.textHeight+Re().state.titleShift+1).attr("rx","0"),l.attr("x",f+n),h<=s&&l.attr("x",o+(d-i)/2-h/2+n),t.insert("rect",":first-child").attr("x",f).attr("y",Re().state.titleShift-Re().state.textHeight-Re().state.padding).attr("width",d).attr("height",Re().state.textHeight*3).attr("rx",Re().state.radius),t.insert("rect",":first-child").attr("x",f).attr("y",Re().state.titleShift-Re().state.textHeight-Re().state.padding).attr("width",d).attr("height",p.height+3+2*Re().state.textHeight).attr("rx",Re().state.radius),t},"addTitleAndBox"),yUe=E(t=>(t.append("circle").attr("class","end-state-outer").attr("r",Re().state.sizeUnit+Re().state.miniPadding).attr("cx",Re().state.padding+Re().state.sizeUnit+Re().state.miniPadding).attr("cy",Re().state.padding+Re().state.sizeUnit+Re().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",Re().state.sizeUnit).attr("cx",Re().state.padding+Re().state.sizeUnit+2).attr("cy",Re().state.padding+Re().state.sizeUnit+2)),"drawEndState"),vUe=E((t,e)=>{let r=Re().state.forkWidth,n=Re().state.forkHeight;if(e.parentId){let i=r;r=n,n=i}return t.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",Re().state.padding).attr("y",Re().state.padding)},"drawForkJoinState"),bUe=E((t,e,r,n)=>{let i=0;const a=n.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const o=s.split(xt.lineBreakRegex);let l=1.25*Re().state.noteMargin;for(const u of o){const h=u.trim();if(h.length>0){const d=a.append("tspan");if(d.text(h),l===0){const f=d.node().getBBox();l+=f.height}i+=l,d.attr("x",e+Re().state.noteMargin),d.attr("y",r+i+1.25*Re().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},"_drawLongText"),xUe=E((t,e)=>{e.attr("class","state-note");const r=e.append("rect").attr("x",0).attr("y",Re().state.padding),n=e.append("g"),{textWidth:i,textHeight:a}=bUe(t,0,0,n);return r.attr("height",a+2*Re().state.noteMargin),r.attr("width",i+Re().state.noteMargin*2),r},"drawNote"),lj=E(function(t,e){const r=e.id,n={id:r,label:e.id,width:0,height:0},i=t.append("g").attr("id",r).attr("class","stateGroup");e.type==="start"&&dUe(i),e.type==="end"&&yUe(i),(e.type==="fork"||e.type==="join")&&vUe(i,e),e.type==="note"&&xUe(e.note.text,i),e.type==="divider"&&fUe(i),e.type==="default"&&e.descriptions.length===0&&pUe(i,e),e.type==="default"&&e.descriptions.length>0&&gUe(i,e);const a=i.node().getBBox();return n.width=a.width+2*Re().state.padding,n.height=a.height+2*Re().state.padding,n},"drawState"),cj=0,EUe=E(function(t,e,r){const n=E(function(l){switch(l){case Qh.relationType.AGGREGATION:return"aggregation";case Qh.relationType.EXTENSION:return"extension";case Qh.relationType.COMPOSITION:return"composition";case Qh.relationType.DEPENDENCY:return"dependency"}},"getRelationType");e.points=e.points.filter(l=>!Number.isNaN(l.y));const i=e.points,a=Mg().x(function(l){return l.x}).y(function(l){return l.y}).curve(sf),s=t.append("path").attr("d",a(i)).attr("id","edge"+cj).attr("class","transition");let o="";if(Re().state.arrowMarkerAbsolute&&(o=sg(!0)),s.attr("marker-end","url("+o+"#"+n(Qh.relationType.DEPENDENCY)+"End)"),r.title!==void 0){const l=t.append("g").attr("class","stateLabel"),{x:u,y:h}=dr.calcLabelPosition(e.points),d=xt.getRows(r.title);let f=0;const p=[];let g=0,m=0;for(let b=0;b<=d.length;b++){const x=l.append("text").attr("text-anchor","middle").text(d[b]).attr("x",u).attr("y",h+f),T=x.node().getBBox();g=Math.max(g,T.width),m=Math.min(m,T.x),se.info(T.x,u,h+f),f===0&&(f=x.node().getBBox().height,se.info("Title height",f,h)),p.push(x)}let y=f*d.length;if(d.length>1){const b=(d.length-1)*f*.5;p.forEach((x,T)=>x.attr("y",h+T*f-b)),y=f*d.length}const v=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-g/2-Re().state.padding/2).attr("y",h-y/2-Re().state.padding/2-3.5).attr("width",g+Re().state.padding).attr("height",y+Re().state.padding),se.info(v)}cj++},"drawEdge"),Ls,M_={},TUe=E(function(){},"setConf"),wUe=E(function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),SUe=E(function(t,e,r,n){Ls=Re().state;const i=Re().securityLevel;let a;i==="sandbox"&&(a=mt("#i"+e));const s=mt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=i==="sandbox"?a.nodes()[0].contentDocument:document;se.debug("Rendering diagram "+t);const l=s.select(`[id='${e}']`);wUe(l);const u=n.db.getRootDoc();uj(u,l,void 0,!1,s,o,n);const h=Ls.padding,d=l.node().getBBox(),f=d.width+h*2,p=d.height+h*2,g=f*1.75;qa(l,p,g,Ls.useMaxWidth),l.attr("viewBox",`${d.x-Ls.padding}  ${d.y-Ls.padding} `+f+" "+p)},"draw"),kUe=E(t=>t?t.length*Ls.fontSizeFactor:1,"getLabelWidth"),uj=E((t,e,r,n,i,a,s)=>{const o=new es({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<t.length;l++)if(t[l].stmt==="relation"){u=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:Ls.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:Ls.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}});const h=s.db.getStates(),d=s.db.getRelations(),f=Object.keys(h);for(const v of f){const b=h[v];r&&(b.parentId=r);let x;if(b.doc){let T=e.append("g").attr("id",b.id).attr("class","stateGroup");x=uj(b.doc,T,b.id,!n,i,a,s);{T=mUe(T,b,n);let w=T.node().getBBox();x.width=w.width,x.height=w.height+Ls.padding/2,M_[b.id]={y:Ls.compositTitleSize}}}else x=lj(e,b,o);if(b.note){const T={descriptions:[],id:b.id+"-note",note:b.note,type:"note"},w=lj(e,T,o);b.note.position==="left of"?(o.setNode(x.id+"-note",w),o.setNode(x.id,x)):(o.setNode(x.id,x),o.setNode(x.id+"-note",w)),o.setParent(x.id,x.id+"-group"),o.setParent(x.id+"-note",x.id+"-group")}else o.setNode(x.id,x)}se.debug("Count=",o.nodeCount(),o);let p=0;d.forEach(function(v){p++,se.debug("Setting edge",v),o.setEdge(v.id1,v.id2,{relation:v,width:kUe(v.title),height:Ls.labelHeight*xt.getRows(v.title).length,labelpos:"c"},"id"+p)}),ZG(o),se.debug("Graph after layout",o.nodes());const g=e.node();o.nodes().forEach(function(v){v!==void 0&&o.node(v)!==void 0?(se.warn("Node "+v+": "+JSON.stringify(o.node(v))),i.select("#"+g.id+" #"+v).attr("transform","translate("+(o.node(v).x-o.node(v).width/2)+","+(o.node(v).y+(M_[v]?M_[v].y:0)-o.node(v).height/2)+" )"),i.select("#"+g.id+" #"+v).attr("data-x-shift",o.node(v).x-o.node(v).width/2),a.querySelectorAll("#"+g.id+" #"+v+" .divider").forEach(x=>{const T=x.parentElement;let w=0,S=0;T&&(T.parentElement&&(w=T.parentElement.getBBox().width),S=parseInt(T.getAttribute("data-x-shift"),10),Number.isNaN(S)&&(S=0)),x.setAttribute("x1",0-S+8),x.setAttribute("x2",w-S-8)})):se.debug("No Node "+v+": "+JSON.stringify(o.node(v)))});let m=g.getBBox();o.edges().forEach(function(v){v!==void 0&&o.edge(v)!==void 0&&(se.debug("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(o.edge(v))),EUe(e,o.edge(v),o.edge(v).relation))}),m=g.getBBox();const y={id:r||"root",label:r||"root",width:0,height:0};return y.width=m.width+2*Ls.padding,y.height=m.height+2*Ls.padding,se.debug("Doc rendered",y,o),y},"renderDoc"),CUe={setConf:TUe,draw:SUe},_Ue={parser:zK,get db(){return new Qh(1)},renderer:CUe,styles:oj,init:E(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")};const AUe=Object.freeze(Object.defineProperty({__proto__:null,diagram:_Ue},Symbol.toStringTag,{value:"Module"}));var LUe={parser:zK,get db(){return new Qh(2)},renderer:lUe,styles:oj,init:E(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")};const NUe=Object.freeze(Object.defineProperty({__proto__:null,diagram:LUe},Symbol.toStringTag,{value:"Module"}));var P_=function(){var t=E(function(d,f,p,g){for(p=p||{},g=d.length;g--;p[d[g]]=f);return p},"o"),e=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,14],l={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:E(function(f,p,g,m,y,v,b){var x=v.length-1;switch(y){case 1:return v[x-1];case 2:this.$=[];break;case 3:v[x-1].push(v[x]),this.$=v[x-1];break;case 4:case 5:this.$=v[x];break;case 6:case 7:this.$=[];break;case 8:m.setDiagramTitle(v[x].substr(6)),this.$=v[x].substr(6);break;case 9:this.$=v[x].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=v[x].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(v[x].substr(8)),this.$=v[x].substr(8);break;case 13:m.addTask(v[x-1],v[x]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:o},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:15,11:r,12:n,14:i,16:a,17:s,18:o},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,16]},{15:[1,17]},t(e,[2,11]),t(e,[2,12]),{19:[1,18]},t(e,[2,4]),t(e,[2,9]),t(e,[2,10]),t(e,[2,13])],defaultActions:{},parseError:E(function(f,p){if(p.recoverable)this.trace(f);else{var g=new Error(f);throw g.hash=p,g}},"parseError"),parse:E(function(f){var p=this,g=[0],m=[],y=[null],v=[],b=this.table,x="",T=0,w=0,S=2,k=1,L=v.slice.call(arguments,1),_=Object.create(this.lexer),N={yy:{}};for(var C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(N.yy[C]=this.yy[C]);_.setInput(f,N.yy),N.yy.lexer=_,N.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var D=_.yylloc;v.push(D);var P=_.options&&_.options.ranges;typeof N.yy.parseError=="function"?this.parseError=N.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(ee){g.length=g.length-2*ee,y.length=y.length-ee,v.length=v.length-ee}E(A,"popStack");function R(){var ee;return ee=m.pop()||_.lex()||k,typeof ee!="number"&&(ee instanceof Array&&(m=ee,ee=m.pop()),ee=p.symbols_[ee]||ee),ee}E(R,"lex");for(var O,M,I,F,B={},$,V,H,te;;){if(M=g[g.length-1],this.defaultActions[M]?I=this.defaultActions[M]:((O===null||typeof O>"u")&&(O=R()),I=b[M]&&b[M][O]),typeof I>"u"||!I.length||!I[0]){var X="";te=[];for($ in b[M])this.terminals_[$]&&$>S&&te.push("'"+this.terminals_[$]+"'");_.showPosition?X="Parse error on line "+(T+1)+`:
`+_.showPosition()+`
Expecting `+te.join(", ")+", got '"+(this.terminals_[O]||O)+"'":X="Parse error on line "+(T+1)+": Unexpected "+(O==k?"end of input":"'"+(this.terminals_[O]||O)+"'"),this.parseError(X,{text:_.match,token:this.terminals_[O]||O,line:_.yylineno,loc:D,expected:te})}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+M+", token: "+O);switch(I[0]){case 1:g.push(O),y.push(_.yytext),v.push(_.yylloc),g.push(I[1]),O=null,w=_.yyleng,x=_.yytext,T=_.yylineno,D=_.yylloc;break;case 2:if(V=this.productions_[I[1]][1],B.$=y[y.length-V],B._$={first_line:v[v.length-(V||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(V||1)].first_column,last_column:v[v.length-1].last_column},P&&(B._$.range=[v[v.length-(V||1)].range[0],v[v.length-1].range[1]]),F=this.performAction.apply(B,[x,w,T,N.yy,I[1],y,v].concat(L)),typeof F<"u")return F;V&&(g=g.slice(0,-1*V*2),y=y.slice(0,-1*V),v=v.slice(0,-1*V)),g.push(this.productions_[I[1]][0]),y.push(B.$),v.push(B._$),H=b[g[g.length-2]][g[g.length-1]],g.push(H);break;case 3:return!0}}return!0},"parse")},u=function(){var d={EOF:1,parseError:E(function(p,g){if(this.yy.parser)this.yy.parser.parseError(p,g);else throw new Error(p)},"parseError"),setInput:E(function(f,p){return this.yy=p||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var p=f.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:E(function(f){var p=f.length,g=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var m=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),g.length-1&&(this.yylineno-=g.length-1);var y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?(g.length===m.length?this.yylloc.first_column:0)+m[m.length-g.length].length-g[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[y[0],y[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(f){this.unput(this.match.slice(f))},"less"),pastInput:E(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var f=this.pastInput(),p=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+p+"^"},"showPosition"),test_match:E(function(f,p){var g,m,y;if(this.options.backtrack_lexer&&(y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(y.yylloc.range=this.yylloc.range.slice(0))),m=f[0].match(/(?:\r\n?|\n).*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],g=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),g)return g;if(this._backtrack){for(var v in y)this[v]=y[v];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,p,g,m;this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),v=0;v<y.length;v++)if(g=this._input.match(this.rules[y[v]]),g&&(!p||g[0].length>p[0].length)){if(p=g,m=v,this.options.backtrack_lexer){if(f=this.test_match(g,y[v]),f!==!1)return f;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(f=this.test_match(p,y[m]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var p=this.next();return p||this.lex()},"lex"),begin:E(function(p){this.conditionStack.push(p)},"begin"),popState:E(function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:E(function(p){this.begin(p)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(p,g,m,y){switch(m){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return d}();l.lexer=u;function h(){this.yy={}}return E(h,"Parser"),h.prototype=l,l.Parser=h,new h}();P_.parser=P_;var RUe=P_,n0="",B_=[],Gm=[],Vm=[],IUe=E(function(){B_.length=0,Gm.length=0,n0="",Vm.length=0,si()},"clear"),DUe=E(function(t){n0=t,B_.push(t)},"addSection"),OUe=E(function(){return B_},"getSections"),MUe=E(function(){let t=hj();const e=100;let r=0;for(;!t&&r<e;)t=hj(),r++;return Gm.push(...Vm),Gm},"getTasks"),PUe=E(function(){const t=[];return Gm.forEach(r=>{r.people&&t.push(...r.people)}),[...new Set(t)].sort()},"updateActors"),BUe=E(function(t,e){const r=e.substr(1).split(":");let n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));const a=i.map(o=>o.trim()),s={section:n0,type:n0,people:a,task:t,score:n};Vm.push(s)},"addTask"),FUe=E(function(t){const e={section:n0,type:n0,description:t,task:t,classes:[]};Gm.push(e)},"addTaskOrg"),hj=E(function(){const t=E(function(r){return Vm[r].processed},"compileTask");let e=!0;for(const[r,n]of Vm.entries())t(r),e=e&&n.processed;return e},"compileTasks"),$Ue=E(function(){return PUe()},"getActors"),dj={getConfig:E(()=>Re().journey,"getConfig"),clear:IUe,setDiagramTitle:Fi,getDiagramTitle:li,setAccTitle:oi,getAccTitle:ki,setAccDescription:Ci,getAccDescription:_i,addSection:DUe,getSections:OUe,getTasks:MUe,addTask:BUe,addTaskOrg:FUe,getActors:$Ue},zUe=E(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
    font-family: ${t.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
  ${I1()}
`,"getStyles"),UUe=zUe,F_=E(function(t,e){return ax(t,e)},"drawRect"),HUe=E(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=af().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}E(a,"smile");function s(l){const u=af().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}E(s,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return E(o,"ambivalent"),e.score>3?a(i):e.score<3?s(i):o(i),n},"drawFace"),fj=E(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),pj=E(function(t,e){return _Ne(t,e)},"drawText"),GUe=E(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}E(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,pj(t,e)},"drawLabel"),VUe=E(function(t,e,r){const n=t.append("g"),i=Ah();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width*e.taskCount+r.diagramMarginX*(e.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,F_(n,i),mj(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),gj=-1,qUe=E(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");gj++;const a=300+5*30;i.append("line").attr("id","task"+gj).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),HUe(i,{cx:n,cy:300+(5-e.score)*30,score:e.score});const s=Ah();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,F_(i,s);let o=e.x+14;e.people.forEach(l=>{const u=e.actors[l].color,h={cx:o,cy:e.y,r:7,fill:u,stroke:"#000",title:l,pos:e.actors[l].position};fj(i,h),o+=10}),mj(r)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,e.colour)},"drawTask"),WUe=E(function(t,e){sV(t,e)},"drawBackgroundRect"),mj=function(){function t(i,a,s,o,l,u,h,d){const f=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);n(f,h)}E(t,"byText");function e(i,a,s,o,l,u,h,d,f){const{taskFontSize:p,taskFontFamily:g}=d,m=i.split(/<br\s*\/?>/gi);for(let y=0;y<m.length;y++){const v=y*p-p*(m.length-1)/2,b=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",f).style("text-anchor","middle").style("font-size",p).style("font-family",g);b.append("tspan").attr("x",s+l/2).attr("dy",v).text(m[y]),b.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,h)}}E(e,"byTspan");function r(i,a,s,o,l,u,h,d){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,s,o,l,u,h,d),n(g,h)}E(r,"byFo");function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return E(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),YUe=E(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),qm={drawRect:F_,drawCircle:fj,drawSection:VUe,drawText:pj,drawLabel:GUe,drawTask:qUe,drawBackgroundRect:WUe,initGraphics:YUe},XUe=E(function(t){Object.keys(t).forEach(function(r){_o[r]=t[r]})},"setConf"),mc={},XE=0;function yj(t){const e=Re().journey,r=e.maxLabelWidth;XE=0;let n=60;Object.keys(mc).forEach(i=>{const a=mc[i].color,s={cx:20,cy:n,r:7,fill:a,stroke:"#000",pos:mc[i].position};qm.drawCircle(t,s);let o=t.append("text").attr("visibility","hidden").text(i);const l=o.node().getBoundingClientRect().width;o.remove();let u=[];if(l<=r)u=[i];else{const h=i.split(" ");let d="";o=t.append("text").attr("visibility","hidden"),h.forEach(f=>{const p=d?`${d} ${f}`:f;if(o.text(p),o.node().getBoundingClientRect().width>r){if(d&&u.push(d),d=f,o.text(f),o.node().getBoundingClientRect().width>r){let m="";for(const y of f)m+=y,o.text(m+"-"),o.node().getBoundingClientRect().width>r&&(u.push(m.slice(0,-1)+"-"),m=y);d=m}}else d=p}),d&&u.push(d),o.remove()}u.forEach((h,d)=>{const f={x:40,y:n+7+d*20,fill:"#666",text:h,textMargin:e.boxTextMargin??5},g=qm.drawText(t,f).node().getBoundingClientRect().width;g>XE&&g>e.leftMargin-g&&(XE=g)}),n+=Math.max(20,u.length*20)})}E(yj,"drawActorLegend");var _o=Re().journey,mu=0,KUe=E(function(t,e,r,n){const i=Re(),a=i.journey.titleColor,s=i.journey.titleFontSize,o=i.journey.titleFontFamily,l=i.securityLevel;let u;l==="sandbox"&&(u=mt("#i"+e));const h=mt(l==="sandbox"?u.nodes()[0].contentDocument.body:"body");Qs.init();const d=h.select("#"+e);qm.initGraphics(d);const f=n.db.getTasks(),p=n.db.getDiagramTitle(),g=n.db.getActors();for(const T in mc)delete mc[T];let m=0;g.forEach(T=>{mc[T]={color:_o.actorColours[m%_o.actorColours.length],position:m},m++}),yj(d),mu=_o.leftMargin+XE,Qs.insert(0,0,mu,Object.keys(mc).length*50),jUe(d,f,0);const y=Qs.getBounds();p&&d.append("text").text(p).attr("x",mu).attr("font-size",s).attr("font-weight","bold").attr("y",25).attr("fill",a).attr("font-family",o);const v=y.stopy-y.starty+2*_o.diagramMarginY,b=mu+y.stopx+2*_o.diagramMarginX;qa(d,v,b,_o.useMaxWidth),d.append("line").attr("x1",mu).attr("y1",_o.height*4).attr("x2",b-mu-4).attr("y2",_o.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const x=p?70:0;d.attr("viewBox",`${y.startx} -25 ${b} ${v+x}`),d.attr("preserveAspectRatio","xMinYMin meet"),d.attr("height",v+x+25)},"draw"),Qs={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:E(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:E(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:E(function(t,e,r,n){const i=Re().journey,a=this;let s=0;function o(l){return E(function(h){s++;const d=a.sequenceItems.length-s+1;a.updateVal(h,"starty",e-d*i.boxMargin,Math.min),a.updateVal(h,"stopy",n+d*i.boxMargin,Math.max),a.updateVal(Qs.data,"startx",t-d*i.boxMargin,Math.min),a.updateVal(Qs.data,"stopx",r+d*i.boxMargin,Math.max),l!=="activation"&&(a.updateVal(h,"startx",t-d*i.boxMargin,Math.min),a.updateVal(h,"stopx",r+d*i.boxMargin,Math.max),a.updateVal(Qs.data,"starty",e-d*i.boxMargin,Math.min),a.updateVal(Qs.data,"stopy",n+d*i.boxMargin,Math.max))},"updateItemBounds")}E(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:E(function(t,e,r,n){const i=Math.min(t,r),a=Math.max(t,r),s=Math.min(e,n),o=Math.max(e,n);this.updateVal(Qs.data,"startx",i,Math.min),this.updateVal(Qs.data,"starty",s,Math.min),this.updateVal(Qs.data,"stopx",a,Math.max),this.updateVal(Qs.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),bumpVerticalPos:E(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:E(function(){return this.verticalPos},"getVerticalPos"),getBounds:E(function(){return this.data},"getBounds")},$_=_o.sectionFills,vj=_o.sectionColours,jUe=E(function(t,e,r){const n=Re().journey;let i="";const a=n.height*2+n.diagramMarginY,s=r+a;let o=0,l="#CCC",u="black",h=0;for(const[d,f]of e.entries()){if(i!==f.section){l=$_[o%$_.length],h=o%$_.length,u=vj[o%vj.length];let g=0;const m=f.section;for(let v=d;v<e.length&&e[v].section==m;v++)g=g+1;const y={x:d*n.taskMargin+d*n.width+mu,y:50,text:f.section,fill:l,num:h,colour:u,taskCount:g};qm.drawSection(t,y,n),i=f.section,o++}const p=f.people.reduce((g,m)=>(mc[m]&&(g[m]=mc[m]),g),{});f.x=d*n.taskMargin+d*n.width+mu,f.y=s,f.width=n.diagramMarginX,f.height=n.diagramMarginY,f.colour=u,f.fill=l,f.num=h,f.actors=p,qm.drawTask(t,f,n),Qs.insert(f.x,f.y,f.x+f.width+n.taskMargin,300+5*30)}},"drawTasks"),bj={setConf:XUe,draw:KUe},QUe={parser:RUe,db:dj,renderer:bj,styles:UUe,init:E(t=>{bj.setConf(t.journey),dj.clear()},"init")};const ZUe=Object.freeze(Object.defineProperty({__proto__:null,diagram:QUe},Symbol.toStringTag,{value:"Module"}));var z_=function(){var t=E(function(f,p,g,m){for(g=g||{},m=f.length;m--;g[f[m]]=p);return g},"o"),e=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,16],l=[1,17],u={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:E(function(p,g,m,y,v,b,x){var T=b.length-1;switch(v){case 1:return b[T-1];case 2:this.$=[];break;case 3:b[T-1].push(b[T]),this.$=b[T-1];break;case 4:case 5:this.$=b[T];break;case 6:case 7:this.$=[];break;case 8:y.getCommonDb().setDiagramTitle(b[T].substr(6)),this.$=b[T].substr(6);break;case 9:this.$=b[T].trim(),y.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=b[T].trim(),y.getCommonDb().setAccDescription(this.$);break;case 12:y.addSection(b[T].substr(8)),this.$=b[T].substr(8);break;case 15:y.addTask(b[T],0,""),this.$=b[T];break;case 16:y.addEvent(b[T].substr(2)),this.$=b[T];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:l},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:18,11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:l},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,19]},{15:[1,20]},t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),t(e,[2,4]),t(e,[2,9]),t(e,[2,10])],defaultActions:{},parseError:E(function(p,g){if(g.recoverable)this.trace(p);else{var m=new Error(p);throw m.hash=g,m}},"parseError"),parse:E(function(p){var g=this,m=[0],y=[],v=[null],b=[],x=this.table,T="",w=0,S=0,k=2,L=1,_=b.slice.call(arguments,1),N=Object.create(this.lexer),C={yy:{}};for(var D in this.yy)Object.prototype.hasOwnProperty.call(this.yy,D)&&(C.yy[D]=this.yy[D]);N.setInput(p,C.yy),C.yy.lexer=N,C.yy.parser=this,typeof N.yylloc>"u"&&(N.yylloc={});var P=N.yylloc;b.push(P);var A=N.options&&N.options.ranges;typeof C.yy.parseError=="function"?this.parseError=C.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function R(re){m.length=m.length-2*re,v.length=v.length-re,b.length=b.length-re}E(R,"popStack");function O(){var re;return re=y.pop()||N.lex()||L,typeof re!="number"&&(re instanceof Array&&(y=re,re=y.pop()),re=g.symbols_[re]||re),re}E(O,"lex");for(var M,I,F,B,$={},V,H,te,X;;){if(I=m[m.length-1],this.defaultActions[I]?F=this.defaultActions[I]:((M===null||typeof M>"u")&&(M=O()),F=x[I]&&x[I][M]),typeof F>"u"||!F.length||!F[0]){var ee="";X=[];for(V in x[I])this.terminals_[V]&&V>k&&X.push("'"+this.terminals_[V]+"'");N.showPosition?ee="Parse error on line "+(w+1)+`:
`+N.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[M]||M)+"'":ee="Parse error on line "+(w+1)+": Unexpected "+(M==L?"end of input":"'"+(this.terminals_[M]||M)+"'"),this.parseError(ee,{text:N.match,token:this.terminals_[M]||M,line:N.yylineno,loc:P,expected:X})}if(F[0]instanceof Array&&F.length>1)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+M);switch(F[0]){case 1:m.push(M),v.push(N.yytext),b.push(N.yylloc),m.push(F[1]),M=null,S=N.yyleng,T=N.yytext,w=N.yylineno,P=N.yylloc;break;case 2:if(H=this.productions_[F[1]][1],$.$=v[v.length-H],$._$={first_line:b[b.length-(H||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(H||1)].first_column,last_column:b[b.length-1].last_column},A&&($._$.range=[b[b.length-(H||1)].range[0],b[b.length-1].range[1]]),B=this.performAction.apply($,[T,S,w,C.yy,F[1],v,b].concat(_)),typeof B<"u")return B;H&&(m=m.slice(0,-1*H*2),v=v.slice(0,-1*H),b=b.slice(0,-1*H)),m.push(this.productions_[F[1]][0]),v.push($.$),b.push($._$),te=x[m[m.length-2]][m[m.length-1]],m.push(te);break;case 3:return!0}}return!0},"parse")},h=function(){var f={EOF:1,parseError:E(function(g,m){if(this.yy.parser)this.yy.parser.parseError(g,m);else throw new Error(g)},"parseError"),setInput:E(function(p,g){return this.yy=g||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var p=this._input[0];this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p;var g=p.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},"input"),unput:E(function(p){var g=p.length,m=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(p){this.unput(this.match.slice(p))},"less"),pastInput:E(function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var p=this.pastInput(),g=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+g+"^"},"showPosition"),test_match:E(function(p,g){var m,y,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),y=p[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],m=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var b in v)this[b]=v[b];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var p,g,m,y;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),b=0;b<v.length;b++)if(m=this._input.match(this.rules[v[b]]),m&&(!g||m[0].length>g[0].length)){if(g=m,y=b,this.options.backtrack_lexer){if(p=this.test_match(m,v[b]),p!==!1)return p;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(p=this.test_match(g,v[y]),p!==!1?p:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var g=this.next();return g||this.lex()},"lex"),begin:E(function(g){this.conditionStack.push(g)},"begin"),popState:E(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:E(function(g){this.begin(g)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(g,m,y,v){switch(y){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return f}();u.lexer=h;function d(){this.yy={}}return E(d,"Parser"),d.prototype=u,u.Parser=d,new d}();z_.parser=z_;var JUe=z_,xj={};Fv(xj,{addEvent:()=>Aj,addSection:()=>Sj,addTask:()=>_j,addTaskOrg:()=>Lj,clear:()=>wj,default:()=>eHe,getCommonDb:()=>Tj,getSections:()=>kj,getTasks:()=>Cj});var i0="",Ej=0,U_=[],KE=[],a0=[],Tj=E(()=>xw,"getCommonDb"),wj=E(function(){U_.length=0,KE.length=0,i0="",a0.length=0,si()},"clear"),Sj=E(function(t){i0=t,U_.push(t)},"addSection"),kj=E(function(){return U_},"getSections"),Cj=E(function(){let t=Nj();const e=100;let r=0;for(;!t&&r<e;)t=Nj(),r++;return KE.push(...a0),KE},"getTasks"),_j=E(function(t,e,r){const n={id:Ej++,section:i0,type:i0,task:t,score:e||0,events:r?[r]:[]};a0.push(n)},"addTask"),Aj=E(function(t){a0.find(r=>r.id===Ej-1).events.push(t)},"addEvent"),Lj=E(function(t){const e={section:i0,type:i0,description:t,task:t,classes:[]};KE.push(e)},"addTaskOrg"),Nj=E(function(){const t=E(function(r){return a0[r].processed},"compileTask");let e=!0;for(const[r,n]of a0.entries())t(r),e=e&&n.processed;return e},"compileTasks"),eHe={clear:wj,getCommonDb:Tj,addSection:Sj,getSections:kj,getTasks:Cj,addTask:_j,addTaskOrg:Lj,addEvent:Aj},tHe=12,jE=E(function(t,e){const r=t.append("rect");return r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),r.attr("rx",e.rx),r.attr("ry",e.ry),e.class!==void 0&&r.attr("class",e.class),r},"drawRect"),rHe=E(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=af().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}E(a,"smile");function s(l){const u=af().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}E(s,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return E(o,"ambivalent"),e.score>3?a(i):e.score<3?s(i):o(i),n},"drawFace"),nHe=E(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),Rj=E(function(t,e){const r=e.text.replace(/<br\s*\/?>/gi," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class!==void 0&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(r),n},"drawText"),iHe=E(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}E(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,Rj(t,e)},"drawLabel"),aHe=E(function(t,e,r){const n=t.append("g"),i=H_();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,jE(n,i),Dj(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),Ij=-1,sHe=E(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");Ij++;const a=300+5*30;i.append("line").attr("id","task"+Ij).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),rHe(i,{cx:n,cy:300+(5-e.score)*30,score:e.score});const s=H_();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,jE(i,s),Dj(r)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,e.colour)},"drawTask"),oHe=E(function(t,e){jE(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},"drawBackgroundRect"),lHe=E(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),H_=E(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Dj=function(){function t(i,a,s,o,l,u,h,d){const f=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);n(f,h)}E(t,"byText");function e(i,a,s,o,l,u,h,d,f){const{taskFontSize:p,taskFontFamily:g}=d,m=i.split(/<br\s*\/?>/gi);for(let y=0;y<m.length;y++){const v=y*p-p*(m.length-1)/2,b=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",f).style("text-anchor","middle").style("font-size",p).style("font-family",g);b.append("tspan").attr("x",s+l/2).attr("dy",v).text(m[y]),b.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,h)}}E(e,"byTspan");function r(i,a,s,o,l,u,h,d){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,s,o,l,u,h,d),n(g,h)}E(r,"byFo");function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return E(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),cHe=E(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function G_(t,e){t.each(function(){var r=mt(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,a=[],s=1.1,o=r.attr("y"),l=parseFloat(r.attr("dy")),u=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",l+"em");for(let h=0;h<n.length;h++)i=n[n.length-1-h],a.push(i),u.text(a.join(" ").trim()),(u.node().getComputedTextLength()>e||i==="<br>")&&(a.pop(),u.text(a.join(" ").trim()),i==="<br>"?a=[""]:a=[i],u=r.append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em").text(i))})}E(G_,"wrap");var uHe=E(function(t,e,r,n){var d;const i=r%tHe-1,a=t.append("g");e.section=i,a.attr("class",(e.class?e.class+" ":"")+"timeline-node "+("section-"+i));const s=a.append("g"),o=a.append("g"),u=o.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(G_,e.width).node().getBBox(),h=(d=n.fontSize)!=null&&d.replace?n.fontSize.replace("px",""):n.fontSize;return e.height=u.height+h*1.1*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,o.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),dHe(s,e,i,n),e},"drawNode"),hHe=E(function(t,e,r){var o;const n=t.append("g"),a=n.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(G_,e.width).node().getBBox(),s=(o=r.fontSize)!=null&&o.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),a.height+s*1.1*.5+e.padding},"getVirtualNodeHeight"),dHe=E(function(t,e,r){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d",`M0 ${e.height-5} v${-e.height+2*5} q0,-5 5,-5 h${e.width-2*5} q5,0 5,5 v${e.height-5} H0 Z`),t.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},"defaultBkg"),Zh={drawRect:jE,drawCircle:nHe,drawSection:aHe,drawText:Rj,drawLabel:iHe,drawTask:sHe,drawBackgroundRect:oHe,getTextObj:lHe,getNoteRect:H_,initGraphics:cHe,drawNode:uHe,getVirtualNodeHeight:hHe},fHe=E(function(t,e,r,n){var _,N;const i=Re(),a=i.leftMargin??50;se.debug("timeline",n.db);const s=i.securityLevel;let o;s==="sandbox"&&(o=mt("#i"+e));const u=mt(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+e);u.append("g");const h=n.db.getTasks(),d=n.db.getCommonDb().getDiagramTitle();se.debug("task",h),Zh.initGraphics(u);const f=n.db.getSections();se.debug("sections",f);let p=0,g=0,m=0,y=0,v=50+a,b=50;y=50;let x=0,T=!0;f.forEach(function(C){const D={number:x,descr:C,section:x,width:150,padding:20,maxHeight:p},P=Zh.getVirtualNodeHeight(u,D,i);se.debug("sectionHeight before draw",P),p=Math.max(p,P+20)});let w=0,S=0;se.debug("tasks.length",h.length);for(const[C,D]of h.entries()){const P={number:C,descr:D,section:D.section,width:150,padding:20,maxHeight:g},A=Zh.getVirtualNodeHeight(u,P,i);se.debug("taskHeight before draw",A),g=Math.max(g,A+20),w=Math.max(w,D.events.length);let R=0;for(const O of D.events){const M={descr:O,section:D.section,number:D.section,width:150,padding:20,maxHeight:50};R+=Zh.getVirtualNodeHeight(u,M,i)}D.events.length>0&&(R+=(D.events.length-1)*10),S=Math.max(S,R)}se.debug("maxSectionHeight before draw",p),se.debug("maxTaskHeight before draw",g),f&&f.length>0?f.forEach(C=>{const D=h.filter(O=>O.section===C),P={number:x,descr:C,section:x,width:200*Math.max(D.length,1)-50,padding:20,maxHeight:p};se.debug("sectionNode",P);const A=u.append("g"),R=Zh.drawNode(A,P,x,i);se.debug("sectionNode output",R),A.attr("transform",`translate(${v}, ${y})`),b+=p+50,D.length>0&&Oj(u,D,x,v,b,g,i,w,S,p,!1),v+=200*Math.max(D.length,1),b=y,x++}):(T=!1,Oj(u,h,x,v,b,g,i,w,S,p,!0));const k=u.node().getBBox();se.debug("bounds",k),d&&u.append("text").text(d).attr("x",k.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=T?p+g+150:g+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",k.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Hd(void 0,u,((_=i.timeline)==null?void 0:_.padding)??50,((N=i.timeline)==null?void 0:N.useMaxWidth)??!1)},"draw"),Oj=E(function(t,e,r,n,i,a,s,o,l,u,h){var d;for(const f of e){const p={descr:f.task,section:r,number:r,width:150,padding:20,maxHeight:a};se.debug("taskNode",p);const g=t.append("g").attr("class","taskWrapper"),y=Zh.drawNode(g,p,r,s).height;if(se.debug("taskHeight after draw",y),g.attr("transform",`translate(${n}, ${i})`),a=Math.max(a,y),f.events){const v=t.append("g").attr("class","lineWrapper");let b=a;i+=100,b=b+pHe(t,f.events,r,n,i,s),i-=100,v.append("line").attr("x1",n+190/2).attr("y1",i+a).attr("x2",n+190/2).attr("y2",i+a+100+l+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,h&&!((d=s.timeline)!=null&&d.disableMulticolor)&&r++}i=i-10},"drawTasks"),pHe=E(function(t,e,r,n,i,a){let s=0;const o=i;i=i+100;for(const l of e){const u={descr:l,section:r,number:r,width:150,padding:20,maxHeight:50};se.debug("eventNode",u);const h=t.append("g").attr("class","eventWrapper"),f=Zh.drawNode(h,u,r,a).height;s=s+f,h.attr("transform",`translate(${n}, ${i})`),i=i+10+f}return i=o,s},"drawEvents"),gHe={setConf:E(()=>{},"setConf"),draw:fHe},mHe=E(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],Uc(t["lineColor"+r])?t["lineColor"+r]=Ft(t["lineColor"+r],20):t["lineColor"+r]=Yt(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${t["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),yHe=E(t=>`
  .edge {
    stroke-width: 3;
  }
  ${mHe(t)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),vHe=yHe,bHe={db:xj,renderer:gHe,parser:JUe,styles:vHe};const xHe=Object.freeze(Object.defineProperty({__proto__:null,diagram:bHe},Symbol.toStringTag,{value:"Module"}));function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function EHe(t){if(Array.isArray(t))return t}function THe(t){if(Array.isArray(t))return V_(t)}function yu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pj(n.key),n)}}function vu(t,e,r){return e&&wHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ls(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=q_(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw a}}}}function Mj(t,e,r){return(e=Pj(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kHe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function CHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _He(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yi(t,e){return EHe(t)||kHe(t,e)||q_(t,e)||CHe()}function QE(t){return THe(t)||SHe(t)||q_(t)||_He()}function AHe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pj(t){var e=AHe(t,"string");return typeof e=="symbol"?e:e+""}function vi(t){"@babel/helpers - typeof";return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(t)}function q_(t,e){if(t){if(typeof t=="string")return V_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V_(t,e):void 0}}var bi=typeof window>"u"?null:window,Bj=bi?bi.navigator:null;bi&&bi.document;var LHe=vi(""),Fj=vi({}),NHe=vi(function(){}),RHe=typeof HTMLElement>"u"?"undefined":vi(HTMLElement),Wm=function(e){return e&&e.instanceString&&In(e.instanceString)?e.instanceString():null},Qt=function(e){return e!=null&&vi(e)==LHe},In=function(e){return e!=null&&vi(e)===NHe},dn=function(e){return!Ns(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Pr=function(e){return e!=null&&vi(e)===Fj&&!dn(e)&&e.constructor===Object},IHe=function(e){return e!=null&&vi(e)===Fj},Rt=function(e){return e!=null&&vi(e)===vi(1)&&!isNaN(e)},DHe=function(e){return Rt(e)&&Math.floor(e)===e},ZE=function(e){if(RHe!=="undefined")return e!=null&&e instanceof HTMLElement},Ns=function(e){return Ym(e)||$j(e)},Ym=function(e){return Wm(e)==="collection"&&e._private.single},$j=function(e){return Wm(e)==="collection"&&!e._private.single},W_=function(e){return Wm(e)==="core"},zj=function(e){return Wm(e)==="stylesheet"},OHe=function(e){return Wm(e)==="event"},bu=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},MHe=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},PHe=function(e){return Pr(e)&&Rt(e.x1)&&Rt(e.x2)&&Rt(e.y1)&&Rt(e.y2)},BHe=function(e){return IHe(e)&&In(e.then)},FHe=function(){return Bj&&Bj.userAgent.match(/msie|trident|edge/i)},s0=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);return a.join("$")});var n=function(){var a=this,s=arguments,o,l=r.apply(a,s),u=n.cache;return(o=u[l])||(o=u[l]=e.apply(a,s)),o};return n.cache={},n},Y_=s0(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),JE=s0(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Uj=s0(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Hj=function(e){return bu(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},xi="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",$He="rgb[a]?\\(("+xi+"[%]?)\\s*,\\s*("+xi+"[%]?)\\s*,\\s*("+xi+"[%]?)(?:\\s*,\\s*("+xi+"))?\\)",zHe="rgb[a]?\\((?:"+xi+"[%]?)\\s*,\\s*(?:"+xi+"[%]?)\\s*,\\s*(?:"+xi+"[%]?)(?:\\s*,\\s*(?:"+xi+"))?\\)",UHe="hsl[a]?\\(("+xi+")\\s*,\\s*("+xi+"[%])\\s*,\\s*("+xi+"[%])(?:\\s*,\\s*("+xi+"))?\\)",HHe="hsl[a]?\\((?:"+xi+")\\s*,\\s*(?:"+xi+"[%])\\s*,\\s*(?:"+xi+"[%])(?:\\s*,\\s*(?:"+xi+"))?\\)",GHe="\\#[0-9a-fA-F]{3}",VHe="\\#[0-9a-fA-F]{6}",Gj=function(e,r){return e<r?-1:e>r?1:0},qHe=function(e,r){return-1*Gj(e,r)},rr=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];t[s]=n[s]}}return t},WHe=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,a,s=16;return r?(n=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),a=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),a=parseInt(e[5]+e[6],s)),[n,i,a]}},YHe=function(e){var r,n,i,a,s,o,l,u;function h(g,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+(m-g)*6*y:y<1/2?m:y<2/3?g+(m-g)*(2/3-y)*6:g}var d=new RegExp("^"+UHe+"$").exec(e);if(d){if(n=parseInt(d[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,a=parseFloat(d[3]),a<0||a>100)||(a=a/100,s=d[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)o=l=u=Math.round(a*255);else{var f=a<.5?a*(1+i):a+i-a*i,p=2*a-f;o=Math.round(255*h(p,f,n+1/3)),l=Math.round(255*h(p,f,n)),u=Math.round(255*h(p,f,n-1/3))}r=[o,l,u,s]}return r},XHe=function(e){var r,n=new RegExp("^"+$He+"$").exec(e);if(n){r=[];for(var i=[],a=1;a<=3;a++){var s=n[a];if(s[s.length-1]==="%"&&(i[a]=!0),s=parseFloat(s),i[a]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(o&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},KHe=function(e){return jHe[e.toLowerCase()]},Vj=function(e){return(dn(e)?e:null)||KHe(e)||WHe(e)||XHe(e)||YHe(e)},jHe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},qj=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(Pr(s))throw Error("Tried to set map with object key");a<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},Wj=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(Pr(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},e4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X_,Yj;function Km(){if(Yj)return X_;Yj=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return X_=t,X_}var K_,Xj;function QHe(){if(Xj)return K_;Xj=1;var t=typeof e4=="object"&&e4&&e4.Object===Object&&e4;return K_=t,K_}var j_,Kj;function t4(){if(Kj)return j_;Kj=1;var t=QHe(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return j_=r,j_}var Q_,jj;function ZHe(){if(jj)return Q_;jj=1;var t=t4(),e=function(){return t.Date.now()};return Q_=e,Q_}var Z_,Qj;function JHe(){if(Qj)return Z_;Qj=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Z_=e,Z_}var J_,Zj;function eGe(){if(Zj)return J_;Zj=1;var t=JHe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return J_=r,J_}var eA,Jj;function tA(){if(Jj)return eA;Jj=1;var t=t4(),e=t.Symbol;return eA=e,eA}var rA,eQ;function tGe(){if(eQ)return rA;eQ=1;var t=tA(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var h=n.call(s);return u&&(o?s[i]=l:delete s[i]),h}return rA=a,rA}var nA,tQ;function rGe(){if(tQ)return nA;tQ=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return nA=r,nA}var iA,rQ;function nQ(){if(rQ)return iA;rQ=1;var t=tA(),e=tGe(),r=rGe(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return iA=s,iA}var aA,iQ;function nGe(){if(iQ)return aA;iQ=1;function t(e){return e!=null&&typeof e=="object"}return aA=t,aA}var sA,aQ;function jm(){if(aQ)return sA;aQ=1;var t=nQ(),e=nGe(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return sA=n,sA}var oA,sQ;function iGe(){if(sQ)return oA;sQ=1;var t=eGe(),e=Km(),r=jm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=e(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=a.test(u);return d||s.test(u)?o(u.slice(2),d?2:8):i.test(u)?n:+u}return oA=l,oA}var lA,oQ;function aGe(){if(oQ)return lA;oQ=1;var t=Km(),e=ZHe(),r=iGe(),n="Expected a function",i=Math.max,a=Math.min;function s(o,l,u){var h,d,f,p,g,m,y=0,v=!1,b=!1,x=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(v=!!u.leading,b="maxWait"in u,f=b?i(r(u.maxWait)||0,l):f,x="trailing"in u?!!u.trailing:x);function T(P){var A=h,R=d;return h=d=void 0,y=P,p=o.apply(R,A),p}function w(P){return y=P,g=setTimeout(L,l),v?T(P):p}function S(P){var A=P-m,R=P-y,O=l-A;return b?a(O,f-R):O}function k(P){var A=P-m,R=P-y;return m===void 0||A>=l||A<0||b&&R>=f}function L(){var P=e();if(k(P))return _(P);g=setTimeout(L,S(P))}function _(P){return g=void 0,x&&h?T(P):(h=d=void 0,p)}function N(){g!==void 0&&clearTimeout(g),y=0,h=m=d=g=void 0}function C(){return g===void 0?p:_(e())}function D(){var P=e(),A=k(P);if(h=arguments,d=this,m=P,A){if(g===void 0)return w(m);if(b)return clearTimeout(g),g=setTimeout(L,l),T(m)}return g===void 0&&(g=setTimeout(L,l)),p}return D.cancel=N,D.flush=C,D}return lA=s,lA}var sGe=aGe(),Qm=Xm(sGe),cA=bi?bi.performance:null,lQ=cA&&cA.now?function(){return cA.now()}:function(){return Date.now()},oGe=function(){if(bi){if(bi.requestAnimationFrame)return function(t){bi.requestAnimationFrame(t)};if(bi.mozRequestAnimationFrame)return function(t){bi.mozRequestAnimationFrame(t)};if(bi.webkitRequestAnimationFrame)return function(t){bi.webkitRequestAnimationFrame(t)};if(bi.msRequestAnimationFrame)return function(t){bi.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(lQ())},1e3/60)}}(),r4=function(e){return oGe(e)},yc=lQ,Jh=9261,cQ=65599,o0=5381,uQ=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jh,n=r,i;i=e.next(),!i.done;)n=n*cQ+i.value|0;return n},Zm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jh;return r*cQ+e|0},Jm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o0;return(r<<5)+r+e|0},lGe=function(e,r){return e*2097152+r},xu=function(e){return e[0]*2097152+e[1]},n4=function(e,r){return[Zm(e[0],r[0]),Jm(e[1],r[1])]},hQ=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return uQ(s,r)},ed=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return uQ(s,r)},dQ=function(){return cGe(arguments)},cGe=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=ed(i):r=ed(i,r)}return r},fQ=!0,uGe=console.warn!=null,hGe=console.trace!=null,uA=Number.MAX_SAFE_INTEGER||9007199254740991,pQ=function(){return!0},i4=function(){return!1},gQ=function(){return 0},hA=function(){},Dn=function(e){throw new Error(e)},mQ=function(e){if(e!==void 0)fQ=!!e;else return fQ},Zr=function(e){mQ()&&(uGe?console.warn(e):(console.log(e),hGe&&console.trace()))},dGe=function(e){return rr({},e)},yl=function(e){return e==null?e:dn(e)?e.slice():Pr(e)?dGe(e):e},fGe=function(e){return e.slice()},yQ=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},pGe={},vQ=function(){return pGe},Yi=function(e){var r=Object.keys(e);return function(n){for(var i={},a=0;a<r.length;a++){var s=r[a],o=n==null?void 0:n[s];i[s]=o===void 0?e[s]:o}return i}},Eu=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},dA=function(e){e.splice(0,e.length)},gGe=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},cs=function(e,r,n){return n&&(r=Uj(n,r)),e[r]},vc=function(e,r,n,i){n&&(r=Uj(n,r)),e[r]=i},mGe=function(){function t(){yu(this,t),this._obj={}}return vu(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),bc=typeof Map<"u"?Map:mGe,yGe="undefined",vGe=function(){function t(e){if(yu(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return vu(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),l0=(typeof Set>"u"?"undefined":vi(Set))!==yGe?Set:vGe,a4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!W_(e)){Dn("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Dn("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new l0,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),l=e.zoom();a.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];dn(r.classes)?u=r.classes:Qt(r.classes)&&(u=r.classes.split(/\s+/));for(var h=0,d=u.length;h<d;h++){var f=u[h];!f||f===""||a.classes.add(f)}this.createEmitter(),(n===void 0||n)&&this.restore();var p=r.style||r.css;p&&(Zr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p))},bQ=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var s;Pr(n)&&!Ns(n)&&(s=n,n=s.roots||s.root,i=s.visit,a=s.directed),a=arguments.length===2&&!In(i)?i:a,i=In(i)?i:function(){};for(var o=this._private.cy,l=n=Qt(n)?this.filter(n):n,u=[],h=[],d={},f={},p={},g=0,m,y=this.byGroup(),v=y.nodes,b=y.edges,x=0;x<l.length;x++){var T=l[x],w=T.id();T.isNode()&&(u.unshift(T),e.bfs&&(p[w]=!0,h.push(T)),f[w]=0)}for(var S=function(){var P=e.bfs?u.shift():u.pop(),A=P.id();if(e.dfs){if(p[A])return 0;p[A]=!0,h.push(P)}var R=f[A],O=d[A],M=O!=null?O.source():null,I=O!=null?O.target():null,F=O==null?void 0:P.same(M)?I[0]:M[0],B;if(B=i(P,O,F,g++,R),B===!0)return m=P,1;if(B===!1)return 1;for(var $=P.connectedEdges().filter(function(ee){return(!a||ee.source().same(P))&&b.has(ee)}),V=0;V<$.length;V++){var H=$[V],te=H.connectedNodes().filter(function(ee){return!ee.same(P)&&v.has(ee)}),X=te.id();te.length!==0&&!p[X]&&(te=te[0],u.push(te),e.bfs&&(p[X]=!0,h.push(te)),d[X]=H,f[X]=f[A]+1)}},k;u.length!==0&&(k=S(),!(k!==0&&k===1)););for(var L=o.collection(),_=0;_<h.length;_++){var N=h[_],C=d[N.id()];C!=null&&L.push(C),L.push(N)}return{path:o.collection(L),found:o.collection(m)}}},ey={breadthFirstSearch:bQ({bfs:!0}),depthFirstSearch:bQ({dfs:!0})};ey.bfs=ey.breadthFirstSearch,ey.dfs=ey.depthFirstSearch;var s4={exports:{}},bGe=s4.exports,xQ;function xGe(){return xQ||(xQ=1,function(t,e){(function(){var r,n,i,a,s,o,l,u,h,d,f,p,g,m,y;i=Math.floor,d=Math.min,n=function(v,b){return v<b?-1:v>b?1:0},h=function(v,b,x,T,w){var S;if(x==null&&(x=0),w==null&&(w=n),x<0)throw new Error("lo must be non-negative");for(T==null&&(T=v.length);x<T;)S=i((x+T)/2),w(b,v[S])<0?T=S:x=S+1;return[].splice.apply(v,[x,x-x].concat(b)),b},o=function(v,b,x){return x==null&&(x=n),v.push(b),m(v,0,v.length-1,x)},s=function(v,b){var x,T;return b==null&&(b=n),x=v.pop(),v.length?(T=v[0],v[0]=x,y(v,0,b)):T=x,T},u=function(v,b,x){var T;return x==null&&(x=n),T=v[0],v[0]=b,y(v,0,x),T},l=function(v,b,x){var T;return x==null&&(x=n),v.length&&x(v[0],b)<0&&(T=[v[0],b],b=T[0],v[0]=T[1],y(v,0,x)),b},a=function(v,b){var x,T,w,S,k,L;for(b==null&&(b=n),S=(function(){L=[];for(var _=0,N=i(v.length/2);0<=N?_<N:_>N;0<=N?_++:_--)L.push(_);return L}).apply(this).reverse(),k=[],T=0,w=S.length;T<w;T++)x=S[T],k.push(y(v,x,b));return k},g=function(v,b,x){var T;if(x==null&&(x=n),T=v.indexOf(b),T!==-1)return m(v,0,T,x),y(v,T,x)},f=function(v,b,x){var T,w,S,k,L;if(x==null&&(x=n),w=v.slice(0,b),!w.length)return w;for(a(w,x),L=v.slice(b),S=0,k=L.length;S<k;S++)T=L[S],l(w,T,x);return w.sort(x).reverse()},p=function(v,b,x){var T,w,S,k,L,_,N,C,D;if(x==null&&(x=n),b*10<=v.length){if(S=v.slice(0,b).sort(x),!S.length)return S;for(w=S[S.length-1],N=v.slice(b),k=0,_=N.length;k<_;k++)T=N[k],x(T,w)<0&&(h(S,T,0,null,x),S.pop(),w=S[S.length-1]);return S}for(a(v,x),D=[],L=0,C=d(b,v.length);0<=C?L<C:L>C;0<=C?++L:--L)D.push(s(v,x));return D},m=function(v,b,x,T){var w,S,k;for(T==null&&(T=n),w=v[x];x>b;){if(k=x-1>>1,S=v[k],T(w,S)<0){v[x]=S,x=k;continue}break}return v[x]=w},y=function(v,b,x){var T,w,S,k,L;for(x==null&&(x=n),w=v.length,L=b,S=v[b],T=2*b+1;T<w;)k=T+1,k<w&&!(x(v[T],v[k])<0)&&(T=k),v[b]=v[T],b=T,T=2*b+1;return v[b]=S,m(v,L,b,x)},r=function(){v.push=o,v.pop=s,v.replace=u,v.pushpop=l,v.heapify=a,v.updateItem=g,v.nlargest=f,v.nsmallest=p;function v(b){this.cmp=b??n,this.nodes=[]}return v.prototype.push=function(b){return o(this.nodes,b,this.cmp)},v.prototype.pop=function(){return s(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},v.prototype.replace=function(b){return u(this.nodes,b,this.cmp)},v.prototype.pushpop=function(b){return l(this.nodes,b,this.cmp)},v.prototype.heapify=function(){return a(this.nodes,this.cmp)},v.prototype.updateItem=function(b){return g(this.nodes,b,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var b;return b=new v,b.nodes=this.nodes.slice(0),b},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,b){return t.exports=b()}(this,function(){return r})}).call(bGe)}(s4)),s4.exports}var fA,EQ;function EGe(){return EQ||(EQ=1,fA=xGe()),fA}var TGe=EGe(),ty=Xm(TGe),wGe=Yi({root:null,weight:function(e){return 1},directed:!1}),SGe={dijkstra:function(e){if(!Pr(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=wGe(e),i=n.root,a=n.weight,s=n.directed,o=this,l=a,u=Qt(i)?this.filter(i)[0]:i[0],h={},d={},f={},p=this.byGroup(),g=p.nodes,m=p.edges;m.unmergeBy(function(R){return R.isLoop()});for(var y=function(O){return h[O.id()]},v=function(O,M){h[O.id()]=M,b.updateItem(O)},b=new ty(function(R,O){return y(R)-y(O)}),x=0;x<g.length;x++){var T=g[x];h[T.id()]=T.same(u)?0:1/0,b.push(T)}for(var w=function(O,M){for(var I=(s?O.edgesTo(M):O.edgesWith(M)).intersect(m),F=1/0,B,$=0;$<I.length;$++){var V=I[$],H=l(V);(H<F||!B)&&(F=H,B=V)}return{edge:B,dist:F}};b.size()>0;){var S=b.pop(),k=y(S),L=S.id();if(f[L]=k,k!==1/0)for(var _=S.neighborhood().intersect(g),N=0;N<_.length;N++){var C=_[N],D=C.id(),P=w(S,C),A=k+P.dist;A<y(C)&&(v(C,A),d[D]={node:S,edge:P.edge})}}return{distanceTo:function(O){var M=Qt(O)?g.filter(O)[0]:O[0];return f[M.id()]},pathTo:function(O){var M=Qt(O)?g.filter(O)[0]:O[0],I=[],F=M,B=F.id();if(M.length>0)for(I.unshift(M);d[B];){var $=d[B];I.unshift($.edge),I.unshift($.node),F=$.node,B=F.id()}return o.spawn(I)}}}},kGe={kruskal:function(e){e=e||function(x){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,s=new Array(a),o=n,l=function(T){for(var w=0;w<s.length;w++){var S=s[w];if(S.has(T))return w}},u=0;u<a;u++)s[u]=this.spawn(n[u]);for(var h=i.sort(function(x,T){return e(x)-e(T)}),d=0;d<h.length;d++){var f=h[d],p=f.source()[0],g=f.target()[0],m=l(p),y=l(g),v=s[m],b=s[y];m!==y&&(o.merge(f),v.merge(b),s.splice(y,1))}return o}},CGe=Yi({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),_Ge={aStar:function(e){var r=this.cy(),n=CGe(e),i=n.root,a=n.goal,s=n.heuristic,o=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),h=a.id(),d={},f={},p={},g=new ty(function(B,$){return f[B.id()]-f[$.id()]}),m=new l0,y={},v={},b=function($,V){g.push($),m.add(V)},x,T,w=function(){x=g.pop(),T=x.id(),m.delete(T)},S=function($){return m.has($)};b(i,u),d[u]=0,f[u]=s(i);for(var k=0;g.size()>0;){if(w(),k++,T===h){for(var L=[],_=a,N=h,C=v[N];L.unshift(_),C!=null&&L.unshift(C),_=y[N],_!=null;)N=_.id(),C=v[N];return{found:!0,distance:d[T],path:this.spawn(L),steps:k}}p[T]=!0;for(var D=x._private.edges,P=0;P<D.length;P++){var A=D[P];if(this.hasElementWithId(A.id())&&!(o&&A.data("source")!==T)){var R=A.source(),O=A.target(),M=R.id()!==T?R:O,I=M.id();if(this.hasElementWithId(I)&&!p[I]){var F=d[T]+l(A);if(!S(I)){d[I]=F,f[I]=F+s(M),b(M,I),y[I]=x,v[I]=A;continue}F<d[I]&&(d[I]=F,f[I]=F+s(M),y[I]=x,v[I]=A)}}}}return{found:!1,distance:void 0,path:void 0,steps:k}}},AGe=Yi({weight:function(e){return 1},directed:!1}),LGe={floydWarshall:function(e){for(var r=this.cy(),n=AGe(e),i=n.weight,a=n.directed,s=i,o=this.byGroup(),l=o.nodes,u=o.edges,h=l.length,d=h*h,f=function(H){return l.indexOf(H)},p=function(H){return l[H]},g=new Array(d),m=0;m<d;m++){var y=m%h,v=(m-y)/h;v===y?g[m]=0:g[m]=1/0}for(var b=new Array(d),x=new Array(d),T=0;T<u.length;T++){var w=u[T],S=w.source()[0],k=w.target()[0];if(S!==k){var L=f(S),_=f(k),N=L*h+_,C=s(w);if(g[N]>C&&(g[N]=C,b[N]=_,x[N]=w),!a){var D=_*h+L;!a&&g[D]>C&&(g[D]=C,b[D]=L,x[D]=w)}}}for(var P=0;P<h;P++)for(var A=0;A<h;A++)for(var R=A*h+P,O=0;O<h;O++){var M=A*h+O,I=P*h+O;g[R]+g[I]<g[M]&&(g[M]=g[R]+g[I],b[M]=b[R])}var F=function(H){return(Qt(H)?r.filter(H):H)[0]},B=function(H){return f(F(H))},$={distance:function(H,te){var X=B(H),ee=B(te);return g[X*h+ee]},path:function(H,te){var X=B(H),ee=B(te),re=p(X);if(X===ee)return re.collection();if(b[X*h+ee]==null)return r.collection();var pe=r.collection(),K=X,W;for(pe.merge(re);X!==ee;)K=X,X=b[X*h+ee],W=x[K*h+X],pe.merge(W),pe.merge(p(X));return pe}};return $}},NGe=Yi({weight:function(e){return 1},directed:!1,root:null}),RGe={bellmanFord:function(e){var r=this,n=NGe(e),i=n.weight,a=n.directed,s=n.root,o=i,l=this,u=this.cy(),h=this.byGroup(),d=h.edges,f=h.nodes,p=f.length,g=new bc,m=!1,y=[];s=u.collection(s)[0],d.unmergeBy(function(ue){return ue.isLoop()});for(var v=d.length,b=function(ae){var Ue=g.get(ae.id());return Ue||(Ue={},g.set(ae.id(),Ue)),Ue},x=function(ae){return(Qt(ae)?u.$(ae):ae)[0]},T=function(ae){return b(x(ae)).dist},w=function(ae){for(var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,xe=x(ae),Ze=[],Je=xe;;){if(Je==null)return r.spawn();var Xe=b(Je),Pe=Xe.edge,We=Xe.pred;if(Ze.unshift(Je[0]),Je.same(Ue)&&Ze.length>0)break;Pe!=null&&Ze.unshift(Pe),Je=We}return l.spawn(Ze)},S=0;S<p;S++){var k=f[S],L=b(k);k.same(s)?L.dist=0:L.dist=1/0,L.pred=null,L.edge=null}for(var _=!1,N=function(ae,Ue,xe,Ze,Je,Xe){var Pe=Ze.dist+Xe;Pe<Je.dist&&!xe.same(Ze.edge)&&(Je.dist=Pe,Je.pred=ae,Je.edge=xe,_=!0)},C=1;C<p;C++){_=!1;for(var D=0;D<v;D++){var P=d[D],A=P.source(),R=P.target(),O=o(P),M=b(A),I=b(R);N(A,R,P,M,I,O),a||N(R,A,P,I,M,O)}if(!_)break}if(_)for(var F=[],B=0;B<v;B++){var $=d[B],V=$.source(),H=$.target(),te=o($),X=b(V).dist,ee=b(H).dist;if(X+te<ee||!a&&ee+te<X)if(m||(Zr("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var re=[];X+te<ee&&re.push(V),!a&&ee+te<X&&re.push(H);for(var pe=re.length,K=0;K<pe;K++){var W=re[K],j=[W];j.push(b(W).edge);for(var Y=b(W).pred;j.indexOf(Y)===-1;)j.push(Y),j.push(b(Y).edge),Y=b(Y).pred;j=j.slice(j.indexOf(Y));for(var Q=j[0].id(),ie=0,J=2;J<j.length;J+=2)j[J].id()<Q&&(Q=j[J].id(),ie=J);j=j.slice(ie).concat(j.slice(0,ie)),j.push(j[0]);var we=j.map(function(ue){return ue.id()}).join(",");F.indexOf(we)===-1&&(y.push(l.spawn(j)),F.push(we))}}else break}return{distanceTo:T,pathTo:w,hasNegativeWeightCycle:m,negativeWeightCycles:y}}},IGe=Math.sqrt(2),DGe=function(e,r,n){n.length===0&&Dn("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],s=i[2],o=r[a],l=r[s],u=n,h=u.length-1;h>=0;h--){var d=u[h],f=d[1],p=d[2];(r[f]===o&&r[p]===l||r[f]===l&&r[p]===o)&&u.splice(h,1)}for(var g=0;g<u.length;g++){var m=u[g];m[1]===l?(u[g]=m.slice(),u[g][1]=o):m[2]===l&&(u[g]=m.slice(),u[g][2]=o)}for(var y=0;y<r.length;y++)r[y]===l&&(r[y]=o);return u},pA=function(e,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=DGe(a,e,r),n--}return r},OGe={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(I){return I.isLoop()});var a=n.length,s=i.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/IGe);if(a<2){Dn("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],h=0;h<s;h++){var d=i[h];u.push([h,n.indexOf(d.source()),n.indexOf(d.target())])}for(var f=1/0,p=[],g=new Array(a),m=new Array(a),y=new Array(a),v=function(F,B){for(var $=0;$<a;$++)B[$]=F[$]},b=0;b<=o;b++){for(var x=0;x<a;x++)m[x]=x;var T=pA(m,u.slice(),a,l),w=T.slice();v(m,y);var S=pA(m,T,l,2),k=pA(y,w,l,2);S.length<=k.length&&S.length<f?(f=S.length,p=S,v(m,g)):k.length<=S.length&&k.length<f&&(f=k.length,p=k,v(y,g))}for(var L=this.spawn(p.map(function(I){return i[I[0]]})),_=this.spawn(),N=this.spawn(),C=g[0],D=0;D<g.length;D++){var P=g[D],A=n[D];P===C?_.merge(A):N.merge(A)}var R=function(F){var B=e.spawn();return F.forEach(function($){B.merge($),$.connectedEdges().forEach(function(V){e.contains(V)&&!L.contains(V)&&B.merge(V)})}),B},O=[R(_),R(N)],M={cut:L,components:O,partition1:_,partition2:N};return M}},MGe=function(e){return{x:e.x,y:e.y}},o4=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},TQ=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},c0=function(e){return{x:e[0],y:e[1]}},PGe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.min(s,i))}return i},BGe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.max(s,i))}return i},FGe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(i+=o,a++)}return i/a},$Ge=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,l=e.length-1;l>=0;l--){var u=e[l];s?isFinite(u)||(e[l]=-1/0,o++):e.splice(l,1)}a&&e.sort(function(f,p){return f-p});var h=e.length,d=Math.floor(h/2);return h%2!==0?e[d+1+o]:(e[d-1+o]+e[d+o])/2},zGe=function(e){return Math.PI*e/180},l4=function(e,r){return Math.atan2(r,e)-Math.PI/2},gA=Math.log2||function(t){return Math.log(t)/Math.log(2)},mA=function(e){return e>0?1:e<0?-1:0},td=function(e,r){return Math.sqrt(rd(e,r))},rd=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},UGe=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var a=0;a<r;a++)e[a]=e[a]/n;return e},Di=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},u0=function(e,r,n,i){return{x:Di(e.x,r.x,n.x,i),y:Di(e.y,r.y,n.y,i)}},HGe=function(e,r,n,i){var a={x:r.x-e.x,y:r.y-e.y},s=td(e,r),o={x:a.x/s,y:a.y/s};return n=n??0,i=i??n*s,{x:e.x+o.x*i,y:e.y+o.y*i}},ry=function(e,r,n){return Math.max(e,Math.min(n,r))},us=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},GGe=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},VGe=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},qGe=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},wQ=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},WGe=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},c4=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},u4=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,s;if(r.length===1)n=i=a=s=r[0];else if(r.length===2)n=a=r[0],s=i=r[1];else if(r.length===4){var o=yi(r,4);n=o[0],i=o[1],a=o[2],s=o[3]}return e.x1-=s,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},SQ=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},yA=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},h0=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},YGe=function(e,r){return h0(e,r.x,r.y)},XGe=function(e,r){return h0(e,r.x1,r.y1)&&h0(e,r.x2,r.y2)},kQ=function(e,r,n,i,a,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?wu(a,s):l,h=a/2,d=s/2;u=Math.min(u,h,d);var f=u!==h,p=u!==d,g;if(f){var m=n-h+u-o,y=i-d-o,v=n+h-u+o,b=y;if(g=Tu(e,r,n,i,m,y,v,b,!1),g.length>0)return g}if(p){var x=n+h+o,T=i-d+u-o,w=x,S=i+d-u+o;if(g=Tu(e,r,n,i,x,T,w,S,!1),g.length>0)return g}if(f){var k=n-h+u-o,L=i+d+o,_=n+h-u+o,N=L;if(g=Tu(e,r,n,i,k,L,_,N,!1),g.length>0)return g}if(p){var C=n-h-o,D=i-d+u-o,P=C,A=i+d-u+o;if(g=Tu(e,r,n,i,C,D,P,A,!1),g.length>0)return g}var R;{var O=n-h+u,M=i-d+u;if(R=ny(e,r,n,i,O,M,u+o),R.length>0&&R[0]<=O&&R[1]<=M)return[R[0],R[1]]}{var I=n+h-u,F=i-d+u;if(R=ny(e,r,n,i,I,F,u+o),R.length>0&&R[0]>=I&&R[1]<=F)return[R[0],R[1]]}{var B=n+h-u,$=i+d-u;if(R=ny(e,r,n,i,B,$,u+o),R.length>0&&R[0]>=B&&R[1]>=$)return[R[0],R[1]]}{var V=n-h+u,H=i+d-u;if(R=ny(e,r,n,i,V,H,u+o),R.length>0&&R[0]<=V&&R[1]>=H)return[R[0],R[1]]}return[]},KGe=function(e,r,n,i,a,s,o){var l=o,u=Math.min(n,a),h=Math.max(n,a),d=Math.min(i,s),f=Math.max(i,s);return u-l<=e&&e<=h+l&&d-l<=r&&r<=f+l},jGe=function(e,r,n,i,a,s,o,l,u){var h={x1:Math.min(n,o,a)-u,x2:Math.max(n,o,a)+u,y1:Math.min(i,l,s)-u,y2:Math.max(i,l,s)+u};return!(e<h.x1||e>h.x2||r<h.y1||r>h.y2)},QGe=function(e,r,n,i){n-=i;var a=r*r-4*e*n;if(a<0)return[];var s=Math.sqrt(a),o=2*e,l=(-r+s)/o,u=(-r-s)/o;return[l,u]},ZGe=function(e,r,n,i,a){var s=1e-5;e===0&&(e=s),r/=e,n/=e,i/=e;var o,l,u,h,d,f,p,g;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,o=l*l*l+u*u,a[1]=0,p=r/3,o>0){d=u+Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),f=u-Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),a[0]=-p+d+f,p+=(d+f)/2,a[4]=a[2]=-p,p=Math.sqrt(3)*(-f+d)/2,a[3]=p,a[5]=-p;return}if(a[5]=a[3]=0,o===0){g=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-p+2*g,a[4]=a[2]=-(g+p);return}l=-l,h=l*l*l,h=Math.acos(u/Math.sqrt(h)),g=2*Math.sqrt(l),a[0]=-p+g*Math.cos(h/3),a[2]=-p+g*Math.cos((h+2*Math.PI)/3),a[4]=-p+g*Math.cos((h+4*Math.PI)/3)},JGe=function(e,r,n,i,a,s,o,l){var u=1*n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o+i*i-4*i*s+2*i*l+4*s*s-4*s*l+l*l,h=1*9*n*a-3*n*n-3*n*o-6*a*a+3*a*o+9*i*s-3*i*i-3*i*l-6*s*s+3*s*l,d=1*3*n*n-6*n*a+n*o-n*e+2*a*a+2*a*e-o*e+3*i*i-6*i*s+i*l-i*r+2*s*s+2*s*r-l*r,f=1*n*a-n*n+n*e-a*e+i*s-i*i+i*r-s*r,p=[];ZGe(u,h,d,f,p);for(var g=1e-7,m=[],y=0;y<6;y+=2)Math.abs(p[y+1])<g&&p[y]>=0&&p[y]<=1&&m.push(p[y]);m.push(1),m.push(0);for(var v=-1,b,x,T,w=0;w<m.length;w++)b=Math.pow(1-m[w],2)*n+2*(1-m[w])*m[w]*a+m[w]*m[w]*o,x=Math.pow(1-m[w],2)*i+2*(1-m[w])*m[w]*s+m[w]*m[w]*l,T=Math.pow(b-e,2)+Math.pow(x-r,2),v>=0?T<v&&(v=T):v=T;return v},eVe=function(e,r,n,i,a,s){var o=[e-n,r-i],l=[a-n,s-i],u=l[0]*l[0]+l[1]*l[1],h=o[0]*o[0]+o[1]*o[1],d=o[0]*l[0]+o[1]*l[1],f=d*d/u;return d<0?h:f>u?(e-a)*(e-a)+(r-s)*(r-s):h-f},hs=function(e,r,n){for(var i,a,s,o,l,u=0,h=0;h<n.length/2;h++)if(i=n[h*2],a=n[h*2+1],h+1<n.length/2?(s=n[(h+1)*2],o=n[(h+1)*2+1]):(s=n[(h+1-n.length/2)*2],o=n[(h+1-n.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)l=(e-i)/(s-i)*(o-a)+a,l>r&&u++;else continue;return u%2!==0},xc=function(e,r,n,i,a,s,o,l,u){var h=new Array(n.length),d;l[0]!=null?(d=Math.atan(l[1]/l[0]),l[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=l;for(var f=Math.cos(-d),p=Math.sin(-d),g=0;g<h.length/2;g++)h[g*2]=s/2*(n[g*2]*f-n[g*2+1]*p),h[g*2+1]=o/2*(n[g*2+1]*f+n[g*2]*p),h[g*2]+=i,h[g*2+1]+=a;var m;if(u>0){var y=d4(h,-u);m=h4(y)}else m=h;return hs(e,r,m)},tVe=function(e,r,n,i,a,s,o,l){for(var u=new Array(n.length*2),h=0;h<l.length;h++){var d=l[h];u[h*4+0]=d.startX,u[h*4+1]=d.startY,u[h*4+2]=d.stopX,u[h*4+3]=d.stopY;var f=Math.pow(d.cx-e,2)+Math.pow(d.cy-r,2);if(f<=Math.pow(d.radius,2))return!0}return hs(e,r,u)},h4=function(e){for(var r=new Array(e.length/2),n,i,a,s,o,l,u,h,d=0;d<e.length/4;d++){n=e[d*4],i=e[d*4+1],a=e[d*4+2],s=e[d*4+3],d<e.length/4-1?(o=e[(d+1)*4],l=e[(d+1)*4+1],u=e[(d+1)*4+2],h=e[(d+1)*4+3]):(o=e[0],l=e[1],u=e[2],h=e[3]);var f=Tu(n,i,a,s,o,l,u,h,!0);r[d*2]=f[0],r[d*2+1]=f[1]}return r},d4=function(e,r){for(var n=new Array(e.length*2),i,a,s,o,l=0;l<e.length/2;l++){i=e[l*2],a=e[l*2+1],l<e.length/2-1?(s=e[(l+1)*2],o=e[(l+1)*2+1]):(s=e[0],o=e[1]);var u=o-a,h=-(s-i),d=Math.sqrt(u*u+h*h),f=u/d,p=h/d;n[l*4]=i+f*r,n[l*4+1]=a+p*r,n[l*4+2]=s+f*r,n[l*4+3]=o+p*r}return n},rVe=function(e,r,n,i,a,s){var o=n-e,l=i-r;o/=a,l/=s;var u=Math.sqrt(o*o+l*l),h=u-1;if(h<0)return[];var d=h/u;return[(n-e)*d+e,(i-r)*d+r]},nd=function(e,r,n,i,a,s,o){return e-=a,r-=s,e/=n/2+o,r/=i/2+o,e*e+r*r<=1},ny=function(e,r,n,i,a,s,o){var l=[n-e,i-r],u=[e-a,r-s],h=l[0]*l[0]+l[1]*l[1],d=2*(u[0]*l[0]+u[1]*l[1]),f=u[0]*u[0]+u[1]*u[1]-o*o,p=d*d-4*h*f;if(p<0)return[];var g=(-d+Math.sqrt(p))/(2*h),m=(-d-Math.sqrt(p))/(2*h),y=Math.min(g,m),v=Math.max(g,m),b=[];if(y>=0&&y<=1&&b.push(y),v>=0&&v<=1&&b.push(v),b.length===0)return[];var x=b[0]*l[0]+e,T=b[0]*l[1]+r;if(b.length>1){if(b[0]==b[1])return[x,T];var w=b[1]*l[0]+e,S=b[1]*l[1]+r;return[x,T,w,S]}else return[x,T]},vA=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Tu=function(e,r,n,i,a,s,o,l,u){var h=e-a,d=n-e,f=o-a,p=r-s,g=i-r,m=l-s,y=f*p-m*h,v=d*p-g*h,b=m*d-f*g;if(b!==0){var x=y/b,T=v/b,w=.001,S=0-w,k=1+w;return S<=x&&x<=k&&S<=T&&T<=k?[e+x*d,r+x*g]:u?[e+x*d,r+x*g]:[]}else return y===0||v===0?vA(e,n,o)===o?[o,l]:vA(e,n,a)===a?[a,s]:vA(a,o,n)===n?[n,i]:[]:[]},iy=function(e,r,n,i,a,s,o,l){var u=[],h,d=new Array(n.length),f=!0;s==null&&(f=!1);var p;if(f){for(var g=0;g<d.length/2;g++)d[g*2]=n[g*2]*s+i,d[g*2+1]=n[g*2+1]*o+a;if(l>0){var m=d4(d,-l);p=h4(m)}else p=d}else p=n;for(var y,v,b,x,T=0;T<p.length/2;T++)y=p[T*2],v=p[T*2+1],T<p.length/2-1?(b=p[(T+1)*2],x=p[(T+1)*2+1]):(b=p[0],x=p[1]),h=Tu(e,r,i,a,y,v,b,x),h.length!==0&&u.push(h[0],h[1]);return u},nVe=function(e,r,n,i,a,s,o,l,u){var h=[],d,f=new Array(n.length*2);u.forEach(function(b,x){x===0?(f[f.length-2]=b.startX,f[f.length-1]=b.startY):(f[x*4-2]=b.startX,f[x*4-1]=b.startY),f[x*4]=b.stopX,f[x*4+1]=b.stopY,d=ny(e,r,i,a,b.cx,b.cy,b.radius),d.length!==0&&h.push(d[0],d[1])});for(var p=0;p<f.length/4;p++)d=Tu(e,r,i,a,f[p*4],f[p*4+1],f[p*4+2],f[p*4+3],!1),d.length!==0&&h.push(d[0],d[1]);if(h.length>2){for(var g=[h[0],h[1]],m=Math.pow(g[0]-e,2)+Math.pow(g[1]-r,2),y=1;y<h.length/2;y++){var v=Math.pow(h[y*2]-e,2)+Math.pow(h[y*2+1]-r,2);v<=m&&(g[0]=h[y*2],g[1]=h[y*2+1],m=v)}return g}return h},f4=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(a-n)/a;return s<0&&(s=1e-5),[r[0]+s*i[0],r[1]+s*i[1]]},Pa=function(e,r){var n=bA(e,r);return n=CQ(n),n},CQ=function(e){for(var r,n,i=e.length/2,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i;u++)r=e[2*u],n=e[2*u+1],a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);for(var h=2/(o-a),d=2/(l-s),f=0;f<i;f++)r=e[2*f]=e[2*f]*h,n=e[2*f+1]=e[2*f+1]*d,a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);if(s<-1)for(var p=0;p<i;p++)n=e[2*p+1]=e[2*p+1]+(-1-s);return e},bA=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(e*2),s,o=0;o<e;o++)s=o*n+i,a[2*o]=Math.cos(s),a[2*o+1]=Math.sin(-s);return a},wu=function(e,r){return Math.min(e/4,r/4,8)},_Q=function(e,r){return Math.min(e/10,r/10,8)},xA=function(){return 8},iVe=function(e,r,n){return[e-2*r+n,2*(r-e),e]},EA=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function aVe(t,e){function r(d){for(var f=[],p=0;p<d.length;p++){var g=d[p],m=d[(p+1)%d.length],y={x:m.x-g.x,y:m.y-g.y},v={x:-y.y,y:y.x},b=Math.sqrt(v.x*v.x+v.y*v.y);f.push({x:v.x/b,y:v.y/b})}return f}function n(d,f){var p=1/0,g=-1/0,m=ls(d),y;try{for(m.s();!(y=m.n()).done;){var v=y.value,b=v.x*f.x+v.y*f.y;p=Math.min(p,b),g=Math.max(g,b)}}catch(x){m.e(x)}finally{m.f()}return{min:p,max:g}}function i(d,f){return!(d.max<f.min||f.max<d.min)}var a=[].concat(QE(r(t)),QE(r(e))),s=ls(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=n(t,l),h=n(e,l);if(!i(u,h))return!1}}catch(d){s.e(d)}finally{s.f()}return!0}var sVe=Yi({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),oVe={pageRank:function(e){for(var r=sVe(e),n=r.dampingFactor,i=r.precision,a=r.iterations,s=r.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,h=l.edges,d=u.length,f=d*d,p=h.length,g=new Array(f),m=new Array(d),y=(1-n)/d,v=0;v<d;v++){for(var b=0;b<d;b++){var x=v*d+b;g[x]=0}m[v]=0}for(var T=0;T<p;T++){var w=h[T],S=w.data("source"),k=w.data("target");if(S!==k){var L=u.indexOfId(S),_=u.indexOfId(k),N=s(w),C=_*d+L;g[C]+=N,m[L]+=N}}for(var D=1/d+y,P=0;P<d;P++)if(m[P]===0)for(var A=0;A<d;A++){var R=A*d+P;g[R]=D}else for(var O=0;O<d;O++){var M=O*d+P;g[M]=g[M]/m[P]+y}for(var I=new Array(d),F=new Array(d),B,$=0;$<d;$++)I[$]=1;for(var V=0;V<a;V++){for(var H=0;H<d;H++)F[H]=0;for(var te=0;te<d;te++)for(var X=0;X<d;X++){var ee=te*d+X;F[te]+=g[ee]*I[X]}UGe(F),B=I,I=F,F=B;for(var re=0,pe=0;pe<d;pe++){var K=B[pe]-I[pe];re+=K*K}if(re<i)break}var W={rank:function(Y){return Y=o.collection(Y)[0],I[u.indexOf(Y)]}};return W}},AQ=Yi({root:null,weight:function(e){return 1},directed:!1,alpha:0}),d0={degreeCentralityNormalized:function(e){e=AQ(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var h={},d={},f=0,p=0,g=0;g<i;g++){var m=n[g],y=m.id();e.root=m;var v=this.degreeCentrality(e);f<v.indegree&&(f=v.indegree),p<v.outdegree&&(p=v.outdegree),h[y]=v.indegree,d[y]=v.outdegree}return{indegree:function(x){return f==0?0:(Qt(x)&&(x=r.filter(x)),h[x.id()]/f)},outdegree:function(x){return p===0?0:(Qt(x)&&(x=r.filter(x)),d[x.id()]/p)}}}else{for(var a={},s=0,o=0;o<i;o++){var l=n[o];e.root=l;var u=this.degreeCentrality(e);s<u.degree&&(s=u.degree),a[l.id()]=u.degree}return{degree:function(x){return s===0?0:(Qt(x)&&(x=r.filter(x)),a[x.id()]/s)}}}},degreeCentrality:function(e){e=AQ(e);var r=this.cy(),n=this,i=e,a=i.root,s=i.weight,o=i.directed,l=i.alpha;if(a=r.collection(a)[0],o){for(var p=a.connectedEdges(),g=p.filter(function(S){return S.target().same(a)&&n.has(S)}),m=p.filter(function(S){return S.source().same(a)&&n.has(S)}),y=g.length,v=m.length,b=0,x=0,T=0;T<g.length;T++)b+=s(g[T]);for(var w=0;w<m.length;w++)x+=s(m[w]);return{indegree:Math.pow(y,1-l)*Math.pow(b,l),outdegree:Math.pow(v,1-l)*Math.pow(x,l)}}else{for(var u=a.connectedEdges().intersection(n),h=u.length,d=0,f=0;f<u.length;f++)d+=s(u[f]);return{degree:Math.pow(h,1-l)*Math.pow(d,l)}}}};d0.dc=d0.degreeCentrality,d0.dcn=d0.degreeCentralityNormalised=d0.degreeCentralityNormalized;var LQ=Yi({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),f0={closenessCentralityNormalized:function(e){for(var r=LQ(e),n=r.harmonic,i=r.weight,a=r.directed,s=this.cy(),o={},l=0,u=this.nodes(),h=this.floydWarshall({weight:i,directed:a}),d=0;d<u.length;d++){for(var f=0,p=u[d],g=0;g<u.length;g++)if(d!==g){var m=h.distance(p,u[g]);n?f+=1/m:f+=m}n||(f=1/f),l<f&&(l=f),o[p.id()]=f}return{closeness:function(v){return l==0?0:(Qt(v)?v=s.filter(v)[0].id():v=v.id(),o[v]/l)}}},closenessCentrality:function(e){var r=LQ(e),n=r.root,i=r.weight,a=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),h=0;h<u.length;h++){var d=u[h];if(!d.same(n)){var f=o.distanceTo(d);s?l+=1/f:l+=f}}return s?l:1/l}};f0.cc=f0.closenessCentrality,f0.ccn=f0.closenessCentralityNormalised=f0.closenessCentralityNormalized;var lVe=Yi({weight:null,directed:!1}),TA={betweennessCentrality:function(e){for(var r=lVe(e),n=r.directed,i=r.weight,a=i!=null,s=this.cy(),o=this.nodes(),l={},u={},h=0,d={set:function(x,T){u[x]=T,T>h&&(h=T)},get:function(x){return u[x]}},f=0;f<o.length;f++){var p=o[f],g=p.id();n?l[g]=p.outgoers().nodes():l[g]=p.openNeighborhood().nodes(),d.set(g,0)}for(var m=function(){for(var x=o[y].id(),T=[],w={},S={},k={},L=new ty(function(te,X){return k[te]-k[X]}),_=0;_<o.length;_++){var N=o[_].id();w[N]=[],S[N]=0,k[N]=1/0}for(S[x]=1,k[x]=0,L.push(x);!L.empty();){var C=L.pop();if(T.push(C),a)for(var D=0;D<l[C].length;D++){var P=l[C][D],A=s.getElementById(C),R=void 0;A.edgesTo(P).length>0?R=A.edgesTo(P)[0]:R=P.edgesTo(A)[0];var O=i(R);P=P.id(),k[P]>k[C]+O&&(k[P]=k[C]+O,L.nodes.indexOf(P)<0?L.push(P):L.updateItem(P),S[P]=0,w[P]=[]),k[P]==k[C]+O&&(S[P]=S[P]+S[C],w[P].push(C))}else for(var M=0;M<l[C].length;M++){var I=l[C][M].id();k[I]==1/0&&(L.push(I),k[I]=k[C]+1),k[I]==k[C]+1&&(S[I]=S[I]+S[C],w[I].push(C))}}for(var F={},B=0;B<o.length;B++)F[o[B].id()]=0;for(;T.length>0;){for(var $=T.pop(),V=0;V<w[$].length;V++){var H=w[$][V];F[H]=F[H]+S[H]/S[$]*(1+F[$])}$!=o[y].id()&&d.set($,d.get($)+F[$])}},y=0;y<o.length;y++)m();var v={betweenness:function(x){var T=s.collection(x).id();return d.get(T)},betweennessNormalized:function(x){if(h==0)return 0;var T=s.collection(x).id();return d.get(T)/h}};return v.betweennessNormalised=v.betweennessNormalized,v}};TA.bc=TA.betweennessCentrality;var cVe=Yi({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),uVe=function(e){return cVe(e)},hVe=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},dVe=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},NQ=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=e[a*r+i];for(var s=0;s<r;s++)e[s*r+i]=e[s*r+i]/n}},fVe=function(e,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var s=0;s<n;s++)i[a*n+s]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)i[a*n+l]+=e[a*n+o]*r[o*n+l]}return i},pVe=function(e,r,n){for(var i=e.slice(0),a=1;a<n;a++)e=fVe(e,i,r);return e},gVe=function(e,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(e[a],n);return NQ(i,r),i},mVe=function(e,r,n,i){for(var a=0;a<n;a++){var s=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),o=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(s!==o)return!1}return!0},yVe=function(e,r,n,i){for(var a=[],s=0;s<r;s++){for(var o=[],l=0;l<r;l++)Math.round(e[s*r+l]*1e3)/1e3>0&&o.push(n[l]);o.length!==0&&a.push(i.collection(o))}return a},vVe=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},bVe=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&vVe(e[r],e[n])&&e.splice(n,1);return e},RQ=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=uVe(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var l=r.length,u=l*l,h=new Array(u),d,f=0;f<u;f++)h[f]=0;for(var p=0;p<n.length;p++){var g=n[p],m=s[g.source().id()],y=s[g.target().id()],v=hVe(g,a.attributes);h[m*l+y]+=v,h[y*l+m]+=v}dVe(h,l,a.multFactor),NQ(h,l);for(var b=!0,x=0;b&&x<a.maxIterations;)b=!1,d=pVe(h,l,a.expandFactor),h=gVe(d,l,a.inflateFactor),mVe(h,d,u,4)||(b=!0),x++;var T=yVe(h,l,r,i);return T=bVe(T),T},xVe={markovClustering:RQ,mcl:RQ},EVe=function(e){return e},IQ=function(e,r){return Math.abs(r-e)},DQ=function(e,r,n){return e+IQ(r,n)},OQ=function(e,r,n){return e+Math.pow(n-r,2)},TVe=function(e){return Math.sqrt(e)},wVe=function(e,r,n){return Math.max(e,IQ(r,n))},ay=function(e,r,n,i,a){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:EVe,o=i,l,u,h=0;h<e;h++)l=r(h),u=n(h),o=a(o,l,u);return s(o)},p0={euclidean:function(e,r,n){return e>=2?ay(e,r,n,0,OQ,TVe):ay(e,r,n,0,DQ)},squaredEuclidean:function(e,r,n){return ay(e,r,n,0,OQ)},manhattan:function(e,r,n){return ay(e,r,n,0,DQ)},max:function(e,r,n){return ay(e,r,n,-1/0,wVe)}};p0["squared-euclidean"]=p0.squaredEuclidean,p0.squaredeuclidean=p0.squaredEuclidean;function p4(t,e,r,n,i,a){var s;return In(t)?s=t:s=p0[t]||p0.euclidean,e===0&&In(t)?s(i,a):s(e,r,n,i,a)}var SVe=Yi({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),wA=function(e){return SVe(e)},g4=function(e,r,n,i,a){var s=a!=="kMedoids",o=s?function(d){return n[d]}:function(d){return i[d](n)},l=function(f){return i[f](r)},u=n,h=r;return p4(e,i.length,o,l,u,h)},SA=function(e,r,n){for(var i=n.length,a=new Array(i),s=new Array(i),o=new Array(r),l=null,u=0;u<i;u++)a[u]=e.min(n[u]).value,s[u]=e.max(n[u]).value;for(var h=0;h<r;h++){l=[];for(var d=0;d<i;d++)l[d]=Math.random()*(s[d]-a[d])+a[d];o[h]=l}return o},MQ=function(e,r,n,i,a){for(var s=1/0,o=0,l=0;l<r.length;l++){var u=g4(n,e,r[l],i,a);u<s&&(s=u,o=l)}return o},PQ=function(e,r,n){for(var i=[],a=null,s=0;s<r.length;s++)a=r[s],n[a.id()]===e&&i.push(a);return i},kVe=function(e,r,n){return Math.abs(r-e)<=n},CVe=function(e,r,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var s=Math.abs(e[i][a]-r[i][a]);if(s>n)return!1}return!0},_Ve=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},BQ=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var a=e[Math.floor(Math.random()*e.length)];_Ve(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},FQ=function(e,r,n){for(var i=0,a=0;a<r.length;a++)i+=g4("manhattan",r[a],e,n,"kMedoids");return i},AVe=function(e){var r=this.cy(),n=this.nodes(),i=null,a=wA(e),s=new Array(a.k),o={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=SA(n,a.k,a.attributes)):vi(a.testCentroids)==="object"?l=a.testCentroids:l=SA(n,a.k,a.attributes):l=SA(n,a.k,a.attributes);for(var u=!0,h=0;u&&h<a.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],o[i.id()]=MQ(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var f=0;f<a.k;f++){var p=PQ(f,n,o);if(p.length!==0){for(var g=a.attributes.length,m=l[f],y=new Array(g),v=new Array(g),b=0;b<g;b++){v[b]=0;for(var x=0;x<p.length;x++)i=p[x],v[b]+=a.attributes[b](i);y[b]=v[b]/p.length,kVe(y[b],m[b],a.sensitivityThreshold)||(u=!0)}l[f]=y,s[f]=r.collection(p)}}h++}return s},LVe=function(e){var r=this.cy(),n=this.nodes(),i=null,a=wA(e),s=new Array(a.k),o,l={},u,h=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(vi(a.testCentroids)==="object"?o=a.testCentroids:o=BQ(n,a.k)):o=BQ(n,a.k);for(var d=!0,f=0;d&&f<a.maxIterations;){for(var p=0;p<n.length;p++)i=n[p],l[i.id()]=MQ(i,o,a.distance,a.attributes,"kMedoids");d=!1;for(var g=0;g<o.length;g++){var m=PQ(g,n,l);if(m.length!==0){h[g]=FQ(o[g],m,a.attributes);for(var y=0;y<m.length;y++)u=FQ(m[y],m,a.attributes),u<h[g]&&(h[g]=u,o[g]=m[y],d=!0);s[g]=r.collection(m)}}f++}return s},NVe=function(e,r,n,i,a){for(var s,o,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var h=0;h<e.length;h++)for(var d=0;d<a.attributes.length;d++){s=0,o=0;for(var f=0;f<r.length;f++)s+=i[f][h]*a.attributes[d](r[f]),o+=i[f][h];e[h][d]=s/o}},RVe=function(e,r,n,i,a){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,l,u,h=2/(a.m-1),d=0;d<n.length;d++)for(var f=0;f<i.length;f++){o=0;for(var p=0;p<n.length;p++)l=g4(a.distance,i[f],n[d],a.attributes,"cmeans"),u=g4(a.distance,i[f],n[p],a.attributes,"cmeans"),o+=Math.pow(l/u,h);e[f][d]=1/o}},IVe=function(e,r,n,i){for(var a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var o,l,u=0;u<r.length;u++){o=-1/0,l=-1;for(var h=0;h<r[0].length;h++)r[u][h]>o&&(o=r[u][h],l=h);a[l].push(e[u])}for(var d=0;d<a.length;d++)a[d]=i.collection(a[d]);return a},$Q=function(e){var r=this.cy(),n=this.nodes(),i=wA(e),a,s,o,l,u;l=new Array(n.length);for(var h=0;h<n.length;h++)l[h]=new Array(i.k);o=new Array(n.length);for(var d=0;d<n.length;d++)o[d]=new Array(i.k);for(var f=0;f<n.length;f++){for(var p=0,g=0;g<i.k;g++)o[f][g]=Math.random(),p+=o[f][g];for(var m=0;m<i.k;m++)o[f][m]=o[f][m]/p}s=new Array(i.k);for(var y=0;y<i.k;y++)s[y]=new Array(i.attributes.length);u=new Array(n.length);for(var v=0;v<n.length;v++)u[v]=new Array(i.k);for(var b=!0,x=0;b&&x<i.maxIterations;)b=!1,NVe(s,n,o,u,i),RVe(o,l,s,n,i),CVe(o,l,i.sensitivityThreshold)||(b=!0),x++;return a=IVe(n,o,i,r),{clusters:a,degreeOfMembership:o}},DVe={kMeans:AVe,kMedoids:LVe,fuzzyCMeans:$Q,fcm:$Q},OVe=Yi({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),MVe={single:"min",complete:"max"},PVe=function(e){var r=OVe(e),n=MVe[r.linkage];return n!=null&&(r.linkage=n),r},zQ=function(e,r,n,i,a){for(var s=0,o=1/0,l,u=a.attributes,h=function(_,N){return p4(a.distance,u.length,function(C){return u[C](_)},function(C){return u[C](N)},_,N)},d=0;d<e.length;d++){var f=e[d].key,p=n[f][i[f]];p<o&&(s=f,o=p)}if(a.mode==="threshold"&&o>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var g=r[s],m=r[i[s]],y;a.mode==="dendrogram"?y={left:g,right:m,key:g.key}:y={value:g.value.concat(m.value),key:g.key},e[g.index]=y,e.splice(m.index,1),r[g.key]=y;for(var v=0;v<e.length;v++){var b=e[v];g.key===b.key?l=1/0:a.linkage==="min"?(l=n[g.key][b.key],n[g.key][b.key]>n[m.key][b.key]&&(l=n[m.key][b.key])):a.linkage==="max"?(l=n[g.key][b.key],n[g.key][b.key]<n[m.key][b.key]&&(l=n[m.key][b.key])):a.linkage==="mean"?l=(n[g.key][b.key]*g.size+n[m.key][b.key]*m.size)/(g.size+m.size):a.mode==="dendrogram"?l=h(b.value,g.value):l=h(b.value[0],g.value[0]),n[g.key][b.key]=n[b.key][g.key]=l}for(var x=0;x<e.length;x++){var T=e[x].key;if(i[T]===g.key||i[T]===m.key){for(var w=T,S=0;S<e.length;S++){var k=e[S].key;n[T][k]<n[T][w]&&(w=k)}i[T]=w}e[x].index=x}return g.key=m.key=g.index=m.index=null,!0},g0=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&g0(e.left,r),e.right&&g0(e.right,r)))},kA=function(e,r){if(!e)return"";if(e.left&&e.right){var n=kA(e.left,r),i=kA(e.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},CA=function(e,r,n){if(!e)return[];var i=[],a=[],s=[];return r===0?(e.left&&g0(e.left,i),e.right&&g0(e.right,a),s=i.concat(a),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&g0(e.left,i),e.right&&g0(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=CA(e.left,r-1,n)),e.right&&(a=CA(e.right,r-1,n)),i.concat(a))},UQ=function(e){for(var r=this.cy(),n=this.nodes(),i=PVe(e),a=i.attributes,s=function(x,T){return p4(i.distance,a.length,function(w){return a[w](x)},function(w){return a[w](T)},x,T)},o=[],l=[],u=[],h=[],d=0;d<n.length;d++){var f={value:i.mode==="dendrogram"?n[d]:[n[d]],key:d,index:d};o[d]=f,h[d]=f,l[d]=[],u[d]=0}for(var p=0;p<o.length;p++)for(var g=0;g<=p;g++){var m=void 0;i.mode==="dendrogram"?m=p===g?1/0:s(o[p].value,o[g].value):m=p===g?1/0:s(o[p].value[0],o[g].value[0]),l[p][g]=m,l[g][p]=m,m<l[p][u[p]]&&(u[p]=g)}for(var y=zQ(o,h,l,u,i);y;)y=zQ(o,h,l,u,i);var v;return i.mode==="dendrogram"?(v=CA(o[0],i.dendrogramDepth,r),i.addDendrogram&&kA(o[0],r)):(v=new Array(o.length),o.forEach(function(b,x){b.key=b.index=null,v[x]=r.collection(b.value)})),v},BVe={hierarchicalClustering:UQ,hca:UQ},FVe=Yi({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),$Ve=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Dn("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||Rt(n)||Dn("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),FVe(e)},zVe=function(e,r,n,i){var a=function(o,l){return i[l](o)};return-p4(e,i.length,function(s){return a(r,s)},function(s){return a(n,s)},r,n)},UVe=function(e,r){var n=null;return r==="median"?n=$Ge(e):r==="mean"?n=FGe(e):r==="min"?n=PGe(e):r==="max"?n=BGe(e):n=r,n},HVe=function(e,r,n){for(var i=[],a=0;a<e;a++)r[a*e+a]+n[a*e+a]>0&&i.push(a);return i},HQ=function(e,r,n){for(var i=[],a=0;a<e;a++){for(var s=-1,o=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*e+u]>o&&(s=u,o=r[a*e+u])}s>0&&i.push(s)}for(var h=0;h<n.length;h++)i[n[h]]=n[h];return i},GVe=function(e,r,n){for(var i=HQ(e,r,n),a=0;a<n.length;a++){for(var s=[],o=0;o<i.length;o++)i[o]===n[a]&&s.push(o);for(var l=-1,u=-1/0,h=0;h<s.length;h++){for(var d=0,f=0;f<s.length;f++)d+=r[s[f]*e+s[h]];d>u&&(l=h,u=d)}n[a]=s[l]}return i=HQ(e,r,n),i},GQ=function(e){for(var r=this.cy(),n=this.nodes(),i=$Ve(e),a={},s=0;s<n.length;s++)a[n[s].id()]=s;var o,l,u,h,d,f;o=n.length,l=o*o,u=new Array(l);for(var p=0;p<l;p++)u[p]=-1/0;for(var g=0;g<o;g++)for(var m=0;m<o;m++)g!==m&&(u[g*o+m]=zVe(i.distance,n[g],n[m],i.attributes));h=UVe(u,i.preference);for(var y=0;y<o;y++)u[y*o+y]=h;d=new Array(l);for(var v=0;v<l;v++)d[v]=0;f=new Array(l);for(var b=0;b<l;b++)f[b]=0;for(var x=new Array(o),T=new Array(o),w=new Array(o),S=0;S<o;S++)x[S]=0,T[S]=0,w[S]=0;for(var k=new Array(o*i.minIterations),L=0;L<k.length;L++)k[L]=0;var _;for(_=0;_<i.maxIterations;_++){for(var N=0;N<o;N++){for(var C=-1/0,D=-1/0,P=-1,A=0,R=0;R<o;R++)x[R]=d[N*o+R],A=f[N*o+R]+u[N*o+R],A>=C?(D=C,C=A,P=R):A>D&&(D=A);for(var O=0;O<o;O++)d[N*o+O]=(1-i.damping)*(u[N*o+O]-C)+i.damping*x[O];d[N*o+P]=(1-i.damping)*(u[N*o+P]-D)+i.damping*x[P]}for(var M=0;M<o;M++){for(var I=0,F=0;F<o;F++)x[F]=f[F*o+M],T[F]=Math.max(0,d[F*o+M]),I+=T[F];I-=T[M],T[M]=d[M*o+M],I+=T[M];for(var B=0;B<o;B++)f[B*o+M]=(1-i.damping)*Math.min(0,I-T[B])+i.damping*x[B];f[M*o+M]=(1-i.damping)*(I-T[M])+i.damping*x[M]}for(var $=0,V=0;V<o;V++){var H=f[V*o+V]+d[V*o+V]>0?1:0;k[_%i.minIterations*o+V]=H,$+=H}if($>0&&(_>=i.minIterations-1||_==i.maxIterations-1)){for(var te=0,X=0;X<o;X++){w[X]=0;for(var ee=0;ee<i.minIterations;ee++)w[X]+=k[ee*o+X];(w[X]===0||w[X]===i.minIterations)&&te++}if(te===o)break}}for(var re=HVe(o,d,f),pe=GVe(o,u,re),K={},W=0;W<re.length;W++)K[re[W]]=[];for(var j=0;j<n.length;j++){var Y=a[n[j].id()],Q=pe[Y];Q!=null&&K[Q].push(n[j])}for(var ie=new Array(re.length),J=0;J<re.length;J++)ie[J]=r.collection(K[re[J]]);return ie},VVe={affinityPropagation:GQ,ap:GQ},qVe=Yi({root:void 0,directed:!1}),WVe={hierholzer:function(e){if(!Pr(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=qVe(e),i=n.root,a=n.directed,s=this,o=!1,l,u,h;i&&(h=Qt(i)?this.filter(i)[0].id():i[0].id());var d={},f={};a?s.forEach(function(b){var x=b.id();if(b.isNode()){var T=b.indegree(!0),w=b.outdegree(!0),S=T-w,k=w-T;S==1?l?o=!0:l=x:k==1?u?o=!0:u=x:(k>1||S>1)&&(o=!0),d[x]=[],b.outgoers().forEach(function(L){L.isEdge()&&d[x].push(L.id())})}else f[x]=[void 0,b.target().id()]}):s.forEach(function(b){var x=b.id();if(b.isNode()){var T=b.degree(!0);T%2&&(l?u?o=!0:u=x:l=x),d[x]=[],b.connectedEdges().forEach(function(w){return d[x].push(w.id())})}else f[x]=[b.source().id(),b.target().id()]});var p={found:!1,trail:void 0};if(o)return p;if(u&&l)if(a){if(h&&u!=h)return p;h=u}else{if(h&&u!=h&&l!=h)return p;h||(h=u)}else h||(h=s[0].id());var g=function(x){for(var T=x,w=[x],S,k,L;d[T].length;)S=d[T].shift(),k=f[S][0],L=f[S][1],T!=L?(d[L]=d[L].filter(function(_){return _!=S}),T=L):!a&&T!=k&&(d[k]=d[k].filter(function(_){return _!=S}),T=k),w.unshift(S),w.unshift(T);return w},m=[],y=[];for(y=g(h);y.length!=1;)d[y[0]].length==0?(m.unshift(s.getElementById(y.shift())),m.unshift(s.getElementById(y.shift()))):y=g(y.shift()).concat(y);m.unshift(s.getElementById(y.shift()));for(var v in d)if(d[v].length)return p;return p.found=!0,p.trail=this.spawn(m,!0),p}},m4=function(){var e=this,r={},n=0,i=0,a=[],s=[],o={},l=function(f,p){for(var g=s.length-1,m=[],y=e.spawn();s[g].x!=f||s[g].y!=p;)m.push(s.pop().edge),g--;m.push(s.pop().edge),m.forEach(function(v){var b=v.connectedNodes().intersection(e);y.merge(v),b.forEach(function(x){var T=x.id(),w=x.connectedEdges().intersection(e);y.merge(x),r[T].cutVertex?y.merge(w.filter(function(S){return S.isLoop()})):y.merge(w)})}),a.push(y)},u=function(f,p,g){f===g&&(i+=1),r[p]={id:n,low:n++,cutVertex:!1};var m=e.getElementById(p).connectedEdges().intersection(e);if(m.size()===0)a.push(e.spawn(e.getElementById(p)));else{var y,v,b,x;m.forEach(function(T){y=T.source().id(),v=T.target().id(),b=y===p?v:y,b!==g&&(x=T.id(),o[x]||(o[x]=!0,s.push({x:p,y:b,edge:T})),b in r?r[p].low=Math.min(r[p].low,r[b].id):(u(f,b,p),r[p].low=Math.min(r[p].low,r[b].low),r[p].id<=r[b].low&&(r[p].cutVertex=!0,l(p,b))))})}};e.forEach(function(d){if(d.isNode()){var f=d.id();f in r||(i=0,u(f,f),r[f].cutVertex=i>1)}});var h=Object.keys(r).filter(function(d){return r[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(h),components:a}},YVe={hopcroftTarjanBiconnected:m4,htbc:m4,htb:m4,hopcroftTarjanBiconnectedComponents:m4},y4=function(){var e=this,r={},n=0,i=[],a=[],s=e.spawn(e),o=function(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var h=e.getElementById(u).connectedEdges().intersection(e);if(h.forEach(function(m){var y=m.target().id();y!==u&&(y in r||o(y),r[y].explored||(r[u].low=Math.min(r[u].low,r[y].low)))}),r[u].index===r[u].low){for(var d=e.spawn();;){var f=a.pop();if(d.merge(e.getElementById(f)),r[f].low=r[u].index,r[f].explored=!0,f===u)break}var p=d.edgesWith(d),g=d.merge(p);i.push(g),s=s.difference(g)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||o(u)}}),{cut:s,components:i}},XVe={tarjanStronglyConnected:y4,tsc:y4,tscc:y4,tarjanStronglyConnectedComponents:y4},VQ={};[ey,SGe,kGe,_Ge,LGe,RGe,OGe,oVe,d0,f0,TA,xVe,DVe,BVe,VVe,WVe,YVe,XVe].forEach(function(t){rr(VQ,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var qQ=0,WQ=1,YQ=2,Ao=function(e){if(!(this instanceof Ao))return new Ao(e);this.id="Thenable/1.0.7",this.state=qQ,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ao.prototype={fulfill:function(e){return XQ(this,WQ,"fulfillValue",e)},reject:function(e){return XQ(this,YQ,"rejectReason",e)},then:function(e,r){var n=this,i=new Ao;return n.onFulfilled.push(QQ(e,i,"fulfill")),n.onRejected.push(QQ(r,i,"reject")),KQ(n),i.proxy}};var XQ=function(e,r,n,i){return e.state===qQ&&(e.state=r,e[n]=i,KQ(e)),e},KQ=function(e){e.state===WQ?jQ(e,"onFulfilled",e.fulfillValue):e.state===YQ&&jQ(e,"onRejected",e.rejectReason)},jQ=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var a=function(){for(var o=0;o<i.length;o++)i[o](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},QQ=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var a;try{a=e(i)}catch(s){r.reject(s);return}ZQ(r,a)}}},ZQ=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(vi(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?e.reject(new TypeError("circular thenable chain")):ZQ(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(r)};Ao.all=function(t){return new Ao(function(e,r){for(var n=new Array(t.length),i=0,a=function(l,u){n[l]=u,i++,i===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var l=t[o],u=l!=null&&l.then!=null;if(u)l.then(function(d){a(o,d)},function(d){r(d)});else{var h=l;a(o,h)}})(s)})},Ao.resolve=function(t){return new Ao(function(e,r){e(t)})},Ao.reject=function(t){return new Ao(function(e,r){r(t)})};var m0=typeof Promise<"u"?Promise:Ao,_A=function(e,r,n){var i=W_(e),a=!i,s=this._private=rr({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&In(s.complete)&&s.completes.push(s.complete),a){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var l=e.pan();s.startPan={x:l.x,y:l.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},id=_A.prototype;rr(id,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Ns(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,h){var d=e[u];d!=null&&(e[u]=e[h],e[h]=d)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],s=a.name,o=e.startStyle[s];e.startStyle[s]=a,e.style[i]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new m0(function(i,a){n.push(function(){i()})})}}),id.complete=id.completed,id.run=id.play,id.running=id.playing;var KVe={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){var o=i[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this,l=!a,u=!l;if(!o.styleEnabled())return this;var h=o.style();r=rr({},r,n);var d=Object.keys(r).length===0;if(d)return new _A(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=h.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var f=r.renderedPosition,p=o.pan(),g=o.zoom();r.position=TQ(f,g,p)}if(l&&r.panBy!=null){var m=r.panBy,y=o.pan();r.pan={x:y.x+m.x,y:y.y+m.y}}var v=r.center||r.centre;if(l&&v!=null){var b=o.getCenterPan(v.eles,r.zoom);b!=null&&(r.pan=b)}if(l&&r.fit!=null){var x=r.fit,T=o.getFitViewport(x.eles||x.boundingBox,x.padding);T!=null&&(r.pan=T.pan,r.zoom=T.zoom)}if(l&&Pr(r.zoom)){var w=o.getZoomedViewport(r.zoom);w!=null?(w.zoomed&&(r.zoom=w.zoom),w.panned&&(r.pan=w.pan)):r.zoom=null}return new _A(s[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=rr({},r,n));for(var l=0;l<s.length;l++){var u=s[l],h=u.animated()&&(r.queue===void 0||r.queue),d=u.animation(r,h?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],h=u._private,d=h.animation.current,f=0;f<d.length;f++){var p=d[f],g=p._private;n&&(g.duration=0)}r&&(h.animation.queue=[]),n||(h.animation.current=[])}return o.notify("draw"),this}}},AA,JQ;function v4(){if(JQ)return AA;JQ=1;var t=Array.isArray;return AA=t,AA}var LA,eZ;function jVe(){if(eZ)return LA;eZ=1;var t=v4(),e=jm(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return LA=i,LA}var NA,tZ;function QVe(){if(tZ)return NA;tZ=1;var t=nQ(),e=Km(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==n||l==i||l==r||l==a}return NA=s,NA}var RA,rZ;function ZVe(){if(rZ)return RA;rZ=1;var t=t4(),e=t["__core-js_shared__"];return RA=e,RA}var IA,nZ;function JVe(){if(nZ)return IA;nZ=1;var t=ZVe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return IA=r,IA}var DA,iZ;function eqe(){if(iZ)return DA;iZ=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return DA=r,DA}var OA,aZ;function tqe(){if(aZ)return OA;aZ=1;var t=QVe(),e=JVe(),r=Km(),n=eqe(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,h=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!r(f)||e(f))return!1;var p=t(f)?h:a;return p.test(n(f))}return OA=d,OA}var MA,sZ;function rqe(){if(sZ)return MA;sZ=1;function t(e,r){return e==null?void 0:e[r]}return MA=t,MA}var PA,oZ;function BA(){if(oZ)return PA;oZ=1;var t=tqe(),e=rqe();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return PA=r,PA}var FA,lZ;function b4(){if(lZ)return FA;lZ=1;var t=BA(),e=t(Object,"create");return FA=e,FA}var $A,cZ;function nqe(){if(cZ)return $A;cZ=1;var t=b4();function e(){this.__data__=t?t(null):{},this.size=0}return $A=e,$A}var zA,uZ;function iqe(){if(uZ)return zA;uZ=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return zA=t,zA}var UA,hZ;function aqe(){if(hZ)return UA;hZ=1;var t=b4(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return UA=i,UA}var HA,dZ;function sqe(){if(dZ)return HA;dZ=1;var t=b4(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return HA=n,HA}var GA,fZ;function oqe(){if(fZ)return GA;fZ=1;var t=b4(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return GA=r,GA}var VA,pZ;function lqe(){if(pZ)return VA;pZ=1;var t=nqe(),e=iqe(),r=aqe(),n=sqe(),i=oqe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,VA=a,VA}var qA,gZ;function cqe(){if(gZ)return qA;gZ=1;function t(){this.__data__=[],this.size=0}return qA=t,qA}var WA,mZ;function yZ(){if(mZ)return WA;mZ=1;function t(e,r){return e===r||e!==e&&r!==r}return WA=t,WA}var YA,vZ;function x4(){if(vZ)return YA;vZ=1;var t=yZ();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return YA=e,YA}var XA,bZ;function uqe(){if(bZ)return XA;bZ=1;var t=x4(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return XA=n,XA}var KA,xZ;function hqe(){if(xZ)return KA;xZ=1;var t=x4();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return KA=e,KA}var jA,EZ;function dqe(){if(EZ)return jA;EZ=1;var t=x4();function e(r){return t(this.__data__,r)>-1}return jA=e,jA}var QA,TZ;function fqe(){if(TZ)return QA;TZ=1;var t=x4();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return QA=e,QA}var ZA,wZ;function pqe(){if(wZ)return ZA;wZ=1;var t=cqe(),e=uqe(),r=hqe(),n=dqe(),i=fqe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ZA=a,ZA}var JA,SZ;function gqe(){if(SZ)return JA;SZ=1;var t=BA(),e=t4(),r=t(e,"Map");return JA=r,JA}var e8,kZ;function mqe(){if(kZ)return e8;kZ=1;var t=lqe(),e=pqe(),r=gqe();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return e8=n,e8}var t8,CZ;function yqe(){if(CZ)return t8;CZ=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return t8=t,t8}var r8,_Z;function E4(){if(_Z)return r8;_Z=1;var t=yqe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return r8=e,r8}var n8,AZ;function vqe(){if(AZ)return n8;AZ=1;var t=E4();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return n8=e,n8}var i8,LZ;function bqe(){if(LZ)return i8;LZ=1;var t=E4();function e(r){return t(this,r).get(r)}return i8=e,i8}var a8,NZ;function xqe(){if(NZ)return a8;NZ=1;var t=E4();function e(r){return t(this,r).has(r)}return a8=e,a8}var s8,RZ;function Eqe(){if(RZ)return s8;RZ=1;var t=E4();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return s8=e,s8}var o8,IZ;function Tqe(){if(IZ)return o8;IZ=1;var t=mqe(),e=vqe(),r=bqe(),n=xqe(),i=Eqe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,o8=a,o8}var l8,DZ;function wqe(){if(DZ)return l8;DZ=1;var t=Tqe(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,l8=r,l8}var c8,OZ;function Sqe(){if(OZ)return c8;OZ=1;var t=wqe(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return c8=r,c8}var u8,MZ;function PZ(){if(MZ)return u8;MZ=1;var t=Sqe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,u){a.push(l?u.replace(r,"$1"):o||s)}),a});return u8=n,u8}var h8,BZ;function FZ(){if(BZ)return h8;BZ=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return h8=t,h8}var d8,$Z;function kqe(){if($Z)return d8;$Z=1;var t=tA(),e=FZ(),r=v4(),n=jm(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return d8=s,d8}var f8,zZ;function UZ(){if(zZ)return f8;zZ=1;var t=kqe();function e(r){return r==null?"":t(r)}return f8=e,f8}var p8,HZ;function GZ(){if(HZ)return p8;HZ=1;var t=v4(),e=jVe(),r=PZ(),n=UZ();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return p8=i,p8}var g8,VZ;function m8(){if(VZ)return g8;VZ=1;var t=jm();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return g8=e,g8}var y8,qZ;function Cqe(){if(qZ)return y8;qZ=1;var t=GZ(),e=m8();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return y8=r,y8}var v8,WZ;function _qe(){if(WZ)return v8;WZ=1;var t=Cqe();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return v8=e,v8}var Aqe=_qe(),Lqe=Xm(Aqe),b8,YZ;function Nqe(){if(YZ)return b8;YZ=1;var t=BA(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return b8=e,b8}var x8,XZ;function Rqe(){if(XZ)return x8;XZ=1;var t=Nqe();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return x8=e,x8}var E8,KZ;function Iqe(){if(KZ)return E8;KZ=1;var t=Rqe(),e=yZ(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var l=a[s];(!(n.call(a,s)&&e(l,o))||o===void 0&&!(s in a))&&t(a,s,o)}return E8=i,E8}var T8,jZ;function Dqe(){if(jZ)return T8;jZ=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return T8=r,T8}var w8,QZ;function Oqe(){if(QZ)return w8;QZ=1;var t=Iqe(),e=GZ(),r=Dqe(),n=Km(),i=m8();function a(s,o,l,u){if(!n(s))return s;o=e(o,s);for(var h=-1,d=o.length,f=d-1,p=s;p!=null&&++h<d;){var g=i(o[h]),m=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return s;if(h!=f){var y=p[g];m=u?u(y,g,p):void 0,m===void 0&&(m=n(y)?y:r(o[h+1])?[]:{})}t(p,g,m),p=p[g]}return s}return w8=a,w8}var S8,ZZ;function Mqe(){if(ZZ)return S8;ZZ=1;var t=Oqe();function e(r,n,i){return r==null?r:t(r,n,i)}return S8=e,S8}var Pqe=Mqe(),Bqe=Xm(Pqe),k8,JZ;function Fqe(){if(JZ)return k8;JZ=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return k8=t,k8}var C8,eJ;function $qe(){if(eJ)return C8;eJ=1;var t=FZ(),e=Fqe(),r=v4(),n=jm(),i=PZ(),a=m8(),s=UZ();function o(l){return r(l)?t(l,a):n(l)?[l]:e(i(s(l)))}return C8=o,C8}var zqe=$qe(),Uqe=Xm(zqe),Hqe={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=rr({},r,e),function(i,a){var s=e,o=this,l=o.length!==void 0,u=l?o:[o],h=l?o[0]:o;if(Qt(i)){var d=i.indexOf(".")!==-1,f=d&&Uqe(i);if(s.allowGetting&&a===void 0){var p;return h&&(s.beforeGet(h),f&&h._private[s.field][i]===void 0?p=Lqe(h._private[s.field],f):p=h._private[s.field][i]),p}else if(s.allowSetting&&a!==void 0){var g=!s.immutableKeys[i];if(g){var m=Mj({},i,a);s.beforeSet(o,m);for(var y=0,v=u.length;y<v;y++){var b=u[y];s.canSet(b)&&(f&&h._private[s.field][i]===void 0?Bqe(b._private[s.field],f,a):b._private[s.field][i]=a)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Pr(i)){var x=i,T,w,S=Object.keys(x);s.beforeSet(o,x);for(var k=0;k<S.length;k++){T=S[k],w=x[T];var L=!s.immutableKeys[T];if(L)for(var _=0;_<u.length;_++){var N=u[_];s.canSet(N)&&(N._private[s.field][T]=w)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&In(i)){var C=i;o.on(s.bindingEvent,C)}else if(s.allowGetting&&i===void 0){var D;return h&&(s.beforeGet(h),D=h._private[s.field]),D}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=rr({},r,e),function(i){var a=e,s=this,o=s.length!==void 0,l=o?s:[s];if(Qt(i)){for(var u=i.split(/\s+/),h=u.length,d=0;d<h;d++){var f=u[d];if(!bu(f)){var p=!a.immutableKeys[f];if(p)for(var g=0,m=l.length;g<m;g++)l[g]._private[a.field][f]=void 0}}a.triggerEvent&&s[a.triggerFnName](a.event)}else if(i===void 0){for(var y=0,v=l.length;y<v;y++)for(var b=l[y]._private[a.field],x=Object.keys(b),T=0;T<x.length;T++){var w=x[T],S=!a.immutableKeys[w];S&&(b[w]=void 0)}a.triggerEvent&&s[a.triggerFnName](a.event)}return s}}},Gqe={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,s=Array.prototype.slice.call(arguments,0);return new m0(function(o,l){var u=function(p){a.off.apply(a,d),o(p)},h=s.concat([u]),d=h.concat([]);a.on.apply(a,h)})}}},Jr={};[KVe,Hqe,Gqe].forEach(function(t){rr(Jr,t)});var Vqe={animate:Jr.animate(),animation:Jr.animation(),animated:Jr.animated(),clearQueue:Jr.clearQueue(),delay:Jr.delay(),delayAnimation:Jr.delayAnimation(),stop:Jr.stop()},T4={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(g){return n.push(g)}),n}else dn(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new l0(e),s=0;s<r.length;s++){for(var o=r[s],l=o._private,u=l.classes,h=!1,d=0;d<e.length;d++){var f=e[d],p=u.has(f);if(!p){h=!0;break}}h||(h=u.size!==e.length),h&&(l.classes=a,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){dn(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],s=0,o=n.length;s<o;s++)for(var l=n[s],u=l._private.classes,h=!1,d=0;d<e.length;d++){var f=e[d],p=u.has(f),g=!1;r||i&&!p?(u.add(f),g=!0):(!r||i&&p)&&(u.delete(f),g=!0),!h&&g&&(a.push(l),h=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};T4.className=T4.classNames=T4.classes;var Br={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:xi,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Br.variable="(?:[\\w-.]|(?:\\\\"+Br.metaChar+"))+",Br.className="(?:[\\w-]|(?:\\\\"+Br.metaChar+"))+",Br.value=Br.string+"|"+Br.number,Br.id=Br.variable,function(){var t,e,r;for(t=Br.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Br.comparatorOp+="|@"+e;for(t=Br.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Br.comparatorOp+="|\\!"+e)}();var cn=function(){return{checks:[]}},zt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},_8=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return qHe(t.selector,e.selector)}),qqe=function(){for(var t={},e,r=0;r<_8.length;r++)e=_8[r],t[e.selector]=e.matches;return t}(),Wqe=function(e,r){return qqe[e](r)},Yqe="("+_8.map(function(t){return t.selector}).join("|")+")",y0=function(e){return e.replace(new RegExp("\\\\("+Br.metaChar+")","g"),function(r,n){return n})},Su=function(e,r,n){e[e.length-1]=n},A8=[{name:"group",query:!0,regex:"("+Br.group+")",populate:function(e,r,n){var i=yi(n,1),a=i[0];r.checks.push({type:zt.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:Yqe,populate:function(e,r,n){var i=yi(n,1),a=i[0];r.checks.push({type:zt.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Br.id+")",populate:function(e,r,n){var i=yi(n,1),a=i[0];r.checks.push({type:zt.ID,value:y0(a)})}},{name:"className",query:!0,regex:"\\.("+Br.className+")",populate:function(e,r,n){var i=yi(n,1),a=i[0];r.checks.push({type:zt.CLASS,value:y0(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Br.variable+")\\s*\\]",populate:function(e,r,n){var i=yi(n,1),a=i[0];r.checks.push({type:zt.DATA_EXIST,field:y0(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Br.variable+")\\s*("+Br.comparatorOp+")\\s*("+Br.value+")\\s*\\]",populate:function(e,r,n){var i=yi(n,3),a=i[0],s=i[1],o=i[2],l=new RegExp("^"+Br.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:zt.DATA_COMPARE,field:y0(a),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Br.boolOp+")\\s*("+Br.variable+")\\s*\\]",populate:function(e,r,n){var i=yi(n,2),a=i[0],s=i[1];r.checks.push({type:zt.DATA_BOOL,field:y0(s),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Br.meta+")\\s*("+Br.comparatorOp+")\\s*("+Br.number+")\\s*\\]\\]",populate:function(e,r,n){var i=yi(n,3),a=i[0],s=i[1],o=i[2];r.checks.push({type:zt.META_COMPARE,field:y0(a),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Br.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=cn();return o}},{name:"directedEdge",separator:!0,regex:Br.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=cn(),i=r,a=cn();return n.checks.push({type:zt.DIRECTED_EDGE,source:i,target:a}),Su(e,r,n),e.edgeCount++,a}else{var s=cn(),o=r,l=cn();return s.checks.push({type:zt.NODE_SOURCE,source:o,target:l}),Su(e,r,s),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:Br.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=cn(),i=r,a=cn();return n.checks.push({type:zt.UNDIRECTED_EDGE,nodes:[i,a]}),Su(e,r,n),e.edgeCount++,a}else{var s=cn(),o=r,l=cn();return s.checks.push({type:zt.NODE_NEIGHBOR,node:o,neighbor:l}),Su(e,r,s),l}}},{name:"child",separator:!0,regex:Br.child,populate:function(e,r){if(e.currentSubject==null){var n=cn(),i=cn(),a=e[e.length-1];return n.checks.push({type:zt.CHILD,parent:a,child:i}),Su(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=cn(),o=e[e.length-1],l=cn(),u=cn(),h=cn(),d=cn();return s.checks.push({type:zt.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:zt.TRUE}],d.checks.push({type:zt.TRUE}),l.checks.push({type:zt.PARENT,parent:d,child:h}),Su(e,o,s),e.currentSubject=u,e.compoundCount++,h}else{var f=cn(),p=cn(),g=[{type:zt.PARENT,parent:f,child:p}];return f.checks=r.checks,r.checks=g,e.compoundCount++,p}}},{name:"descendant",separator:!0,regex:Br.descendant,populate:function(e,r){if(e.currentSubject==null){var n=cn(),i=cn(),a=e[e.length-1];return n.checks.push({type:zt.DESCENDANT,ancestor:a,descendant:i}),Su(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=cn(),o=e[e.length-1],l=cn(),u=cn(),h=cn(),d=cn();return s.checks.push({type:zt.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:zt.TRUE}],d.checks.push({type:zt.TRUE}),l.checks.push({type:zt.ANCESTOR,ancestor:d,descendant:h}),Su(e,o,s),e.currentSubject=u,e.compoundCount++,h}else{var f=cn(),p=cn(),g=[{type:zt.ANCESTOR,ancestor:f,descendant:p}];return f.checks=r.checks,r.checks=g,e.compoundCount++,p}}},{name:"subject",modifier:!0,regex:Br.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Zr("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===zt.DIRECTED_EDGE?i.type=zt.NODE_TARGET:a===zt.UNDIRECTED_EDGE&&(i.type=zt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];A8.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var Xqe=function(e){for(var r,n,i,a=0;a<A8.length;a++){var s=A8[a],o=s.name,l=e.match(s.regexObj);if(l!=null){n=l,r=s,i=o;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:e}},Kqe=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},jqe=function(e){var r=this,n=r.inputText=e,i=r[0]=cn();for(r.length=1,n=Kqe(n);;){var a=Xqe(n);if(a.expr==null)return Zr("The selector `"+e+"`is invalid"),!1;var s=a.match.slice(1),o=a.expr.populate(r,i,s);if(o===!1)return!1;if(o!=null&&(i=o),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var h=r[u];if(h.compoundCount>0&&h.edgeCount>0)return Zr("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return Zr("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&Zr("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Qqe=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(h){return h??""},r=function(h){return Qt(h)?'"'+h+'"':e(h)},n=function(h){return" "+h+" "},i=function(h,d){var f=h.type,p=h.value;switch(f){case zt.GROUP:{var g=e(p);return g.substring(0,g.length-1)}case zt.DATA_COMPARE:{var m=h.field,y=h.operator;return"["+m+n(e(y))+r(p)+"]"}case zt.DATA_BOOL:{var v=h.operator,b=h.field;return"["+e(v)+b+"]"}case zt.DATA_EXIST:{var x=h.field;return"["+x+"]"}case zt.META_COMPARE:{var T=h.operator,w=h.field;return"[["+w+n(e(T))+r(p)+"]]"}case zt.STATE:return p;case zt.ID:return"#"+p;case zt.CLASS:return"."+p;case zt.PARENT:case zt.CHILD:return a(h.parent,d)+n(">")+a(h.child,d);case zt.ANCESTOR:case zt.DESCENDANT:return a(h.ancestor,d)+" "+a(h.descendant,d);case zt.COMPOUND_SPLIT:{var S=a(h.left,d),k=a(h.subject,d),L=a(h.right,d);return S+(S.length>0?" ":"")+k+L}case zt.TRUE:return""}},a=function(h,d){return h.checks.reduce(function(f,p,g){return f+(d===h&&g===0?"$":"")+i(p,d)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=a(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},Zqe={parse:jqe,toString:Qqe},tJ=function(e,r,n){var i,a=Qt(e),s=Rt(e),o=Qt(n),l,u,h=!1,d=!1,f=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),d=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),h=!0),(a||o||h)&&(l=!a&&!s?"":""+e,u=""+n),h&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=e===n;break;case">":f=!0,i=e>n;break;case">=":f=!0,i=e>=n;break;case"<":f=!0,i=e<n;break;case"<=":f=!0,i=e<=n;break;default:i=!1;break}return d&&(e!=null||!f)&&(i=!i),i},Jqe=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},eWe=function(e){return e!==void 0},L8=function(e,r){return e.data(r)},tWe=function(e,r){return e[r]()},Fn=[],Tn=function(e,r){return e.checks.every(function(n){return Fn[n.type](n,r)})};Fn[zt.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()},Fn[zt.STATE]=function(t,e){var r=t.value;return Wqe(r,e)},Fn[zt.ID]=function(t,e){var r=t.value;return e.id()===r},Fn[zt.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)},Fn[zt.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return tJ(tWe(e,r),n,i)},Fn[zt.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return tJ(L8(e,r),n,i)},Fn[zt.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Jqe(L8(e,r),n)},Fn[zt.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,eWe(L8(e,r))},Fn[zt.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),a=e.target();return Tn(r,i)&&Tn(n,a)||Tn(n,i)&&Tn(r,a)},Fn[zt.NODE_NEIGHBOR]=function(t,e){return Tn(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Tn(t.neighbor,r)})},Fn[zt.DIRECTED_EDGE]=function(t,e){return Tn(t.source,e.source())&&Tn(t.target,e.target())},Fn[zt.NODE_SOURCE]=function(t,e){return Tn(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Tn(t.target,r)})},Fn[zt.NODE_TARGET]=function(t,e){return Tn(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Tn(t.source,r)})},Fn[zt.CHILD]=function(t,e){return Tn(t.child,e)&&Tn(t.parent,e.parent())},Fn[zt.PARENT]=function(t,e){return Tn(t.parent,e)&&e.children().some(function(r){return Tn(t.child,r)})},Fn[zt.DESCENDANT]=function(t,e){return Tn(t.descendant,e)&&e.ancestors().some(function(r){return Tn(t.ancestor,r)})},Fn[zt.ANCESTOR]=function(t,e){return Tn(t.ancestor,e)&&e.descendants().some(function(r){return Tn(t.descendant,r)})},Fn[zt.COMPOUND_SPLIT]=function(t,e){return Tn(t.subject,e)&&Tn(t.left,e)&&Tn(t.right,e)},Fn[zt.TRUE]=function(){return!0},Fn[zt.COLLECTION]=function(t,e){var r=t.value;return r.has(e)},Fn[zt.FILTER]=function(t,e){var r=t.value;return r(e)};var rWe=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===zt.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var s=0;s<r.length;s++){var o=r[s];if(Tn(o,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},nWe=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(Tn(i,e))return!0}return!1},iWe={matches:nWe,filter:rWe},ku=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Qt(e)&&e.match(/^\s*$/)||(Ns(e)?this.addQuery({checks:[{type:zt.COLLECTION,value:e.collection()}]}):In(e)?this.addQuery({checks:[{type:zt.FILTER,value:e}]}):Qt(e)?this.parse(e)||(this.invalid=!0):Dn("A selector must be created from a string; found "))},Cu=ku.prototype;[Zqe,iWe].forEach(function(t){return rr(Cu,t)}),Cu.text=function(){return this.inputText},Cu.size=function(){return this.length},Cu.eq=function(t){return this[t]},Cu.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},Cu.addQuery=function(t){this[this.length++]=t},Cu.selector=Cu.toString;var _u={allAre:function(e){var r=new ku(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new ku(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};_u.allAreNeighbours=_u.allAreNeighbors,_u.has=_u.contains,_u.equal=_u.equals=_u.same;var Zs=function(e,r){return function(i,a,s,o){var l=i,u=this,h;if(l==null?h="":Ns(l)&&l.length===1&&(h=l.id()),u.length===1&&h){var d=u[0]._private,f=d.traversalCache=d.traversalCache||{},p=f[r]=f[r]||[],g=ed(h),m=p[g];return m||(p[g]=e.call(u,i,a,s,o))}else return e.call(u,i,a,s,o)}},v0={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],s=a._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Zs(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var a=0;a<i.length;a++){var s=i[a];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function N8(t,e,r,n){for(var i=[],a=new l0,s=t.cy(),o=s.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?i.push(u):o&&n(i,a,u)}for(;i.length>0;){var h=i.shift();e(h),a.add(h.id()),o&&n(i,a,h)}return t}function rJ(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||t.push(a)}}v0.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return N8(this,t,e,rJ)};function nJ(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}v0.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return N8(this,t,e,nJ)};function aWe(t,e,r){nJ(t,e,r),rJ(t,e,r)}v0.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return N8(this,t,e,aWe)},v0.ancestors=v0.parents;var sy,iJ;sy=iJ={data:Jr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Jr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Jr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Jr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Jr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Jr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}},sy.attr=sy.data,sy.removeAttr=sy.removeData;var sWe=iJ,w4={};function R8(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var o=a[s];!e&&o.isLoop()||(n+=t(i,o))}return n}else return}}rr(w4,{degree:R8(function(t,e){return e.source().same(e.target())?2:1}),indegree:R8(function(t,e){return e.target().same(t)?1:0}),outdegree:R8(function(t,e){return e.source().same(t)?1:0})});function b0(t,e){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}rr(w4,{minDegree:b0("degree",function(t,e){return t<e}),maxDegree:b0("degree",function(t,e){return t>e}),minIndegree:b0("indegree",function(t,e){return t<e}),maxIndegree:b0("indegree",function(t,e){return t>e}),minOutdegree:b0("outdegree",function(t,e){return t<e}),maxOutdegree:b0("outdegree",function(t,e){return t>e})}),rr(w4,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var Lo,aJ,sJ=function(e,r,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var s=a._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};a.isParent()&&!(o.x===0&&o.y===0)&&a.children().shift(o,n),a.dirtyBoundingBoxCache()}}},oJ={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){sJ(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Lo=aJ={position:Jr.data(oJ),silentPosition:Jr.data(rr({},oJ,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){sJ(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Pr(e))r?this.silentPosition(e):this.position(e);else if(In(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a],o=void 0;(o=n(s,a))&&(r?s.silentPosition(o):s.position(o))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(Pr(e)?(i={x:Rt(e.x)?e.x:0,y:Rt(e.y)?e.y:0},n=r):Qt(e)&&Rt(r)&&(i={x:0,y:0},i[e]=r),i!=null){var a=this.cy();a.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+i.x,y:l.y+i.y};n?o.silentPosition(u):o.position(u)}}a.endBatch()}return this},silentShift:function(e,r){return Pr(e)?this.shift(e,!0):Qt(e)&&Rt(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),a=i.zoom(),s=i.pan(),o=Pr(e)?e:void 0,l=o!==void 0||r!==void 0&&Qt(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var h=this[u];r!==void 0?h.position(e,(r-s[e])/a):o!==void 0&&h.position(TQ(o,a,s))}else{var d=n.position();return o=o4(d,a,s),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),a=Pr(e)?e:void 0,s=a!==void 0||r!==void 0&&Qt(e),o=i.hasCompoundNodes();if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],h=o?u.parent():null,d=h&&h.length>0,f=d;d&&(h=h[0]);var p=f?h.position():{x:0,y:0};r!==void 0?u.position(e,r+p[e]):a!==void 0&&u.position({x:a.x+p.x,y:a.y+p.y})}else{var g=n.position(),m=o?n.parent():null,y=m&&m.length>0,v=y;y&&(m=m[0]);var b=v?m.position():{x:0,y:0};return a={x:g.x-b.x,y:g.y-b.y},e===void 0?a:a[e]}else if(!s)return;return this}},Lo.modelPosition=Lo.point=Lo.position,Lo.modelPositions=Lo.points=Lo.positions,Lo.renderedPoint=Lo.renderedPosition,Lo.relativePoint=Lo.relativePosition;var oWe=aJ,x0,Au;x0=Au={},Au.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),a=e.x1*n+i.x,s=e.x2*n+i.x,o=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:a,x2:s,y1:o,y2:l,w:s-a,h:l-o}},Au.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)},Au.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",h={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},d=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),f=o.position;(d.w===0||d.h===0)&&(d={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},d.x1=f.x-d.w/2,d.x2=f.x+d.w/2,d.y1=f.y-d.h/2,d.y2=f.y+d.h/2);function p(_,N,C){var D=0,P=0,A=N+C;return _>0&&A>0&&(D=N/A*_,P=C/A*_),{biasDiff:D,biasComplementDiff:P}}function g(_,N,C,D){if(C.units==="%")switch(D){case"width":return _>0?C.pfValue*_:0;case"height":return N>0?C.pfValue*N:0;case"average":return _>0&&N>0?C.pfValue*(_+N)/2:0;case"min":return _>0&&N>0?_>N?C.pfValue*N:C.pfValue*_:0;case"max":return _>0&&N>0?_>N?C.pfValue*_:C.pfValue*N:0;default:return 0}else return C.units==="px"?C.pfValue:0}var m=h.width.left.value;h.width.left.units==="px"&&h.width.val>0&&(m=m*100/h.width.val);var y=h.width.right.value;h.width.right.units==="px"&&h.width.val>0&&(y=y*100/h.width.val);var v=h.height.top.value;h.height.top.units==="px"&&h.height.val>0&&(v=v*100/h.height.val);var b=h.height.bottom.value;h.height.bottom.units==="px"&&h.height.val>0&&(b=b*100/h.height.val);var x=p(h.width.val-d.w,m,y),T=x.biasDiff,w=x.biasComplementDiff,S=p(h.height.val-d.h,v,b),k=S.biasDiff,L=S.biasComplementDiff;o.autoPadding=g(d.w,d.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(d.w,h.width.val),f.x=(-T+d.x1+d.x2+w)/2,o.autoHeight=Math.max(d.h,h.height.val),f.y=(-k+d.y1+d.y2+L)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||t)&&(r(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var Js=function(e){return e===1/0||e===-1/0?0:e},No=function(e,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ad=function(e,r){return r==null?e:No(e,r.x1,r.y1,r.x2,r.y2)},oy=function(e,r,n){return cs(e,r,n)},S4=function(e,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,s=a.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,l,u;if(o!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var h=i.arrowBounds=i.arrowBounds||{},d=h[n]=h[n]||{};d.x1=l-s,d.y1=u-s,d.x2=l+s,d.y2=u+s,d.w=d.x2-d.x1,d.h=d.y2-d.y1,c4(d,1),No(e,d.x1,d.y1,d.x2,d.y2)}}},I8=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,s=a.rstyle,o=r.pstyle(i+"label").strValue;if(o){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),h=oy(s,"labelWidth",n),d=oy(s,"labelHeight",n),f=oy(s,"labelX",n),p=oy(s,"labelY",n),g=r.pstyle(i+"text-margin-x").pfValue,m=r.pstyle(i+"text-margin-y").pfValue,y=r.isEdge(),v=r.pstyle(i+"text-rotation"),b=r.pstyle("text-outline-width").pfValue,x=r.pstyle("text-border-width").pfValue,T=x/2,w=r.pstyle("text-background-padding").pfValue,S=2,k=d,L=h,_=L/2,N=k/2,C,D,P,A;if(y)C=f-_,D=f+_,P=p-N,A=p+N;else{switch(l.value){case"left":C=f-L,D=f;break;case"center":C=f-_,D=f+_;break;case"right":C=f,D=f+L;break}switch(u.value){case"top":P=p-k,A=p;break;case"center":P=p-N,A=p+N;break;case"bottom":P=p,A=p+k;break}}var R=g-Math.max(b,T)-w-S,O=g+Math.max(b,T)+w+S,M=m-Math.max(b,T)-w-S,I=m+Math.max(b,T)+w+S;C+=R,D+=O,P+=M,A+=I;var F=n||"main",B=a.labelBounds,$=B[F]=B[F]||{};$.x1=C,$.y1=P,$.x2=D,$.y2=A,$.w=D-C,$.h=A-P,$.leftPad=R,$.rightPad=O,$.topPad=M,$.botPad=I;var V=y&&v.strValue==="autorotate",H=v.pfValue!=null&&v.pfValue!==0;if(V||H){var te=V?oy(a.rstyle,"labelAngle",n):v.pfValue,X=Math.cos(te),ee=Math.sin(te),re=(C+D)/2,pe=(P+A)/2;if(!y){switch(l.value){case"left":re=D;break;case"right":re=C;break}switch(u.value){case"top":pe=A;break;case"bottom":pe=P;break}}var K=function(ue,ae){return ue=ue-re,ae=ae-pe,{x:ue*X-ae*ee+re,y:ue*ee+ae*X+pe}},W=K(C,P),j=K(C,A),Y=K(D,P),Q=K(D,A);C=Math.min(W.x,j.x,Y.x,Q.x),D=Math.max(W.x,j.x,Y.x,Q.x),P=Math.min(W.y,j.y,Y.y,Q.y),A=Math.max(W.y,j.y,Y.y,Q.y)}var ie=F+"Rot",J=B[ie]=B[ie]||{};J.x1=C,J.y1=P,J.x2=D,J.y2=A,J.w=D-C,J.h=A-P,No(e,C,P,D,A),No(a.labelBounds.all,C,P,D,A)}return e}},lWe=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value;if(n>0&&i>0){var a=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=i+a,l=(e.w+o*2)/e.w,u=(e.h+o*2)/e.h,h=0,d=0;["diamond","pentagon","round-triangle"].includes(s)?(l=(e.w+o*2.4)/e.w,d=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?l=(e.w+o*2.4)/e.w:s==="star"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.6)/e.h,d=-o/3.8):s==="triangle"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.4)/e.h,d=-o/1.4):s==="vee"&&(l=(e.w+o*4.4)/e.w,u=(e.h+o*3.8)/e.h,d=-o*.5);var f=e.h*u-e.h,p=e.w*l-e.w;if(u4(e,[Math.ceil(f/2),Math.ceil(p/2)]),h!=0||d!==0){var g=qGe(e,h,d);wQ(e,g)}}}},cWe=function(e,r){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),s=us(),o=e._private,l=e.isNode(),u=e.isEdge(),h,d,f,p,g,m,y=o.rstyle,v=l&&i?e.pstyle("bounds-expansion").pfValue:[0],b=function(we){return we.pstyle("display").value!=="none"},x=!i||b(e)&&(!u||b(e.source())&&b(e.target()));if(x){var T=0,w=0;i&&r.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(w=e.pstyle("overlay-padding").value));var S=0,k=0;i&&r.includeUnderlays&&(S=e.pstyle("underlay-opacity").value,S!==0&&(k=e.pstyle("underlay-padding").value));var L=Math.max(w,k),_=0,N=0;if(i&&(_=e.pstyle("width").pfValue,N=_/2),l&&r.includeNodes){var C=e.position();g=C.x,m=C.y;var D=e.outerWidth(),P=D/2,A=e.outerHeight(),R=A/2;h=g-P,d=g+P,f=m-R,p=m+R,No(s,h,f,d,p),i&&r.includeOutlines&&lWe(s,e)}else if(u&&r.includeEdges)if(i&&!a){var O=e.pstyle("curve-style").strValue;if(h=Math.min(y.srcX,y.midX,y.tgtX),d=Math.max(y.srcX,y.midX,y.tgtX),f=Math.min(y.srcY,y.midY,y.tgtY),p=Math.max(y.srcY,y.midY,y.tgtY),h-=N,d+=N,f-=N,p+=N,No(s,h,f,d,p),O==="haystack"){var M=y.haystackPts;if(M&&M.length===2){if(h=M[0].x,f=M[0].y,d=M[1].x,p=M[1].y,h>d){var I=h;h=d,d=I}if(f>p){var F=f;f=p,p=F}No(s,h-N,f-N,d+N,p+N)}}else if(O==="bezier"||O==="unbundled-bezier"||O.endsWith("segments")||O.endsWith("taxi")){var B;switch(O){case"bezier":case"unbundled-bezier":B=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":B=y.linePts;break}if(B!=null)for(var $=0;$<B.length;$++){var V=B[$];h=V.x-N,d=V.x+N,f=V.y-N,p=V.y+N,No(s,h,f,d,p)}}}else{var H=e.source(),te=H.position(),X=e.target(),ee=X.position();if(h=te.x,d=ee.x,f=te.y,p=ee.y,h>d){var re=h;h=d,d=re}if(f>p){var pe=f;f=p,p=pe}h-=N,d+=N,f-=N,p+=N,No(s,h,f,d,p)}if(i&&r.includeEdges&&u&&(S4(s,e,"mid-source"),S4(s,e,"mid-target"),S4(s,e,"source"),S4(s,e,"target")),i){var K=e.pstyle("ghost").value==="yes";if(K){var W=e.pstyle("ghost-offset-x").pfValue,j=e.pstyle("ghost-offset-y").pfValue;No(s,s.x1+W,s.y1+j,s.x2+W,s.y2+j)}}var Y=o.bodyBounds=o.bodyBounds||{};SQ(Y,s),u4(Y,v),c4(Y,1),i&&(h=s.x1,d=s.x2,f=s.y1,p=s.y2,No(s,h-L,f-L,d+L,p+L));var Q=o.overlayBounds=o.overlayBounds||{};SQ(Q,s),u4(Q,v),c4(Q,1);var ie=o.labelBounds=o.labelBounds||{};ie.all!=null?VGe(ie.all):ie.all=us(),i&&r.includeLabels&&(r.includeMainLabels&&I8(s,e,null),u&&(r.includeSourceLabels&&I8(s,e,"source"),r.includeTargetLabels&&I8(s,e,"target")))}return s.x1=Js(s.x1),s.y1=Js(s.y1),s.x2=Js(s.x2),s.y2=Js(s.y2),s.w=Js(s.x2-s.x1),s.h=Js(s.y2-s.y1),s.w>0&&s.h>0&&x&&(u4(s,v),c4(s,1)),s},lJ=function(e){var r=0,n=function(s){return(s?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},cJ=function(e){var r=function(o){return Math.round(o)};if(e.isEdge()){var n=e.source().position(),i=e.target().position();return hQ([r(n.x),r(n.y),r(i.x),r(i.y)])}else{var a=e.position();return hQ([r(a.x),r(a.y)])}},uJ=function(e,r){var n=e._private,i,a=e.isEdge(),s=r==null?hJ:lJ(r),o=s===hJ;if(n.bbCache==null?(i=cWe(e,ly),n.bbCache=i,n.bbCachePosKey=cJ(e)):i=n.bbCache,!o){var l=e.isNode();i=us(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?ad(i,n.overlayBounds):ad(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?ad(i,n.labelBounds.all):(r.includeMainLabels&&ad(i,n.labelBounds.mainRot),r.includeSourceLabels&&ad(i,n.labelBounds.sourceRot),r.includeTargetLabels&&ad(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},ly={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},hJ=lJ(ly),dJ=Yi(ly);Au.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=s0(function(h){var d=h._private;return d.bbCache==null||d.styleDirty||d.bbCachePosKey!==cJ(h)},function(h){return h.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=ly:t=dJ(t),e=uJ(this[0],t);else{e=us(),t=t||ly;var i=dJ(t),a=this,s=a.cy(),o=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<a.length;l++){var u=a[l];n(u)&&u.dirtyBoundingBoxCache(),ad(e,uJ(u,i))}}return e.x1=Js(e.x1),e.y1=Js(e.y1),e.x2=Js(e.x2),e.y2=Js(e.y2),e.w=Js(e.x2-e.x1),e.h=Js(e.y2-e.y1),e},Au.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Au.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(u){return u.isParent()}),e=e.not(i)),Pr(t)){var a=t;t=function(){return a}}var s=function(h,d){return h._private.bbAtOldPos=t(h,d)},o=function(h){return h._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=GGe(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l},x0.boundingbox=x0.bb=x0.boundingBox,x0.renderedBoundingbox=x0.renderedBoundingBox;var uWe=Au,cy,uy;cy=uy={};var fJ=function(e){e.uppercaseName=Hj(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Hj(e.outerName),cy[e.name]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},cy["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){var o=n[e.name](),l=n.pstyle("border-position").value,u;l==="center"?u=n.pstyle("border-width").pfValue:l==="outside"?u=2*n.pstyle("border-width").pfValue:u=0;var h=2*n.padding();return o+u+h}else return 1},cy["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},cy["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};fJ({name:"width"}),fJ({name:"height"}),uy.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},uy.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},uy.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var hWe=uy,dWe=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},fWe=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return o4(r(e),n.zoom(),n.pan())}},pWe=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),i=n.pan(),a=n.zoom();return r(e).map(function(s){return o4(s,a,i)})}},gWe=function(e){return e.renderer().getControlPoints(e)},mWe=function(e){return e.renderer().getSegmentPoints(e)},yWe=function(e){return e.renderer().getSourceEndpoint(e)},vWe=function(e){return e.renderer().getTargetEndpoint(e)},bWe=function(e){return e.renderer().getEdgeMidpoint(e)},pJ={controlPoints:{get:gWe,mult:!0},segmentPoints:{get:mWe,mult:!0},sourceEndpoint:{get:yWe},targetEndpoint:{get:vWe},midpoint:{get:bWe}},xWe=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},EWe=Object.keys(pJ).reduce(function(t,e){var r=pJ[e],n=xWe(e);return t[e]=function(){return dWe(this,r.get)},r.mult?t[n]=function(){return pWe(this,r.get)}:t[n]=function(){return fWe(this,r.get)},t},{}),TWe=rr({},oWe,uWe,hWe,EWe);/*!
  Event object based on jQuery events, MIT license

  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  */var gJ=function(e,r){this.recycle(e,r)};function hy(){return!1}function k4(){return!0}gJ.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=hy,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?k4:hy):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=k4;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=k4;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k4,this.stopPropagation()},isDefaultPrevented:hy,isPropagationStopped:hy,isImmediatePropagationStopped:hy};var mJ=/^([^.]+)(\.(?:[^.]+))?$/,wWe=".*",yJ={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},vJ=Object.keys(yJ),SWe={};function C4(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:SWe,e=arguments.length>1?arguments[1]:void 0,r=0;r<vJ.length;r++){var n=vJ[r];this[n]=t[n]||yJ[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Lu=C4.prototype,bJ=function(e,r,n,i,a,s,o){In(i)&&(a=i,i=null),o&&(s==null?s=o:s=rr({},s,o));for(var l=dn(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var h=l[u];if(!bu(h)){var d=h.match(mJ);if(d){var f=d[1],p=d[2]?d[2]:null,g=r(e,h,f,p,i,a,s);if(g===!1)break}}}},xJ=function(e,r){return e.addEventFields(e.context,r),new gJ(r.type,r)},kWe=function(e,r,n){if(OHe(n)){r(e,n);return}else if(Pr(n)){r(e,xJ(e,n));return}for(var i=dn(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var s=i[a];if(!bu(s)){var o=s.match(mJ);if(o){var l=o[1],u=o[2]?o[2]:null,h=xJ(e,{type:l,namespace:u,target:e.context});r(e,h)}}}};Lu.on=Lu.addListener=function(t,e,r,n,i){return bJ(this,function(a,s,o,l,u,h,d){In(h)&&a.listeners.push({event:s,callback:h,type:o,namespace:l,qualifier:u,conf:d})},t,e,r,n,i),this},Lu.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})},Lu.removeListener=Lu.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=fGe(this.listeners));for(var a=this.listeners,s=function(u){var h=a[u];bJ(i,function(d,f,p,g,m,y){if((h.type===p||t==="*")&&(!g&&h.namespace!==".*"||h.namespace===g)&&(!m||d.qualifierCompare(h.qualifier,m))&&(!y||h.callback===y))return a.splice(u,1),!1},t,e,r,n)},o=a.length-1;o>=0;o--)s(o);return this},Lu.removeAllListeners=function(){return this.removeListener("*")},Lu.emit=Lu.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,dn(e)||(e=[e]),kWe(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var o=function(){var h=n[l];if(h.type===s.type&&(!h.namespace||h.namespace===s.namespace||h.namespace===wWe)&&a.eventMatches(a.context,h,s)){var d=[s];e!=null&&gGe(d,e),a.beforeEmit(a.context,h,s),h.conf&&h.conf.one&&(a.listeners=a.listeners.filter(function(g){return g!==h}));var f=a.callbackContext(a.context,h,s),p=h.callback.apply(f,d);a.afterEmit(a.context,h,s),p===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<i;l++)o();a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,e)},t),this.emitting--,this};var CWe={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Ym(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},_4=function(e){return Qt(e)?new ku(e):e},EJ={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new C4(CWe,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=_4(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=_4(r),a=0;a<this.length;a++){var s=this[a];s.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=_4(r),a=0;a<this.length;a++){var s=this[a];s.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=_4(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};Jr.eventAliasesOn(EJ);var TJ={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Qt(e)||Ns(e))return new ku(e).filter(this);if(In(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){Qt(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Qt(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,a=e,s=this.length<e.length,o=s?i:a,l=s?a:i,u=0;u<o.length;u++){var h=o[u];l.has(h)&&n.push(h)}return n},xor:function(e){var r=this._private.cy;Qt(e)&&(e=r.$(e));var n=this.spawn(),i=this,a=e,s=function(l,u){for(var h=0;h<l.length;h++){var d=l[h],f=d._private.data.id,p=u.hasElementWithId(f);p||n.push(d)}};return s(i,a),s(a,i),n},diff:function(e){var r=this._private.cy;Qt(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),s=this,o=e,l=function(h,d,f){for(var p=0;p<h.length;p++){var g=h[p],m=g._private.data.id,y=d.hasElementWithId(m);y?a.merge(g):f.push(g)}};return l(s,o,n),l(o,s,i),{left:n,right:i,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(Qt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var s=e[a],o=!this.has(s);o&&i.push(s)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Qt(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=r.map,s=0;s<e.length;s++){var o=e[s],l=o._private.data.id,u=!a.has(l);if(u){var h=this.length++;this[h]=o,a.set(l,{ele:o,index:h})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[e]=l,a.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var s=a.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Qt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);n.push(o)}return n},reduce:function(e,r){for(var n=r,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,r){for(var n=-1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l>n&&(n=l,i=o)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l<n&&(n=l,i=o)}return{value:n,ele:i}}},Ur=TJ;Ur.u=Ur["|"]=Ur["+"]=Ur.union=Ur.or=Ur.add,Ur["\\"]=Ur["!"]=Ur["-"]=Ur.difference=Ur.relativeComplement=Ur.subtract=Ur.not,Ur.n=Ur["&"]=Ur["."]=Ur.and=Ur.intersection=Ur.intersect,Ur["^"]=Ur["(+)"]=Ur["(-)"]=Ur.symmetricDifference=Ur.symdiff=Ur.xor,Ur.fnFilter=Ur.filterFn=Ur.stdFilter=Ur.filter,Ur.complement=Ur.abscomp=Ur.absoluteComplement;var _We={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},wJ=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function a(h){var d=h.pstyle("z-compound-depth");return d.value==="auto"?i?h.zDepth():0:d.value==="bottom"?-1:d.value==="top"?uA:0}var s=a(e)-a(r);if(s!==0)return s;function o(h){var d=h.pstyle("z-index-compare");return d.value==="auto"&&h.isNode()?1:0}var l=o(e)-o(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},A4={forEach:function(e,r){if(In(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],s=r?e.apply(r,[a,i,this]):e(a,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var a=e;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!In(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(wJ)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:uA-1}else{var a=r.source,s=r.target,o=a.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};A4.each=A4.forEach;var AWe=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":vi(Symbol))!=e&&vi(Symbol.iterator)!=e;r&&(A4[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,s=this.length;return Mj({next:function(){return a<s?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};AWe();var LWe=Yi({nodeDimensionsIncludeLabels:!1}),L4={layoutDimensions:function(e){e=LWe(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(w){return!w.isParent()}),a=this.cy(),s=r.eles,o=function(S){return S.id()},l=s0(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(S,k,L){var _={x:k.x1+k.w/2,y:k.y1+k.h/2},N={x:(L.x-_.x)*S,y:(L.y-_.y)*S};return{x:_.x+N.x,y:_.y+N.y}},h=r.spacingFactor&&r.spacingFactor!==1,d=function(){if(!h)return null;for(var S=us(),k=0;k<i.length;k++){var L=i[k],_=l(L,k);WGe(S,_.x,_.y)}return S},f=d(),p=s0(function(w,S){var k=l(w,S);if(h){var L=Math.abs(r.spacingFactor);k=u(L,f,k)}return r.transform!=null&&(k=r.transform(w,k)),k},o);if(r.animate){for(var g=0;g<i.length;g++){var m=i[g],y=p(m,g),v=r.animateFilter==null||r.animateFilter(m,g);if(v){var b=m.animation({position:y,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else m.position(y)}if(r.fit){var x=a.animation({fit:{boundingBox:s.boundingBoxAt(p),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(x)}else if(r.zoom!==void 0&&r.pan!==void 0){var T=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}e.animations.forEach(function(w){return w.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),m0.all(e.animations.map(function(w){return w.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(p),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(rr({},e,{eles:this}))}};L4.createLayout=L4.makeLayout=L4.layout;function SJ(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(r)),a}function N4(t,e){return t=ed(t),function(n){return SJ(t,e,n)}}function R4(t,e){t=ed(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return SJ(t,r,i)}}var Xi={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=a;return e?s.emitAndNotify("style"):s.emit("style"),a.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var a=n._private.style[e];return a??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(Pr(e)){var s=e;a.applyBypass(this,s,i),this.emitAndNotify("style")}else if(Qt(e))if(r===void 0){var o=this[0];return o?a.getStylePropertyValue(o,e):void 0}else a.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(e===void 0)for(var s=0;s<a.length;s++){var o=a[s];i.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var s=i.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function D8(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function O8(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var o=a._private;if(!e(a))return!1;if(a.isNode())return!s||D8(a,n);var l=o.source,u=o.target;return r(l)&&(!s||D8(l,r))&&(l===u||r(u)&&(!s||D8(u,r)))}}}var E0=N4("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Xi.takesUpSpace=R4("takesUpSpace",O8({ok:E0}));var NWe=N4("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&E0(t)}),RWe=N4("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&E0(t)});Xi.interactive=R4("interactive",O8({ok:NWe,parentOk:RWe,edgeOkViaNode:E0})),Xi.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var IWe=N4("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&E0(t)}),DWe=E0;Xi.visible=R4("visible",O8({ok:IWe,edgeOkViaNode:DWe})),Xi.hidden=function(){var t=this[0];if(t)return!t.visible()},Xi.isBundledBezier=R4("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),Xi.bypass=Xi.css=Xi.style,Xi.renderedCss=Xi.renderedStyle,Xi.removeBypass=Xi.removeCss=Xi.removeStyle,Xi.pstyle=Xi.parsedStyle;var Nu={};function kJ(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&In(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&dn(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],u=!t.ableField||l._private[t.ableField],h=l._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(l);if(d!==void 0&&(u=d,!d))return this}u&&(l._private[t.field]=t.value,h&&r.push(l))}var f=this.spawn(r);f.updateStyle(),f.emit(t.event),s&&f.emit(s)}return this}}function T0(t){Nu[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Nu[t.on]=kJ({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Nu[t.off]=kJ({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}T0({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),T0({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"}),T0({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),T0({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),Nu.deselect=Nu.unselect,Nu.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},T0({field:"active",on:"activate",off:"unactivate"}),T0({field:"pannable",on:"panify",off:"unpanify"}),Nu.inactive=function(){var t=this[0];if(t)return!t._private.active};var ua={},CJ=function(e){return function(n){for(var i=this,a=[],s=0;s<i.length;s++){var o=i[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),h=0;h<u.length;h++){var d=u[h],f=d.source(),p=d.target();if(e.noIncomingEdges&&p===o&&f!==o||e.noOutgoingEdges&&f===o&&p!==o){l=!0;break}}l||a.push(o)}}return this.spawn(a,!0).filter(n)}},_J=function(e){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var s=n[a];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],h=u.source(),d=u.target();e.outgoing&&h===s?(i.push(u),i.push(d)):e.incoming&&d===s&&(i.push(u),i.push(h))}}return this.spawn(i,!0).filter(r)}},AJ=function(e){return function(r){for(var n=this,i=[],a={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],h=u.id();a[h]||(a[h]=!0,i.push(u),o=!0)}if(!o)break;n=s}return this.spawn(i,!0).filter(r)}};ua.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},rr(ua,{roots:CJ({noIncomingEdges:!0}),leaves:CJ({noOutgoingEdges:!0}),outgoers:Zs(_J({outgoing:!0}),"outgoers"),successors:AJ({outgoing:!0}),incomers:Zs(_J({incoming:!0}),"incomers"),predecessors:AJ({})}),rr(ua,{neighborhood:Zs(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],l=o.source(),u=o.target(),h=i===l?u:l;h.length>0&&e.push(h[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),ua.neighbourhood=ua.neighborhood,ua.closedNeighbourhood=ua.closedNeighborhood,ua.openNeighbourhood=ua.openNeighborhood,rr(ua,{source:Zs(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Zs(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:LJ({attr:"source"}),targets:LJ({attr:"target"})});function LJ(t){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],s=a._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}rr(ua,{edgesWith:Zs(NJ(),"edgesWith"),edgesTo:Zs(NJ({thisIsSrc:!0}),"edgesTo")});function NJ(t){return function(r){var n=[],i=this._private.cy,a=t||{};Qt(r)&&(r=i.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,l=0;l<o.length;l++){var u=o[l],h=u._private.data,d=this.hasElementWithId(h.source)&&r.hasElementWithId(h.target),f=r.hasElementWithId(h.source)&&this.hasElementWithId(h.target),p=d||f;p&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!d||a.thisIsTgt&&!f)||n.push(u))}return this.spawn(n,!0)}}rr(ua,{connectedEdges:Zs(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var o=a[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Zs(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Zs(RJ(),"parallelEdges"),codirectedEdges:Zs(RJ({codirected:!0}),"codirectedEdges")});function RJ(t){var e={codirected:!1};return t=rr({},e,t),function(n){for(var i=[],a=this.edges(),s=t,o=0;o<a.length;o++)for(var l=a[o],u=l._private,h=u.source,d=h._private.data.id,f=u.data.target,p=h._private.edges,g=0;g<p.length;g++){var m=p[g],y=m._private.data,v=y.target,b=y.source,x=v===f&&b===d,T=d===v&&f===b;(s.codirected&&x||!s.codirected&&(x||T))&&i.push(m)}return this.spawn(i,!0).filter(n)}}rr(ua,{components:function(e){var r=this,n=r.cy(),i=n.collection(),a=e==null?r.nodes():e.nodes(),s=[];e!=null&&a.empty()&&(a=e.sources());var o=function(h,d){i.merge(h),a.unmerge(h),d.merge(h)};if(a.empty())return r.spawn();var l=function(){var h=n.collection();s.push(h);var d=a[0];o(d,h),r.bfs({directed:!1,roots:d,visit:function(p){return o(p,h)}}),h.forEach(function(f){f.connectedEdges().forEach(function(p){r.has(p)&&h.has(p.source())&&h.has(p.target())&&h.merge(p)})})};do l();while(a.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),ua.componentsOf=ua.components;var Ki=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Dn("A collection must have a reference to the core");return}var a=new bc,s=!1;if(!r)r=[];else if(r.length>0&&Pr(r[0])&&!Ym(r[0])){s=!0;for(var o=[],l=new l0,u=0,h=r.length;u<h;u++){var d=r[u];d.data==null&&(d.data={});var f=d.data;if(f.id==null)f.id=yQ();else if(e.hasElementWithId(f.id)||l.has(f.id))continue;var p=new a4(e,d,!1);o.push(p),l.add(f.id)}r=o}this.length=0;for(var g=0,m=r.length;g<m;g++){var y=r[g][0];if(y!=null){var v=y._private.data.id;(!n||!a.has(v))&&(n&&a.set(v,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(b){this.lazyMap=b},rebuildMap:function(){for(var x=this.lazyMap=new bc,T=this.eles,w=0;w<T.length;w++){var S=T[w];x.set(S.id(),{index:w,ele:S})}}},n&&(this._private.map=a),s&&!i&&this.restore()},yn=a4.prototype=Ki.prototype=Object.create(Array.prototype);yn.instanceString=function(){return"collection"},yn.spawn=function(t,e){return new Ki(this.cy(),t,e)},yn.spawnSelf=function(){return this.spawn(this)},yn.cy=function(){return this._private.cy},yn.renderer=function(){return this._private.cy.renderer()},yn.element=function(){return this[0]},yn.collection=function(){return $j(this)?this:new Ki(this._private.cy,[this])},yn.unique=function(){return new Ki(this._private.cy,this,!0)},yn.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)},yn.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Ki(e)},yn.$id=yn.getElementById,yn.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index},yn.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index},yn.indexOfId=function(t){return t=""+t,this._private.map.get(t).index},yn.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Pr(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var a=!1,s={},o=t.data.source,l=t.data.target;o!=null&&o!=i.source&&(s.source=""+o,a=!0),l!=null&&l!=i.target&&(s.target=""+l,a=!0),a&&(e=e.move(s))}else{var u="parent"in t.data,h=t.data.parent;u&&(h!=null||i.parent!=null)&&h!=i.parent&&(h===void 0&&(h=null),h!=null&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var d=function(m,y,v){var b=t[m];b!=null&&b!==n[m]&&(b?e[y]():e[v]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var f={data:yl(n.data),position:yl(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};f.classes="";var p=0;return n.classes.forEach(function(g){return f.classes+=p++===0?g:" "+g}),f}}},yn.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t},yn.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new a4(t,i,!1);e.push(a)}return new Ki(t,e)},yn.copy=yn.clone,yn.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],s=[],o,l=0,u=r.length;l<u;l++){var h=r[l];e&&!h.removed()||(h.isNode()?a.push(h):s.push(h))}o=a.concat(s);var d,f=function(){o.splice(d,1),d--};for(d=0;d<o.length;d++){var p=o[d],g=p._private,m=g.data;if(p.clearTraversalCache(),!(!e&&!g.removed)){if(m.id===void 0)m.id=yQ();else if(Rt(m.id))m.id=""+m.id;else if(bu(m.id)||!Qt(m.id)){Dn("Can not create element with invalid string ID `"+m.id+"`"),f();continue}else if(n.hasElementWithId(m.id)){Dn("Can not create second element with ID `"+m.id+"`"),f();continue}}var y=m.id;if(p.isNode()){var v=g.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(p.isEdge()){for(var b=p,x=["source","target"],T=x.length,w=!1,S=0;S<T;S++){var k=x[S],L=m[k];Rt(L)&&(L=m[k]=""+m[k]),L==null||L===""?(Dn("Can not create edge `"+y+"` with unspecified "+k),w=!0):n.hasElementWithId(L)||(Dn("Can not create edge `"+y+"` with nonexistant "+k+" `"+L+"`"),w=!0)}if(w){f();continue}var _=n.getElementById(m.source),N=n.getElementById(m.target);_.same(N)?_._private.edges.push(b):(_._private.edges.push(b),N._private.edges.push(b)),b._private.source=_,b._private.target=N}g.map=new bc,g.map.set(y,{ele:p,index:0}),g.removed=!1,e&&n.addToPool(p)}for(var C=0;C<a.length;C++){var D=a[C],P=D._private.data;Rt(P.parent)&&(P.parent=""+P.parent);var A=P.parent,R=A!=null;if(R||D._private.parent){var O=D._private.parent?n.collection().merge(D._private.parent):n.getElementById(A);if(O.empty())P.parent=void 0;else if(O[0].removed())Zr("Node added with missing parent, reference to parent removed"),P.parent=void 0,D._private.parent=null;else{for(var M=!1,I=O;!I.empty();){if(D.same(I)){M=!0,P.parent=void 0;break}I=I.parent()}M||(O[0]._private.children.push(D),D._private.parent=O[0],i.hasCompoundNodes=!0)}}}if(o.length>0){for(var F=o.length===r.length?r:new Ki(n,o),B=0;B<F.length;B++){var $=F[B];$.isNode()||($.parallelEdges().clearTraversalCache(),$.source().clearTraversalCache(),$.target().clearTraversalCache())}var V;i.hasCompoundNodes?V=n.collection().merge(F).merge(F.connectedNodes()).merge(F.parent()):V=F,V.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?F.emitAndNotify("add"):e&&F.emit("add")}return r},yn.removed=function(){var t=this[0];return t&&t._private.removed},yn.inside=function(){var t=this[0];return t&&!t._private.removed},yn.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function s(A){for(var R=A._private.edges,O=0;O<R.length;O++)l(R[O])}function o(A){for(var R=A._private.children,O=0;O<R.length;O++)l(R[O])}function l(A){var R=i[A.id()];e&&A.removed()||R||(i[A.id()]=!0,A.isNode()?(n.push(A),s(A),o(A)):n.unshift(A))}for(var u=0,h=r.length;u<h;u++){var d=r[u];l(d)}function f(A,R){var O=A._private.edges;Eu(O,R),A.clearTraversalCache()}function p(A){A.clearTraversalCache()}var g=[];g.ids={};function m(A,R){R=R[0],A=A[0];var O=A._private.children,M=A.id();Eu(O,R),R._private.parent=null,g.ids[M]||(g.ids[M]=!0,g.push(A))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var y=0;y<n.length;y++){var v=n[y];if(v.isEdge()){var b=v.source()[0],x=v.target()[0];f(b,v),f(x,v);for(var T=v.parallelEdges(),w=0;w<T.length;w++){var S=T[w];p(S),S.isBundledBezier()&&S.dirtyBoundingBoxCache()}}else{var k=v.parent();k.length!==0&&m(k,v)}e&&(v._private.removed=!0)}var L=a._private.elements;a._private.hasCompoundNodes=!1;for(var _=0;_<L.length;_++){var N=L[_];if(N.isParent()){a._private.hasCompoundNodes=!0;break}}var C=new Ki(this.cy(),n);C.size()>0&&(t?C.emitAndNotify("remove"):e&&C.emit("remove"));for(var D=0;D<g.length;D++){var P=g[D];(!e||!P.removed())&&P.updateStyle()}return C},yn.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,a=function(g){return g==null?g:""+g};if(t.source!==void 0||t.target!==void 0){var s=a(t.source),o=a(t.target),l=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(l||u)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var g=r[p],m=g._private.data;g.isEdge()&&(l&&(m.source=s),u&&(m.target=o))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var h=a(t.parent),d=h===null||e.hasElementWithId(h);if(d){var f=h===null?void 0:h;e.batch(function(){var p=r.remove(n,i);p.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],y=m._private.data;m.isNode()&&(y.parent=f)}p.restore(n,i)}),r.emitAndNotify("move")}}return this},[VQ,Vqe,T4,_u,v0,sWe,w4,TWe,EJ,TJ,_We,A4,L4,Xi,Nu,ua].forEach(function(t){rr(yn,t)});var OWe={add:function(e){var r,n=this;if(Ns(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var a=[],s=0;s<i.length;s++){var o=i[s];a.push(o.json())}r=new Ki(n,a)}}else if(dn(e)){var l=e;r=new Ki(n,l)}else if(Pr(e)&&(dn(e.nodes)||dn(e.edges))){for(var u=e,h=[],d=["nodes","edges"],f=0,p=d.length;f<p;f++){var g=d[f],m=u[g];if(dn(m))for(var y=0,v=m.length;y<v;y++){var b=rr({group:g},m[y]);h.push(b)}}r=new Ki(n,h)}else{var x=e;r=new a4(n,x).collection()}return r},remove:function(e){if(!Ns(e)){if(Qt(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function MWe(t,e,r,n){var i=4,a=.001,s=1e-7,o=10,l=11,u=1/(l-1),h=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var f=h?new Float32Array(l):new Array(l);function p(N,C){return 1-3*C+3*N}function g(N,C){return 3*C-6*N}function m(N){return 3*N}function y(N,C,D){return((p(C,D)*N+g(C,D))*N+m(C))*N}function v(N,C,D){return 3*p(C,D)*N*N+2*g(C,D)*N+m(C)}function b(N,C){for(var D=0;D<i;++D){var P=v(C,t,r);if(P===0)return C;var A=y(C,t,r)-N;C-=A/P}return C}function x(){for(var N=0;N<l;++N)f[N]=y(N*u,t,r)}function T(N,C,D){var P,A,R=0;do A=C+(D-C)/2,P=y(A,t,r)-N,P>0?D=A:C=A;while(Math.abs(P)>s&&++R<o);return A}function w(N){for(var C=0,D=1,P=l-1;D!==P&&f[D]<=N;++D)C+=u;--D;var A=(N-f[D])/(f[D+1]-f[D]),R=C+A*u,O=v(R,t,r);return O>=a?b(N,R):O===0?R:T(N,C,C+u)}var S=!1;function k(){S=!0,(t!==e||r!==n)&&x()}var L=function(C){return S||k(),t===e&&r===n?C:C===0?0:C===1?1:y(w(C),e,n)};L.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var _="generateBezier("+[t,e,r,n]+")";return L.toString=function(){return _},L}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var PWe=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,i){var a={dx:n.v,dv:t(n)},s=e(n,i*.5,a),o=e(n,i*.5,s),l=e(n,i,o),u=1/6*(a.dx+2*(s.dx+o.dx)+l.dx),h=1/6*(a.dv+2*(s.dv+o.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+h*i,n}return function n(i,a,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,h=1/1e4,d=16/1e3,f,p,g;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,o.tension=i,o.friction=a,f=s!==null,f?(u=n(i,a),p=u/s*d):p=d;g=r(g||o,p),l.push(1+g.x),u+=16,Math.abs(g.x)>h&&Math.abs(g.v)>h;);return f?function(m){return l[m*(l.length-1)|0]}:u}}(),vn=function(e,r,n,i){var a=MWe(e,r,n,i);return function(s,o,l){return s+(o-s)*a(l)}},I4={linear:function(e,r,n){return e+(r-e)*n},ease:vn(.25,.1,.25,1),"ease-in":vn(.42,0,1,1),"ease-out":vn(0,0,.58,1),"ease-in-out":vn(.42,0,.58,1),"ease-in-sine":vn(.47,0,.745,.715),"ease-out-sine":vn(.39,.575,.565,1),"ease-in-out-sine":vn(.445,.05,.55,.95),"ease-in-quad":vn(.55,.085,.68,.53),"ease-out-quad":vn(.25,.46,.45,.94),"ease-in-out-quad":vn(.455,.03,.515,.955),"ease-in-cubic":vn(.55,.055,.675,.19),"ease-out-cubic":vn(.215,.61,.355,1),"ease-in-out-cubic":vn(.645,.045,.355,1),"ease-in-quart":vn(.895,.03,.685,.22),"ease-out-quart":vn(.165,.84,.44,1),"ease-in-out-quart":vn(.77,0,.175,1),"ease-in-quint":vn(.755,.05,.855,.06),"ease-out-quint":vn(.23,1,.32,1),"ease-in-out-quint":vn(.86,0,.07,1),"ease-in-expo":vn(.95,.05,.795,.035),"ease-out-expo":vn(.19,1,.22,1),"ease-in-out-expo":vn(1,0,0,1),"ease-in-circ":vn(.6,.04,.98,.335),"ease-out-circ":vn(.075,.82,.165,1),"ease-in-out-circ":vn(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return I4.linear;var i=PWe(e,r,n);return function(a,s,o){return a+(s-a)*i(o)}},"cubic-bezier":vn};function IJ(t,e,r,n,i){if(n===1||e===r)return r;var a=i(e,r,n);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function DJ(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function w0(t,e,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=DJ(t,i),o=DJ(e,i);if(Rt(s)&&Rt(o))return IJ(a,s,o,r,n);if(dn(s)&&dn(o)){for(var l=[],u=0;u<o.length;u++){var h=s[u],d=o[u];if(h!=null&&d!=null){var f=IJ(a,h,d,r,n);l.push(f)}else l.push(d)}return l}}function BWe(t,e,r,n){var i=!n,a=t._private,s=e._private,o=s.easing,l=s.startTime,u=n?t:t.cy(),h=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=I4.linear;else{var d;if(Qt(o)){var f=h.parse("transition-timing-function",o);d=f.value}else d=o;var p,g;Qt(d)?(p=d,g=[]):(p=d[1],g=d.slice(2).map(function(F){return+F})),g.length>0?(p==="spring"&&g.push(s.duration),s.easingImpl=I4[p].apply(null,g)):s.easingImpl=I4[p]}var m=s.easingImpl,y;if(s.duration===0?y=1:y=(r-l)/s.duration,s.applying&&(y=s.progress),y<0?y=0:y>1&&(y=1),s.delay==null){var v=s.startPosition,b=s.position;if(b&&i&&!t.locked()){var x={};dy(v.x,b.x)&&(x.x=w0(v.x,b.x,y,m)),dy(v.y,b.y)&&(x.y=w0(v.y,b.y,y,m)),t.position(x)}var T=s.startPan,w=s.pan,S=a.pan,k=w!=null&&n;k&&(dy(T.x,w.x)&&(S.x=w0(T.x,w.x,y,m)),dy(T.y,w.y)&&(S.y=w0(T.y,w.y,y,m)),t.emit("pan"));var L=s.startZoom,_=s.zoom,N=_!=null&&n;N&&(dy(L,_)&&(a.zoom=ry(a.minZoom,w0(L,_,y,m),a.maxZoom)),t.emit("zoom")),(k||N)&&t.emit("viewport");var C=s.style;if(C&&C.length>0&&i){for(var D=0;D<C.length;D++){var P=C[D],A=P.name,R=P,O=s.startStyle[A],M=h.properties[O.name],I=w0(O,R,y,m,M);h.overrideBypass(t,A,I)}t.emit("style")}}return s.progress=y,y}function dy(t,e){return t==null||e==null?!1:Rt(t)&&Rt(e)?!0:!!(t&&e)}function FWe(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function OJ(t,e){var r=e._private.aniEles,n=[];function i(h,d){var f=h._private,p=f.animation.current,g=f.animation.queue,m=!1;if(p.length===0){var y=g.shift();y&&p.push(y)}for(var v=function(S){for(var k=S.length-1;k>=0;k--){var L=S[k];L()}S.splice(0,S.length)},b=p.length-1;b>=0;b--){var x=p[b],T=x._private;if(T.stopped){p.splice(b,1),T.hooked=!1,T.playing=!1,T.started=!1,v(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||FWe(h,x,t),BWe(h,x,t,d),T.applying&&(T.applying=!1),v(T.frames),T.step!=null&&T.step(t),x.completed()&&(p.splice(b,1),T.hooked=!1,T.playing=!1,T.started=!1,v(T.completes)),m=!0)}return!d&&p.length===0&&g.length===0&&n.push(h),m}for(var a=!1,s=0;s<r.length;s++){var o=r[s],l=i(o);a=a||l}var u=i(e,!0);(a||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var $We={animate:Jr.animate(),animation:Jr.animation(),animated:Jr.animated(),clearQueue:Jr.clearQueue(),delay:Jr.delay(),delayAnimation:Jr.delayAnimation(),stop:Jr.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&r4(function(a){OJ(a,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,s){OJ(s,e)},n.beforeRenderPriorities.animations):r()}},zWe={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Ym(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},D4=function(e){return Qt(e)?new ku(e):e},MJ={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new C4(zWe,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,D4(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,D4(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,D4(r),n),this},once:function(e,r,n){return this.emitter().one(e,D4(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};Jr.eventAliasesOn(MJ);var M8={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};M8.jpeg=M8.jpg;var O4={layout:function(e){var r=this;if(e==null){Dn("Layout options must be specified to make a layout");return}if(e.name==null){Dn("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){Dn("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;Qt(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var s=new i(rr({},e,{cy:r,eles:a}));return s}};O4.createLayout=O4.makeLayout=O4.layout;var UWe={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],s=e[a],o=r.getElementById(a);o.data(s)}})}},HWe=Yi({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),P8={renderTo:function(e,r,n,i){var a=this._private.renderer;return a.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Dn("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Zr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=HWe(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};P8.invalidateDimensions=P8.resize;var M4={collection:function(e,r){return Qt(e)?this.$(e):Ns(e)?e.collection():dn(e)?(r||(r={}),new Ki(this,e,r.unique,r.removed)):new Ki(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};M4.elements=M4.filter=M4.$;var Oi={},fy="t",GWe="f";Oi.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),a=0;a<t.length;a++){var s=t[a],o=e.getContextMeta(s);if(!o.empty){var l=e.getContextStyle(o),u=e.applyContextStyle(o,l,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var h=e.updateStyleHints(s);h&&i.push(s)}}return i},Oi.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,a=n[i];if(a)return a;for(var s=[],o={},l=0;l<r.length;l++){var u=r[l],h=t[l]===fy,d=e[l]===fy,f=h!==d,p=u.mappedProperties.length>0;if(f||d&&p){var g=void 0;f&&p||f?g=u.properties:p&&(g=u.mappedProperties);for(var m=0;m<g.length;m++){for(var y=g[m],v=y.name,b=!1,x=l+1;x<r.length;x++){var T=r[x],w=e[x]===fy;if(w&&(b=T.properties[y.name]!=null,b))break}!o[v]&&!b&&(o[v]=!0,s.push(v))}}}return n[i]=s,s},Oi.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var s=e[a],o=s.selector&&s.selector.matches(t);o?r+=fy:r+=GWe}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}},Oi.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<r.length;a++){var s=r[a],o=e[a]===fy;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];i[u.name]=u}}return n[e]=i,i},Oi.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,a={},s=n.types,o=0;o<i.length;o++){var l=i[o],u=e[l],h=r.pstyle(l);if(!u)if(h)h.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(h!==u){if(u.mapped===s.fn&&h!=null&&h.mapping!=null&&h.mapping.value===u.value){var d=h.mapping,f=d.fnValue=u.value(r);if(f===d.prevFnValue)continue}var p=a[l]={prev:h};n.applyParsedProperty(r,u),p.next=r.pstyle(l),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:a}},Oi.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(Y,Q,ie){return r.getPropertiesHash(Y,Q,ie)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var h=i[u];e.styleKeys[h]=[Jh,o0]}for(var d=function(Y,Q){return e.styleKeys[Q][0]=Zm(Y,e.styleKeys[Q][0])},f=function(Y,Q){return e.styleKeys[Q][1]=Jm(Y,e.styleKeys[Q][1])},p=function(Y,Q){d(Y,Q),f(Y,Q)},g=function(Y,Q){for(var ie=0;ie<Y.length;ie++){var J=Y.charCodeAt(ie);d(J,Q),f(J,Q)}},m=2e9,y=function(Y){return-128<Y&&Y<128&&Math.floor(Y)!==Y?m-(Y*1024|0):Y},v=0;v<n.length;v++){var b=n[v],x=l[b];if(x!=null){var T=this.properties[b],w=T.type,S=T.groupKey,k=void 0;T.hashOverride!=null?k=T.hashOverride(t,x):x.pfValue!=null&&(k=x.pfValue);var L=T.enums==null?x.value:null,_=k!=null,N=L!=null,C=_||N,D=x.units;if(w.number&&C&&!w.multiple){var P=_?k:L;p(y(P),S),!_&&D!=null&&g(D,S)}else g(x.strValue,S)}}for(var A=[Jh,o0],R=0;R<i.length;R++){var O=i[R],M=e.styleKeys[O];A[0]=Zm(M[0],A[0]),A[1]=Jm(M[1],A[1])}e.styleKey=lGe(A[0],A[1]);var I=e.styleKeys;e.labelDimsKey=xu(I.labelDimensions);var F=a(t,["label"],I.labelDimensions);if(e.labelKey=xu(F),e.labelStyleKey=xu(n4(I.commonLabel,F)),!o){var B=a(t,["source-label"],I.labelDimensions);e.sourceLabelKey=xu(B),e.sourceLabelStyleKey=xu(n4(I.commonLabel,B));var $=a(t,["target-label"],I.labelDimensions);e.targetLabelKey=xu($),e.targetLabelStyleKey=xu(n4(I.commonLabel,$))}if(o){var V=e.styleKeys,H=V.nodeBody,te=V.nodeBorder,X=V.nodeOutline,ee=V.backgroundImage,re=V.compound,pe=V.pie,K=V.stripe,W=[H,te,X,ee,re,pe,K].filter(function(j){return j!=null}).reduce(n4,[Jh,o0]);e.nodeKey=xu(W),e.hasPie=pe!=null&&pe[0]!==Jh&&pe[1]!==o0,e.hasStripe=K!=null&&K[0]!==Jh&&K[1]!==o0}return s!==e.styleKey},Oi.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null},Oi.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,a,s=r.types,o=r.properties[n.name].type,l=n.bypass,u=i[n.name],h=u&&u.bypass,d=t._private,f="mapping",p=function(H){return H==null?null:H.pfValue!=null?H.pfValue:H.value},g=function(){var H=p(u),te=p(n);r.checkTriggers(t,n.name,H,te)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return i[n.name]=void 0,g(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,g(),!0):!1:(g(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,g(),!0):!1:(g(),!0);var m=function(){Zr("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var y=n.field.split("."),v=d.data,b=0;b<y.length&&v;b++){var x=y[b];v=v[x]}if(v==null)return m(),!1;var T;if(Rt(v)){var w=n.fieldMax-n.fieldMin;w===0?T=0:T=(v-n.fieldMin)/w}else return Zr("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+v+"` for `"+t.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),o.color){var S=n.valueMin[0],k=n.valueMax[0],L=n.valueMin[1],_=n.valueMax[1],N=n.valueMin[2],C=n.valueMax[2],D=n.valueMin[3]==null?1:n.valueMin[3],P=n.valueMax[3]==null?1:n.valueMax[3],A=[Math.round(S+(k-S)*T),Math.round(L+(_-L)*T),Math.round(N+(C-N)*T),Math.round(D+(P-D)*T)];a={bypass:n.bypass,name:n.name,value:A,strValue:"rgb("+A[0]+", "+A[1]+", "+A[2]+")"}}else if(o.number){var R=n.valueMin+(n.valueMax-n.valueMin)*T;a=this.parse(n.name,R,n.bypass,f)}else return!1;if(!a)return m(),!1;a.mapping=n,n=a;break}case s.data:{for(var O=n.field.split("."),M=d.data,I=0;I<O.length&&M;I++){var F=O[I];M=M[F]}if(M!=null&&(a=this.parse(n.name,M,n.bypass,f)),!a)return m(),!1;a.mapping=n,n=a;break}case s.fn:{var B=n.value,$=n.fnValue!=null?n.fnValue:B(t);if(n.prevFnValue=$,$==null)return Zr("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(n.name,$,n.bypass,f),!a)return Zr("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=yl(n),n=a;break}case void 0:break;default:return!1}return l?(h?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):h?u.bypassed=n:i[n.name]=n,g(),!0},Oi.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],l=i[o];l!=null&&(l.bypass?l.bypassed=null:i[o]=null)}}},Oi.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()},Oi.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var o={},l=!1,u=0;u<i.length;u++){var h=i[u],d=t.pstyle(h),f=e[h];if(f){var p=f.prev,g=p,m=f.next!=null?f.next:d,y=!1,v=void 0,b=1e-6;g&&(Rt(g.pfValue)&&Rt(m.pfValue)?(y=m.pfValue-g.pfValue,v=g.pfValue+b*y):Rt(g.value)&&Rt(m.value)?(y=m.value-g.value,v=g.value+b*y):dn(g.value)&&dn(m.value)&&(y=g.value[0]!==m.value[0]||g.value[1]!==m.value[1]||g.value[2]!==m.value[2],v=g.strValue),y&&(o[h]=m.strValue,this.applyBypass(t,h,v),l=!0))}}if(!l)return;n.transitioning=!0,new m0(function(x){s>0?t.delayAnimation(s).play().promise().then(x):x()}).then(function(){return t.animation({style:o,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)},Oi.checkTrigger=function(t,e,r,n,i,a){var s=this.properties[e],o=i(s);t.removed()||o!=null&&o(r,n,t)&&a(s)},Oi.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})},Oi.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})},Oi.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},Oi.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){t.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},Oi.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var py={};py.applyBypass=function(t,e,r,n){var i=this,a=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<i.properties.length;o++){var l=i.properties[o],u=l.name,h=this.parse(u,r,!0);h&&a.push(h)}}else if(Qt(e)){var d=this.parse(e,r,!0);d&&a.push(d)}else if(Pr(e)){var f=e;n=r;for(var p=Object.keys(f),g=0;g<p.length;g++){var m=p[g],y=f[m];if(y===void 0&&(y=f[JE(m)]),y!==void 0){var v=this.parse(m,y,!0);v&&a.push(v)}}}else return!1;if(a.length===0)return!1;for(var b=!1,x=0;x<t.length;x++){for(var T=t[x],w={},S=void 0,k=0;k<a.length;k++){var L=a[k];if(n){var _=T.pstyle(L.name);S=w[L.name]={prev:_}}b=this.applyParsedProperty(T,yl(L))||b,n&&(S.next=T.pstyle(L.name))}b&&this.updateStyleHints(T),n&&this.updateTransitions(T,w,s)}return b},py.overrideBypass=function(t,e,r){e=Y_(e);for(var n=0;n<t.length;n++){var i=t[n],a=i._private.style[e],s=this.properties[e].type,o=s.color,l=s.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,u,r)}},py.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)},py.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],s={},o=0;o<e.length;o++){var l=e[o],u=this.properties[l],h=a.pstyle(u.name);if(!(!h||!h.bypass)){var d="",f=this.parse(l,d,!0),p=s[u.name]={prev:h};this.applyParsedProperty(a,f),p.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,n)}};var B8={};B8.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1},B8.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var vl={};vl.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},vl.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(t,a.name,e);s!=null&&(n[a.name]=s,n[JE(a.name)]=s)}return n}},vl.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]},vl.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,s=t.pstyle(i.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(r&&a.number&&o!=null&&Rt(o)){var h=t.cy().zoom(),d=function(y){return y*h},f=function(y,v){return d(y)+v},p=dn(o),g=p?l.every(function(m){return m!=null}):l!=null;return g?p?o.map(function(m,y){return f(m,l[y])}).join(" "):f(o,l):p?o.map(function(m){return Qt(m)?m:""+d(m)}).join(" "):""+d(o)}else if(u!=null)return u}return null}},vl.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=i.name,s=t.pstyle(a);s!==void 0&&(Pr(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r},vl.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],l=n[o],u=i[o]||i[Y_(o)],h=this.parse(u.name,l);h&&r.push(h)}return r},vl.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,a,s,o,l,u;for(l=0;l<e.length;l++)if(i=e[l],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=Zm(o,n[0]),n[1]=Jm(o,n[1]);else for(s=a.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),n[0]=Zm(o,n[0]),n[1]=Jm(o,n[1]);return n},vl.getPropertiesHash=vl.getNonDefaultPropertiesHash;var P4={};P4.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);e.selector(i);for(var o=0;o<s.length;o++){var l=s[o],u=a[l];e.css(l,u)}}return e},P4.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e},P4.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var o=i[s];a[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:a})}return t};var F8={};F8.appendFromString=function(t){var e=this,r=this,n=""+t,i,a,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>s.length?a=a.substr(s.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var h=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){Zr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=h[0];var d=h[1];if(d!=="core"){var f=new ku(d);if(f.invalid){Zr("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),o();continue}}var p=h[2],g=!1;a=p;for(var m=[];;){var y=a.match(/^\s*$/);if(y)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){Zr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),g=!0;break}s=v[0];var b=v[1],x=v[2],T=e.properties[b];if(!T){Zr("Skipping property: Invalid property name in: "+s),l();continue}var w=r.parse(b,x);if(!w){Zr("Skipping property: Invalid property definition in: "+s),l();continue}m.push({name:b,val:x}),l()}if(g){o();break}r.selector(d);for(var S=0;S<m.length;S++){var k=m[S];r.css(k.name,k.val)}o()}return r},F8.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var ri={};(function(){var t=xi,e=zHe,r=HHe,n=GHe,i=VHe,a=function(j){return"^"+j+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(j){var Y=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+j+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+Y+")\\s*\\,\\s*("+Y+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];ri.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(j,Y){switch(j.length){case 2:return Y[0]!=="deg"&&Y[0]!=="rad"&&Y[1]!=="deg"&&Y[1]!=="rad";case 1:return Qt(j[0])||Y[0]==="deg"||Y[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(j){var Y=j.length;return Y===1||Y===2||Y===4}}};var l={zeroNonZero:function(j,Y){return(j==null||Y==null)&&j!==Y||j==0&&Y!=0?!0:j!=0&&Y==0},any:function(j,Y){return j!=Y},emptyNonEmpty:function(j,Y){var Q=bu(j),ie=bu(Y);return Q&&!ie||!Q&&ie}},u=ri.types,h=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],d=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],f=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],g=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:l.any}],m=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],y=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(j,Y,Q){return j===Y?!1:Q.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],v=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],b=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],x=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],T=function(j,Y){return Y.value==="label"?-j.poolIndex():Y.pfValue},w=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:T},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:T},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],S=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],k=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],L=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],_=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],N=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(j,Y){return j===Y?!1:j==="bezier"||Y==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],C=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],D=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],P=[];ri.pieBackgroundN=16,P.push({name:"pie-size",type:u.sizeMaybePercent}),P.push({name:"pie-hole",type:u.sizeMaybePercent}),P.push({name:"pie-start-angle",type:u.angle});for(var A=1;A<=ri.pieBackgroundN;A++)P.push({name:"pie-"+A+"-background-color",type:u.color}),P.push({name:"pie-"+A+"-background-size",type:u.percent}),P.push({name:"pie-"+A+"-background-opacity",type:u.zeroOneNumber});var R=[];ri.stripeBackgroundN=16,R.push({name:"stripe-size",type:u.sizeMaybePercent}),R.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var O=1;O<=ri.stripeBackgroundN;O++)R.push({name:"stripe-"+O+"-background-color",type:u.color}),R.push({name:"stripe-"+O+"-background-size",type:u.percent}),R.push({name:"stripe-"+O+"-background-opacity",type:u.zeroOneNumber});var M=[],I=ri.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(W){I.forEach(function(j){var Y=j+"-"+W.name,Q=W.type,ie=W.triggersBounds;M.push({name:Y,type:Q,triggersBounds:ie})})},{});var F=ri.properties=[].concat(m,x,y,v,b,C,g,p,h,d,f,w,S,k,L,P,R,_,N,M,D),B=ri.propertyGroups={behavior:m,transition:x,visibility:y,overlay:v,underlay:b,ghost:C,commonLabel:g,labelDimensions:p,mainLabel:h,sourceLabel:d,targetLabel:f,nodeBody:w,nodeBorder:S,nodeOutline:k,backgroundImage:L,pie:P,stripe:R,compound:_,edgeLine:N,edgeArrow:M,core:D},$=ri.propertyGroupNames={},V=ri.propertyGroupKeys=Object.keys(B);V.forEach(function(W){$[W]=B[W].map(function(j){return j.name}),B[W].forEach(function(j){return j.groupKey=W})});var H=ri.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ri.propertyNames=F.map(function(W){return W.name});for(var te=0;te<F.length;te++){var X=F[te];F[X.name]=X}for(var ee=0;ee<H.length;ee++){var re=H[ee],pe=F[re.pointsTo],K={name:re.name,alias:!0,pointsTo:pe};F.push(K),F[re.name]=K}})(),ri.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},ri.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=rr({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var h=1;h<=ri.pieBackgroundN;h++){var d=u.name.replace("{{i}}",h),f=u.value;l[d]=f}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var h=1;h<=ri.stripeBackgroundN;h++){var d=u.name.replace("{{i}}",h),f=u.value;l[d]=f}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return ri.arrowPrefixes.forEach(function(h){var d=h+"-"+u.name,f=u.value;l[d]=f}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=e[a],o=this.parse(a,s);r[a]=o}}return t.defaultProperties=r,t.defaultProperties},ri.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var B4={};B4.parse=function(t,e,r,n){var i=this;if(In(e))return i.parseImplWarn(t,e,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,l=dQ(t,o,s,a),u=i.propCache=i.propCache||[],h;return(h=u[l])||(h=u[l]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(h=yl(h),h&&(h.value=yl(h.value))),h},B4.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&Zr("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&Zr("The style value of `label` is deprecated for `"+i.name+"`"),i},B4.parseImpl=function(t,e,r,n){var i=this;t=Y_(t);var a=i.properties[t],s=e,o=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=Qt(e);l&&(e=e.trim());var u=a.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(In(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var h,d;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(h=new RegExp(o.data.regex).exec(e))){if(r)return!1;var f=o.data;return{name:t,value:h,strValue:""+e,mapped:f,field:h[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var p=o.mapData;if(!(u.color||u.number))return!1;var g=this.parse(t,d[4]);if(!g||g.mapped)return!1;var m=this.parse(t,d[5]);if(!m||m.mapped)return!1;if(g.pfValue===m.pfValue||g.strValue===m.strValue)return Zr("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(u.color){var y=g.value,v=m.value,b=y[0]===v[0]&&y[1]===v[1]&&y[2]===v[2]&&(y[3]===v[3]||(y[3]==null||y[3]===1)&&(v[3]==null||v[3]===1));if(b)return!1}return{name:t,value:d,strValue:""+e,mapped:p,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:g.value,valueMax:m.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var x;if(l?x=e.split(/\s+/):dn(e)?x=e:x=[e],u.evenMultiple&&x.length%2!==0)return null;for(var T=[],w=[],S=[],k="",L=!1,_=0;_<x.length;_++){var N=i.parse(t,x[_],r,"multiple");L=L||Qt(N.value),T.push(N.value),S.push(N.pfValue!=null?N.pfValue:N.value),w.push(N.units),k+=(_>0?" ":"")+N.strValue}return u.validate&&!u.validate(T,w)?null:u.singleEnum&&L?T.length===1&&Qt(T[0])?{name:t,value:T[0],strValue:T[0],bypass:r}:null:{name:t,value:T,pfValue:S,strValue:k,bypass:r,units:w}}var C=function(){for(var K=0;K<u.enums.length;K++){var W=u.enums[K];if(W===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var D,P="px";if(u.units&&(D=u.units),u.implicitUnits&&(P=u.implicitUnits),!u.unitless)if(l){var A="px|em"+(u.allowPercent?"|\\%":"");D&&(A=D);var R=e.match("^("+xi+")("+A+")?$");R&&(e=R[1],D=R[2]||P)}else(!D||u.implicitUnits)&&(D=P);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,C();if(u.integer&&!DHe(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var O={name:t,value:e,strValue:""+e+(D||""),units:D,bypass:r};return u.unitless||D!=="px"&&D!=="em"?O.pfValue=e:O.pfValue=D==="px"||!D?e:this.getEmSizeInPixels()*e,(D==="ms"||D==="s")&&(O.pfValue=D==="ms"?e:1e3*e),(D==="deg"||D==="rad")&&(O.pfValue=D==="rad"?e:zGe(e)),D==="%"&&(O.pfValue=e/100),O}else if(u.propList){var M=[],I=""+e;if(I!=="none"){for(var F=I.split(/\s*,\s*|\s+/),B=0;B<F.length;B++){var $=F[B].trim();i.properties[$]?M.push($):Zr("`"+$+"` is not a valid property name")}if(M.length===0)return null}return{name:t,value:M,strValue:M.length===0?"none":M.join(" "),bypass:r}}else if(u.color){var V=Vj(e);return V?{name:t,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var H=C();if(H)return H}for(var te=u.regexes?u.regexes:[u.regex],X=0;X<te.length;X++){var ee=new RegExp(te[X]),re=ee.exec(e);if(re)return{name:t,value:u.singleRegexMatchValue?re[1]:re,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?C():null};var Mi=function(e){if(!(this instanceof Mi))return new Mi(e);if(!W_(e)){Dn("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},ha=Mi.prototype;ha.instanceString=function(){return"style"},ha.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this},ha.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},ha.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},ha.selector=function(t){var e=t==="core"?null:new ku(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this},ha.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],a=r[i.name];a===void 0&&(a=r[JE(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this},ha.style=ha.css,ha.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this},ha.append=function(t){return zj(t)?t.appendToStyle(this):dn(t)?this.appendFromJson(t):Qt(t)&&this.appendFromString(t),this},Mi.fromJson=function(t,e){var r=new Mi(t);return r.fromJson(e),r},Mi.fromString=function(t,e){return new Mi(t).fromString(e)},[Oi,py,B8,vl,P4,F8,ri,B4].forEach(function(t){rr(ha,t)}),Mi.types=ha.types,Mi.properties=ha.properties,Mi.propertyGroups=ha.propertyGroups,Mi.propertyGroupNames=ha.propertyGroupNames,Mi.propertyGroupKeys=ha.propertyGroupKeys;var VWe={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return zj(e)?r.style=e.generateStyle(this):dn(e)?r.style=Mi.fromJson(this,e):Qt(e)?r.style=Mi.fromString(this,e):r.style=Mi(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},qWe="single",sd={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=qWe),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,a,s,o;switch(e.length){case 0:return r;case 1:if(Qt(e[0]))return n=e[0],r[n];if(Pr(e[0])){if(!this._private.panningEnabled)return this;a=e[0],s=a.x,o=a.y,Rt(s)&&(r.x=s),Rt(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Rt(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,a,s,o,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Pr(e)&&(o=n[0],l=o.x,u=o.y,Rt(l)&&(i.x+=l),Rt(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,s=r,(a==="x"||a==="y")&&Rt(s)&&(i[a]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Rt(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Qt(e)){var i=e;e=this.$(i)}else if(PHe(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Ns(e)||(e=this.mutableElements());if(!(Ns(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),l;if(r=Rt(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((s-2*r)/n.w,(o-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(n.x1+n.x2))/2,y:(o-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return Rt(e)&&Rt(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Rt(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Rt(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,a,s,o=!1;if(r.zoomingEnabled||(o=!0),Rt(e)?s=e:Pr(e)&&(s=e.level,e.position!=null?a=o4(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!Rt(s)||s===i||a!=null&&(!Rt(a.x)||!Rt(a.y)))return null;if(a!=null){var l=n,u=i,h=s,d={x:-h/u*(a.x-l.x)+a.x,y:-h/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:h,pan:d}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,a=[],s=!1,o=!1;if(!e)return this;if(Rt(e.zoom)||(n=!1),Pr(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;Rt(u.x)&&(r.pan.x=u.x,o=!1),Rt(u.y)&&(r.pan.y=u.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Qt(e)){var n=e;e=this.mutableElements().filter(n)}else Ns(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(a-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),a=function(o){return parseFloat(i.getPropertyValue(o))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};sd.centre=sd.center,sd.autolockNodes=sd.autolock,sd.autoungrabifyNodes=sd.autoungrabify;var gy={data:Jr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Jr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Jr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Jr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};gy.attr=gy.data,gy.removeAttr=gy.removeData;var my=function(e){var r=this;e=rr({},e);var n=e.container;n&&!ZE(n)&&ZE(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var s=bi!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=rr({name:s?"grid":"null"},o.layout),o.renderer=rr({name:s?"canvas":"null"},o.renderer);var l=function(g,m,y){return m!==void 0?m:y!==void 0?y:g},u=this._private={container:n,ready:!1,options:o,elements:new Ki(this),listeners:[],aniEles:new Ki(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:Rt(o.zoom)?o.zoom:1,pan:{x:Pr(o.pan)&&Rt(o.pan.x)?o.pan.x:0,y:Pr(o.pan)&&Rt(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var h=function(g,m){var y=g.some(BHe);if(y)return m0.all(g).then(m);m(g)};u.styleEnabled&&r.setStyle([]);var d=rr({},o,o.renderer);r.initRenderer(d);var f=function(g,m,y){r.notifications(!1);var v=r.mutableElements();v.length>0&&v.remove(),g!=null&&(Pr(g)||dn(g))&&r.add(g),r.one("layoutready",function(x){r.notifications(!0),r.emit(x),r.one("load",m),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",y),r.emit("done")});var b=rr({},r._private.options.layout);b.eles=r.elements(),r.layout(b).run()};h([o.style,o.elements],function(p){var g=p[0],m=p[1];u.styleEnabled&&r.style().append(g),f(m,function(){r.startAnimationLoop(),u.ready=!0,In(o.ready)&&r.on("ready",o.ready);for(var y=0;y<a.length;y++){var v=a[y];r.on("ready",v)}i&&(i.readies=[]),r.emit("ready")},o.done)})},F4=my.prototype;rr(F4,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return bi;var r=this._private.container.ownerDocument;return r===void 0||r==null?bi:r.defaultView||bi},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!ZE(e)&&ZE(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(rr({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return yl(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),a=function(T){return r.getElementById(T.id())};if(Pr(e)){if(r.startBatch(),e.elements){var s={},o=function(T,w){for(var S=[],k=[],L=0;L<T.length;L++){var _=T[L];if(!_.data.id){Zr("cy.json() cannot handle elements without an ID attribute");continue}var N=""+_.data.id,C=r.getElementById(N);s[N]=!0,C.length!==0?k.push({ele:C,json:_}):(w&&(_.group=w),S.push(_))}r.add(S);for(var D=0;D<k.length;D++){var P=k[D],A=P.ele,R=P.json;A.json(R)}};if(dn(e.elements))o(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var h=l[u],d=e.elements[h];dn(d)&&o(d,h)}var f=r.collection();i.filter(function(x){return!s[x.id()]}).forEach(function(x){x.isParent()?f.merge(x):x.remove()}),f.forEach(function(x){return x.children().move({parent:null})}),f.forEach(function(x){return a(x).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<p.length;g++){var m=p[g];e[m]!=null&&r[m](e[m])}return r.endBatch(),this}else{var y=!!e,v={};y?v.elements=this.elements().map(function(x){return x.json()}):(v.elements={},i.forEach(function(x){var T=x.group();v.elements[T]||(v.elements[T]=[]),v.elements[T].push(x.json())})),this._private.styleEnabled&&(v.style=r.style().json()),v.data=yl(r.data());var b=n.options;return v.zoomingEnabled=n.zoomingEnabled,v.userZoomingEnabled=n.userZoomingEnabled,v.zoom=n.zoom,v.minZoom=n.minZoom,v.maxZoom=n.maxZoom,v.panningEnabled=n.panningEnabled,v.userPanningEnabled=n.userPanningEnabled,v.pan=yl(n.pan),v.boxSelectionEnabled=n.boxSelectionEnabled,v.renderer=yl(b.renderer),v.hideEdgesOnViewport=b.hideEdgesOnViewport,v.textureOnViewport=b.textureOnViewport,v.wheelSensitivity=b.wheelSensitivity,v.motionBlur=b.motionBlur,v.multiClickDebounceTime=b.multiClickDebounceTime,v}}}),F4.$id=F4.getElementById,[OWe,$We,MJ,M8,O4,UWe,P8,M4,VWe,sd,gy].forEach(function(t){rr(F4,t)});var WWe={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},YWe={maximal:!1,acyclic:!1},S0=function(e){return e.scratch("breadthfirst")},PJ=function(e,r){return e.scratch("breadthfirst",r)};function BJ(t){this.options=rr({},WWe,YWe,t)}BJ.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(ae){return ae.isChildless()}),i=r,a=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,o=!!t.boundingBox,l=e.extent(),u=us(o?t.boundingBox:{x1:l.x1,y1:l.y1,w:l.w,h:l.h}),h;if(Ns(t.roots))h=t.roots;else if(dn(t.roots)){for(var d=[],f=0;f<t.roots.length;f++){var p=t.roots[f],g=e.getElementById(p);d.push(g)}h=e.collection(d)}else if(Qt(t.roots))h=e.$(t.roots);else if(a)h=n.roots();else{var m=r.components();h=e.collection();for(var y=function(){var Ue=m[v],xe=Ue.maxDegree(!1),Ze=Ue.filter(function(Je){return Je.degree(!1)===xe});h=h.add(Ze)},v=0;v<m.length;v++)y()}var b=[],x={},T=function(Ue,xe){b[xe]==null&&(b[xe]=[]);var Ze=b[xe].length;b[xe].push(Ue),PJ(Ue,{index:Ze,depth:xe})},w=function(Ue,xe){var Ze=S0(Ue),Je=Ze.depth,Xe=Ze.index;b[Je][Xe]=null,Ue.isChildless()&&T(Ue,xe)};i.bfs({roots:h,directed:t.directed,visit:function(Ue,xe,Ze,Je,Xe){var Pe=Ue[0],We=Pe.id();Pe.isChildless()&&T(Pe,Xe),x[We]=!0}});for(var S=[],k=0;k<n.length;k++){var L=n[k];x[L.id()]||S.push(L)}var _=function(Ue){for(var xe=b[Ue],Ze=0;Ze<xe.length;Ze++){var Je=xe[Ze];if(Je==null){xe.splice(Ze,1),Ze--;continue}PJ(Je,{depth:Ue,index:Ze})}},N=function(Ue,xe){for(var Ze=S0(Ue),Je=Ue.incomers().filter(function(ye){return ye.isNode()&&r.has(ye)}),Xe=-1,Pe=Ue.id(),We=0;We<Je.length;We++){var he=Je[We],Te=S0(he);Xe=Math.max(Xe,Te.depth)}if(Ze.depth<=Xe){if(!t.acyclic&&xe[Pe])return null;var Be=Xe+1;return w(Ue,Be),xe[Pe]=Be,!0}return!1};if(a&&s){var C=[],D={},P=function(Ue){return C.push(Ue)},A=function(){return C.shift()};for(n.forEach(function(ae){return C.push(ae)});C.length>0;){var R=A(),O=N(R,D);if(O)R.outgoers().filter(function(ae){return ae.isNode()&&r.has(ae)}).forEach(P);else if(O===null){Zr("Detected double maximal shift for node `"+R.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var M=0;if(t.avoidOverlap)for(var I=0;I<n.length;I++){var F=n[I],B=F.layoutDimensions(t),$=B.w,V=B.h;M=Math.max(M,$,V)}var H={},te=function(Ue){if(H[Ue.id()])return H[Ue.id()];for(var xe=S0(Ue).depth,Ze=Ue.neighborhood(),Je=0,Xe=0,Pe=0;Pe<Ze.length;Pe++){var We=Ze[Pe];if(!(We.isEdge()||We.isParent()||!n.has(We))){var he=S0(We);if(he!=null){var Te=he.index,Be=he.depth;if(!(Te==null||Be==null)){var ye=b[Be].length;Be<xe&&(Je+=Te/ye,Xe++)}}}}return Xe=Math.max(1,Xe),Je=Je/Xe,Xe===0&&(Je=0),H[Ue.id()]=Je,Je},X=function(Ue,xe){var Ze=te(Ue),Je=te(xe),Xe=Ze-Je;return Xe===0?Gj(Ue.id(),xe.id()):Xe};t.depthSort!==void 0&&(X=t.depthSort);for(var ee=b.length,re=0;re<ee;re++)b[re].sort(X),_(re);for(var pe=[],K=0;K<S.length;K++)pe.push(S[K]);var W=function(){for(var Ue=0;Ue<ee;Ue++)_(Ue)};pe.length&&(b.unshift(pe),ee=b.length,W());for(var j=0,Y=0;Y<ee;Y++)j=Math.max(b[Y].length,j);var Q={x:u.x1+u.w/2,y:u.y1+u.h/2},ie=n.reduce(function(ae,Ue){return function(xe){return{w:ae.w===-1?xe.w:(ae.w+xe.w)/2,h:ae.h===-1?xe.h:(ae.h+xe.h)/2}}(Ue.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),J=Math.max(ee===1?0:o?(u.h-t.padding*2-ie.h)/(ee-1):(u.h-t.padding*2-ie.h)/(ee+1),M),we=b.reduce(function(ae,Ue){return Math.max(ae,Ue.length)},0),ue=function(Ue){var xe=S0(Ue),Ze=xe.depth,Je=xe.index;if(t.circle){var Xe=Math.min(u.w/2/ee,u.h/2/ee);Xe=Math.max(Xe,M);var Pe=Xe*Ze+Xe-(ee>0&&b[0].length<=3?Xe/2:0),We=2*Math.PI/b[Ze].length*Je;return Ze===0&&b[0].length===1&&(Pe=1),{x:Q.x+Pe*Math.cos(We),y:Q.y+Pe*Math.sin(We)}}else{var he=b[Ze].length,Te=Math.max(he===1?0:o?(u.w-t.padding*2-ie.w)/((t.grid?we:he)-1):(u.w-t.padding*2-ie.w)/((t.grid?we:he)+1),M),Be={x:Q.x+(Je+1-(he+1)/2)*Te,y:Q.y+(Ze+1-(ee+1)/2)*J};return Be}};return r.nodes().layoutPositions(this,t,ue),this};var XWe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function FJ(t){this.options=rr({},XWe,t)}FJ.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var s=us(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=l/Math.max(1,a.length-1),h,d=0,f=0;f<a.length;f++){var p=a[f],g=p.layoutDimensions(e),m=g.w,y=g.h;d=Math.max(d,m,y)}if(Rt(e.radius)?h=e.radius:a.length<=1?h=0:h=Math.min(s.h,s.w)/2-d,a.length>1&&e.avoidOverlap){d*=1.75;var v=Math.cos(u)-Math.cos(0),b=Math.sin(u)-Math.sin(0),x=Math.sqrt(d*d/(v*v+b*b));h=Math.max(x,h)}var T=function(S,k){var L=e.startAngle+k*u*(i?1:-1),_=h*Math.cos(L),N=h*Math.sin(L),C={x:o.x+_,y:o.y+N};return C};return n.nodes().layoutPositions(this,e,T),this};var KWe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function $J(t){this.options=rr({},KWe,t)}$J.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,a=i.nodes().not(":parent"),s=us(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,h=0;h<a.length;h++){var d=a[h],f=void 0;f=e.concentric(d),l.push({value:f,node:d}),d._private.scratch.concentric=f}a.updateStyle();for(var p=0;p<a.length;p++){var g=a[p],m=g.layoutDimensions(e);u=Math.max(u,m.w,m.h)}l.sort(function(ie,J){return J.value-ie.value});for(var y=e.levelWidth(a),v=[[]],b=v[0],x=0;x<l.length;x++){var T=l[x];if(b.length>0){var w=Math.abs(b[0].value-T.value);w>=y&&(b=[],v.push(b))}b.push(T)}var S=u+e.minNodeSpacing;if(!e.avoidOverlap){var k=v.length>0&&v[0].length>1,L=Math.min(s.w,s.h)/2-S,_=L/(v.length+k?1:0);S=Math.min(S,_)}for(var N=0,C=0;C<v.length;C++){var D=v[C],P=e.sweep===void 0?2*Math.PI-2*Math.PI/D.length:e.sweep,A=D.dTheta=P/Math.max(1,D.length-1);if(D.length>1&&e.avoidOverlap){var R=Math.cos(A)-Math.cos(0),O=Math.sin(A)-Math.sin(0),M=Math.sqrt(S*S/(R*R+O*O));N=Math.max(M,N)}D.r=N,N+=S}if(e.equidistant){for(var I=0,F=0,B=0;B<v.length;B++){var $=v[B],V=$.r-F;I=Math.max(I,V)}F=0;for(var H=0;H<v.length;H++){var te=v[H];H===0&&(F=te.r),te.r=F,F+=I}}for(var X={},ee=0;ee<v.length;ee++)for(var re=v[ee],pe=re.dTheta,K=re.r,W=0;W<re.length;W++){var j=re[W],Y=e.startAngle+(r?1:-1)*pe*W,Q={x:o.x+K*Math.cos(Y),y:o.y+K*Math.sin(Y)};X[j.node.id()]=Q}return i.nodes().layoutPositions(this,e,function(ie){var J=ie.id();return X[J]}),this};var $8,jWe={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function $4(t){this.options=rr({},jWe,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),o=e.some(function(u){return u.data("id")===a}),l=e.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(n)}$4.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?$8=!0:$8=!1;var n=QWe(e,r,t);$8&&JWe(n),t.randomize&&eYe(n);var i=yc(),a=function(){tYe(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(f){return!(r.stopped||f>=t.numIter||(rYe(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var f=t.eles.nodes(),p=UJ(n,t,f);f.layoutPositions(r,t,p)}},l=0,u=!0;if(t.animate===!0){var h=function(){for(var f=0;u&&f<t.refresh;)u=s(l),l++,f++;if(!u)VJ(n,t),o();else{var p=yc();p-i>=t.animationThreshold&&a(),r4(h)}};h()}else{for(;u;)u=s(l),l++;VJ(n,t),o()}return this},$4.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},$4.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var QWe=function(e,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),s=us(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=n.eles.components(),u={},h=0;h<l.length;h++)for(var d=l[h],f=0;f<d.length;f++){var p=d[f];u[p.id()]=h}for(var h=0;h<o.nodeSize;h++){var g=a[h],m=g.layoutDimensions(n),y={};y.isLocked=g.locked(),y.id=g.data("id"),y.parentId=g.data("parent"),y.cmptId=u[g.id()],y.children=[],y.positionX=g.position("x"),y.positionY=g.position("y"),y.offsetX=0,y.offsetY=0,y.height=m.w,y.width=m.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(g.style("padding")),y.padRight=parseFloat(g.style("padding")),y.padTop=parseFloat(g.style("padding")),y.padBottom=parseFloat(g.style("padding")),y.nodeRepulsion=In(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,o.layoutNodes.push(y),o.idToIndex[y.id]=h}for(var v=[],b=0,x=-1,T=[],h=0;h<o.nodeSize;h++){var g=o.layoutNodes[h],w=g.parentId;w!=null?o.layoutNodes[o.idToIndex[w]].children.push(g.id):(v[++x]=g.id,T.push(g.id))}for(o.graphSet.push(T);b<=x;){var S=v[b++],k=o.idToIndex[S],p=o.layoutNodes[k],L=p.children;if(L.length>0){o.graphSet.push(L);for(var h=0;h<L.length;h++)v[++x]=L[h]}}for(var h=0;h<o.graphSet.length;h++)for(var _=o.graphSet[h],f=0;f<_.length;f++){var N=o.idToIndex[_[f]];o.indexToGraph[N]=h}for(var h=0;h<o.edgeSize;h++){var C=i[h],D={};D.id=C.data("id"),D.sourceId=C.data("source"),D.targetId=C.data("target");var P=In(n.idealEdgeLength)?n.idealEdgeLength(C):n.idealEdgeLength,A=In(n.edgeElasticity)?n.edgeElasticity(C):n.edgeElasticity,R=o.idToIndex[D.sourceId],O=o.idToIndex[D.targetId],M=o.indexToGraph[R],I=o.indexToGraph[O];if(M!=I){for(var F=ZWe(D.sourceId,D.targetId,o),B=o.graphSet[F],$=0,y=o.layoutNodes[R];B.indexOf(y.id)===-1;)y=o.layoutNodes[o.idToIndex[y.parentId]],$++;for(y=o.layoutNodes[O];B.indexOf(y.id)===-1;)y=o.layoutNodes[o.idToIndex[y.parentId]],$++;P*=$*n.nestingFactor}D.idealLength=P,D.elasticity=A,o.layoutEdges.push(D)}return o},ZWe=function(e,r,n){var i=zJ(e,r,0,n);return 2>i.count?0:i.graph},zJ=function(e,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<a.length;o++){var l=a[o],u=i.idToIndex[l],h=i.layoutNodes[u].children;if(h.length!==0){var d=i.indexToGraph[i.idToIndex[h[0]]],f=zJ(e,r,d,i);if(f.count!==0)if(f.count===1){if(s++,s===2)break}else return f}}return{count:s,graph:n}},JWe,eYe=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var s=e.layoutNodes[a];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},UJ=function(e,r,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];a.x1=Math.min(a.x1,o.positionX),a.x2=Math.max(a.x2,o.positionX),a.y1=Math.min(a.y1,o.positionY),a.y2=Math.max(a.y2,o.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(s,o){var l=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var u=(l.positionX-a.x1)/a.w,h=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+h*i.h}}else return{x:l.positionX,y:l.positionY}}},tYe=function(e,r,n){var i=n.layout,a=n.eles.nodes(),s=UJ(e,n,a);a.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},rYe=function(e,r,n){nYe(e,r),sYe(e),oYe(e,r),lYe(e),cYe(e)},nYe=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,s=0;s<a;s++)for(var o=e.layoutNodes[e.idToIndex[i[s]]],l=s+1;l<a;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];iYe(o,u,e,r)}},HJ=function(e){return-1+2*e*Math.random()},iYe=function(e,r,n,i){var a=e.cmptId,s=r.cmptId;if(!(a!==s&&!n.isCompound)){var o=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;o===0&&l===0&&(o=HJ(u),l=HJ(u));var h=aYe(e,r,o,l);if(h>0)var d=i.nodeOverlap*h,f=Math.sqrt(o*o+l*l),p=d*o/f,g=d*l/f;else var m=z4(e,o,l),y=z4(r,-1*o,-1*l),v=y.x-m.x,b=y.y-m.y,x=v*v+b*b,f=Math.sqrt(x),d=(e.nodeRepulsion+r.nodeRepulsion)/x,p=d*v/f,g=d*b/f;e.isLocked||(e.offsetX-=p,e.offsetY-=g),r.isLocked||(r.offsetX+=p,r.offsetY+=g)}},aYe=function(e,r,n,i){if(n>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(i>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return a>=0&&s>=0?Math.sqrt(a*a+s*s):0},z4=function(e,r,n){var i=e.positionX,a=e.positionY,s=e.height||1,o=e.width||1,l=n/r,u=s/o,h={};return r===0&&0<n||r===0&&0>n?(h.x=i,h.y=a+s/2,h):0<r&&-1*u<=l&&l<=u?(h.x=i+o/2,h.y=a+o*n/2/r,h):0>r&&-1*u<=l&&l<=u?(h.x=i-o/2,h.y=a-o*n/2/r,h):0<n&&(l<=-1*u||l>=u)?(h.x=i+s*r/2/n,h.y=a+s/2,h):(0>n&&(l<=-1*u||l>=u)&&(h.x=i-s*r/2/n,h.y=a-s/2),h)},sYe=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],s=e.layoutNodes[a],o=e.idToIndex[i.targetId],l=e.layoutNodes[o],u=l.positionX-s.positionX,h=l.positionY-s.positionY;if(!(u===0&&h===0)){var d=z4(s,u,h),f=z4(l,-1*u,-1*h),p=f.x-d.x,g=f.y-d.y,m=Math.sqrt(p*p+g*g),y=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var v=y*p/m,b=y*g/m;else var v=0,b=0;s.isLocked||(s.offsetX+=v,s.offsetY+=b),l.isLocked||(l.offsetX-=v,l.offsetY-=b)}}},oYe=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],s=a.length;if(i===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],h=e.layoutNodes[e.idToIndex[u.parentId]],o=h.positionX,l=h.positionY;for(var d=0;d<s;d++){var f=e.layoutNodes[e.idToIndex[a[d]]];if(!f.isLocked){var p=o-f.positionX,g=l-f.positionY,m=Math.sqrt(p*p+g*g);if(m>n){var y=r.gravity*p/m,v=r.gravity*g/m;f.offsetX+=y,f.offsetY+=v}}}}},lYe=function(e,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var s=n[i++],o=e.idToIndex[s],l=e.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var h=l.offsetX,d=l.offsetY,f=0;f<u.length;f++){var p=e.layoutNodes[e.idToIndex[u[f]]];p.offsetX+=h,p.offsetY+=d,n[++a]=u[f]}l.offsetX=0,l.offsetY=0}}},cYe=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=uYe(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,GJ(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},uYe=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var a={x:n*e/i,y:n*r/i};else var a={x:e,y:r};return a},GJ=function(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return GJ(i,r)}},VJ=function(e,r){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var s=n[a],o=s.cmptId,l=i[o]=i[o]||[];l.push(s)}for(var u=0,a=0;a<i.length;a++){var h=i[a];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var d=0;d<h.length;d++){var f=h[d];h.x1=Math.min(h.x1,f.positionX-f.width/2),h.x2=Math.max(h.x2,f.positionX+f.width/2),h.y1=Math.min(h.y1,f.positionY-f.height/2),h.y2=Math.max(h.y2,f.positionY+f.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,u+=h.w*h.h}}i.sort(function(b,x){return x.w*x.h-b.w*b.h});for(var p=0,g=0,m=0,y=0,v=Math.sqrt(u)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var h=i[a];if(h){for(var d=0;d<h.length;d++){var f=h[d];f.isLocked||(f.positionX+=p-h.x1,f.positionY+=g-h.y1)}p+=h.w+r.componentSpacing,m+=h.w+r.componentSpacing,y=Math.max(y,h.h),m>v&&(g+=y+r.componentSpacing,p=0,m=0,y=0)}}},hYe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function qJ(t){this.options=rr({},hYe,t)}qJ.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=us(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(H){return{x:a.x1,y:a.y1}});else{var s=i.size(),o=Math.sqrt(s*a.h/a.w),l=Math.round(o),u=Math.round(a.w/a.h*o),h=function(te){if(te==null)return Math.min(l,u);var X=Math.min(l,u);X==l?l=te:u=te},d=function(te){if(te==null)return Math.max(l,u);var X=Math.max(l,u);X==l?l=te:u=te},f=e.rows,p=e.cols!=null?e.cols:e.columns;if(f!=null&&p!=null)l=f,u=p;else if(f!=null&&p==null)l=f,u=Math.ceil(s/l);else if(f==null&&p!=null)u=p,l=Math.ceil(s/u);else if(u*l>s){var g=h(),m=d();(g-1)*m>=s?h(g-1):(m-1)*g>=s&&d(m-1)}else for(;u*l<s;){var y=h(),v=d();(v+1)*y>=s?d(v+1):h(y+1)}var b=a.w/u,x=a.h/l;if(e.condense&&(b=0,x=0),e.avoidOverlap)for(var T=0;T<i.length;T++){var w=i[T],S=w._private.position;(S.x==null||S.y==null)&&(S.x=0,S.y=0);var k=w.layoutDimensions(e),L=e.avoidOverlapPadding,_=k.w+L,N=k.h+L;b=Math.max(b,_),x=Math.max(x,N)}for(var C={},D=function(te,X){return!!C["c-"+te+"-"+X]},P=function(te,X){C["c-"+te+"-"+X]=!0},A=0,R=0,O=function(){R++,R>=u&&(R=0,A++)},M={},I=0;I<i.length;I++){var F=i[I],B=e.position(F);if(B&&(B.row!==void 0||B.col!==void 0)){var $={row:B.row,col:B.col};if($.col===void 0)for($.col=0;D($.row,$.col);)$.col++;else if($.row===void 0)for($.row=0;D($.row,$.col);)$.row++;M[F.id()]=$,P($.row,$.col)}}var V=function(te,X){var ee,re;if(te.locked()||te.isParent())return!1;var pe=M[te.id()];if(pe)ee=pe.col*b+b/2+a.x1,re=pe.row*x+x/2+a.y1;else{for(;D(A,R);)O();ee=R*b+b/2+a.x1,re=A*x+x/2+a.y1,P(A,R),O()}return{x:ee,y:re}};i.layoutPositions(this,e,V)}return this};var dYe={ready:function(){},stop:function(){}};function z8(t){this.options=rr({},dYe,t)}z8.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this},z8.prototype.stop=function(){return this};var fYe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function WJ(t){this.options=rr({},fYe,t)}WJ.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=In(t.positions);function i(a){if(t.positions==null)return MGe(a.position());if(n)return t.positions(a);var s=t.positions[a._private.data.id];return s??null}return r.layoutPositions(this,t,function(a,s){var o=i(a);return a.locked()||o==null?!1:o}),this};var pYe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function YJ(t){this.options=rr({},pYe,t)}YJ.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=us(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var gYe=[{name:"breadthfirst",impl:BJ},{name:"circle",impl:FJ},{name:"concentric",impl:$J},{name:"cose",impl:$4},{name:"grid",impl:qJ},{name:"null",impl:z8},{name:"preset",impl:WJ},{name:"random",impl:YJ}];function XJ(t){this.options=t,this.notifications=0}var KJ=function(){},jJ=function(){throw new Error("A headless instance can not render images")};XJ.prototype={recalculateRenderedStyle:KJ,notify:function(){this.notifications++},init:KJ,isHeadless:function(){return!0},png:jJ,jpg:jJ};var U8={};U8.arrowShapeWidth=.3,U8.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,h,d,f,p,g,m){var y=p.x-d/2-m,v=p.x+d/2+m,b=p.y-d/2-m,x=p.y+d/2+m,T=y<=u&&u<=v&&b<=h&&h<=x;return T},n=function(u,h,d,f,p){var g=u*Math.cos(f)-h*Math.sin(f),m=u*Math.sin(f)+h*Math.cos(f),y=g*d,v=m*d,b=y+p.x,x=v+p.y;return{x:b,y:x}},i=function(u,h,d,f){for(var p=[],g=0;g<u.length;g+=2){var m=u[g],y=u[g+1];p.push(n(m,y,h,d,f))}return p},a=function(u){for(var h=[],d=0;d<u.length;d++){var f=u[d];h.push(f.x,f.y)}return h},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,h){Qt(h)&&(h=t[h]),t[u]=rr({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,p,g,m,y,v){var b=a(i(this.points,g+2*v,m,y)),x=hs(f,p,b);return x},roughCollide:r,draw:function(f,p,g,m){var y=i(this.points,p,g,m);e.arrowShapeImpl("polygon")(f,y)},spacing:function(f){return 0},gap:s},h)};o("none",{collide:i4,roughCollide:i4,draw:hA,spacing:gQ,gap:gQ}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,h,d,f,p){var g=i(this.points,h,d,f),m=this.controlPoint,y=n(m[0],m[1],h,d,f);e.arrowShapeImpl(this.name)(u,g,y)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,h,d,f,p,g,m){var y=a(i(this.points,d+2*m,f,p)),v=a(i(this.pointsTee,d+2*m,f,p)),b=hs(u,h,y)||hs(u,h,v);return b},draw:function(u,h,d,f,p){var g=i(this.points,h,d,f),m=i(this.pointsTee,h,d,f);e.arrowShapeImpl(this.name)(u,g,m)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,h,d,f,p,g,m){var y=p,v=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2),b=a(i(this.points,d+2*m,f,p));return hs(u,h,b)||v},draw:function(u,h,d,f,p){var g=i(this.pointsTr,h,d,f);e.arrowShapeImpl(this.name)(u,g,f.x,f.y,this.radius*h)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,h){var d=this.baseCrossLinePts.slice(),f=h/u,p=3,g=5;return d[p]=d[p]-f,d[g]=d[g]-f,d},collide:function(u,h,d,f,p,g,m){var y=a(i(this.points,d+2*m,f,p)),v=a(i(this.crossLinePts(d,g),d+2*m,f,p)),b=hs(u,h,y)||hs(u,h,v);return b},draw:function(u,h,d,f,p){var g=i(this.points,h,d,f),m=i(this.crossLinePts(h,p),h,d,f);e.arrowShapeImpl(this.name)(u,g,m)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,h,d,f,p,g,m){var y=p,v=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2);return v},draw:function(u,h,d,f,p){e.arrowShapeImpl(this.name)(u,f.x,f.y,this.radius*h)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var od={};od.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],o=r.pan(),l=r.zoom(),u=((t-i)/s-o.x)/l,h=((e-a)/s-o.y)/l;return[u,h]},od.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(v){return parseFloat(r.getPropertyValue(v))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,l=i.left+i.right,u=i.top+i.bottom,h=a.left+a.right,d=e.width/(s+h),f=s-l,p=o-u,g=e.left+i.left+a.left,m=e.top+i.top+a.top;return this.containerBB=[g,m,f,p,d]},od.invalidateContainerClientCoordsCache=function(){this.containerBB=null},od.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]},od.findNearestElements=function(t,e,r,n){var i=this,a=this,s=a.getCachedZSortedEles(),o=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),h=(n?24:8)/l,d=(n?8:2)/l,f=(n?8:2)/l,p=1/0,g,m;r&&(s=s.interactive);function y(k,L){if(k.isNode()){if(m)return;m=k,o.push(k)}if(k.isEdge()&&(L==null||L<p))if(g){if(g.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value){for(var _=0;_<o.length;_++)if(o[_].isEdge()){o[_]=k,g=k,p=L??p;break}}}else o.push(k),g=k,p=L??p}function v(k){var L=k.outerWidth()+2*d,_=k.outerHeight()+2*d,N=L/2,C=_/2,D=k.position(),P=k.pstyle("corner-radius").value==="auto"?"auto":k.pstyle("corner-radius").pfValue,A=k._private.rscratch;if(D.x-N<=t&&t<=D.x+N&&D.y-C<=e&&e<=D.y+C){var R=a.nodeShapes[i.getNodeShape(k)];if(R.checkPoint(t,e,0,L,_,D.x,D.y,P,A))return y(k,0),!0}}function b(k){var L=k._private,_=L.rscratch,N=k.pstyle("width").pfValue,C=k.pstyle("arrow-scale").value,D=N/2+h,P=D*D,A=D*2,I=L.source,F=L.target,R;if(_.edgeType==="segments"||_.edgeType==="straight"||_.edgeType==="haystack"){for(var O=_.allpts,M=0;M+3<O.length;M+=2)if(KGe(t,e,O[M],O[M+1],O[M+2],O[M+3],A)&&P>(R=eVe(t,e,O[M],O[M+1],O[M+2],O[M+3])))return y(k,R),!0}else if(_.edgeType==="bezier"||_.edgeType==="multibezier"||_.edgeType==="self"||_.edgeType==="compound"){for(var O=_.allpts,M=0;M+5<_.allpts.length;M+=4)if(jGe(t,e,O[M],O[M+1],O[M+2],O[M+3],O[M+4],O[M+5],A)&&P>(R=JGe(t,e,O[M],O[M+1],O[M+2],O[M+3],O[M+4],O[M+5])))return y(k,R),!0}for(var I=I||L.source,F=F||L.target,B=i.getArrowWidth(N,C),$=[{name:"source",x:_.arrowStartX,y:_.arrowStartY,angle:_.srcArrowAngle},{name:"target",x:_.arrowEndX,y:_.arrowEndY,angle:_.tgtArrowAngle},{name:"mid-source",x:_.midX,y:_.midY,angle:_.midsrcArrowAngle},{name:"mid-target",x:_.midX,y:_.midY,angle:_.midtgtArrowAngle}],M=0;M<$.length;M++){var V=$[M],H=a.arrowShapes[k.pstyle(V.name+"-arrow-shape").value],te=k.pstyle("width").pfValue;if(H.roughCollide(t,e,B,V.angle,{x:V.x,y:V.y},te,h)&&H.collide(t,e,B,V.angle,{x:V.x,y:V.y},te,h))return y(k),!0}u&&o.length>0&&(v(I),v(F))}function x(k,L,_){return cs(k,L,_)}function T(k,L){var _=k._private,N=f,C;L?C=L+"-":C="",k.boundingBox();var D=_.labelBounds[L||"main"],P=k.pstyle(C+"label").value,A=k.pstyle("text-events").strValue==="yes";if(!(!A||!P)){var R=x(_.rscratch,"labelX",L),O=x(_.rscratch,"labelY",L),M=x(_.rscratch,"labelAngle",L),I=k.pstyle(C+"text-margin-x").pfValue,F=k.pstyle(C+"text-margin-y").pfValue,B=D.x1-N-I,$=D.x2+N-I,V=D.y1-N-F,H=D.y2+N-F;if(M){var te=Math.cos(M),X=Math.sin(M),ee=function(Q,ie){return Q=Q-R,ie=ie-O,{x:Q*te-ie*X+R,y:Q*X+ie*te+O}},re=ee(B,V),pe=ee(B,H),K=ee($,V),W=ee($,H),j=[re.x+I,re.y+F,K.x+I,K.y+F,W.x+I,W.y+F,pe.x+I,pe.y+F];if(hs(t,e,j))return y(k),!0}else if(h0(D,t,e))return y(k),!0}}for(var w=s.length-1;w>=0;w--){var S=s[w];S.isNode()?v(S)||T(S):b(S)||T(S)||T(S,"source")||T(S,"target")}return o},od.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),s=2/a,o=[],l=Math.min(t,r),u=Math.max(t,r),h=Math.min(e,n),d=Math.max(e,n);t=l,r=u,e=h,n=d;var f=us({x1:t,y1:e,x2:r,y2:n});function p(P,A,R){return cs(P,A,R)}function g(P,A){var R=P._private,O=s,M="";P.boundingBox();var I=R.labelBounds.main,F=p(R.rscratch,"labelX",A),B=p(R.rscratch,"labelY",A),$=p(R.rscratch,"labelAngle",A),V=P.pstyle(M+"text-margin-x").pfValue,H=P.pstyle(M+"text-margin-y").pfValue,te=I.x1-O-V,X=I.x2+O-V,ee=I.y1-O-H,re=I.y2+O-H;if($){var pe=Math.cos($),K=Math.sin($),W=function(Y,Q){return Y=Y-F,Q=Q-B,{x:Y*pe-Q*K+F,y:Y*K+Q*pe+B}};return[W(te,ee),W(X,ee),W(X,re),W(te,re)]}else return[{x:te,y:ee},{x:X,y:ee},{x:X,y:re},{x:te,y:re}]}for(var m=0;m<i.length;m++){var y=i[m];if(y.isNode()){var v=y,b=v.pstyle("text-events").strValue==="yes",x=v.pstyle("box-select-labels").strValue==="yes",T=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:x&&b});if(yA(f,T)){var w=g(v),S=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}];aVe(w,S)&&o.push(v)}}else{var k=y,L=k._private,_=L.rscratch;if(_.startX!=null&&_.startY!=null&&!h0(f,_.startX,_.startY)||_.endX!=null&&_.endY!=null&&!h0(f,_.endX,_.endY))continue;if(_.edgeType==="bezier"||_.edgeType==="multibezier"||_.edgeType==="self"||_.edgeType==="compound"||_.edgeType==="segments"||_.edgeType==="haystack"){for(var N=L.rstyle.bezierPts||L.rstyle.linePts||L.rstyle.haystackPts,C=!0,D=0;D<N.length;D++)if(!YGe(f,N[D])){C=!1;break}C&&o.push(k)}else(_.edgeType==="haystack"||_.edgeType==="straight")&&o.push(k)}}return o};var U4={};U4.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",l,u,h,d,f,p,v,b;if(r?(h=e.haystackPts[0],d=e.haystackPts[1],f=e.haystackPts[2],p=e.haystackPts[3]):(h=e.arrowStartX,d=e.arrowStartY,f=e.arrowEndX,p=e.arrowEndY),v=e.midX,b=e.midY,a)l=h-e.segpts[0],u=d-e.segpts[1];else if(i||s||o||n){var g=e.allpts,m=Di(g[0],g[2],g[4],.1),y=Di(g[1],g[3],g[5],.1);l=h-m,u=d-y}else l=h-v,u=d-b;e.srcArrowAngle=l4(l,u);var v=e.midX,b=e.midY;if(r&&(v=(h+f)/2,b=(d+p)/2),l=f-h,u=p-d,a){var g=e.allpts;if(g.length/2%2===0){var x=g.length/2,T=x-2;l=g[x]-g[T],u=g[x+1]-g[T+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var x=g.length/2-1,T=x-2;l=g[x]-g[T],u=g[x+1]-g[T+1]}}else if(i||s||o){var g=e.allpts,w=e.ctrlpts,S,k,L,_;if(w.length/2%2===0){var N=g.length/2-1,C=N+2,D=C+2;S=Di(g[N],g[C],g[D],0),k=Di(g[N+1],g[C+1],g[D+1],0),L=Di(g[N],g[C],g[D],1e-4),_=Di(g[N+1],g[C+1],g[D+1],1e-4)}else{var C=g.length/2-1,N=C-2,D=C+2;S=Di(g[N],g[C],g[D],.4999),k=Di(g[N+1],g[C+1],g[D+1],.4999),L=Di(g[N],g[C],g[D],.5),_=Di(g[N+1],g[C+1],g[D+1],.5)}l=L-S,u=_-k}if(e.midtgtArrowAngle=l4(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,a){var g=e.allpts;if(g.length/2%2!==0){if(!e.isRound){var x=g.length/2-1,P=x+2;l=-(g[P]-g[x]),u=-(g[P+1]-g[x+1])}}}if(e.midsrcArrowAngle=l4(l,u),a)l=f-e.segpts[e.segpts.length-2],u=p-e.segpts[e.segpts.length-1];else if(i||s||o||n){var g=e.allpts,A=g.length,m=Di(g[A-6],g[A-4],g[A-2],.9),y=Di(g[A-5],g[A-3],g[A-1],.9);l=f-m,u=p-y}else l=f-v,u=p-b;e.tgtArrowAngle=l4(l,u)},U4.getArrowWidth=U4.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var H8,G8,bl={},eo={},QJ,ZJ,ld,H4,Ec,cd,ud,xl,k0,G4,JJ,eee,V8,q8,tee,ree=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},mYe=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},yYe=function(e,r,n,i,a){if(e!==tee?ree(r,e,bl):mYe(eo,bl),ree(r,n,eo),QJ=bl.nx*eo.ny-bl.ny*eo.nx,ZJ=bl.nx*eo.nx-bl.ny*-eo.ny,Ec=Math.asin(Math.max(-1,Math.min(1,QJ))),Math.abs(Ec)<1e-6){H8=r.x,G8=r.y,ud=k0=0;return}ld=1,H4=!1,ZJ<0?Ec<0?Ec=Math.PI+Ec:(Ec=Math.PI-Ec,ld=-1,H4=!0):Ec>0&&(ld=-1,H4=!0),r.radius!==void 0?k0=r.radius:k0=i,cd=Ec/2,G4=Math.min(bl.len/2,eo.len/2),a?(xl=Math.abs(Math.cos(cd)*k0/Math.sin(cd)),xl>G4?(xl=G4,ud=Math.abs(xl*Math.sin(cd)/Math.cos(cd))):ud=k0):(xl=Math.min(G4,k0),ud=Math.abs(xl*Math.sin(cd)/Math.cos(cd))),V8=r.x+eo.nx*xl,q8=r.y+eo.ny*xl,H8=V8-eo.ny*ud*ld,G8=q8+eo.nx*ud*ld,JJ=r.x+bl.nx*xl,eee=r.y+bl.ny*xl,tee=r};function nee(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function W8(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(yYe(t,e,r,n,i),{cx:H8,cy:G8,radius:ud,startX:JJ,startY:eee,stopX:V8,stopY:q8,startAngle:bl.ang+Math.PI/2*ld,endAngle:eo.ang-Math.PI/2*ld,counterClockwise:H4})}var yy=.01,vYe=Math.sqrt(2*yy),da={};da.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(w,S,k,L){var _=L-S,N=k-w,C=Math.sqrt(N*N+_*_);return{x:-_/C,y:N/C}},h=t.pstyle("edge-distances").value;switch(h){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var d=this.manualEndptToPx(t.source()[0],s),f=yi(d,2),p=f[0],g=f[1],m=this.manualEndptToPx(t.target()[0],o),y=yi(m,2),v=y[0],b=y[1],x={x1:p,y1:g,x2:v,y2:b};i=u(p,g,v,b),a=x}else Zr("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}},da.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,o=n.target,l=s.position(),u=o.position(),h=s.width(),d=o.width(),f=s.height(),p=o.height(),g=r.pstyle("haystack-radius").value,m=g/2;i.haystackPts=i.allpts=[i.source.x*h*m+l.x,i.source.y*f*m+l.y,i.target.x*d*m+u.x,i.target.y*p*m+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},da.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var h=0;h<o;h++){var d=n.pfValue[h],f=i.pfValue[h],p=1-d,g=d,m=this.findMidptPtsEtc(t,e),y=m.midptPts,v=m.vectorNormInverse,b={x:y.x1*p+y.x2*g,y:y.y1*p+y.y2*g};r.segpts.push(b.x+v.x*f,b.y+v.y*f),r.radii.push(a.pfValue[h]!==void 0?a.pfValue[h]:l),r.isArcRadius.push((s.pfValue[h]!==void 0?s.pfValue[h]:u)==="arc-radius")}},da.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,a=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,h=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=r,p=d;n&&(f=0,p=l);var g=u-Math.PI/2,m=g-h/2,y=g+h/2,v=u+"_"+h;f=a[v]===void 0?a[v]=0:++a[v],i.ctrlpts=[s.x+Math.cos(m)*1.4*p*(f/3+1),s.y+Math.sin(m)*1.4*p*(f/3+1),s.x+Math.cos(y)*1.4*p*(f/3+1),s.y+Math.sin(y)*1.4*p*(f/3+1)]},da.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,s=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,h=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,f=t.pstyle("control-point-distances"),p=f?f.pfValue[0]:void 0,g=r,m=d;n&&(g=0,m=p);var y=50,v={x:a.x-o/2,y:a.y-l/2},b={x:s.x-u/2,y:s.y-h/2},x={x:Math.min(v.x,b.x),y:Math.min(v.y,b.y)},T=.5,w=Math.max(T,Math.log(o*yy)),S=Math.max(T,Math.log(u*yy));i.ctrlpts=[x.x,x.y-(1+Math.pow(y,1.12)/100)*m*(g/3+1)*w,x.x-(1+Math.pow(y,1.12)/100)*m*(g/3+1)*S,x.y]},da.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},da.findBezierPoints=function(t,e,r,n,i){var a=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,h=o?o.pfValue[0]:void 0,d=l.value[0],f=n;a.edgeType=f?"multibezier":"bezier",a.ctrlpts=[];for(var p=0;p<u;p++){var g=(.5-e.eles.length/2+r)*s*(i?-1:1),m=void 0,y=mA(g);f&&(h=o?o.pfValue[p]:s,d=l.value[p]),n?m=h:m=h!==void 0?y*h:void 0;var v=m!==void 0?m:g,b=1-d,x=d,T=this.findMidptPtsEtc(t,e),w=T.midptPts,S=T.vectorNormInverse,k={x:w.x1*b+w.x2*x,y:w.y1*b+w.y2*x};a.ctrlpts.push(k.x+S.x*v,k.y+S.y*v)}},da.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",o="downward",l="upward",u="auto",h=e.posPts,d=e.srcW,f=e.srcH,p=e.tgtW,g=e.tgtH,m=t.pstyle("edge-distances").value,y=m!=="node-position",v=t.pstyle("taxi-direction").value,b=v,x=t.pstyle("taxi-turn"),T=x.units==="%",w=x.pfValue,S=w<0,k=t.pstyle("taxi-turn-min-distance").pfValue,L=y?(d+p)/2:0,_=y?(f+g)/2:0,N=h.x2-h.x1,C=h.y2-h.y1,D=function(U,le){return U>0?Math.max(U-le,0):Math.min(U+le,0)},P=D(N,L),A=D(C,_),R=!1;b===u?v=Math.abs(P)>Math.abs(A)?i:n:b===l||b===o?(v=n,R=!0):(b===a||b===s)&&(v=i,R=!0);var O=v===n,M=O?A:P,I=O?C:N,F=mA(I),B=!1;!(R&&(T||S))&&(b===o&&I<0||b===l&&I>0||b===a&&I>0||b===s&&I<0)&&(F*=-1,M=F*Math.abs(M),B=!0);var $;if(T){var V=w<0?1+w:w;$=V*M}else{var H=w<0?M:0;$=H+w*F}var te=function(U){return Math.abs(U)<k||Math.abs(U)>=Math.abs(M)},X=te($),ee=te(Math.abs(M)-Math.abs($)),re=X||ee;if(re&&!B)if(O){var pe=Math.abs(I)<=f/2,K=Math.abs(N)<=p/2;if(pe){var W=(h.x1+h.x2)/2,j=h.y1,Y=h.y2;r.segpts=[W,j,W,Y]}else if(K){var Q=(h.y1+h.y2)/2,ie=h.x1,J=h.x2;r.segpts=[ie,Q,J,Q]}else r.segpts=[h.x1,h.y2]}else{var we=Math.abs(I)<=d/2,ue=Math.abs(C)<=g/2;if(we){var ae=(h.y1+h.y2)/2,Ue=h.x1,xe=h.x2;r.segpts=[Ue,ae,xe,ae]}else if(ue){var Ze=(h.x1+h.x2)/2,Je=h.y1,Xe=h.y2;r.segpts=[Ze,Je,Ze,Xe]}else r.segpts=[h.x2,h.y1]}else if(O){var Pe=h.y1+$+(y?f/2*F:0),We=h.x1,he=h.x2;r.segpts=[We,Pe,he,Pe]}else{var Te=h.x1+$+(y?d/2*F:0),Be=h.y1,ye=h.y2;r.segpts=[Te,Be,Te,ye]}if(r.isRound){var Me=t.pstyle("taxi-radius").value,Z=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Me),r.isArcRadius=new Array(r.segpts.length/2).fill(Z)}},da.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,s=e.srcH,o=e.tgtW,l=e.tgtH,u=e.srcShape,h=e.tgtShape,d=e.srcCornerRadius,f=e.tgtCornerRadius,p=e.srcRs,g=e.tgtRs,m=!Rt(r.startX)||!Rt(r.startY),y=!Rt(r.arrowStartX)||!Rt(r.arrowStartY),v=!Rt(r.endX)||!Rt(r.endY),b=!Rt(r.arrowEndX)||!Rt(r.arrowEndY),x=3,T=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,w=x*T,S=td({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),k=S<w,L=td({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),_=L<w,N=!1;if(m||y||k){N=!0;var C={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},D=Math.sqrt(C.x*C.x+C.y*C.y),P={x:C.x/D,y:C.y/D},A=Math.max(a,s),R={x:r.ctrlpts[0]+P.x*2*A,y:r.ctrlpts[1]+P.y*2*A},O=u.intersectLine(n.x,n.y,a,s,R.x,R.y,0,d,p);k?(r.ctrlpts[0]=r.ctrlpts[0]+P.x*(w-S),r.ctrlpts[1]=r.ctrlpts[1]+P.y*(w-S)):(r.ctrlpts[0]=O[0]+P.x*w,r.ctrlpts[1]=O[1]+P.y*w)}if(v||b||_){N=!0;var M={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},I=Math.sqrt(M.x*M.x+M.y*M.y),F={x:M.x/I,y:M.y/I},B=Math.max(a,s),$={x:r.ctrlpts[0]+F.x*2*B,y:r.ctrlpts[1]+F.y*2*B},V=h.intersectLine(i.x,i.y,o,l,$.x,$.y,0,f,g);_?(r.ctrlpts[0]=r.ctrlpts[0]+F.x*(w-L),r.ctrlpts[1]=r.ctrlpts[1]+F.y*(w-L)):(r.ctrlpts[0]=V[0]+F.x*w,r.ctrlpts[1]=V[1]+F.y*w)}N&&this.findEndpoints(t)}},da.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=Di(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=Di(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var s=e.radii[a/2-1],o=e.isArcRadius[a/2-1];e.roundCorners.push(W8({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:s},{x:e.allpts[a+2],y:e.allpts[a+3]},s,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var h=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[h],e.midY=e.segpts[h+1];else{var d={x:e.segpts[h],y:e.segpts[h+1]},f=e.roundCorners[h/2];if(f.radius===0){var p={x:e.segpts[h+2],y:e.segpts[h+3]};e.midX=d.x,e.midY=d.y,e.midVector=[d.y-p.y,p.x-d.x]}else{var g=[d.x-f.cx,d.y-f.cy],m=f.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(y){return y*m}),e.midX=f.cx+g[0],e.midY=f.cy+g[1],e.midVector=g}}}}},da.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Rt(e.startX)&&Rt(e.startY)&&Rt(e.endX)&&Rt(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Zr("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},da.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a=new bc,s=function(_,N){return[].concat(QE(_),[N?1:0]).join("-")},o=[],l=[],u=0;u<t.length;u++){var h=t[u],d=h._private,f=h.pstyle("curve-style").value;if(!(h.removed()||!h.takesUpSpace())){if(f==="haystack"){l.push(h);continue}var p=f==="unbundled-bezier"||f.endsWith("segments")||f==="straight"||f==="straight-triangle"||f.endsWith("taxi"),g=f==="unbundled-bezier"||f==="bezier",m=d.source,y=d.target,v=m.poolIndex(),b=y.poolIndex(),x=[v,b].sort(),T=s(x,p),w=a.get(T);w==null&&(w={eles:[]},o.push({pairId:x,edgeIsUnbundled:p}),a.set(T,w)),w.eles.push(h),p&&(w.hasUnbundled=!0),g&&(w.hasBezier=!0)}}for(var S=function(){var _=o[k],N=_.pairId,C=_.edgeIsUnbundled,D=s(N,C),P=a.get(D),A;if(!P.hasUnbundled){var R=P.eles[0].parallelEdges().filter(function(Z){return Z.isBundledBezier()});dA(P.eles),R.forEach(function(Z){return P.eles.push(Z)}),P.eles.sort(function(Z,fe){return Z.poolIndex()-fe.poolIndex()})}var O=P.eles[0],M=O.source(),I=O.target();if(M.poolIndex()>I.poolIndex()){var F=M;M=I,I=F}var B=P.srcPos=M.position(),$=P.tgtPos=I.position(),V=P.srcW=M.outerWidth(),H=P.srcH=M.outerHeight(),te=P.tgtW=I.outerWidth(),X=P.tgtH=I.outerHeight(),ee=P.srcShape=r.nodeShapes[e.getNodeShape(M)],re=P.tgtShape=r.nodeShapes[e.getNodeShape(I)],pe=P.srcCornerRadius=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,K=P.tgtCornerRadius=I.pstyle("corner-radius").value==="auto"?"auto":I.pstyle("corner-radius").pfValue,W=P.tgtRs=I._private.rscratch,j=P.srcRs=M._private.rscratch;P.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Y=0;Y<P.eles.length;Y++){var Q=P.eles[Y],ie=Q[0]._private.rscratch,J=Q.pstyle("curve-style").value,we=J==="unbundled-bezier"||J.endsWith("segments")||J.endsWith("taxi"),ue=!M.same(Q.source());if(!P.calculatedIntersection&&M!==I&&(P.hasBezier||P.hasUnbundled)){P.calculatedIntersection=!0;var ae=ee.intersectLine(B.x,B.y,V,H,$.x,$.y,0,pe,j),Ue=P.srcIntn=ae,xe=re.intersectLine($.x,$.y,te,X,B.x,B.y,0,K,W),Ze=P.tgtIntn=xe,Je=P.intersectionPts={x1:ae[0],x2:xe[0],y1:ae[1],y2:xe[1]},Xe=P.posPts={x1:B.x,x2:$.x,y1:B.y,y2:$.y},Pe=xe[1]-ae[1],We=xe[0]-ae[0],he=Math.sqrt(We*We+Pe*Pe);Rt(he)&&he>=vYe||(he=Math.sqrt(Math.max(We*We,yy)+Math.max(Pe*Pe,yy)));var Te=P.vector={x:We,y:Pe},Be=P.vectorNorm={x:Te.x/he,y:Te.y/he},ye={x:-Be.y,y:Be.x};P.nodesOverlap=!Rt(he)||re.checkPoint(ae[0],ae[1],0,te,X,$.x,$.y,K,W)||ee.checkPoint(xe[0],xe[1],0,V,H,B.x,B.y,pe,j),P.vectorNormInverse=ye,A={nodesOverlap:P.nodesOverlap,dirCounts:P.dirCounts,calculatedIntersection:!0,hasBezier:P.hasBezier,hasUnbundled:P.hasUnbundled,eles:P.eles,srcPos:$,srcRs:W,tgtPos:B,tgtRs:j,srcW:te,srcH:X,tgtW:V,tgtH:H,srcIntn:Ze,tgtIntn:Ue,srcShape:re,tgtShape:ee,posPts:{x1:Xe.x2,y1:Xe.y2,x2:Xe.x1,y2:Xe.y1},intersectionPts:{x1:Je.x2,y1:Je.y2,x2:Je.x1,y2:Je.y1},vector:{x:-Te.x,y:-Te.y},vectorNorm:{x:-Be.x,y:-Be.y},vectorNormInverse:{x:-ye.x,y:-ye.y}}}var Me=ue?A:P;ie.nodesOverlap=Me.nodesOverlap,ie.srcIntn=Me.srcIntn,ie.tgtIntn=Me.tgtIntn,ie.isRound=J.startsWith("round"),i&&(M.isParent()||M.isChild()||I.isParent()||I.isChild())&&(M.parents().anySame(I)||I.parents().anySame(M)||M.same(I)&&M.isParent())?e.findCompoundLoopPoints(Q,Me,Y,we):M===I?e.findLoopPoints(Q,Me,Y,we):J.endsWith("segments")?e.findSegmentsPoints(Q,Me):J.endsWith("taxi")?e.findTaxiPoints(Q,Me):J==="straight"||!we&&P.eles.length%2===1&&Y===Math.floor(P.eles.length/2)?e.findStraightEdgePoints(Q):e.findBezierPoints(Q,Me,Y,we,ue),e.findEndpoints(Q),e.tryToCorrectInvalidPoints(Q,Me),e.checkForInvalidEdgeWarning(Q),e.storeAllpts(Q),e.storeEdgeProjections(Q),e.calculateArrowAngles(Q),e.recalculateEdgeLabelProjections(Q),e.calculateLabelAngles(Q)}},k=0;k<o.length;k++)S();this.findHaystackPoints(l)}};function iee(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}da.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return iee(e.segpts)},da.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return iee(e.ctrlpts)},da.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var vy={};vy.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),a=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*i),e.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=n.x,o[1]+=n.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),h=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,a,h[0],h[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}},vy.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],a=n.position(),s=i.position(),o=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,h=t.pstyle("source-distance-from-node").pfValue,d=n._private.rscratch,f=i._private.rscratch,p=t.pstyle("curve-style").value,g=t._private.rscratch,m=g.edgeType,y=p==="taxi",v=m==="self"||m==="compound",b=m==="bezier"||m==="multibezier"||v,x=m!=="bezier",T=m==="straight"||m==="segments",w=m==="segments",S=b||x||T,k=v||y,L=t.pstyle("source-endpoint"),_=k?"outside-to-node":L.value,N=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,C=t.pstyle("target-endpoint"),D=k?"outside-to-node":C.value,P=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;g.srcManEndpt=L,g.tgtManEndpt=C;var A,R,O,M;if(b){var I=[g.ctrlpts[0],g.ctrlpts[1]],F=x?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:I;A=F,R=I}else if(T){var B=w?g.segpts.slice(0,2):[s.x,s.y],$=w?g.segpts.slice(g.segpts.length-2):[a.x,a.y];A=$,R=B}if(D==="inside-to-node")r=[s.x,s.y];else if(C.units)r=this.manualEndptToPx(i,C);else if(D==="outside-to-line")r=g.tgtIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?O=A:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(O=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),O[0],O[1],0,P,f),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var V=i._private.rscratch,H=V.labelWidth,te=V.labelHeight,X=V.labelX,ee=V.labelY,re=H/2,pe=te/2,K=i.pstyle("text-valign").value;K==="top"?ee-=pe:K==="bottom"&&(ee+=pe);var W=i.pstyle("text-halign").value;W==="left"?X-=re:W==="right"&&(X+=re);var j=iy(O[0],O[1],[X-re,ee-pe,X+re,ee-pe,X+re,ee+pe,X-re,ee+pe],s.x,s.y);if(j.length>0){var Y=a,Q=rd(Y,c0(r)),ie=rd(Y,c0(j)),J=Q;if(ie<Q&&(r=j,J=ie),j.length>2){var we=rd(Y,{x:j[2],y:j[3]});we<J&&(r=[j[2],j[3]])}}}var ue=f4(r,A,e.arrowShapes[o].spacing(t)+u),ae=f4(r,A,e.arrowShapes[o].gap(t)+u);if(g.endX=ae[0],g.endY=ae[1],g.arrowEndX=ue[0],g.arrowEndY=ue[1],_==="inside-to-node")r=[a.x,a.y];else if(L.units)r=this.manualEndptToPx(n,L);else if(_==="outside-to-line")r=g.srcIntn;else if(_==="outside-to-node"||_==="outside-to-node-or-label"?M=R:(_==="outside-to-line"||_==="outside-to-line-or-label")&&(M=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),M[0],M[1],0,N,d),_==="outside-to-node-or-label"||_==="outside-to-line-or-label"){var Ue=n._private.rscratch,xe=Ue.labelWidth,Ze=Ue.labelHeight,Je=Ue.labelX,Xe=Ue.labelY,Pe=xe/2,We=Ze/2,he=n.pstyle("text-valign").value;he==="top"?Xe-=We:he==="bottom"&&(Xe+=We);var Te=n.pstyle("text-halign").value;Te==="left"?Je-=Pe:Te==="right"&&(Je+=Pe);var Be=iy(M[0],M[1],[Je-Pe,Xe-We,Je+Pe,Xe-We,Je+Pe,Xe+We,Je-Pe,Xe+We],a.x,a.y);if(Be.length>0){var ye=s,Me=rd(ye,c0(r)),Z=rd(ye,c0(Be)),fe=Me;if(Z<Me&&(r=[Be[0],Be[1]],fe=Z),Be.length>2){var U=rd(ye,{x:Be[2],y:Be[3]});U<fe&&(r=[Be[2],Be[3]])}}}var le=f4(r,R,e.arrowShapes[l].spacing(t)+h),oe=f4(r,R,e.arrowShapes[l].gap(t)+h);g.startX=oe[0],g.startY=oe[1],g.arrowStartX=le[0],g.arrowStartY=le[1],S&&(!Rt(g.startX)||!Rt(g.startY)||!Rt(g.endX)||!Rt(g.endY)?g.badLine=!0:g.badLine=!1)},vy.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},vy.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Y8={};function bYe(t,e,r){for(var n=function(u,h,d,f){return Di(u,h,d,f)},i=e._private,a=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}Y8.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)bYe(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},Y8.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var El={};El.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!bu(e)){var r,n,i=t._private,a=t.width(),s=t.height(),o=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,d=i.rscratch,f=i.rstyle;switch(u){case"left":r=l.x-a/2-o;break;case"right":r=l.x+a/2+o;break;default:r=l.x}switch(h){case"top":n=l.y-s/2-o;break;case"bottom":n=l.y+s/2+o;break;default:n=l.y}d.labelX=r,d.labelY=n,f.labelX=r,f.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var aee=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},see=function(e,r){var n=r.x-e.x,i=r.y-e.y;return aee(n,i)},xYe=function(e,r,n,i){var a=ry(0,i-.001,1),s=ry(0,i+.001,1),o=u0(e,r,n,a),l=u0(e,r,n,s);return see(o,l)};El.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var s=function(d,f,p){vc(r.rscratch,d,f,p),vc(r.rstyle,d,f,p)};s("labelX",null,e.x),s("labelY",null,e.y);var o=aee(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var l=function(){if(l.cache)return l.cache;for(var d=[],f=0;f+5<n.allpts.length;f+=4){var p={x:n.allpts[f],y:n.allpts[f+1]},g={x:n.allpts[f+2],y:n.allpts[f+3]},m={x:n.allpts[f+4],y:n.allpts[f+5]};d.push({p0:p,p1:g,p2:m,startDist:0,length:0,segments:[]})}var y=r.rstyle.bezierPts,v=i.bezierProjPcts.length;function b(k,L,_,N,C){var D=td(L,_),P=k.segments[k.segments.length-1],A={p0:L,p1:_,t0:N,t1:C,startDist:P?P.startDist+P.length:0,length:D};k.segments.push(A),k.length+=D}for(var x=0;x<d.length;x++){var T=d[x],w=d[x-1];w&&(T.startDist=w.startDist+w.length),b(T,T.p0,y[x*v],0,i.bezierProjPcts[0]);for(var S=0;S<v-1;S++)b(T,y[x*v+S],y[x*v+S+1],i.bezierProjPcts[S],i.bezierProjPcts[S+1]);b(T,y[x*v+v-1],T.p2,i.bezierProjPcts[v-1],1)}return l.cache=d},u=function(d){var f,p=d==="source";if(a[d]){var g=t.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=l(),y,v=0,b=0,x=0;x<m.length;x++){for(var T=m[p?x:m.length-1-x],w=0;w<T.segments.length;w++){var S=T.segments[p?w:T.segments.length-1-w],k=x===m.length-1&&w===T.segments.length-1;if(v=b,b+=S.length,b>=g||k){y={cp:T,segment:S};break}}if(y)break}var L=y.cp,_=y.segment,N=(g-v)/_.length,C=_.t1-_.t0,D=p?_.t0+C*N:_.t1-C*N;D=ry(0,D,1),e=u0(L.p0,L.p1,L.p2,D),f=xYe(L.p0,L.p1,L.p2,D);break}case"straight":case"segments":case"haystack":{for(var P=0,A,R,O,M,I=n.allpts.length,F=0;F+3<I&&(p?(O={x:n.allpts[F],y:n.allpts[F+1]},M={x:n.allpts[F+2],y:n.allpts[F+3]}):(O={x:n.allpts[I-2-F],y:n.allpts[I-1-F]},M={x:n.allpts[I-4-F],y:n.allpts[I-3-F]}),A=td(O,M),R=P,P+=A,!(P>=g));F+=2);var B=g-R,$=B/A;$=ry(0,$,1),e=HGe(O,M,$),f=see(O,M);break}}s("labelX",d,e.x),s("labelY",d,e.y),s("labelAutoAngle",d,f)}};u("source"),u("target"),this.applyLabelDimensions(t)}},El.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},El.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=ed(n,t._private.labelDimsKey);if(cs(r.rscratch,"prefixedLabelDimsKey",e)!==i){vc(r.rscratch,"prefixedLabelDimsKey",e,i);var a=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,l=cs(r.rscratch,"labelWrapCachedLines",e)||[],u=o!=="wrap"?1:Math.max(l.length,1),h=a.height/u,d=h*s,f=a.width,p=a.height+(u-1)*(s-1)*h;vc(r.rstyle,"labelWidth",e,f),vc(r.rscratch,"labelWidth",e,f),vc(r.rstyle,"labelHeight",e,p),vc(r.rscratch,"labelHeight",e,p),vc(r.rscratch,"labelLineHeight",e,d)}},El.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,a=t.pstyle("text-transform").value,s=function(H,te){return te?(vc(r.rscratch,H,e,te),te):cs(r.rscratch,H,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="​",h=i.split(`
`),d=t.pstyle("text-max-width").pfValue,f=t.pstyle("text-overflow-wrap").value,p=f==="anywhere",g=[],m=/[\s\u200b]+|$/g,y=0;y<h.length;y++){var v=h[y],b=this.calculateLabelDimensions(t,v),x=b.width;if(p){var T=v.split("").join(u);v=T}if(x>d){var w=v.matchAll(m),S="",k=0,L=ls(w),_;try{for(L.s();!(_=L.n()).done;){var N=_.value,C=N[0],D=v.substring(k,N.index);k=N.index+C.length;var P=S.length===0?D:S+D+C,A=this.calculateLabelDimensions(t,P),R=A.width;R<=d?S+=D+C:(S&&g.push(S),S=D+C)}}catch(V){L.e(V)}finally{L.f()}S.match(/^[\s\u200b]+$/)||g.push(S)}else g.push(v)}s("labelWrapCachedLines",g),i=s("labelWrapCachedText",g.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var O=t.pstyle("text-max-width").pfValue,M="",I="…",F=!1;if(this.calculateLabelDimensions(t,i).width<O)return i;for(var B=0;B<i.length;B++){var $=this.calculateLabelDimensions(t,M+i[B]+I).width;if($>O)break;M+=i[B],B===i.length-1&&(F=!0)}return F||(M+=I),M}return i},El.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e},El.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,a=0,s=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,u=t.pstyle("font-weight").strValue,h=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=i.createElement("canvas"),d=this.labelCalcCanvasContext=h.getContext("2d");var f=h.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}d.font="".concat(s," ").concat(u," ").concat(o,"px ").concat(l);for(var p=0,g=0,m=e.split(`
`),y=0;y<m.length;y++){var v=m[y],b=d.measureText(v),x=Math.ceil(b.width),T=o;p=Math.max(x,p),g+=T}return p+=a,g+=a,{width:p,height:g}},El.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:i&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue},El.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var oee={},lee=28,cee=!1;oee.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<lee||t.height()<lee))return cee||(Zr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),cee=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var V4={};V4.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],h=u._private,d=h.rstyle;d.clean=!1,d.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var i=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(n(u.connectedEdges()),h.cleanConnected=!0)}if(o)for(var d=0;d<o.length;d++){var f=o[d];f(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)},V4.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)},V4.recalculateRenderedStyle=function(t,e){var r=function(T){return T._private.rstyle.cleanConnected};if(t.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var s=t[a],o=s._private,l=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(l.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(x){return!x._private.rstyle.clean&&x.isBundledBezier()})&&(l.clean=!1),!(e&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?i.push(s):n.push(s),l.clean=!0)}for(var u=0;u<i.length;u++){var h=i[u],d=h._private,f=d.rstyle,p=h.position();this.recalculateNodeLabelProjection(h),f.nodeX=p.x,f.nodeY=p.y,f.nodeW=h.pstyle("width").pfValue,f.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var m=n[g],y=m._private,v=y.rstyle,b=y.rscratch;v.srcX=b.arrowStartX,v.srcY=b.arrowStartY,v.tgtX=b.arrowEndX,v.tgtY=b.arrowEndY,v.midX=b.midX,v.midY=b.midY,v.labelAngle=b.labelAngle,v.sourceLabelAngle=b.sourceLabelAngle,v.targetLabelAngle=b.targetLabelAngle}}}};var q4={};q4.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}},q4.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},q4.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(wJ),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var uee={};[od,U4,da,vy,Y8,El,oee,V4,q4].forEach(function(t){rr(uee,t)});var hee={};hee.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[t]=i[t]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",l=t.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var C0={};C0.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var a=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var l=this.binder(o);a.push(l.on.apply(l,i))}}return a}var l=this.binder(t);return l.on.apply(l,i)},C0.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||MHe(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var s=function(l,u,h){var d=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(d[2]={capture:h??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:s,addEventListener:s,addListener:s,bind:s}},C0.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},C0.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()},C0.load=function(){var t=this,e=t.cy.window(),r=function(U){return U.selected()},n=function(U){var le=U.getRootNode();if(le&&le.nodeType===11&&le.host!==void 0)return le},i=function(U,le,oe,ge){U==null&&(U=t.cy);for(var me=0;me<le.length;me++){var Ce=le[me];U.emit({originalEvent:oe,type:Ce,position:ge})}},a=function(U){return U.shiftKey||U.metaKey||U.ctrlKey},s=function(U,le){var oe=!0;if(t.cy.hasCompoundNodes()&&U&&U.pannable())for(var ge=0;le&&ge<le.length;ge++){var U=le[ge];if(U.isNode()&&U.isParent()&&!U.pannable()){oe=!1;break}}else oe=!0;return oe},o=function(U){U[0]._private.grabbed=!0},l=function(U){U[0]._private.grabbed=!1},u=function(U){U[0]._private.rscratch.inDragLayer=!0},h=function(U){U[0]._private.rscratch.inDragLayer=!1},d=function(U){U[0]._private.rscratch.isGrabTarget=!0},f=function(U){U[0]._private.rscratch.isGrabTarget=!1},p=function(U,le){var oe=le.addToList,ge=oe.has(U);!ge&&U.grabbable()&&!U.locked()&&(oe.merge(U),o(U))},g=function(U,le){if(U.cy().hasCompoundNodes()&&!(le.inDragLayer==null&&le.addToList==null)){var oe=U.descendants();le.inDragLayer&&(oe.forEach(u),oe.connectedEdges().forEach(u)),le.addToList&&p(oe,le)}},m=function(U,le){le=le||{};var oe=U.cy().hasCompoundNodes();le.inDragLayer&&(U.forEach(u),U.neighborhood().stdFilter(function(ge){return!oe||ge.isEdge()}).forEach(u)),le.addToList&&U.forEach(function(ge){p(ge,le)}),g(U,le),b(U,{inDragLayer:le.inDragLayer}),t.updateCachedGrabbedEles()},y=m,v=function(U){U&&(t.getCachedZSortedEles().forEach(function(le){l(le),h(le),f(le)}),t.updateCachedGrabbedEles())},b=function(U,le){if(!(le.inDragLayer==null&&le.addToList==null)&&U.cy().hasCompoundNodes()){var oe=U.ancestors().orphans();if(!oe.same(U)){var ge=oe.descendants().spawnSelf().merge(oe).unmerge(U).unmerge(U.descendants()),me=ge.connectedEdges();le.inDragLayer&&(me.forEach(u),ge.forEach(u)),le.addToList&&ge.forEach(function(Ce){p(Ce,le)})}}},x=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},T=typeof MutationObserver<"u",w=typeof ResizeObserver<"u";T?(t.removeObserver=new MutationObserver(function(fe){for(var U=0;U<fe.length;U++){var le=fe[U],oe=le.removedNodes;if(oe)for(var ge=0;ge<oe.length;ge++){var me=oe[ge];if(me===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(fe){t.destroy()});var S=Qm(function(){t.cy.resize()},100);T&&(t.styleObserver=new MutationObserver(S),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",S),w&&(t.resizeObserver=new ResizeObserver(S),t.resizeObserver.observe(t.container));var k=function(U,le){for(;U!=null;)le(U),U=U.parentNode},L=function(){t.invalidateContainerClientCoordsCache()};k(t.container,function(fe){t.registerBinding(fe,"transitionend",L),t.registerBinding(fe,"animationend",L),t.registerBinding(fe,"scroll",L)}),t.registerBinding(t.container,"contextmenu",function(fe){fe.preventDefault()});var _=function(){return t.selection[4]!==0},N=function(U){for(var le=t.findContainerClientCoords(),oe=le[0],ge=le[1],me=le[2],Ce=le[3],Ie=U.touches?U.touches:[U],Ne=!1,et=0;et<Ie.length;et++){var ut=Ie[et];if(oe<=ut.clientX&&ut.clientX<=oe+me&&ge<=ut.clientY&&ut.clientY<=ge+Ce){Ne=!0;break}}if(!Ne)return!1;for(var rt=t.container,de=U.target,De=de.parentNode,Le=!1;De;){if(De===rt){Le=!0;break}De=De.parentNode}return!!Le};t.registerBinding(t.container,"mousedown",function(U){if(N(U)&&!(t.hoverData.which===1&&U.which!==1)){U.preventDefault(),x(),t.hoverData.capture=!0,t.hoverData.which=U.which;var le=t.cy,oe=[U.clientX,U.clientY],ge=t.projectIntoViewport(oe[0],oe[1]),me=t.selection,Ce=t.findNearestElements(ge[0],ge[1],!0,!1),Ie=Ce[0],Ne=t.dragData.possibleDragElements;t.hoverData.mdownPos=ge,t.hoverData.mdownGPos=oe;var et=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var je=t.hoverData.down;je?je.emit({originalEvent:U,type:"taphold",position:{x:ge[0],y:ge[1]}}):le.emit({originalEvent:U,type:"taphold",position:{x:ge[0],y:ge[1]}})}},t.tapholdDuration)};if(U.which==3){t.hoverData.cxtStarted=!0;var ut={originalEvent:U,type:"cxttapstart",position:{x:ge[0],y:ge[1]}};Ie?(Ie.activate(),Ie.emit(ut),t.hoverData.down=Ie):le.emit(ut),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(U.which==1){Ie&&Ie.activate();{if(Ie!=null&&t.nodeIsGrabbable(Ie)){var rt=function(je){return{originalEvent:U,type:je,position:{x:ge[0],y:ge[1]}}},de=function(je){je.emit(rt("grab"))};if(d(Ie),!Ie.selected())Ne=t.dragData.possibleDragElements=le.collection(),y(Ie,{addToList:Ne}),Ie.emit(rt("grabon")).emit(rt("grab"));else{Ne=t.dragData.possibleDragElements=le.collection();var De=le.$(function(Le){return Le.isNode()&&Le.selected()&&t.nodeIsGrabbable(Le)});m(De,{addToList:Ne}),Ie.emit(rt("grabon")),De.forEach(de)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Ie,t.hoverData.downs=Ce,t.hoverData.downTime=new Date().getTime()}i(Ie,["mousedown","tapstart","vmousedown"],U,{x:ge[0],y:ge[1]}),Ie==null?(me[4]=1,t.data.bgActivePosistion={x:ge[0],y:ge[1]},t.redrawHint("select",!0),t.redraw()):Ie.pannable()&&(me[4]=1),et()}me[0]=me[2]=ge[0],me[1]=me[3]=ge[1]}},!1);var C=n(t.container);t.registerBinding([e,C],"mousemove",function(U){var le=t.hoverData.capture;if(!(!le&&!N(U))){var oe=!1,ge=t.cy,me=ge.zoom(),Ce=[U.clientX,U.clientY],Ie=t.projectIntoViewport(Ce[0],Ce[1]),Ne=t.hoverData.mdownPos,et=t.hoverData.mdownGPos,ut=t.selection,rt=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(rt=t.findNearestElement(Ie[0],Ie[1],!0,!1));var de=t.hoverData.last,De=t.hoverData.down,Le=[Ie[0]-ut[2],Ie[1]-ut[3]],je=t.dragData.possibleDragElements,dt;if(et){var lt=Ce[0]-et[0],$e=lt*lt,tt=Ce[1]-et[1],Ve=tt*tt,it=$e+Ve;t.hoverData.isOverThresholdDrag=dt=it>=t.desktopTapThreshold2}var ft=a(U);dt&&(t.hoverData.tapholdCancelled=!0);var Tt=function(){var Lt=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Lt.length===0?(Lt.push(Le[0]),Lt.push(Le[1])):(Lt[0]+=Le[0],Lt[1]+=Le[1])};oe=!0,i(rt,["mousemove","vmousemove","tapdrag"],U,{x:Ie[0],y:Ie[1]});var kt=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ge.emit({originalEvent:U,type:"boxstart",position:{x:Ie[0],y:Ie[1]}}),ut[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(dt){var Nt={originalEvent:U,type:"cxtdrag",position:{x:Ie[0],y:Ie[1]}};De?De.emit(Nt):ge.emit(Nt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||rt!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:Ie[0],y:Ie[1]}}),t.hoverData.cxtOver=rt,rt&&rt.emit({originalEvent:U,type:"cxtdragover",position:{x:Ie[0],y:Ie[1]}}))}}else if(t.hoverData.dragging){if(oe=!0,ge.panningEnabled()&&ge.userPanningEnabled()){var Tr;if(t.hoverData.justStartedPan){var Ut=t.hoverData.mdownPos;Tr={x:(Ie[0]-Ut[0])*me,y:(Ie[1]-Ut[1])*me},t.hoverData.justStartedPan=!1}else Tr={x:Le[0]*me,y:Le[1]*me};ge.panBy(Tr),ge.emit("dragpan"),t.hoverData.dragged=!0}Ie=t.projectIntoViewport(U.clientX,U.clientY)}else if(ut[4]==1&&(De==null||De.pannable())){if(dt){if(!t.hoverData.dragging&&ge.boxSelectionEnabled()&&(ft||!ge.panningEnabled()||!ge.userPanningEnabled()))kt();else if(!t.hoverData.selecting&&ge.panningEnabled()&&ge.userPanningEnabled()){var Lr=s(De,t.hoverData.downs);Lr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,ut[4]=0,t.data.bgActivePosistion=c0(Ne),t.redrawHint("select",!0),t.redraw())}De&&De.pannable()&&De.active()&&De.unactivate()}}else{if(De&&De.pannable()&&De.active()&&De.unactivate(),(!De||!De.grabbed())&&rt!=de&&(de&&i(de,["mouseout","tapdragout"],U,{x:Ie[0],y:Ie[1]}),rt&&i(rt,["mouseover","tapdragover"],U,{x:Ie[0],y:Ie[1]}),t.hoverData.last=rt),De)if(dt){if(ge.boxSelectionEnabled()&&ft)De&&De.grabbed()&&(v(je),De.emit("freeon"),je.emit("free"),t.dragData.didDrag&&(De.emit("dragfreeon"),je.emit("dragfree"))),kt();else if(De&&De.grabbed()&&t.nodeIsDraggable(De)){var br=!t.dragData.didDrag;br&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||m(je,{inDragLayer:!0});var mr={x:0,y:0};if(Rt(Le[0])&&Rt(Le[1])&&(mr.x+=Le[0],mr.y+=Le[1],br)){var nr=t.hoverData.dragDelta;nr&&Rt(nr[0])&&Rt(nr[1])&&(mr.x+=nr[0],mr.y+=nr[1])}t.hoverData.draggingEles=!0,je.silentShift(mr).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Tt();oe=!0}if(ut[2]=Ie[0],ut[3]=Ie[1],oe)return U.stopPropagation&&U.stopPropagation(),U.preventDefault&&U.preventDefault(),!1}},!1);var D,P,A;t.registerBinding(e,"mouseup",function(U){if(!(t.hoverData.which===1&&U.which!==1&&t.hoverData.capture)){var le=t.hoverData.capture;if(le){t.hoverData.capture=!1;var oe=t.cy,ge=t.projectIntoViewport(U.clientX,U.clientY),me=t.selection,Ce=t.findNearestElement(ge[0],ge[1],!0,!1),Ie=t.dragData.possibleDragElements,Ne=t.hoverData.down,et=a(U);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ne&&Ne.unactivate(),t.hoverData.which===3){var ut={originalEvent:U,type:"cxttapend",position:{x:ge[0],y:ge[1]}};if(Ne?Ne.emit(ut):oe.emit(ut),!t.hoverData.cxtDragged){var rt={originalEvent:U,type:"cxttap",position:{x:ge[0],y:ge[1]}};Ne?Ne.emit(rt):oe.emit(rt)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(Ce,["mouseup","tapend","vmouseup"],U,{x:ge[0],y:ge[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(Ne,["click","tap","vclick"],U,{x:ge[0],y:ge[1]}),P=!1,U.timeStamp-A<=oe.multiClickDebounceTime()?(D&&clearTimeout(D),P=!0,A=null,i(Ne,["dblclick","dbltap","vdblclick"],U,{x:ge[0],y:ge[1]})):(D=setTimeout(function(){P||i(Ne,["oneclick","onetap","voneclick"],U,{x:ge[0],y:ge[1]})},oe.multiClickDebounceTime()),A=U.timeStamp)),Ne==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(U)&&(oe.$(r).unselect(["tapunselect"]),Ie.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Ie=oe.collection()),Ce==Ne&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ce!=null&&Ce._private.selectable&&(t.hoverData.dragging||(oe.selectionType()==="additive"||et?Ce.selected()?Ce.unselect(["tapunselect"]):Ce.select(["tapselect"]):et||(oe.$(r).unmerge(Ce).unselect(["tapunselect"]),Ce.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var de=oe.collection(t.getAllInBox(me[0],me[1],me[2],me[3]));t.redrawHint("select",!0),de.length>0&&t.redrawHint("eles",!0),oe.emit({type:"boxend",originalEvent:U,position:{x:ge[0],y:ge[1]}});var De=function(dt){return dt.selectable()&&!dt.selected()};oe.selectionType()==="additive"||et||oe.$(r).unmerge(de).unselect(),de.emit("box").stdFilter(De).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!me[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Le=Ne&&Ne.grabbed();v(Ie),Le&&(Ne.emit("freeon"),Ie.emit("free"),t.dragData.didDrag&&(Ne.emit("dragfreeon"),Ie.emit("dragfree")))}}me[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var R=[],O=4,M,I=1e5,F=function(U,le){for(var oe=0;oe<U.length;oe++)if(U[oe]%le!==0)return!1;return!0},B=function(U){for(var le=Math.abs(U[0]),oe=1;oe<U.length;oe++)if(Math.abs(U[oe])!==le)return!1;return!0},$=function(U){var le=!1,oe=U.deltaY;if(oe==null&&(U.wheelDeltaY!=null?oe=U.wheelDeltaY/4:U.wheelDelta!=null&&(oe=U.wheelDelta/4)),M==null)if(R.length>=O){var ge=R;if(M=F(ge,5),!M){var me=Math.abs(ge[0]);M=B(ge)&&me>5}if(M)for(var Ce=0;Ce<ge.length;Ce++)I=Math.min(Math.abs(ge[Ce]),I)}else R.push(oe),le=!0;else M&&(I=Math.min(Math.abs(oe),I));if(!t.scrollingPage){var Ie=t.cy,Ne=Ie.zoom(),et=Ie.pan(),ut=t.projectIntoViewport(U.clientX,U.clientY),rt=[ut[0]*Ne+et.x,ut[1]*Ne+et.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||_()){U.preventDefault();return}if(Ie.panningEnabled()&&Ie.userPanningEnabled()&&Ie.zoomingEnabled()&&Ie.userZoomingEnabled()){U.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var de;le&&Math.abs(oe)>5&&(oe=mA(oe)*5),de=oe/-250,M&&(de/=I,de*=3),de=de*t.wheelSensitivity;var De=U.deltaMode===1;De&&(de*=33);var Le=Ie.zoom()*Math.pow(10,de);U.type==="gesturechange"&&(Le=t.gestureStartZoom*U.scale),Ie.zoom({level:Le,renderedPosition:{x:rt[0],y:rt[1]}}),Ie.emit(U.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",$,!0),t.registerBinding(e,"scroll",function(U){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(U){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||U.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(fe){t.hasTouchStarted||$(fe)},!0),t.registerBinding(t.container,"mouseout",function(U){var le=t.projectIntoViewport(U.clientX,U.clientY);t.cy.emit({originalEvent:U,type:"mouseout",position:{x:le[0],y:le[1]}})},!1),t.registerBinding(t.container,"mouseover",function(U){var le=t.projectIntoViewport(U.clientX,U.clientY);t.cy.emit({originalEvent:U,type:"mouseover",position:{x:le[0],y:le[1]}})},!1);var V,H,te,X,ee,re,pe,K,W,j,Y,Q,ie,J=function(U,le,oe,ge){return Math.sqrt((oe-U)*(oe-U)+(ge-le)*(ge-le))},we=function(U,le,oe,ge){return(oe-U)*(oe-U)+(ge-le)*(ge-le)},ue;t.registerBinding(t.container,"touchstart",ue=function(U){if(t.hasTouchStarted=!0,!!N(U)){x(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var le=t.cy,oe=t.touchData.now,ge=t.touchData.earlier;if(U.touches[0]){var me=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);oe[0]=me[0],oe[1]=me[1]}if(U.touches[1]){var me=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);oe[2]=me[0],oe[3]=me[1]}if(U.touches[2]){var me=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);oe[4]=me[0],oe[5]=me[1]}if(U.touches[1]){t.touchData.singleTouchMoved=!0,v(t.dragData.touchDragEles);var Ce=t.findContainerClientCoords();W=Ce[0],j=Ce[1],Y=Ce[2],Q=Ce[3],V=U.touches[0].clientX-W,H=U.touches[0].clientY-j,te=U.touches[1].clientX-W,X=U.touches[1].clientY-j,ie=0<=V&&V<=Y&&0<=te&&te<=Y&&0<=H&&H<=Q&&0<=X&&X<=Q;var Ie=le.pan(),Ne=le.zoom();ee=J(V,H,te,X),re=we(V,H,te,X),pe=[(V+te)/2,(H+X)/2],K=[(pe[0]-Ie.x)/Ne,(pe[1]-Ie.y)/Ne];var et=200,ut=et*et;if(re<ut&&!U.touches[2]){var rt=t.findNearestElement(oe[0],oe[1],!0,!0),de=t.findNearestElement(oe[2],oe[3],!0,!0);rt&&rt.isNode()?(rt.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:oe[0],y:oe[1]}}),t.touchData.start=rt):de&&de.isNode()?(de.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:oe[0],y:oe[1]}}),t.touchData.start=de):le.emit({originalEvent:U,type:"cxttapstart",position:{x:oe[0],y:oe[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(U.touches[2])le.boxSelectionEnabled()&&U.preventDefault();else if(!U.touches[1]){if(U.touches[0]){var De=t.findNearestElements(oe[0],oe[1],!0,!0),Le=De[0];if(Le!=null&&(Le.activate(),t.touchData.start=Le,t.touchData.starts=De,t.nodeIsGrabbable(Le))){var je=t.dragData.touchDragEles=le.collection(),dt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Le.selected()?(dt=le.$(function(it){return it.selected()&&t.nodeIsGrabbable(it)}),m(dt,{addToList:je})):y(Le,{addToList:je}),d(Le);var lt=function(ft){return{originalEvent:U,type:ft,position:{x:oe[0],y:oe[1]}}};Le.emit(lt("grabon")),dt?dt.forEach(function(it){it.emit(lt("grab"))}):Le.emit(lt("grab"))}i(Le,["touchstart","tapstart","vmousedown"],U,{x:oe[0],y:oe[1]}),Le==null&&(t.data.bgActivePosistion={x:me[0],y:me[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],U,{x:oe[0],y:oe[1]})},t.tapholdDuration)}}if(U.touches.length>=1){for(var $e=t.touchData.startPosition=[null,null,null,null,null,null],tt=0;tt<oe.length;tt++)$e[tt]=ge[tt]=oe[tt];var Ve=U.touches[0];t.touchData.startGPosition=[Ve.clientX,Ve.clientY]}}},!1);var ae;t.registerBinding(e,"touchmove",ae=function(U){var le=t.touchData.capture;if(!(!le&&!N(U))){var oe=t.selection,ge=t.cy,me=t.touchData.now,Ce=t.touchData.earlier,Ie=ge.zoom();if(U.touches[0]){var Ne=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);me[0]=Ne[0],me[1]=Ne[1]}if(U.touches[1]){var Ne=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);me[2]=Ne[0],me[3]=Ne[1]}if(U.touches[2]){var Ne=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);me[4]=Ne[0],me[5]=Ne[1]}var et=t.touchData.startGPosition,ut;if(le&&U.touches[0]&&et){for(var rt=[],de=0;de<me.length;de++)rt[de]=me[de]-Ce[de];var De=U.touches[0].clientX-et[0],Le=De*De,je=U.touches[0].clientY-et[1],dt=je*je,lt=Le+dt;ut=lt>=t.touchTapThreshold2}if(le&&t.touchData.cxt){U.preventDefault();var $e=U.touches[0].clientX-W,tt=U.touches[0].clientY-j,Ve=U.touches[1].clientX-W,it=U.touches[1].clientY-j,ft=we($e,tt,Ve,it),Tt=ft/re,kt=150,Nt=kt*kt,Tr=1.5,Ut=Tr*Tr;if(Tt>=Ut||ft>=Nt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Lr={originalEvent:U,type:"cxttapend",position:{x:me[0],y:me[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Lr),t.touchData.start=null):ge.emit(Lr)}}if(le&&t.touchData.cxt){var Lr={originalEvent:U,type:"cxtdrag",position:{x:me[0],y:me[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Lr):ge.emit(Lr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var br=t.findNearestElement(me[0],me[1],!0,!0);(!t.touchData.cxtOver||br!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:me[0],y:me[1]}}),t.touchData.cxtOver=br,br&&br.emit({originalEvent:U,type:"cxtdragover",position:{x:me[0],y:me[1]}}))}else if(le&&U.touches[2]&&ge.boxSelectionEnabled())U.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ge.emit({originalEvent:U,type:"boxstart",position:{x:me[0],y:me[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,oe[4]=1,!oe||oe.length===0||oe[0]===void 0?(oe[0]=(me[0]+me[2]+me[4])/3,oe[1]=(me[1]+me[3]+me[5])/3,oe[2]=(me[0]+me[2]+me[4])/3+1,oe[3]=(me[1]+me[3]+me[5])/3+1):(oe[2]=(me[0]+me[2]+me[4])/3,oe[3]=(me[1]+me[3]+me[5])/3),t.redrawHint("select",!0),t.redraw();else if(le&&U.touches[1]&&!t.touchData.didSelect&&ge.zoomingEnabled()&&ge.panningEnabled()&&ge.userZoomingEnabled()&&ge.userPanningEnabled()){U.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var mr=t.dragData.touchDragEles;if(mr){t.redrawHint("drag",!0);for(var nr=0;nr<mr.length;nr++){var nn=mr[nr]._private;nn.grabbed=!1,nn.rscratch.inDragLayer=!1}}var Lt=t.touchData.start,$e=U.touches[0].clientX-W,tt=U.touches[0].clientY-j,Ve=U.touches[1].clientX-W,it=U.touches[1].clientY-j,Oe=J($e,tt,Ve,it),ht=Oe/ee;if(ie){var _t=$e-V,fr=tt-H,Gr=Ve-te,en=it-X,Vr=(_t+Gr)/2,Wn=(fr+en)/2,Yn=ge.zoom(),Qi=Yn*ht,at=ge.pan(),st=K[0]*Yn+at.x,ct=K[1]*Yn+at.y,ot={x:-Qi/Yn*(st-at.x-Vr)+st,y:-Qi/Yn*(ct-at.y-Wn)+ct};if(Lt&&Lt.active()){var mr=t.dragData.touchDragEles;v(mr),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Lt.unactivate().emit("freeon"),mr.emit("free"),t.dragData.didDrag&&(Lt.emit("dragfreeon"),mr.emit("dragfree"))}ge.viewport({zoom:Qi,pan:ot,cancelOnFailedZoom:!0}),ge.emit("pinchzoom"),ee=Oe,V=$e,H=tt,te=Ve,X=it,t.pinching=!0}if(U.touches[0]){var Ne=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);me[0]=Ne[0],me[1]=Ne[1]}if(U.touches[1]){var Ne=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);me[2]=Ne[0],me[3]=Ne[1]}if(U.touches[2]){var Ne=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);me[4]=Ne[0],me[5]=Ne[1]}}else if(U.touches[0]&&!t.touchData.didSelect){var Qe=t.touchData.start,ar=t.touchData.last,br;if(!t.hoverData.draggingEles&&!t.swipePanning&&(br=t.findNearestElement(me[0],me[1],!0,!0)),le&&Qe!=null&&U.preventDefault(),le&&Qe!=null&&t.nodeIsDraggable(Qe))if(ut){var mr=t.dragData.touchDragEles,ve=!t.dragData.didDrag;ve&&m(mr,{inDragLayer:!0}),t.dragData.didDrag=!0;var pa={x:0,y:0};if(Rt(rt[0])&&Rt(rt[1])&&(pa.x+=rt[0],pa.y+=rt[1],ve)){t.redrawHint("eles",!0);var Ee=t.touchData.dragDelta;Ee&&Rt(Ee[0])&&Rt(Ee[1])&&(pa.x+=Ee[0],pa.y+=Ee[1])}t.hoverData.draggingEles=!0,mr.silentShift(pa).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ce[0]&&t.touchData.startPosition[1]==Ce[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Ee=t.touchData.dragDelta=t.touchData.dragDelta||[];Ee.length===0?(Ee.push(rt[0]),Ee.push(rt[1])):(Ee[0]+=rt[0],Ee[1]+=rt[1])}if(i(Qe||br,["touchmove","tapdrag","vmousemove"],U,{x:me[0],y:me[1]}),(!Qe||!Qe.grabbed())&&br!=ar&&(ar&&ar.emit({originalEvent:U,type:"tapdragout",position:{x:me[0],y:me[1]}}),br&&br.emit({originalEvent:U,type:"tapdragover",position:{x:me[0],y:me[1]}})),t.touchData.last=br,le)for(var nr=0;nr<me.length;nr++)me[nr]&&t.touchData.startPosition[nr]&&ut&&(t.touchData.singleTouchMoved=!0);if(le&&(Qe==null||Qe.pannable())&&ge.panningEnabled()&&ge.userPanningEnabled()){var Fr=s(Qe,t.touchData.starts);Fr&&(U.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=c0(t.touchData.startPosition)),t.swipePanning?(ge.panBy({x:rt[0]*Ie,y:rt[1]*Ie}),ge.emit("dragpan")):ut&&(t.swipePanning=!0,ge.panBy({x:De*Ie,y:je*Ie}),ge.emit("dragpan"),Qe&&(Qe.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ne=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);me[0]=Ne[0],me[1]=Ne[1]}}for(var de=0;de<me.length;de++)Ce[de]=me[de];le&&U.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Ue;t.registerBinding(e,"touchcancel",Ue=function(U){var le=t.touchData.start;t.touchData.capture=!1,le&&le.unactivate()});var xe,Ze,Je,Xe;if(t.registerBinding(e,"touchend",xe=function(U){var le=t.touchData.start,oe=t.touchData.capture;if(oe)U.touches.length===0&&(t.touchData.capture=!1),U.preventDefault();else return;var ge=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var me=t.cy,Ce=me.zoom(),Ie=t.touchData.now,Ne=t.touchData.earlier;if(U.touches[0]){var et=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);Ie[0]=et[0],Ie[1]=et[1]}if(U.touches[1]){var et=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);Ie[2]=et[0],Ie[3]=et[1]}if(U.touches[2]){var et=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);Ie[4]=et[0],Ie[5]=et[1]}le&&le.unactivate();var ut;if(t.touchData.cxt){if(ut={originalEvent:U,type:"cxttapend",position:{x:Ie[0],y:Ie[1]}},le?le.emit(ut):me.emit(ut),!t.touchData.cxtDragged){var rt={originalEvent:U,type:"cxttap",position:{x:Ie[0],y:Ie[1]}};le?le.emit(rt):me.emit(rt)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!U.touches[2]&&me.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var de=me.collection(t.getAllInBox(ge[0],ge[1],ge[2],ge[3]));ge[0]=void 0,ge[1]=void 0,ge[2]=void 0,ge[3]=void 0,ge[4]=0,t.redrawHint("select",!0),me.emit({type:"boxend",originalEvent:U,position:{x:Ie[0],y:Ie[1]}});var De=function(Nt){return Nt.selectable()&&!Nt.selected()};de.emit("box").stdFilter(De).select().emit("boxselect"),de.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(le!=null&&le.unactivate(),U.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!U.touches[1]){if(!U.touches[0]){if(!U.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Le=t.dragData.touchDragEles;if(le!=null){var je=le._private.grabbed;v(Le),t.redrawHint("drag",!0),t.redrawHint("eles",!0),je&&(le.emit("freeon"),Le.emit("free"),t.dragData.didDrag&&(le.emit("dragfreeon"),Le.emit("dragfree"))),i(le,["touchend","tapend","vmouseup","tapdragout"],U,{x:Ie[0],y:Ie[1]}),le.unactivate(),t.touchData.start=null}else{var dt=t.findNearestElement(Ie[0],Ie[1],!0,!0);i(dt,["touchend","tapend","vmouseup","tapdragout"],U,{x:Ie[0],y:Ie[1]})}var lt=t.touchData.startPosition[0]-Ie[0],$e=lt*lt,tt=t.touchData.startPosition[1]-Ie[1],Ve=tt*tt,it=$e+Ve,ft=it*Ce*Ce;t.touchData.singleTouchMoved||(le||me.$(":selected").unselect(["tapunselect"]),i(le,["tap","vclick"],U,{x:Ie[0],y:Ie[1]}),Ze=!1,U.timeStamp-Xe<=me.multiClickDebounceTime()?(Je&&clearTimeout(Je),Ze=!0,Xe=null,i(le,["dbltap","vdblclick"],U,{x:Ie[0],y:Ie[1]})):(Je=setTimeout(function(){Ze||i(le,["onetap","voneclick"],U,{x:Ie[0],y:Ie[1]})},me.multiClickDebounceTime()),Xe=U.timeStamp)),le!=null&&!t.dragData.didDrag&&le._private.selectable&&ft<t.touchTapThreshold2&&!t.pinching&&(me.selectionType()==="single"?(me.$(r).unmerge(le).unselect(["tapunselect"]),le.select(["tapselect"])):le.selected()?le.unselect(["tapunselect"]):le.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Tt=0;Tt<Ie.length;Tt++)Ne[Tt]=Ie[Tt];t.dragData.didDrag=!1,U.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),U.touches.length<2&&(U.touches.length===1&&(t.touchData.startGPosition=[U.touches[0].clientX,U.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Pe=[],We=function(U){return{clientX:U.clientX,clientY:U.clientY,force:1,identifier:U.pointerId,pageX:U.pageX,pageY:U.pageY,radiusX:U.width/2,radiusY:U.height/2,screenX:U.screenX,screenY:U.screenY,target:U.target}},he=function(U){return{event:U,touch:We(U)}},Te=function(U){Pe.push(he(U))},Be=function(U){for(var le=0;le<Pe.length;le++){var oe=Pe[le];if(oe.event.pointerId===U.pointerId){Pe.splice(le,1);return}}},ye=function(U){var le=Pe.filter(function(oe){return oe.event.pointerId===U.pointerId})[0];le.event=U,le.touch=We(U)},Me=function(U){U.touches=Pe.map(function(le){return le.touch})},Z=function(U){return U.pointerType==="mouse"||U.pointerType===4};t.registerBinding(t.container,"pointerdown",function(fe){Z(fe)||(fe.preventDefault(),Te(fe),Me(fe),ue(fe))}),t.registerBinding(t.container,"pointerup",function(fe){Z(fe)||(Be(fe),Me(fe),xe(fe))}),t.registerBinding(t.container,"pointercancel",function(fe){Z(fe)||(Be(fe),Me(fe),Ue(fe))}),t.registerBinding(t.container,"pointermove",function(fe){Z(fe)||(fe.preventDefault(),ye(fe),Me(fe),ae(fe))})}};var Tc={};Tc.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,a,s,o,l){this.renderer.nodeShapeImpl("polygon",n,i,a,s,o,this.points)},intersectLine:function(n,i,a,s,o,l,u,h){return iy(o,l,this.points,n,i,a/2,s/2,u)},checkPoint:function(n,i,a,s,o,l,u,h){return xc(n,i,this.points,l,u,s,o,[0,-1],a)}}},Tc.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){return rVe(a,s,e,r,n/2+o,i/2+o)},checkPoint:function(e,r,n,i,a,s,o,l){return nd(e,r,i,a,s,o,n)}}},Tc.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,a,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var h=a/2,d=s/2;o=o==="auto"?_Q(a,s):o;for(var f=new Array(e.length/2),p=0;p<e.length/2;p++)f[p]={x:n+h*e[p*2],y:i+d*e[p*2+1]};var g,m,y,v,b=f.length;for(m=f[b-1],g=0;g<b;g++)y=f[g%b],v=f[(g+1)%b],l[u][g]=W8(m,y,v,o),m=y,y=v;return l[u]},draw:function(n,i,a,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,s,o,this.points,this.getOrCreateCorners(i,a,s,o,l,u,"drawCorners"))},intersectLine:function(n,i,a,s,o,l,u,h,d){return nVe(o,l,this.points,n,i,a,s,u,this.getOrCreateCorners(n,i,a,s,h,d,"corners"))},checkPoint:function(n,i,a,s,o,l,u,h,d){return tVe(n,i,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,h,d,"corners"))}}},Tc.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Pa(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){return kQ(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){var u=i/2,h=a/2;l=l==="auto"?wu(i,a):l,l=Math.min(u,h,l);var d=l*2;return!!(xc(e,r,this.points,s,o,i,a-d,[0,-1],n)||xc(e,r,this.points,s,o,i-d,a,[0,-1],n)||nd(e,r,d,d,s-u+l,o-h+l,n)||nd(e,r,d,d,s+u-l,o-h+l,n)||nd(e,r,d,d,s+u-l,o+h-l,n)||nd(e,r,d,d,s-u+l,o+h-l,n))}}},Tc.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:xA(),points:Pa(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,null,s)},generateCutTrianglePts:function(e,r,n,i,a){var s=a==="auto"?this.cornerLength:a,o=r/2,l=e/2,u=n-l,h=n+l,d=i-o,f=i+o;return{topLeft:[u,d+s,u+s,d,u+s,d+s],topRight:[h-s,d,h,d+s,h-s,d+s],bottomRight:[h,f-s,h-s,f,h-s,f-s],bottomLeft:[u+s,f,u,f-s,u+s,f-s]}},intersectLine:function(e,r,n,i,a,s,o,l){var u=this.generateCutTrianglePts(n+2*o,i+2*o,e,r,l),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return iy(a,s,h,e,r)},checkPoint:function(e,r,n,i,a,s,o,l){var u=l==="auto"?this.cornerLength:l;if(xc(e,r,this.points,s,o,i,a-2*u,[0,-1],n)||xc(e,r,this.points,s,o,i-2*u,a,[0,-1],n))return!0;var h=this.generateCutTrianglePts(i,a,s,o);return hs(e,r,h.topLeft)||hs(e,r,h.topRight)||hs(e,r,h.bottomRight)||hs(e,r,h.bottomLeft)}}},Tc.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Pa(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){var u=.15,h=.5,d=.85,f=this.generateBarrelBezierPts(n+2*o,i+2*o,e,r),p=function(y){var v=u0({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},u),b=u0({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},h),x=u0({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},d);return[y[0],y[1],v.x,v.y,b.x,b.y,x.x,x.y,y[4],y[5]]},g=[].concat(p(f.topLeft),p(f.topRight),p(f.bottomRight),p(f.bottomLeft));return iy(a,s,g,e,r)},generateBarrelBezierPts:function(e,r,n,i){var a=r/2,s=e/2,o=n-s,l=n+s,u=i-a,h=i+a,d=EA(e,r),f=d.heightOffset,p=d.widthOffset,g=d.ctrlPtOffsetPct*e,m={topLeft:[o,u+f,o+g,u,o+p,u],topRight:[l-p,u,l-g,u,l,u+f],bottomRight:[l,h-f,l-g,h,l-p,h],bottomLeft:[o+p,h,o+g,h,o,h-f]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,r,n,i,a,s,o,l){var u=EA(i,a),h=u.heightOffset,d=u.widthOffset;if(xc(e,r,this.points,s,o,i,a-2*h,[0,-1],n)||xc(e,r,this.points,s,o,i-2*d,a,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(i,a,s,o),p=function(L,_,N){var C=N[4],D=N[2],P=N[0],A=N[5],R=N[1],O=Math.min(C,P),M=Math.max(C,P),I=Math.min(A,R),F=Math.max(A,R);if(O<=L&&L<=M&&I<=_&&_<=F){var B=iVe(C,D,P),$=QGe(B[0],B[1],B[2],L),V=$.filter(function(H){return 0<=H&&H<=1});if(V.length>0)return V[0]}return null},g=Object.keys(f),m=0;m<g.length;m++){var y=g[m],v=f[y],b=p(e,r,v);if(b!=null){var x=v[5],T=v[3],w=v[1],S=Di(x,T,w,b);if(v.isTop&&S<=r||v.isBottom&&r<=S)return!0}}return!1}}},Tc.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Pa(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){var u=e-(n/2+o),h=r-(i/2+o),d=h,f=e+(n/2+o),p=Tu(a,s,e,r,u,h,f,d,!1);return p.length>0?p:kQ(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){l=l==="auto"?wu(i,a):l;var u=2*l;if(xc(e,r,this.points,s,o,i,a-u,[0,-1],n)||xc(e,r,this.points,s,o,i-u,a,[0,-1],n))return!0;var h=i/2+2*n,d=a/2+2*n,f=[s-h,o-d,s-h,o,s+h,o,s+h,o-d];return!!(hs(e,r,f)||nd(e,r,u,u,s+i/2-l,o+a/2-l,n)||nd(e,r,u,u,s-i/2+l,o+a/2-l,n))}}},Tc.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Pa(3,0)),this.generateRoundPolygon("round-triangle",Pa(3,0)),this.generatePolygon("rectangle",Pa(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Pa(5,0)),this.generateRoundPolygon("round-pentagon",Pa(5,0)),this.generatePolygon("hexagon",Pa(6,0)),this.generateRoundPolygon("round-hexagon",Pa(6,0)),this.generatePolygon("heptagon",Pa(7,0)),this.generateRoundPolygon("round-heptagon",Pa(7,0)),this.generatePolygon("octagon",Pa(8,0)),this.generateRoundPolygon("round-octagon",Pa(8,0));var n=new Array(20);{var i=bA(5,0),a=bA(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=i[o*2],n[o*4+1]=i[o*2+1],n[o*4+2]=a[o*2],n[o*4+3]=a[o*2+1]}n=CQ(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var h=u.join("$"),d="polygon-"+h,f;return(f=this[d])?f:e.generatePolygon(d,u)}};var by={};by.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},by.redraw=function(t){t=t||vQ();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},by.beforeRender=function(t,e){if(!this.destroyed){e==null&&Dn("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var dee=function(e,r,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};by.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){dee(t,!0,i);var a=yc();t.render(t.renderOptions);var s=t.lastDrawTime=yc();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-a;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else dee(t,!1,i);t.skipFrame=!1,r4(r)}};r4(r)}};var EYe=function(e){this.init(e)},fee=EYe,_0=fee.prototype;_0.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],_0.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=i.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=i.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}var h=n.getComputedStyle(r),d=h.getPropertyValue("position");d==="static"&&Zr("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Rt(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},_0.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},_0.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}},_0.isHeadless=function(){return!1},[U8,uee,hee,C0,Tc,by].forEach(function(t){rr(_0,t)});var X8=1e3/60,pee={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=Qm(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(u,h){var d=yc(),f=i.averageRedrawTime,p=i.lastRedrawTime,g=[],m=i.cy.extent(),y=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var v=yc(),b=v-d,x=v-h;if(p<X8){var T=X8-(u?f:0);if(x>=e.deqFastCost*T)break}else if(u){if(b>=e.deqCost*p||b>=e.deqAvgCost*f)break}else if(x>=e.deqNoDrawCost*X8)break;var w=e.deq(n,y,m);if(w.length>0)for(var S=0;S<w.length;S++)g.push(w[S]);else break}g.length>0&&(e.onDeqd(n,g),!u&&e.shouldRedraw(n,g,y,m)&&a())},o=e.priority||hA;i.beforeRender(s,o(n))}}}},TYe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i4;yu(this,t),this.idsByKey=new bc,this.keyForId=new bc,this.cachesByLvl=new bc,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return vu(t,[{key:"getIdsFor",value:function(r){r==null&&Dn("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new l0,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new bc,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}])}(),gee=25,W4=50,Y4=-4,K8=3,mee=7.99,wYe=8,SYe=1024,kYe=1024,CYe=1024,_Ye=.2,AYe=.8,LYe=10,NYe=.15,RYe=.1,IYe=.9,DYe=.9,OYe=100,MYe=1,A0={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},PYe=Yi({getKey:null,doesEleInvalidateKey:i4,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:pQ,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),xy=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=PYe(r);rr(n,i),n.lookup=new TYe(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Ei=xy.prototype;Ei.reasons=A0,Ei.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]},Ei.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n},Ei.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new ty(function(r,n){return n.reqs-r.reqs});return e},Ei.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e},Ei.getElement=function(t,e,r,n,i){var a=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(gA(o*r))),n<Y4)n=Y4;else if(o>=mee||n>K8)return null;var u=Math.pow(2,n),h=e.h*u,d=e.w*u,f=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,f))return null;var p=l.get(t,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var g;if(h<=gee?g=gee:h<=W4?g=W4:g=Math.ceil(h/W4)*W4,h>CYe||d>kYe)return null;var m=a.getTextureQueue(g),y=m[m.length-2],v=function(){return a.recycleTexture(g,d)||a.addTexture(g,d)};y||(y=m[m.length-1]),y||(y=v()),y.width-y.usedWidth<d&&(y=v());for(var b=function(O){return O&&O.scaledLabelShown===f},x=i&&i===A0.dequeue,T=i&&i===A0.highQuality,w=i&&i===A0.downscale,S,k=n+1;k<=K8;k++){var L=l.get(t,k);if(L){S=L;break}}var _=S&&S.level===n+1?S:null,N=function(){y.context.drawImage(_.texture.canvas,_.x,0,_.width,_.height,y.usedWidth,0,d,h)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,d,g),b(_))N();else if(b(S))if(T){for(var C=S.level;C>n;C--)_=a.getElement(t,e,r,C,A0.downscale);N()}else return a.queueElement(t,S.level-1),S;else{var D;if(!x&&!T&&!w)for(var P=n-1;P>=Y4;P--){var A=l.get(t,P);if(A){D=A;break}}if(b(D))return a.queueElement(t,n),D;y.context.translate(y.usedWidth,0),y.context.scale(u,u),this.drawElement(y.context,t,e,f,!1),y.context.scale(1/u,1/u),y.context.translate(-y.usedWidth,0)}return p={x:y.usedWidth,texture:y,level:n,scale:u,width:d,height:h,scaledLabelShown:f},y.usedWidth+=Math.ceil(d+wYe),y.eleCaches.push(p),l.set(t,n,p),a.checkTextureFullness(y),p},Ei.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Ei.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var a=Y4;a<=K8;a++){var s=r.getForCachedKey(t,a);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var l=0;l<n.length;l++){var u=n[l],h=u.texture;h.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(h)}e.removeFromQueue(t)}},Ei.checkTextureUtility=function(t){t.invalidatedWidth>=_Ye*t.width&&this.retireTexture(t)},Ei.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>AYe&&t.fullnessChecks>=LYe?Eu(r,t):t.fullnessChecks++},Ei.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;Eu(n,t),t.retired=!0;for(var a=t.eleCaches,s=0;s<a.length;s++){var o=a[s];i.deleteCache(o.key,o.level)}dA(a);var l=e.getRetiredTextureQueue(r);l.push(t)},Ei.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(SYe,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i},Ei.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),a=0;a<i.length;a++){var s=i[a];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,dA(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Eu(i,s),n.push(s),s}},Ei.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(t),s=i[a];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:a};n.push(o),i[a]=o}},Ei.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,s=0;s<MYe&&r.size()>0;s++){var o=r.pop(),l=o.key,u=o.eles[0],h=a.hasCache(u,o.level);if(n[l]=null,h)continue;i.push(o);var d=e.getBoundingBox(u);e.getElement(u,d,t,o.level,A0.dequeue)}return i},Ei.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=uA,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(t))},Ei.onDequeue=function(t){this.onDequeues.push(t)},Ei.offDequeue=function(t){Eu(this.onDequeues,t)},Ei.setupDequeueing=pee.setupDequeueing({deqRedrawThreshold:OYe,deqCost:NYe,deqAvgCost:RYe,deqNoDrawCost:IYe,deqFastCost:DYe,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var a=0;a<r.length;a++)for(var s=r[a].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(yA(l,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var BYe=1,Ey=-4,X4=2,FYe=3.99,$Ye=50,zYe=50,UYe=.15,HYe=.1,GYe=.9,VYe=.9,qYe=1,yee=250,WYe=4e3*4e3,vee=32767,YYe=!0,bee=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=yc()-2*yee,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=Qm(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},zYe),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=yee?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(o,l){return l.reqs-o.reqs};r.layersQueue=new ty(a),r.setupDequeueing()},ji=bee.prototype,xee=0,XYe=Math.pow(2,53)-1;ji.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:xee=++xee%XYe,bb:t,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(l,u),s},ji.getLayers=function(t,e,r){var n=this,i=n.renderer,a=i.cy,s=a.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(gA(s*e)),r<Ey)r=Ey;else if(s>=FYe||r>X4)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),h=l[r]=l[r]||[],d,f=n.levelIsComplete(r,t),p,g=function(){var N=function(R){if(n.validateLayersElesOrdering(R,t),n.levelIsComplete(R,t))return p=l[R],!0},C=function(R){if(!p)for(var O=r+R;Ey<=O&&O<=X4&&!N(O);O+=R);};C(1),C(-1);for(var D=h.length-1;D>=0;D--){var P=h[D];P.invalid&&Eu(h,P)}};if(!f)g();else return h;var m=function(){if(!d){d=us();for(var N=0;N<t.length;N++)wQ(d,t[N].boundingBox())}return d},y=function(N){N=N||{};var C=N.after;m();var D=Math.ceil(d.w*u),P=Math.ceil(d.h*u);if(D>vee||P>vee)return null;var A=D*P;if(A>WYe)return null;var R=n.makeLayer(d,r);if(C!=null){var O=h.indexOf(C)+1;h.splice(O,0,R)}else(N.insert===void 0||N.insert)&&h.unshift(R);return R};if(n.skipping&&!o)return null;for(var v=null,b=t.length/BYe,x=!o,T=0;T<t.length;T++){var w=t[T],S=w._private.rscratch,k=S.imgLayerCaches=S.imgLayerCaches||{},L=k[r];if(L){v=L;continue}if((!v||v.eles.length>=b||!XGe(v.bb,w.boundingBox()))&&(v=y({insert:!0,after:v}),!v))return null;p||x?n.queueLayer(v,w):n.drawEleInLayer(v,w,r,e),v.eles.push(w),k[r]=v}return p||(x?null:h)},ji.getEleLevelForLayerLevel=function(t,e){return t},ji.drawEleInLayer=function(t,e,r,n){var i=this,a=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(s,!1),a.drawCachedElement(s,e,null,null,r,YYe),a.setImgSmoothing(s,!0))},ji.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var s=n[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length},ji.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var o=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[o+s]){this.invalidateLayer(i);break}}},ji.updateElementsInLayers=function(t,e){for(var r=this,n=Ym(t[0]),i=0;i<t.length;i++)for(var a=n?null:t[i],s=n?t[i]:t[i].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=Ey;u<=X4;u++){var h=l[u];h&&(a&&r.getEleLevelForLayerLevel(h.level)!==a.level||e(h,s,a))}},ji.haveLayers=function(){for(var t=this,e=!1,r=Ey;r<=X4;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e},ji.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=yc(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,a){e.invalidateLayer(n)}))},ji.invalidateLayer=function(t){if(this.lastInvalidationTime=yc(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Eu(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}},ji.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,a){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})},ji.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},ji.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},ji.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<qYe&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(e.drawEleInLayer(a,s,a.level,t),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n},ji.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var a=0;a<t.eles.length;a++){var s=t.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}},ji.requestRedraw=Qm(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),ji.setupDequeueing=pee.setupDequeueing({deqRedrawThreshold:$Ye,deqCost:UYe,deqAvgCost:HYe,deqNoDrawCost:GYe,deqFastCost:VYe,deq:function(e,r){return e.dequeue(r)},onDeqd:hA,shouldRedraw:pQ,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Eee={},Tee;function KYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function jYe(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function wee(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];t.lineTo(a.x,a.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var i=1;i<s.length;i++){var a=s[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function QYe(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var a=e,s=a[0];t.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var l=a[o];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function ZYe(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Eee.arrowShapeImpl=function(t){return(Tee||(Tee={polygon:KYe,"triangle-backcurve":jYe,"triangle-tee":wee,"circle-triangle":QYe,"triangle-cross":wee,circle:ZYe}))[t]};var Tl={};Tl.drawElement=function(t,e,r,n,i,a){var s=this;e.isNode()?s.drawNode(t,e,r,n,i,a):s.drawEdge(t,e,r,n,i,a)},Tl.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)},Tl.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)},Tl.drawCachedElementPortion=function(t,e,r,n,i,a,s,o){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var h=r.getElement(e,u,n,i,a);if(h!=null){var d=o(l,e);if(d===0)return;var f=s(l,e),p=u.x1,g=u.y1,m=u.w,y=u.h,v,b,x,T,w;if(f!==0){var S=r.getRotationPoint(e);x=S.x,T=S.y,t.translate(x,T),t.rotate(f),w=l.getImgSmoothing(t),w||l.setImgSmoothing(t,!0);var k=r.getRotationOffset(e);v=k.x,b=k.y}else v=p,b=g;var L;d!==1&&(L=t.globalAlpha,t.globalAlpha=L*d),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,v,b,m,y),d!==1&&(t.globalAlpha=L),f!==0&&(t.rotate(-f),t.translate(-x,-T),w||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var JYe=function(){return 0},eXe=function(e,r){return e.getTextAngle(r,null)},tXe=function(e,r){return e.getTextAngle(r,"source")},rXe=function(e,r){return e.getTextAngle(r,"target")},nXe=function(e,r){return r.effectiveOpacity()},j8=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Tl.drawCachedElement=function(t,e,r,n,i,a){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,h=o.slbTxrCache,d=o.tlbTxrCache,f=e.boundingBox(),p=a===!0?l.reasons.highQuality:null;if(!(f.w===0||f.h===0||!e.visible())&&(!n||yA(f,n))){var g=e.isEdge(),m=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,l,r,i,p,JYe,nXe),(!g||!m)&&s.drawCachedElementPortion(t,e,u,r,i,p,eXe,j8),g&&!m&&(s.drawCachedElementPortion(t,e,h,r,i,p,tXe,j8),s.drawCachedElementPortion(t,e,d,r,i,p,rXe,j8)),s.drawElementOverlay(t,e)}},Tl.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}},Tl.drawCachedElements=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];i.drawCachedElement(t,s,r,n)}},Tl.drawCachedNodes=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];s.isNode()&&i.drawCachedElement(t,s,r,n)}},Tl.drawLayeredElements=function(t,e,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],l=o.bb;l.w===0||l.h===0||t.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(t,e,r,n)};var wc={};wc.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(a&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=a?e.pstyle("opacity").value:1,h=a?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,f=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,y=e.pstyle("line-outline-color").value,v=u*h,b=u*h,x=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;d==="straight-triangle"?(s.eleStrokeStyle(t,e,R),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=p,t.lineCap=g,s.eleStrokeStyle(t,e,R),s.drawEdgePath(e,t,o.allpts,f),t.lineCap="butt")},T=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(t.lineWidth=p+m,t.lineCap=g,m>0)s.colorStrokeStyle(t,y[0],y[1],y[2],R);else{t.lineCap="butt";return}d==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,f),t.lineCap="butt")},w=function(){i&&s.drawEdgeOverlay(t,e)},S=function(){i&&s.drawEdgeUnderlay(t,e)},k=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;s.drawArrowheads(t,e,R)},L=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var _=e.pstyle("ghost").value==="yes";if(_){var N=e.pstyle("ghost-offset-x").pfValue,C=e.pstyle("ghost-offset-y").pfValue,D=e.pstyle("ghost-opacity").value,P=v*D;t.translate(N,C),x(P),k(P),t.translate(-N,-C)}else T();S(),x(),k(),w(),L(),r&&t.translate(l.x1,l.y1)}};var See=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,s=a.usePaths(),o=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,h=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,h[0],h[1],h[2],i),a.drawEdgePath(n,r,o.allpts,"solid")}}}};wc.drawEdgeOverlay=See("overlay"),wc.drawEdgeUnderlay=See("underlay"),wc.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,a=e,s,o=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,h=t.pstyle("line-dash-offset").pfValue;if(l){var d=r.join("$"),f=i.pathCacheKey&&i.pathCacheKey===d;f?(s=e=i.pathCache,o=!0):(s=e=new Path2D,i.pathCacheKey=d,i.pathCache=s)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=h;break;case"solid":a.setLineDash([]);break}if(!o&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)e.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"haystack":for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break;case"segments":if(i.isRound){var m=ls(i.roundCorners),y;try{for(m.s();!(y=m.n()).done;){var v=y.value;nee(e,v)}}catch(x){m.e(x)}finally{m.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var b=2;b+1<r.length;b+=2)e.lineTo(r[b],r[b+1]);break}e=a,l?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])},wc.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],l=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[i]-l[0],r[i+1]-l[1]),e.lineTo(r[i]+l[0],r[i+1]+l[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}},wc.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},wc.drawArrowhead=function(t,e,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var o=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",h=e.pstyle(r+"-arrow-fill").value,d=e.pstyle("width").pfValue,f=e.pstyle(r+"-arrow-width"),p=f.value==="match-line"?d:f.pfValue;f.units==="%"&&(p*=d);var g=e.pstyle("opacity").value;s===void 0&&(s=g);var m=t.globalCompositeOperation;(s!==1||h==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,d,l,p,n,i,a),t.globalCompositeOperation=m);var y=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,y[0],y[1],y[2],s),o.colorStrokeStyle(t,y[0],y[1],y[2],s),o.drawArrowShape(e,t,h,d,l,p,n,i,a)}}},wc.drawArrowShape=function(t,e,r,n,i,a,s,o,l){var u=this,h=this.usePaths()&&i!=="triangle-cross",d=!1,f,p=e,g={x:s,y:o},m=t.pstyle("arrow-scale").value,y=this.getArrowWidth(n,m),v=u.arrowShapes[i];if(h){var b=u.arrowPathCache=u.arrowPathCache||[],x=ed(i),T=b[x];T!=null?(f=e=T,d=!0):(f=e=new Path2D,b[x]=f)}d||(e.beginPath&&e.beginPath(),h?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,y,l,g,n),e.closePath&&e.closePath()),e=p,h&&(e.translate(s,o),e.rotate(l),e.scale(y,y)),(r==="filled"||r==="both")&&(h?e.fill(f):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(h?y:1),e.lineJoin="miter",h?e.stroke(f):e.stroke()),h&&(e.scale(1/y,1/y),e.rotate(-l),e.translate(-s,-o))};var Q8={};Q8.safeDrawImage=function(t,e,r,n,i,a,s,o,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{t.drawImage(e,r,n,i,a,s,o,l,u)}catch(h){Zr(h)}},Q8.drawInscribedImage=function(t,e,r,n,i){var a=this,s=r.position(),o=s.x,l=s.y,u=r.cy().style(),h=u.getIndexedStyle.bind(u),d=h(r,"background-fit","value",n),f=h(r,"background-repeat","value",n),p=r.width(),g=r.height(),m=r.padding()*2,y=p+(h(r,"background-width-relative-to","value",n)==="inner"?0:m),v=g+(h(r,"background-height-relative-to","value",n)==="inner"?0:m),b=r._private.rscratch,x=h(r,"background-clip","value",n),T=x==="node",w=h(r,"background-image-opacity","value",n)*i,S=h(r,"background-image-smoothing","value",n),k=r.pstyle("corner-radius").value;k!=="auto"&&(k=r.pstyle("corner-radius").pfValue);var L=e.width||e.cachedW,_=e.height||e.cachedH;(L==null||_==null)&&(document.body.appendChild(e),L=e.cachedW=e.width||e.offsetWidth,_=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var N=L,C=_;if(h(r,"background-width","value",n)!=="auto"&&(h(r,"background-width","units",n)==="%"?N=h(r,"background-width","pfValue",n)*y:N=h(r,"background-width","pfValue",n)),h(r,"background-height","value",n)!=="auto"&&(h(r,"background-height","units",n)==="%"?C=h(r,"background-height","pfValue",n)*v:C=h(r,"background-height","pfValue",n)),!(N===0||C===0)){if(d==="contain"){var D=Math.min(y/N,v/C);N*=D,C*=D}else if(d==="cover"){var D=Math.max(y/N,v/C);N*=D,C*=D}var P=o-y/2,A=h(r,"background-position-x","units",n),R=h(r,"background-position-x","pfValue",n);A==="%"?P+=(y-N)*R:P+=R;var O=h(r,"background-offset-x","units",n),M=h(r,"background-offset-x","pfValue",n);O==="%"?P+=(y-N)*M:P+=M;var I=l-v/2,F=h(r,"background-position-y","units",n),B=h(r,"background-position-y","pfValue",n);F==="%"?I+=(v-C)*B:I+=B;var $=h(r,"background-offset-y","units",n),V=h(r,"background-offset-y","pfValue",n);$==="%"?I+=(v-C)*V:I+=V,b.pathCache&&(P-=o,I-=l,o=0,l=0);var H=t.globalAlpha;t.globalAlpha=w;var te=a.getImgSmoothing(t),X=!1;if(S==="no"&&te?(a.setImgSmoothing(t,!1),X=!0):S==="yes"&&!te&&(a.setImgSmoothing(t,!0),X=!0),f==="no-repeat")T&&(t.save(),b.pathCache?t.clip(b.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,y,v,k,b),t.clip())),a.safeDrawImage(t,e,0,0,L,_,P,I,N,C),T&&t.restore();else{var ee=t.createPattern(e,f);t.fillStyle=ee,a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,y,v,k,b),t.translate(P,I),t.fill(),t.translate(-P,-I)}t.globalAlpha=H,X&&a.setImgSmoothing(t,te)}};var hd={};hd.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(gA(r*n));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(a<s)},hd.drawElementText=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,h=e.pstyle("label"),d=e.pstyle("source-label"),f=e.pstyle("target-label");if(u||(!h||!h.value)&&(!d||!d.value)&&(!f||!f.value))return;t.textAlign="center",t.textBaseline="bottom"}var p=!r,g;r&&(g=r,t.translate(-g.x1,-g.y1)),i==null?(s.drawText(t,e,null,p,a),e.isEdge()&&(s.drawText(t,e,"source",p,a),s.drawText(t,e,"target",p,a))):s.drawText(t,e,i,p,a),r&&t.translate(g.x1,g.y1)},hd.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e},hd.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,h=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,h[0],h[1],h[2],l)};function Z8(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.quadraticCurveTo(e+n,r,e+n,r+a),t.lineTo(e+n,r+i-a),t.quadraticCurveTo(e+n,r+i,e+n-a,r+i),t.lineTo(e+a,r+i),t.quadraticCurveTo(e,r+i,e,r+i-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),s?t.stroke():t.fill()}hd.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,a=e?e+"-":"",s=t.pstyle(a+"text-rotation");if(s.strValue==="autorotate"){var o=cs(i,"labelAngle",e);r=t.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r},hd.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,s=a.rscratch,o=i?e.effectiveOpacity():1;if(!(i&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=cs(s,"labelX",r),u=cs(s,"labelY",r),h,d,f=this.getLabelText(e,r);if(f!=null&&f!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,i);var p=r?r+"-":"",g=cs(s,"labelWidth",r),m=cs(s,"labelHeight",r),y=e.pstyle(p+"text-margin-x").pfValue,v=e.pstyle(p+"text-margin-y").pfValue,b=e.isEdge(),x=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;b&&(x="center",T="center"),l+=y,u+=v;var w;switch(n?w=this.getTextAngle(e,r):w=0,w!==0&&(h=l,d=u,t.translate(h,d),t.rotate(w),l=0,u=0),T){case"top":break;case"center":u+=m/2;break;case"bottom":u+=m;break}var S=e.pstyle("text-background-opacity").value,k=e.pstyle("text-border-opacity").value,L=e.pstyle("text-border-width").pfValue,_=e.pstyle("text-background-padding").pfValue,N=e.pstyle("text-background-shape").strValue,C=N.indexOf("round")===0,D=2;if(S>0||L>0&&k>0){var P=l-_;switch(x){case"left":P-=g;break;case"center":P-=g/2;break}var A=u-m-_,R=g+2*_,O=m+2*_;if(S>0){var M=t.fillStyle,I=e.pstyle("text-background-color").value;t.fillStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+S*o+")",C?Z8(t,P,A,R,O,D):t.fillRect(P,A,R,O),t.fillStyle=M}if(L>0&&k>0){var F=t.strokeStyle,B=t.lineWidth,$=e.pstyle("text-border-color").value,V=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+$[0]+","+$[1]+","+$[2]+","+k*o+")",t.lineWidth=L,t.setLineDash)switch(V){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=L/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(C?Z8(t,P,A,R,O,D,"stroke"):t.strokeRect(P,A,R,O),V==="double"){var H=L/2;C?Z8(t,P+H,A+H,R-H*2,O-H*2,D,"stroke"):t.strokeRect(P+H,A+H,R-H*2,O-H*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=B,t.strokeStyle=F}}var te=2*e.pstyle("text-outline-width").pfValue;if(te>0&&(t.lineWidth=te),e.pstyle("text-wrap").value==="wrap"){var X=cs(s,"labelWrapCachedLines",r),ee=cs(s,"labelLineHeight",r),re=g/2,pe=this.getLabelJustification(e);switch(pe==="auto"||(x==="left"?pe==="left"?l+=-g:pe==="center"&&(l+=-re):x==="center"?pe==="left"?l+=-re:pe==="right"&&(l+=re):x==="right"&&(pe==="center"?l+=re:pe==="right"&&(l+=g))),T){case"top":u-=(X.length-1)*ee;break;case"center":case"bottom":u-=(X.length-1)*ee;break}for(var K=0;K<X.length;K++)te>0&&t.strokeText(X[K],l,u),t.fillText(X[K],l,u),u+=ee}else te>0&&t.strokeText(f,l,u),t.fillText(f,l,u);w!==0&&(t.rotate(-w),t.translate(-h,-d))}}};var Ru={};Ru.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=e._private,h=u.rscratch,d=e.position();if(!(!Rt(d.x)||!Rt(d.y))&&!(a&&!e.visible())){var f=a?e.effectiveOpacity():1,p=s.usePaths(),g,m=!1,y=e.padding();o=e.width()+2*y,l=e.height()+2*y;var v;r&&(v=r,t.translate(-v.x1,-v.y1));for(var b=e.pstyle("background-image"),x=b.value,T=new Array(x.length),w=new Array(x.length),S=0,k=0;k<x.length;k++){var L=x[k],_=T[k]=L!=null&&L!=="none";if(_){var N=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",k);S++,w[k]=s.getCachedImage(L,N,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var C=e.pstyle("background-blacken").value,D=e.pstyle("border-width").pfValue,P=e.pstyle("background-opacity").value*f,A=e.pstyle("border-color").value,R=e.pstyle("border-style").value,O=e.pstyle("border-join").value,M=e.pstyle("border-cap").value,I=e.pstyle("border-position").value,F=e.pstyle("border-dash-pattern").pfValue,B=e.pstyle("border-dash-offset").pfValue,$=e.pstyle("border-opacity").value*f,V=e.pstyle("outline-width").pfValue,H=e.pstyle("outline-color").value,te=e.pstyle("outline-style").value,X=e.pstyle("outline-opacity").value*f,ee=e.pstyle("outline-offset").value,re=e.pstyle("corner-radius").value;re!=="auto"&&(re=e.pstyle("corner-radius").pfValue);var pe=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P;s.eleFillStyle(t,e,Z)},K=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;s.colorStrokeStyle(t,A[0],A[1],A[2],Z)},W=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X;s.colorStrokeStyle(t,H[0],H[1],H[2],Z)},j=function(Z,fe,U,le){var oe=s.nodePathCache=s.nodePathCache||[],ge=dQ(U==="polygon"?U+","+le.join(","):U,""+fe,""+Z,""+re),me=oe[ge],Ce,Ie=!1;return me!=null?(Ce=me,Ie=!0,h.pathCache=Ce):(Ce=new Path2D,oe[ge]=h.pathCache=Ce),{path:Ce,cacheHit:Ie}},Y=e.pstyle("shape").strValue,Q=e.pstyle("shape-polygon-points").pfValue;if(p){t.translate(d.x,d.y);var ie=j(o,l,Y,Q);g=ie.path,m=ie.cacheHit}var J=function(){if(!m){var Z=d;p&&(Z={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(g||t,Z.x,Z.y,o,l,re,h)}p?t.fill(g):t.fill()},we=function(){for(var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=u.backgrounding,le=0,oe=0;oe<w.length;oe++){var ge=e.cy().style().getIndexedStyle(e,"background-image-containment","value",oe);if(fe&&ge==="over"||!fe&&ge==="inside"){le++;continue}T[oe]&&w[oe].complete&&!w[oe].error&&(le++,s.drawInscribedImage(t,w[oe],e,oe,Z))}u.backgrounding=le!==S,U!==u.backgrounding&&e.updateStyle(!1)},ue=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;s.hasPie(e)&&(s.drawPie(t,e,fe),Z&&(p||s.nodeShapes[s.getNodeShape(e)].draw(t,d.x,d.y,o,l,re,h)))},ae=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;s.hasStripe(e)&&(t.save(),p?t.clip(h.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,d.x,d.y,o,l,re,h),t.clip()),s.drawStripe(t,e,fe),t.restore(),Z&&(p||s.nodeShapes[s.getNodeShape(e)].draw(t,d.x,d.y,o,l,re,h)))},Ue=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,fe=(C>0?C:-C)*Z,U=C>0?0:255;C!==0&&(s.colorFillStyle(t,U,U,U,fe),p?t.fill(g):t.fill())},xe=function(){if(D>0){if(t.lineWidth=D,t.lineCap=M,t.lineJoin=O,t.setLineDash)switch(R){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(F),t.lineDashOffset=B;break;case"solid":case"double":t.setLineDash([]);break}if(I!=="center"){if(t.save(),t.lineWidth*=2,I==="inside")p?t.clip(g):t.clip();else{var Z=new Path2D;Z.rect(-o/2-D,-l/2-D,o+2*D,l+2*D),Z.addPath(g),t.clip(Z,"evenodd")}p?t.stroke(g):t.stroke(),t.restore()}else p?t.stroke(g):t.stroke();if(R==="double"){t.lineWidth=D/3;var fe=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(g):t.stroke(),t.globalCompositeOperation=fe}t.setLineDash&&t.setLineDash([])}},Ze=function(){if(V>0){if(t.lineWidth=V,t.lineCap="butt",t.setLineDash)switch(te){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var Z=d;p&&(Z={x:0,y:0});var fe=s.getNodeShape(e),U=D;I==="inside"&&(U=0),I==="outside"&&(U*=2);var le=(o+U+(V+ee))/o,oe=(l+U+(V+ee))/l,ge=o*le,me=l*oe,Ce=s.nodeShapes[fe].points,Ie;if(p){var Ne=j(ge,me,fe,Ce);Ie=Ne.path}if(fe==="ellipse")s.drawEllipsePath(Ie||t,Z.x,Z.y,ge,me);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(fe)){var et=0,ut=0,rt=0;fe==="round-diamond"?et=(U+ee+V)*1.4:fe==="round-heptagon"?(et=(U+ee+V)*1.075,rt=-(U/2+ee+V)/35):fe==="round-hexagon"?et=(U+ee+V)*1.12:fe==="round-pentagon"?(et=(U+ee+V)*1.13,rt=-(U/2+ee+V)/15):fe==="round-tag"?(et=(U+ee+V)*1.12,ut=(U/2+V+ee)*.07):fe==="round-triangle"&&(et=(U+ee+V)*(Math.PI/2),rt=-(U+ee/2+V)/Math.PI),et!==0&&(le=(o+et)/o,ge=o*le,["round-hexagon","round-tag"].includes(fe)||(oe=(l+et)/l,me=l*oe)),re=re==="auto"?_Q(ge,me):re;for(var de=ge/2,De=me/2,Le=re+(U+V+ee)/2,je=new Array(Ce.length/2),dt=new Array(Ce.length/2),lt=0;lt<Ce.length/2;lt++)je[lt]={x:Z.x+ut+de*Ce[lt*2],y:Z.y+rt+De*Ce[lt*2+1]};var $e,tt,Ve,it,ft=je.length;for(tt=je[ft-1],$e=0;$e<ft;$e++)Ve=je[$e%ft],it=je[($e+1)%ft],dt[$e]=W8(tt,Ve,it,Le),tt=Ve,Ve=it;s.drawRoundPolygonPath(Ie||t,Z.x+ut,Z.y+rt,o*le,l*oe,Ce,dt)}else if(["roundrectangle","round-rectangle"].includes(fe))re=re==="auto"?wu(ge,me):re,s.drawRoundRectanglePath(Ie||t,Z.x,Z.y,ge,me,re+(U+V+ee)/2);else if(["cutrectangle","cut-rectangle"].includes(fe))re=re==="auto"?xA():re,s.drawCutRectanglePath(Ie||t,Z.x,Z.y,ge,me,null,re+(U+V+ee)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(fe))re=re==="auto"?wu(ge,me):re,s.drawBottomRoundRectanglePath(Ie||t,Z.x,Z.y,ge,me,re+(U+V+ee)/2);else if(fe==="barrel")s.drawBarrelPath(Ie||t,Z.x,Z.y,ge,me);else if(fe.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(fe)){var Tt=(U+V+ee)/o;Ce=h4(d4(Ce,Tt)),s.drawPolygonPath(Ie||t,Z.x,Z.y,o,l,Ce)}else{var kt=(U+V+ee)/o;Ce=h4(d4(Ce,-kt)),s.drawPolygonPath(Ie||t,Z.x,Z.y,o,l,Ce)}if(p?t.stroke(Ie):t.stroke(),te==="double"){t.lineWidth=U/3;var Nt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(Ie):t.stroke(),t.globalCompositeOperation=Nt}t.setLineDash&&t.setLineDash([])}},Je=function(){i&&s.drawNodeOverlay(t,e,d,o,l)},Xe=function(){i&&s.drawNodeUnderlay(t,e,d,o,l)},Pe=function(){s.drawElementText(t,e,null,n)},We=e.pstyle("ghost").value==="yes";if(We){var he=e.pstyle("ghost-offset-x").pfValue,Te=e.pstyle("ghost-offset-y").pfValue,Be=e.pstyle("ghost-opacity").value,ye=Be*f;t.translate(he,Te),W(),Ze(),pe(Be*P),J(),we(ye,!0),K(Be*$),xe(),ue(C!==0||D!==0),ae(C!==0||D!==0),we(ye,!1),Ue(ye),t.translate(-he,-Te)}p&&t.translate(-d.x,-d.y),Xe(),p&&t.translate(d.x,d.y),W(),Ze(),pe(),J(),we(f,!0),K(),xe(),ue(C!==0||D!==0),ae(C!==0||D!==0),we(f,!1),Ue(),p&&t.translate(-d.x,-d.y),Pe(),Je(),r&&t.translate(v.x1,v.y1)}};var kee=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,a,s){var o=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,h=n.pstyle("".concat(e,"-color")).value,d=n.pstyle("".concat(e,"-shape")).value,f=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||s==null){var p=n.padding();a=n.width()+2*p,s=n.height()+2*p}o.colorFillStyle(r,h[0],h[1],h[2],u),o.nodeShapes[d].draw(r,i.x,i.y,a+l*2,s+l*2,f),r.fill()}}}};Ru.drawNodeOverlay=kee("overlay"),Ru.drawNodeUnderlay=kee("underlay"),Ru.hasPie=function(t){return t=t[0],t._private.hasPie},Ru.hasStripe=function(t){return t=t[0],t._private.hasStripe},Ru.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),o=e.pstyle("pie-start-angle").pfValue,l=n.x,u=n.y,h=e.width(),d=e.height(),f=Math.min(h,d)/2,p,g=0,m=this.usePaths();if(m&&(l=0,u=0),a.units==="%"?f=f*a.pfValue:a.pfValue!==void 0&&(f=a.pfValue/2),s.units==="%"?p=f*s.pfValue:s.pfValue!==void 0&&(p=s.pfValue/2),!(p>=f))for(var y=1;y<=i.pieBackgroundN;y++){var v=e.pstyle("pie-"+y+"-background-size").value,b=e.pstyle("pie-"+y+"-background-color").value,x=e.pstyle("pie-"+y+"-background-opacity").value*r,T=v/100;T+g>1&&(T=1-g);var w=1.5*Math.PI+2*Math.PI*g;w+=o;var S=2*Math.PI*T,k=w+S;v===0||g>=1||g+T>1||(p===0?(t.beginPath(),t.moveTo(l,u),t.arc(l,u,f,w,k),t.closePath()):(t.beginPath(),t.arc(l,u,f,w,k),t.arc(l,u,p,k,w,!0),t.closePath()),this.colorFillStyle(t,b[0],b[1],b[2],x),t.fill(),g+=T)}},Ru.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=n.x,s=n.y,o=e.width(),l=e.height(),u=0,h=this.usePaths();t.save();var d=e.pstyle("stripe-direction").value,f=e.pstyle("stripe-size");switch(d){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var p=o,g=l;f.units==="%"?(p=p*f.pfValue,g=g*f.pfValue):f.pfValue!==void 0&&(p=f.pfValue,g=f.pfValue),h&&(a=0,s=0),s-=p/2,a-=g/2;for(var m=1;m<=i.stripeBackgroundN;m++){var y=e.pstyle("stripe-"+m+"-background-size").value,v=e.pstyle("stripe-"+m+"-background-color").value,b=e.pstyle("stripe-"+m+"-background-opacity").value*r,x=y/100;x+u>1&&(x=1-u),!(y===0||u>=1||u+x>1)&&(t.beginPath(),t.rect(a,s+g*u,p,g*x),t.closePath(),this.colorFillStyle(t,v[0],v[1],v[2],b),t.fill(),u+=x)}t.restore()};var Ba={},iXe=100;Ba.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r},Ba.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n},Ba.createGradientStyleFor=function(t,e,r,n,i){var a,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),h=r.targetEndpoint(),d=r.midpoint(),f=td(u,d),p=td(h,d);a=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(f,p))}else{var g=s?{x:0,y:0}:r.position(),m=r.paddedWidth(),y=r.paddedHeight();a=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(m,y))}else if(r.isEdge()){var v=r.sourceEndpoint(),b=r.targetEndpoint();a=t.createLinearGradient(v.x,v.y,b.x,b.y)}else{var x=s?{x:0,y:0}:r.position(),T=r.paddedWidth(),w=r.paddedHeight(),S=T/2,k=w/2,L=r.pstyle("background-gradient-direction").value;switch(L){case"to-bottom":a=t.createLinearGradient(x.x,x.y-k,x.x,x.y+k);break;case"to-top":a=t.createLinearGradient(x.x,x.y+k,x.x,x.y-k);break;case"to-left":a=t.createLinearGradient(x.x+S,x.y,x.x-S,x.y);break;case"to-right":a=t.createLinearGradient(x.x-S,x.y,x.x+S,x.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(x.x-S,x.y-k,x.x+S,x.y+k);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(x.x-S,x.y+k,x.x+S,x.y-k);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(x.x+S,x.y-k,x.x-S,x.y+k);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(x.x+S,x.y+k,x.x-S,x.y-k);break}}if(!a)return null;for(var _=l.length===o.length,N=o.length,C=0;C<N;C++)a.addColorStop(_?l[C]:C/(N-1),"rgba("+o[C][0]+","+o[C][1]+","+o[C][2]+","+i+")");return a},Ba.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i},Ba.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"},Ba.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}},Ba.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i},Ba.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"},Ba.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}},Ba.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=i*s,u=a*s,h;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var d=r.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var f=0;f<e.CANVAS_LAYERS;f++)h=r.canvases[f],h.width=l,h.height=u,h.style.width=i+"px",h.style.height=a+"px";for(var f=0;f<e.BUFFER_COUNT;f++)h=r.bufferCanvases[f],h.width=l,h.height=u,h.style.width=i+"px",h.style.height=a+"px";e.textureMult=1,s<=1&&(h=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,h.width=l*e.textureMult,h.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u,e.pixelRatio=s}},Ba.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},Ba.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])},Ba.render=function(t){var e=this;t=t||vQ();var r=e.cy,n=t.forcedContext,i=t.drawAllLayers,a=t.drawOnlyNodeLayer,s=t.forcedZoom,o=t.forcedPan,l=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=e.data,h=u.canvasNeedsRedraw,d=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),f=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,p=e.motionBlurPxRatio,g=r.hasCompoundNodes(),m=e.hoverData.draggingEles,y=!!(e.hoverData.selecting||e.touchData.selecting);f=f&&!n&&e.motionBlurEnabled&&!y;var v=f;n||(e.prevPxRatio!==l&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=l),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),f&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(v=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!d&&(h[e.NODE]=!0,h[e.SELECT_BOX]=!0);var b=r.style(),x=r.zoom(),T=s!==void 0?s:x,w=r.pan(),S={x:w.x,y:w.y},k={zoom:x,pan:{x:w.x,y:w.y}},L=e.prevViewport,_=L===void 0||k.zoom!==L.zoom||k.pan.x!==L.pan.x||k.pan.y!==L.pan.y;!_&&!(m&&!g)&&(e.motionBlurPxRatio=1),o&&(S=o),T*=l,S.x*=l,S.y*=l;var N=e.getCachedZSortedEles();function C(K,W,j,Y,Q){var ie=K.globalCompositeOperation;K.globalCompositeOperation="destination-out",e.colorFillStyle(K,255,255,255,e.motionBlurTransparency),K.fillRect(W,j,Y,Q),K.globalCompositeOperation=ie}function D(K,W){var j,Y,Q,ie;!e.clearingMotionBlur&&(K===u.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||K===u.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(j={x:w.x*p,y:w.y*p},Y=x*p,Q=e.canvasWidth*p,ie=e.canvasHeight*p):(j=S,Y=T,Q=e.canvasWidth,ie=e.canvasHeight),K.setTransform(1,0,0,1,0,0),W==="motionBlur"?C(K,0,0,Q,ie):!n&&(W===void 0||W)&&K.clearRect(0,0,Q,ie),i||(K.translate(j.x,j.y),K.scale(Y,Y)),o&&K.translate(o.x,o.y),s&&K.scale(s,s)}if(d||(e.textureDrawLastFrame=!1),d){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var P=e.data.bufferContexts[e.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:l*e.textureMult});var k=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};k.mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}h[e.DRAG]=!1,h[e.NODE]=!1;var A=u.contexts[e.NODE],R=e.textureCache.texture,k=e.textureCache.viewport;A.setTransform(1,0,0,1,0,0),f?C(A,0,0,k.width,k.height):A.clearRect(0,0,k.width,k.height);var O=b.core("outside-texture-bg-color").value,M=b.core("outside-texture-bg-opacity").value;e.colorFillStyle(A,O[0],O[1],O[2],M),A.fillRect(0,0,k.width,k.height);var x=r.zoom();D(A,!1),A.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/l,k.height/k.zoom/l),A.drawImage(R,k.mpan.x,k.mpan.y,k.width/k.zoom/l,k.height/k.zoom/l)}else e.textureOnViewport&&!n&&(e.textureCache=null);var I=r.extent(),F=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),B=e.hideEdgesOnViewport&&F,$=[];if($[e.NODE]=!h[e.NODE]&&f&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,$[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),$[e.DRAG]=!h[e.DRAG]&&f&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,$[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),h[e.NODE]||i||a||$[e.NODE]){var V=f&&!$[e.NODE]&&p!==1,A=n||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:u.contexts[e.NODE]),H=f&&!V?"motionBlur":void 0;D(A,H),B?e.drawCachedNodes(A,N.nondrag,l,I):e.drawLayeredElements(A,N.nondrag,l,I),e.debug&&e.drawDebugPoints(A,N.nondrag),!i&&!f&&(h[e.NODE]=!1)}if(!a&&(h[e.DRAG]||i||$[e.DRAG])){var V=f&&!$[e.DRAG]&&p!==1,A=n||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:u.contexts[e.DRAG]);D(A,f&&!V?"motionBlur":void 0),B?e.drawCachedNodes(A,N.drag,l,I):e.drawCachedElements(A,N.drag,l,I),e.debug&&e.drawDebugPoints(A,N.drag),!i&&!f&&(h[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,D),f&&p!==1){var te=u.contexts[e.NODE],X=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],ee=u.contexts[e.DRAG],re=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],pe=function(W,j,Y){W.setTransform(1,0,0,1,0,0),Y||!v?W.clearRect(0,0,e.canvasWidth,e.canvasHeight):C(W,0,0,e.canvasWidth,e.canvasHeight);var Q=p;W.drawImage(j,0,0,e.canvasWidth*Q,e.canvasHeight*Q,0,0,e.canvasWidth,e.canvasHeight)};(h[e.NODE]||$[e.NODE])&&(pe(te,X,$[e.NODE]),h[e.NODE]=!1),(h[e.DRAG]||$[e.DRAG])&&(pe(ee,re,$[e.DRAG]),h[e.DRAG]=!1)}e.prevViewport=k,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),f&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!d,e.mbFrames=0,h[e.NODE]=!0,h[e.DRAG]=!0,e.redraw()},iXe)),n||r.emit("render")};var Ty;Ba.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,i=r.data,a=n.style(),s=t.drawOnlyNodeLayer,o=t.drawAllLayers,l=i.canvasNeedsRedraw,u=t.forcedContext;if(r.showFps||!s&&l[r.SELECT_BOX]&&!o){var h=u||i.contexts[r.SELECT_BOX];if(e(h),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var d=r.cy.zoom(),f=a.core("selection-box-border-width").value/d;h.lineWidth=f,h.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",h.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),f>0&&(h.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",h.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var d=r.cy.zoom(),p=i.bgActivePosistion;h.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",h.beginPath(),h.arc(p.x,p.y,a.core("active-bg-size").pfValue/d,0,2*Math.PI),h.fill()}var g=r.lastRedrawTime;if(r.showFps&&g){g=Math.round(g);var m=Math.round(1e3/g),y="1 frame = "+g+" ms = "+m+" fps";if(h.setTransform(1,0,0,1,0,0),h.fillStyle="rgba(255, 0, 0, 0.75)",h.strokeStyle="rgba(255, 0, 0, 0.75)",h.font="30px Arial",!Ty){var v=h.measureText(y);Ty=v.actualBoundingBoxAscent}h.fillText(y,0,Ty);var b=60;h.strokeRect(0,Ty+10,250,20),h.fillRect(0,Ty+10,250*Math.min(m/b,1),20)}o||(l[r.SELECT_BOX]=!1)}};function Cee(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function aXe(t,e,r){var n=Cee(t,t.VERTEX_SHADER,e),i=Cee(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,n),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function sXe(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function J8(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function oXe(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function lXe(t,e,r,n,i){var a=n*r+e.x,s=i*r+e.y;return s=Math.round(t.canvasHeight-s),[a,s]}function cXe(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function uXe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function dd(t,e,r){var n=t[0]/255,i=t[1]/255,a=t[2]/255,s=e,o=r||new Array(4);return o[0]=n*s,o[1]=i*s,o[2]=a*s,o[3]=s,o}function L0(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function hXe(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function dXe(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function _ee(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function Aee(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function fXe(t,e,r,n,i,a){switch(e){case t.FLOAT:return new Float32Array(r.buffer,a*n,i);case t.INT:return new Int32Array(r.buffer,a*n,i)}}function pXe(t,e,r,n){var i=_ee(t,e),a=yi(i,2),s=a[0],o=a[1],l=Aee(t,o,n),u=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),o===t.FLOAT?t.vertexAttribPointer(r,s,o,!1,0,0):o===t.INT&&t.vertexAttribIPointer(r,s,o,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),u}function wl(t,e,r,n){var i=_ee(t,r),a=yi(i,3),s=a[0],o=a[1],l=a[2],u=Aee(t,o,e*s),h=s*l,d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,e*h,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),o===t.FLOAT?t.vertexAttribPointer(n,s,o,!1,h,0):o===t.INT&&t.vertexAttribIPointer(n,s,o,h,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var f=new Array(e),p=0;p<e;p++)f[p]=fXe(t,o,u,h,s,p);return d.dataArray=u,d.stride=h,d.size=s,d.getView=function(g){return f[g]},d.setPoint=function(g,m,y){var v=f[g];v[0]=m,v[1]=y},d.bufferSubData=function(g){t.bindBuffer(t.ARRAY_BUFFER,d),g?t.bufferSubData(t.ARRAY_BUFFER,0,u,0,g*s):t.bufferSubData(t.ARRAY_BUFFER,0,u)},d}function gXe(t,e,r){for(var n=9,i=new Float32Array(e*n),a=new Array(e),s=0;s<e;s++){var o=s*n*4;a[s]=new Float32Array(i.buffer,o,n)}var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,i.byteLength,t.DYNAMIC_DRAW);for(var u=0;u<3;u++){var h=r+u;t.enableVertexAttribArray(h),t.vertexAttribPointer(h,3,t.FLOAT,!1,3*12,u*12),t.vertexAttribDivisor(h,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),l.getMatrixView=function(d){return a[d]},l.setData=function(d,f){a[f].set(d,0)},l.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferSubData(t.ARRAY_BUFFER,0,i)},l}function mXe(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var Lee=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function e7(){var t=new Lee(9);return Lee!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Nee(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function yXe(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],h=e[7],d=e[8],f=r[0],p=r[1],g=r[2],m=r[3],y=r[4],v=r[5],b=r[6],x=r[7],T=r[8];return t[0]=f*n+p*s+g*u,t[1]=f*i+p*o+g*h,t[2]=f*a+p*l+g*d,t[3]=m*n+y*s+v*u,t[4]=m*i+y*o+v*h,t[5]=m*a+y*l+v*d,t[6]=b*n+x*s+T*u,t[7]=b*i+x*o+T*h,t[8]=b*a+x*l+T*d,t}function K4(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],h=e[7],d=e[8],f=r[0],p=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=l,t[6]=f*n+p*s+u,t[7]=f*i+p*o+h,t[8]=f*a+p*l+d,t}function Ree(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],h=e[7],d=e[8],f=Math.sin(r),p=Math.cos(r);return t[0]=p*n+f*s,t[1]=p*i+f*o,t[2]=p*a+f*l,t[3]=p*s-f*n,t[4]=p*o-f*i,t[5]=p*l-f*a,t[6]=u,t[7]=h,t[8]=d,t}function t7(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function vXe(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var bXe=function(){function t(e,r,n,i){yu(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,r,r),this.scratch=i(e,r,this.texHeight,"scratch")}return vu(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,a=this.texHeight,s=this.texSize,o=a/i,l=n*o,u=i*o;return l>s&&(o=s/n,l=n*o,u=i*o),{scale:o,texW:l,texH:u}}},{key:"draw",value:function(r,n,i){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,o=this.texRows,l=this.texHeight,u=this.getScale(n),h=u.scale,d=u.texW,f=u.texH,p=function(x,T){if(i&&T){var w=T.context,S=x.x,k=x.row,L=S,_=l*k;w.save(),w.translate(L,_),w.scale(h,h),i(w,n),w.restore()}},g=[null,null],m=function(){p(a.freePointer,a.canvas),g[0]={x:a.freePointer.x,y:a.freePointer.row*l,w:d,h:f},g[1]={x:a.freePointer.x+d,y:a.freePointer.row*l,w:0,h:f},a.freePointer.x+=d,a.freePointer.x==s&&(a.freePointer.x=0,a.freePointer.row++)},y=function(){var x=a.scratch,T=a.canvas;x.clear(),p({x:0,row:0},x);var w=s-a.freePointer.x,S=d-w,k=l;{var L=a.freePointer.x,_=a.freePointer.row*l,N=w;T.context.drawImage(x,0,0,N,k,L,_,N,k),g[0]={x:L,y:_,w:N,h:f}}{var C=w,D=(a.freePointer.row+1)*l,P=S;T&&T.context.drawImage(x,C,0,P,k,0,D,P,k),g[1]={x:0,y:D,w:P,h:f}}a.freePointer.x=S,a.freePointer.row++},v=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+d<=s)m();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===s?(v(),m()):this.enableWrapping?y():(v(),m())}return this.keyToLocation.set(r,g),this.needsBuffer=!0,g}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,i=this.texRows,a=this.getScale(r),s=a.texW;return this.freePointer.x+s>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=dXe(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),xXe=function(){function t(e,r,n,i){yu(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return vu(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas;return new bXe(r,n,i,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas,s=Math.floor(n/i);this.scratch=a(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i){var a=this.styleKeyToAtlas.get(r);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(n))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(r,n,i),this.styleKeyToAtlas.set(r,a)),a}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],a=new Map,s=null,o=ls(this.atlases),l;try{var u=function(){var d=l.value,f=d.getKeys(),p=EXe(n,f);if(p.size===0)return i.push(d),f.forEach(function(w){return a.set(w,d)}),1;s||(s=r._createAtlas(),i.push(s));var g=ls(f),m;try{for(g.s();!(m=g.n()).done;){var y=m.value;if(!p.has(y)){var v=d.getOffsets(y),b=yi(v,2),x=b[0],T=b[1];s.canFit({w:x.w+T.w,h:x.h})||(s.lock(),s=r._createAtlas(),i.push(s)),d.canvas&&(r._copyTextureToNewAtlas(y,d,s),a.set(y,s))}}}catch(w){g.e(w)}finally{g.f()}d.dispose()};for(o.s();!(l=o.n()).done;)u()}catch(h){o.e(h)}finally{o.f()}this.atlases=i,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var a=n.getOffsets(r),s=yi(a,2),o=s[0],l=s[1];if(l.w===0)i.draw(r,o,function(f){f.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,o.w,0,l.w,l.h);var h=o.w+l.w,d=o.h;i.draw(r,{w:h,h:d},function(f){f.drawImage(u,0,0,h,d,0,0,h,d)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function EXe(t,e){return t.intersection?t.intersection(e):new Set(QE(t).filter(function(r){return e.has(r)}))}var TXe=function(){function t(e,r){yu(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return vu(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var i=this.globalOptions,a=i.webglTexSize,s=i.createTextureCanvas,o=n.texRows,l=this._cacheScratchCanvas(s),u=new xXe(this.r,a,o,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var a=this.collections.get(i),s=rr({type:r,atlasCollection:a},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,a=null;return function(s,o,l,u){return u?((!a||o!=n||l!=i)&&(n=o,i=l,a=r(s,o,l)),a):r(s,o,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.forceRedraw,s=a===void 0?!1:a,o=i.filterEle,l=o===void 0?function(){return!0}:o,u=i.filterType,h=u===void 0?function(){return!0}:u,d=!1,f=!1,p=ls(r),g;try{for(p.s();!(g=p.n()).done;){var m=g.value;if(l(m)){var y=ls(this.renderTypes.values()),v;try{var b=function(){var T=v.value,w=T.type;if(h(w)){var S=n.collections.get(T.collection),k=T.getKey(m),L=Array.isArray(k)?k:[k];if(s)L.forEach(function(D){return S.markKeyForGC(D)}),f=!0;else{var _=T.getID?T.getID(m):m.id(),N=n._key(w,_),C=n.typeAndIdToKey.get(N);C!==void 0&&!uXe(L,C)&&(d=!0,n.typeAndIdToKey.delete(N),C.forEach(function(D){return S.markKeyForGC(D)}))}}};for(y.s();!(v=y.n()).done;)b()}catch(x){y.e(x)}finally{y.f()}}}}catch(x){p.e(x)}finally{p.f()}return f&&(this.gc(),d=!1),d}},{key:"gc",value:function(){var r=ls(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.gc()}}catch(a){r.e(a)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,i,a){var s=this.renderTypes.get(n),o=this.collections.get(s.collection),l=!1,u=o.draw(a,i,function(f){s.drawClipped?(f.save(),f.beginPath(),f.rect(0,0,i.w,i.h),f.clip(),s.drawElement(f,r,i,!0,!0),f.restore()):s.drawElement(f,r,i,!0,!0),l=!0});if(l){var h=s.getID?s.getID(r):r.id(),d=this._key(n,h);this.typeAndIdToKey.has(d)?this.typeAndIdToKey.get(d).push(a):this.typeAndIdToKey.set(d,[a])}return u}},{key:"getAtlasInfo",value:function(r,n){var i=this,a=this.renderTypes.get(n),s=a.getKey(r),o=Array.isArray(s)?s:[s];return o.map(function(l){var u=a.getBoundingBox(r,l),h=i.getOrCreateAtlas(r,n,u,l),d=h.getOffsets(l),f=yi(d,2),p=f[0],g=f[1];return{atlas:h,tex:p,tex1:p,tex2:g,bb:u}})}},{key:"getDebugInfo",value:function(){var r=[],n=ls(this.collections),i;try{for(n.s();!(i=n.n()).done;){var a=yi(i.value,2),s=a[0],o=a[1],l=o.getCounts(),u=l.keyCount,h=l.atlasCount;r.push({type:s,keyCount:u,atlasCount:h})}}catch(d){n.e(d)}finally{n.f()}return r}}])}(),wXe=function(){function t(e){yu(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return vu(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])}(),SXe=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,kXe=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,CXe=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,_Xe=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,wy={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},j4={IGNORE:1,USE_BB:2},r7=0,Iee=1,Dee=2,n7=3,N0=4,Q4=5,Sy=6,ky=7,AXe=function(){function t(e,r,n){yu(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=sXe,this.atlasManager=new TXe(e,n),this.batchManager=new wXe(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(wy.SCREEN),this.pickingProgram=this._createShaderProgram(wy.PICKING),this.vao=this._createVAO()}return vu(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,a=this.atlasManager;return i?a.invalidate(r,{filterType:function(o){return o===i},forceRedraw:!0}):a.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(r7,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(N0," || aVertType == ").concat(ky,` 
             || aVertType == `).concat(Q4," || aVertType == ").concat(Sy,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Iee,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(Dee,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(n7,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),a=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(a.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(SXe,`
      `).concat(kXe,`
      `).concat(CXe,`
      `).concat(_Xe,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(r7,`) {
          // look up the texel from the texture unit
          `).concat(a.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(n7,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(N0,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(N0," || vVertType == ").concat(ky,` 
          || vVertType == `).concat(Q4," || vVertType == ").concat(Sy,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(N0,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(ky,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(ky,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=aXe(n,i,s);o.aPosition=n.getAttribLocation(o,"aPosition"),o.aIndex=n.getAttribLocation(o,"aIndex"),o.aVertType=n.getAttribLocation(o,"aVertType"),o.aTransform=n.getAttribLocation(o,"aTransform"),o.aAtlasId=n.getAttribLocation(o,"aAtlasId"),o.aTex=n.getAttribLocation(o,"aTex"),o.aPointAPointB=n.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=n.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=n.getAttribLocation(o,"aLineWidth"),o.aColor=n.getAttribLocation(o,"aColor"),o.aCornerRadius=n.getAttribLocation(o,"aCornerRadius"),o.aBorderColor=n.getAttribLocation(o,"aBorderColor"),o.uPanZoomMatrix=n.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=n.getUniformLocation(o,"uAtlasSize"),o.uBGColor=n.getUniformLocation(o,"uBGColor"),o.uZoom=n.getUniformLocation(o,"uZoom"),o.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)o.uTextures.push(n.getUniformLocation(o,"uTexture".concat(l)));return o}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,i=this.gl,a=this.program,s=i.createVertexArray();return i.bindVertexArray(s),pXe(i,"vec2",a.aPosition,r),this.transformBuffer=gXe(i,n,a.aTransform),this.indexBuffer=wl(i,n,"vec4",a.aIndex),this.vertTypeBuffer=wl(i,n,"int",a.aVertType),this.atlasIdBuffer=wl(i,n,"int",a.aAtlasId),this.texBuffer=wl(i,n,"vec4",a.aTex),this.pointAPointBBuffer=wl(i,n,"vec4",a.aPointAPointB),this.pointCPointDBuffer=wl(i,n,"vec4",a.aPointCPointD),this.lineWidthBuffer=wl(i,n,"vec2",a.aLineWidth),this.colorBuffer=wl(i,n,"vec4",a.aColor),this.cornerRadiusBuffer=wl(i,n,"vec4",a.aCornerRadius),this.borderColorBuffer=wl(i,n,"vec4",a.aBorderColor),i.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wy.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,i){var a=this.atlasManager,s=this.batchManager,o=a.getRenderTypeOpts(i);if(this._isVisible(r,o)){if(this.renderTarget.picking&&o.getTexPickingMode){var l=o.getTexPickingMode(r);if(l===j4.IGNORE)return;if(l==j4.USE_BB){this.drawPickingRectangle(r,n,i);return}}var u=a.getAtlasInfo(r,i),h=ls(u),d;try{for(h.s();!(d=h.n()).done;){var f=d.value,p=f.atlas,g=f.tex1,m=f.tex2;s.canAddToCurrentBatch(p)||this.endBatch();for(var y=s.getAtlasIndexForBatch(p),v=0,b=[[g,!0],[m,!1]];v<b.length;v++){var x=yi(b[v],2),T=x[0],w=x[1];if(T.w!=0){var S=this.instanceCount;this.vertTypeBuffer.getView(S)[0]=r7;var k=this.indexBuffer.getView(S);L0(n,k);var L=this.atlasIdBuffer.getView(S);L[0]=y;var _=this.texBuffer.getView(S);_[0]=T.x,_[1]=T.y,_[2]=T.w,_[3]=T.h;var N=this.transformBuffer.getMatrixView(S);this.setTransformMatrix(r,N,o,f,w),this.instanceCount++,w||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(C){h.e(C)}finally{h.f()}}}},{key:"setTransformMatrix",value:function(r,n,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=0;if(i.shapeProps&&i.shapeProps.padding&&(o=r.pstyle(i.shapeProps.padding).pfValue),a){var l=a.bb,u=a.tex1,h=a.tex2,d=u.w/(u.w+h.w);s||(d=1-d);var f=this._getAdjustedBB(l,o,s,d);this._applyTransformMatrix(n,f,i,r)}else{var p=i.getBoundingBox(r),g=this._getAdjustedBB(p,o,!0,1);this._applyTransformMatrix(n,g,i,r)}}},{key:"_applyTransformMatrix",value:function(r,n,i,a){var s,o;Nee(r);var l=i.getRotation?i.getRotation(a):0;if(l!==0){var u=i.getRotationPoint(a),h=u.x,d=u.y;K4(r,r,[h,d]),Ree(r,r,l);var f=i.getRotationOffset(a);s=f.x+(n.xOffset||0),o=f.y+(n.yOffset||0)}else s=n.x1,o=n.y1;K4(r,r,[s,o]),t7(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,i,a){var s=r.x1,o=r.y1,l=r.w,u=r.h,h=r.yOffset;n&&(s-=n,o-=n,l+=2*n,u+=2*n);var d=0,f=l*a;return i&&a<1?l=f:!i&&a<1&&(d=l-f,s+=d,l=f),{x1:s,y1:o,w:l,h:u,xOffset:d,yOffset:h}}},{key:"drawPickingRectangle",value:function(r,n,i){var a=this.atlasManager.getRenderTypeOpts(i),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=N0;var o=this.indexBuffer.getView(s);L0(n,o);var l=this.colorBuffer.getView(s);dd([0,0,0],1,l);var u=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,u,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,i){var a=this.simpleShapeOptions.get(i);if(this._isVisible(r,a)){var s=a.shapeProps,o=this._getVertTypeForShape(r,s.shape);if(o===void 0||a.isSimple&&!a.isSimple(r)){this.drawTexture(r,n,i);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=o,o===Q4||o===Sy){var u=a.getBoundingBox(r),h=this._getCornerRadius(r,s.radius,u),d=this.cornerRadiusBuffer.getView(l);d[0]=h,d[1]=h,d[2]=h,d[3]=h,o===Sy&&(d[0]=0,d[2]=0)}var f=this.indexBuffer.getView(l);L0(n,f);var p=r.pstyle(s.color).value,g=r.pstyle(s.opacity).value,m=this.colorBuffer.getView(l);dd(p,g,m);var y=this.lineWidthBuffer.getView(l);if(y[0]=0,y[1]=0,s.border){var v=r.pstyle("border-width").value;if(v>0){var b=r.pstyle("border-color").value,x=r.pstyle("border-opacity").value,T=this.borderColorBuffer.getView(l);dd(b,x,T);var w=r.pstyle("border-position").value;if(w==="inside")y[0]=0,y[1]=-v;else if(w==="outside")y[0]=v,y[1]=0;else{var S=v/2;y[0]=S,y[1]=-S}}}var k=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(r,k,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var i=r.pstyle(n).value;switch(i){case"rectangle":return N0;case"ellipse":return ky;case"roundrectangle":case"round-rectangle":return Q4;case"bottom-round-rectangle":return Sy;default:return}}},{key:"_getCornerRadius",value:function(r,n,i){var a=i.w,s=i.h;if(r.pstyle(n).value==="auto")return wu(a,s);var o=r.pstyle(n).pfValue,l=a/2,u=s/2;return Math.min(o,u,l)}},{key:"drawEdgeArrow",value:function(r,n,i){if(r.visible()){var a=r._private.rscratch,s,o,l;if(i==="source"?(s=a.arrowStartX,o=a.arrowStartY,l=a.srcArrowAngle):(s=a.arrowEndX,o=a.arrowEndY,l=a.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(o)||o==null||isNaN(l)||l==null)){var u=r.pstyle(i+"-arrow-shape").value;if(u!=="none"){var h=r.pstyle(i+"-arrow-color").value,d=r.pstyle("opacity").value,f=r.pstyle("line-opacity").value,p=d*f,g=r.pstyle("width").pfValue,m=r.pstyle("arrow-scale").value,y=this.r.getArrowWidth(g,m),v=this.instanceCount,b=this.transformBuffer.getMatrixView(v);Nee(b),K4(b,b,[s,o]),t7(b,b,[y,y]),Ree(b,b,l),this.vertTypeBuffer.getView(v)[0]=n7;var x=this.indexBuffer.getView(v);L0(n,x);var T=this.colorBuffer.getView(v);dd(h,p,T),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var i=this._getEdgePoints(r);if(i){var a=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,o=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=a*s;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var h=this.instanceCount;this.vertTypeBuffer.getView(h)[0]=Iee;var d=this.indexBuffer.getView(h);L0(n,d);var f=this.colorBuffer.getView(h);dd(l,u,f);var p=this.lineWidthBuffer.getView(h);p[0]=o;var g=this.pointAPointBBuffer.getView(h);g[0]=i[0],g[1]=i[1],g[2]=i[2],g[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var m=0;m<i.length-2;m+=2){var y=this.instanceCount;this.vertTypeBuffer.getView(y)[0]=Dee;var v=this.indexBuffer.getView(y);L0(n,v);var b=this.colorBuffer.getView(y);dd(l,u,b);var x=this.lineWidthBuffer.getView(y);x[0]=o;var T=i[m-2],w=i[m-1],S=i[m],k=i[m+1],L=i[m+2],_=i[m+3],N=i[m+4],C=i[m+5];m==0&&(T=2*S-L+.001,w=2*k-_+.001),m==i.length-4&&(N=2*L-S+.001,C=2*_-k+.001);var D=this.pointAPointBBuffer.getView(y);D[0]=T,D[1]=w,D[2]=S,D[3]=k;var P=this.pointCPointDBuffer.getView(y);P[0]=L,P[1]=_,P[2]=N,P[3]=C,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))){var i=n.allpts;if(i.length==4)return i;var a=this._getNumSegments(r);return this._getCurveSegmentPoints(i,a)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),a=0;a<=n;a++)if(a==0)i[0]=r[0],i[1]=r[1];else if(a==n)i[a*2]=r[r.length-2],i[a*2+1]=r[r.length-1];else{var s=a/n;this._setCurvePoint(r,s,i,a*2)}return i}},{key:"_setCurvePoint",value:function(r,n,i,a){if(r.length<=2)i[a]=r[0],i[a+1]=r[1];else{for(var s=Array(r.length-2),o=0;o<s.length;o+=2){var l=(1-n)*r[o]+n*r[o+2],u=(1-n)*r[o+1]+n*r[o+3];s[o]=l,s[o+1]=u}return this._setCurvePoint(s,n,i,a)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,a=this.instanceCount;if(a!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var o=ls(this.buffers),l;try{for(o.s();!(l=o.n()).done;){var u=l.value;u.bufferSubData(a)}}catch(g){o.e(g)}finally{o.f()}for(var h=this.batchManager.getAtlases(),d=0;d<h.length;d++)h[d].bufferIfNeeded(r);for(var f=0;f<h.length;f++)r.activeTexture(r.TEXTURE0+f),r.bindTexture(r.TEXTURE_2D,h[f].texture),r.uniform1i(s.uTextures[f],f);r.uniform1f(s.uZoom,oXe(this.r)),r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var p=dd(this.bgColor,1);r.uniform4fv(s.uBGColor,p),r.drawArraysInstanced(r.TRIANGLES,0,i,a),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:h.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,o){return s+o.atlasCount},0),i=this.batchDebugInfo,a=i.reduce(function(s,o){return s+o.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:a}}}])}(),Oee={};Oee.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=LXe(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=mXe(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new AXe(r,n,t);var i=function(d){return function(f){return r.getTextAngle(f,d)}},a=function(d){return function(f){var p=f.pstyle(d);return p&&p.value}},s=function(d){return function(f){return f.pstyle("".concat(d,"-opacity")).value>0}},o=function(d){var f=d.pstyle("text-events").strValue==="yes";return f?j4.USE_BB:j4.IGNORE},l=function(d){var f=d.position(),p=f.x,g=f.y,m=d.outerWidth(),y=d.outerHeight();return{w:m,h:y,x1:p-m/2,y1:g-y/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:cXe,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:i7(e.getLabelKey,null),getBoundingBox:a7(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:i7(e.getSourceLabelKey,"source"),getBoundingBox:a7(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:i7(e.getTargetLabelKey,"target"),getBoundingBox:a7(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:a("target-label")});var u=Qm(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(h,d){var f=!1;d&&d.length>0&&(f|=r.drawing.invalidate(d)),f&&u()}),NXe(r)};function LXe(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return Vj(r)}function Mee(t,e){var r=t._private.rscratch;return cs(r,"labelWrapCachedLines",e)||[]}var i7=function(e,r){return function(n){var i=e(n),a=Mee(n,r);return a.length>1?a.map(function(s,o){return"".concat(i,"_").concat(o)}):i}},a7=function(e,r){return function(n,i){var a=e(n);if(typeof i=="string"){var s=i.indexOf("_");if(s>0){var o=Number(i.substring(s+1)),l=Mee(n,r),u=a.h/l.length,h=u*o,d=a.y1+h;return{x1:a.x1,w:a.w,y1:d,h:u,yOffset:h}}}return a}};function NXe(t){{var e=t.render;t.render=function(a){a=a||{};var s=t.cy;t.webgl&&(s.zoom()>mee?(RXe(t),e.call(t,a)):(IXe(t),Bee(t,a,wy.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(a){r.call(t,a),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(a,s,o,l){return FXe(t,a,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(a,s){i.call(t,a,s),a==="viewport"||a==="bounds"?t.pickingFrameBuffer.needsDraw=!0:a==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function RXe(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function IXe(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function DXe(t){var e=t.canvasWidth,r=t.canvasHeight,n=J8(t),i=n.pan,a=n.zoom,s=e7();K4(s,s,[i.x,i.y]),t7(s,s,[a,a]);var o=e7();vXe(o,e,r);var l=e7();return yXe(l,o,s),l}function Pee(t,e){var r=t.canvasWidth,n=t.canvasHeight,i=J8(t),a=i.pan,s=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(a.x,a.y),e.scale(s,s)}function OXe(t,e){t.drawSelectionRectangle(e,function(r){return Pee(t,r)})}function MXe(t){var e=t.data.contexts[t.NODE];e.save(),Pee(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function PXe(t){var e=function(i,a,s){for(var o=i.atlasManager.getAtlasCollection(a),l=t.data.contexts[t.NODE],u=o.atlases,h=0;h<u.length;h++){var d=u[h],f=d.canvas;if(f){var p=f.width,g=f.height,m=p*h,y=f.height*s,v=.4;l.save(),l.scale(v,v),l.drawImage(f,m,y),l.strokeStyle="black",l.rect(m,y,p,g),l.stroke(),l.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function BXe(t,e,r,n,i){var a,s,o,l,u=J8(t),h=u.pan,d=u.zoom;{var f=lXe(t,h,d,e,r),p=yi(f,2),g=p[0],m=p[1],y=6;a=g-y/2,s=m-y/2,o=y,l=y}if(o===0||l===0)return[];var v=t.data.contexts[t.WEBGL];v.bindFramebuffer(v.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(v.viewport(0,0,v.canvas.width,v.canvas.height),Bee(t,null,wy.PICKING),t.pickingFrameBuffer.needsDraw=!1);var b=o*l,x=new Uint8Array(b*4);v.readPixels(a,s,o,l,v.RGBA,v.UNSIGNED_BYTE,x),v.bindFramebuffer(v.FRAMEBUFFER,null);for(var T=new Set,w=0;w<b;w++){var S=x.slice(w*4,w*4+4),k=hXe(S)-1;k>=0&&T.add(k)}return T}function FXe(t,e,r){var n=BXe(t,e,r),i=t.getCachedZSortedEles(),a,s,o=ls(n),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,h=i[u];if(!a&&h.isNode()&&(a=h),!s&&h.isEdge()&&(s=h),a&&s)break}}catch(d){o.e(d)}finally{o.f()}return[a,s].filter(Boolean)}function s7(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function Bee(t,e,r){var n;t.webglDebug&&(n=performance.now());var i=t.drawing,a=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&OXe(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=DXe(t),l=t.getCachedZSortedEles();if(a=l.length,i.startFrame(o,r),r.screen){for(var u=0;u<l.nondrag.length;u++)s7(t,u,l.nondrag[u]);for(var h=0;h<l.drag.length;h++)s7(t,h,l.drag[h])}else if(r.picking)for(var d=0;d<l.length;d++)s7(t,d,l[d]);i.endFrame(),r.screen&&t.webglDebugShowAtlases&&(MXe(t),PXe(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var f=performance.now(),p=!1,g=Math.ceil(f-n),m=i.getDebugInfo(),y=["".concat(a," elements"),"".concat(m.totalInstances," instances"),"".concat(m.batchCount," batches"),"".concat(m.totalAtlases," atlases"),"".concat(m.wrappedCount," wrapped textures"),"".concat(m.simpleCount," simple shapes")].join(", ");if(p)console.log("WebGL (".concat(r.name,") - time ").concat(g,"ms, ").concat(y));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(g,"ms")),console.log("Totals:"),console.log("  ".concat(y)),console.log("Texture Atlases Used:");var v=m.atlasInfo,b=ls(v),x;try{for(b.s();!(x=b.n()).done;){var T=x.value;console.log("  ".concat(T.type,": ").concat(T.keyCount," keys, ").concat(T.atlasCount," atlases"))}}catch(w){b.e(w)}finally{b.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc())}var Iu={};Iu.drawPolygonPath=function(t,e,r,n,i,a){var s=n/2,o=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*a[0],r+o*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+s*a[l*2],r+o*a[l*2+1]);t.closePath()},Iu.drawRoundPolygonPath=function(t,e,r,n,i,a,s){s.forEach(function(o){return nee(t,o)}),t.closePath()},Iu.drawRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?wu(n,i):Math.min(a,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,l),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.arcTo(e-s,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()},Iu.drawBottomRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?wu(n,i):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()},Iu.drawCutRectanglePath=function(t,e,r,n,i,a,s){var o=n/2,l=i/2,u=s==="auto"?xA():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-l),t.lineTo(e+o-u,r-l),t.lineTo(e+o,r-l+u),t.lineTo(e+o,r+l-u),t.lineTo(e+o-u,r+l),t.lineTo(e-o+u,r+l),t.lineTo(e-o,r+l-u),t.lineTo(e-o,r-l+u),t.closePath()},Iu.drawBarrelPath=function(t,e,r,n,i){var a=n/2,s=i/2,o=e-a,l=e+a,u=r-s,h=r+s,d=EA(n,i),f=d.widthOffset,p=d.heightOffset,g=d.ctrlPtOffsetPct*f;t.beginPath&&t.beginPath(),t.moveTo(o,u+p),t.lineTo(o,h-p),t.quadraticCurveTo(o+g,h,o+f,h),t.lineTo(l-f,h),t.quadraticCurveTo(l-g,h,l,h-p),t.lineTo(l,u+p),t.quadraticCurveTo(l-g,u,l-f,u),t.lineTo(o+f,u),t.quadraticCurveTo(o+g,u,o,u+p),t.closePath()};for(var Fee=Math.sin(0),$ee=Math.cos(0),o7={},l7={},zee=Math.PI/40,R0=0*Math.PI;R0<2*Math.PI;R0+=zee)o7[R0]=Math.sin(R0),l7[R0]=Math.cos(R0);Iu.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,o=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=zee)a=e-o*o7[u]*Fee+o*l7[u]*$ee,s=r+l*l7[u]*Fee+l*o7[u]*$ee,u===0?t.moveTo(a,s):t.lineTo(a,s);t.closePath()};var Cy={};Cy.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]},Cy.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],o=Rt(t.maxWidth)||Rt(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,s*=t.scale,u=t.scale;else if(o){var h=1/0,d=1/0;Rt(t.maxWidth)&&(h=u*t.maxWidth/a),Rt(t.maxHeight)&&(d=u*t.maxHeight/s),u=Math.min(h,d),a*=u,s*=u}o||(a*=l,s*=l,u*=l);var f=document.createElement("canvas");f.width=a,f.height=s,f.style.width=a+"px",f.style.height=s+"px";var p=f.getContext("2d");if(a>0&&s>0){p.clearRect(0,0,a,s),p.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(t.full)p.translate(-n.x1*u,-n.y1*u),p.scale(u,u),this.drawElements(p,g),p.scale(1/u,1/u),p.translate(n.x1*u,n.y1*u);else{var m=e.pan(),y={x:m.x*u,y:m.y*u};u*=e.zoom(),p.translate(y.x,y.y),p.scale(u,u),this.drawElements(p,g),p.scale(1/u,1/u),p.translate(-y.x,-y.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,a,s),p.fill())}return f};function $Xe(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:e})}function Uee(t){var e=t.indexOf(",");return t.substr(e+1)}function Hee(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new m0(function(i,a){try{e.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){a(s)}});case"blob":return $Xe(Uee(n()),r);case"base64":return Uee(n());case"base64uri":default:return n()}}Cy.png=function(t){return Hee(t,this.bufferCanvasImage(t),"image/png")},Cy.jpg=function(t){return Hee(t,this.bufferCanvasImage(t),"image/jpeg")};var Gee={};Gee.nodeShapeImpl=function(t,e,r,n,i,a,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,a);case"polygon":return this.drawPolygonPath(e,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,a,o);case"barrel":return this.drawBarrelPath(e,r,n,i,a)}};var zXe=Vee,Er=Vee.prototype;Er.CANVAS_LAYERS=3,Er.SELECT_BOX=0,Er.DRAG=1,Er.NODE=2,Er.WEBGL=3,Er.CANVAS_TYPES=["2d","2d","2d","webgl2"],Er.BUFFER_COUNT=3,Er.TEXTURE_BUFFER=0,Er.MOTIONBLUR_BUFFER_NODE=1,Er.MOTIONBLUR_BUFFER_DRAG=2;function Vee(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Er.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Er.CANVAS_LAYERS),contexts:new Array(Er.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Er.CANVAS_LAYERS),bufferCanvases:new Array(Er.BUFFER_COUNT),bufferContexts:new Array(Er.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};FHe()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<Er.CANVAS_LAYERS;u++){var h=e.data.canvases[u]=n.createElement("canvas"),d=Er.CANVAS_TYPES[u];e.data.contexts[u]=h.getContext(d),e.data.contexts[u]||Dn("Could not create canvas of type "+d),Object.keys(l).forEach(function(K){h.style[K]=l[K]}),h.style.position="absolute",h.setAttribute("data-id","layer"+u),h.style.zIndex=String(Er.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(h),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Er.NODE].setAttribute("data-id","layer"+Er.NODE+"-node"),e.data.canvases[Er.SELECT_BOX].setAttribute("data-id","layer"+Er.SELECT_BOX+"-selectbox"),e.data.canvases[Er.DRAG].setAttribute("data-id","layer"+Er.DRAG+"-drag"),e.data.canvases[Er.WEBGL]&&e.data.canvases[Er.WEBGL].setAttribute("data-id","layer"+Er.WEBGL+"-webgl");for(var u=0;u<Er.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var f=us(),p=function(W){return{x:(W.x1+W.x2)/2,y:(W.y1+W.y2)/2}},g=function(W){return{x:-W.w/2,y:-W.h/2}},m=function(W){var j=W[0]._private,Y=j.oldBackgroundTimestamp===j.backgroundTimestamp;return!Y},y=function(W){return W[0]._private.nodeKey},v=function(W){return W[0]._private.labelStyleKey},b=function(W){return W[0]._private.sourceLabelStyleKey},x=function(W){return W[0]._private.targetLabelStyleKey},T=function(W,j,Y,Q,ie){return e.drawElement(W,j,Y,!1,!1,ie)},w=function(W,j,Y,Q,ie){return e.drawElementText(W,j,Y,Q,"main",ie)},S=function(W,j,Y,Q,ie){return e.drawElementText(W,j,Y,Q,"source",ie)},k=function(W,j,Y,Q,ie){return e.drawElementText(W,j,Y,Q,"target",ie)},L=function(W){return W.boundingBox(),W[0]._private.bodyBounds},_=function(W){return W.boundingBox(),W[0]._private.labelBounds.main||f},N=function(W){return W.boundingBox(),W[0]._private.labelBounds.source||f},C=function(W){return W.boundingBox(),W[0]._private.labelBounds.target||f},D=function(W,j){return j},P=function(W){return p(L(W))},A=function(W,j,Y){var Q=W?W+"-":"";return{x:j.x+Y.pstyle(Q+"text-margin-x").pfValue,y:j.y+Y.pstyle(Q+"text-margin-y").pfValue}},R=function(W,j,Y){var Q=W[0]._private.rscratch;return{x:Q[j],y:Q[Y]}},O=function(W){return A("",R(W,"labelX","labelY"),W)},M=function(W){return A("source",R(W,"sourceLabelX","sourceLabelY"),W)},I=function(W){return A("target",R(W,"targetLabelX","targetLabelY"),W)},F=function(W){return g(L(W))},B=function(W){return g(N(W))},$=function(W){return g(C(W))},V=function(W){var j=_(W),Y=g(_(W));if(W.isNode()){switch(W.pstyle("text-halign").value){case"left":Y.x=-j.w-(j.leftPad||0);break;case"right":Y.x=-(j.rightPad||0);break}switch(W.pstyle("text-valign").value){case"top":Y.y=-j.h-(j.topPad||0);break;case"bottom":Y.y=-(j.botPad||0);break}}return Y},H=e.data.eleTxrCache=new xy(e,{getKey:y,doesEleInvalidateKey:m,drawElement:T,getBoundingBox:L,getRotationPoint:P,getRotationOffset:F,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),te=e.data.lblTxrCache=new xy(e,{getKey:v,drawElement:w,getBoundingBox:_,getRotationPoint:O,getRotationOffset:V,isVisible:D}),X=e.data.slbTxrCache=new xy(e,{getKey:b,drawElement:S,getBoundingBox:N,getRotationPoint:M,getRotationOffset:B,isVisible:D}),ee=e.data.tlbTxrCache=new xy(e,{getKey:x,drawElement:k,getBoundingBox:C,getRotationPoint:I,getRotationOffset:$,isVisible:D}),re=e.data.lyrTxrCache=new bee(e);e.onUpdateEleCalcs(function(W,j){H.invalidateElements(j),te.invalidateElements(j),X.invalidateElements(j),ee.invalidateElements(j),re.invalidateElements(j);for(var Y=0;Y<j.length;Y++){var Q=j[Y]._private;Q.oldBackgroundTimestamp=Q.backgroundTimestamp}});var pe=function(W){for(var j=0;j<W.length;j++)re.enqueueElementRefinement(W[j].ele)};H.onDequeue(pe),te.onDequeue(pe),X.onDequeue(pe),ee.onDequeue(pe),t.webgl&&e.initWebgl(t,{getStyleKey:y,getLabelKey:v,getSourceLabelKey:b,getTargetLabelKey:x,drawElement:T,drawLabel:w,drawSourceLabel:S,drawTargetLabel:k,getElementBox:L,getLabelBox:_,getSourceLabelBox:N,getTargetLabelBox:C,getElementRotationPoint:P,getElementRotationOffset:F,getLabelRotationPoint:O,getSourceLabelRotationPoint:M,getTargetLabelRotationPoint:I,getLabelRotationOffset:V,getSourceLabelRotationOffset:B,getTargetLabelRotationOffset:$})}Er.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Er.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Er.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Er.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var UXe=typeof Path2D<"u";Er.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t},Er.usePaths=function(){return UXe&&this.pathsEnabled},Er.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},Er.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},Er.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":vi(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r},[Eee,Tl,wc,Q8,hd,Ru,Ba,Oee,Iu,Cy,Gee].forEach(function(t){rr(Er,t)});var HXe=[{name:"null",impl:XJ},{name:"base",impl:fee},{name:"canvas",impl:zXe}],GXe=[{type:"layout",extensions:gYe},{type:"renderer",extensions:HXe}],qee={},Wee={};function Yee(t,e,r){var n=r,i=function(L){Zr("Can not register `"+e+"` for `"+t+"` since `"+L+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(my.prototype[e])return i(e);my.prototype[e]=r}else if(t==="collection"){if(Ki.prototype[e])return i(e);Ki.prototype[e]=r}else if(t==="layout"){for(var a=function(L){this.options=L,r.call(this,L),Pr(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},s=a.prototype=Object.create(r.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var h=r.prototype.stop;s.stop=function(){var k=this.options;if(k&&k.animate){var L=this.animations;if(L)for(var _=0;_<L.length;_++)L[_].stop()}return h?h.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var d=function(L){return L._private.cy},f={addEventFields:function(L,_){_.layout=L,_.cy=d(L),_.target=L},bubble:function(){return!0},parent:function(L){return d(L)}};rr(s,{createEmitter:function(){return this._private.emitter=new C4(f,this),this},emitter:function(){return this._private.emitter},on:function(L,_){return this.emitter().on(L,_),this},one:function(L,_){return this.emitter().one(L,_),this},once:function(L,_){return this.emitter().one(L,_),this},removeListener:function(L,_){return this.emitter().removeListener(L,_),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(L,_){return this.emitter().emit(L,_),this}}),Jr.eventAliasesOn(s),n=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var p=Xee("renderer","base"),g=p.prototype,m=r,y=r.prototype,v=function(){p.apply(this,arguments),m.apply(this,arguments)},b=v.prototype;for(var x in g){var T=g[x],w=y[x]!=null;if(w)return i(x);b[x]=T}for(var S in y)b[S]=y[S];g.clientFunctions.forEach(function(k){b[k]=b[k]||function(){Dn("Renderer does not implement `renderer."+k+"()` on its prototype")}}),n=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Dn(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return qj({map:qee,keys:[t,e],value:n})}function Xee(t,e){return Wj({map:qee,keys:[t,e]})}function VXe(t,e,r,n,i){return qj({map:Wee,keys:[t,e,r,n],value:i})}function qXe(t,e,r,n){return Wj({map:Wee,keys:[t,e,r,n]})}var c7=function(){if(arguments.length===2)return Xee.apply(null,arguments);if(arguments.length===3)return Yee.apply(null,arguments);if(arguments.length===4)return qXe.apply(null,arguments);if(arguments.length===5)return VXe.apply(null,arguments);Dn("Invalid extension access syntax")};my.prototype.extension=c7,GXe.forEach(function(t){t.extensions.forEach(function(e){Yee(t.type,e.name,e.impl)})});var Z4=function(){if(!(this instanceof Z4))return new Z4;this.length=0},fd=Z4.prototype;fd.instanceString=function(){return"stylesheet"},fd.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this},fd.css=function(t,e){var r=this.length-1;if(Qt(t))this[r].properties.push({name:t,value:e});else if(Pr(t))for(var n=t,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],o=n[s];if(o!=null){var l=Mi.properties[s]||Mi.properties[JE(s)];if(l!=null){var u=l.name,h=o;this[r].properties.push({name:u,value:h})}}}return this},fd.style=fd.css,fd.generateStyle=function(t){var e=new Mi(t);return this.appendToStyle(e)},fd.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var a=0;a<i.length;a++){var s=i[a];t.css(s.name,s.value)}}return t};var WXe="3.32.0",Sl=function(e){if(e===void 0&&(e={}),Pr(e))return new my(e);if(Qt(e))return c7.apply(c7,arguments)};Sl.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Sl),t.apply(null,e),this},Sl.warnings=function(t){return mQ(t)},Sl.version=WXe,Sl.stylesheet=Sl.Stylesheet=Z4;var J4={exports:{}},eT={exports:{}},tT={exports:{}},YXe=tT.exports,Kee;function XXe(){return Kee||(Kee=1,function(t,e){(function(n,i){t.exports=i()})(YXe,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(h,d,f){a.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=h,this.target=d}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(h,d){for(var f=this.getOtherEnd(h),p=d.getGraphManager().getRoot();;){if(f.getOwner()==d)return f;if(f.getOwner()==p)break;f=f.getOwner().getParent()}return null},l.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),h=i(4);function d(p,g,m,y){m==null&&y==null&&(y=g),a.call(this,y),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=y,this.edges=[],this.graphManager=p,m!=null&&g!=null?this.rect=new o(g.x,g.y,m.width,m.height):this.rect=new o}d.prototype=Object.create(a.prototype);for(var f in a)d[f]=a[f];d.prototype.getEdges=function(){return this.edges},d.prototype.getChild=function(){return this.child},d.prototype.getOwner=function(){return this.owner},d.prototype.getWidth=function(){return this.rect.width},d.prototype.setWidth=function(p){this.rect.width=p},d.prototype.getHeight=function(){return this.rect.height},d.prototype.setHeight=function(p){this.rect.height=p},d.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},d.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},d.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},d.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},d.prototype.getRect=function(){return this.rect},d.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},d.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},d.prototype.setRect=function(p,g){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=g.width,this.rect.height=g.height},d.prototype.setCenter=function(p,g){this.rect.x=p-this.rect.width/2,this.rect.y=g-this.rect.height/2},d.prototype.setLocation=function(p,g){this.rect.x=p,this.rect.y=g},d.prototype.moveBy=function(p,g){this.rect.x+=p,this.rect.y+=g},d.prototype.getEdgeListToNode=function(p){var g=[],m=this;return m.edges.forEach(function(y){if(y.target==p){if(y.source!=m)throw"Incorrect edge source!";g.push(y)}}),g},d.prototype.getEdgesBetween=function(p){var g=[],m=this;return m.edges.forEach(function(y){if(!(y.source==m||y.target==m))throw"Incorrect edge source and/or target";(y.target==p||y.source==p)&&g.push(y)}),g},d.prototype.getNeighborsList=function(){var p=new Set,g=this;return g.edges.forEach(function(m){if(m.source==g)p.add(m.target);else{if(m.target!=g)throw"Incorrect incidency!";p.add(m.source)}}),p},d.prototype.withChildren=function(){var p=new Set,g,m;if(p.add(this),this.child!=null)for(var y=this.child.getNodes(),v=0;v<y.length;v++)g=y[v],m=g.withChildren(),m.forEach(function(b){p.add(b)});return p},d.prototype.getNoOfChildren=function(){var p=0,g;if(this.child==null)p=1;else for(var m=this.child.getNodes(),y=0;y<m.length;y++)g=m[y],p+=g.getNoOfChildren();return p==0&&(p=1),p},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},d.prototype.scatter=function(){var p,g,m=-l.INITIAL_WORLD_BOUNDARY,y=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_X+u.nextDouble()*(y-m)+m;var v=-l.INITIAL_WORLD_BOUNDARY,b=l.INITIAL_WORLD_BOUNDARY;g=l.WORLD_CENTER_Y+u.nextDouble()*(b-v)+v,this.rect.x=p,this.rect.y=g},d.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var g=p.getRight()-p.getLeft(),m=p.getBottom()-p.getTop();this.labelWidth>g&&(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)),this.labelHeight>m&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-m)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-m),this.setHeight(this.labelHeight))}}},d.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},d.prototype.transform=function(p){var g=this.rect.x;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var m=this.rect.y;m>l.WORLD_BOUNDARY?m=l.WORLD_BOUNDARY:m<-l.WORLD_BOUNDARY&&(m=-l.WORLD_BOUNDARY);var y=new h(g,m),v=p.inverseTransformPoint(y);this.setLocation(v.x,v.y)},d.prototype.getLeft=function(){return this.rect.x},d.prototype.getRight=function(){return this.rect.x+this.rect.width},d.prototype.getTop=function(){return this.rect.y},d.prototype.getBottom=function(){return this.rect.y+this.rect.height},d.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=d},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(6),u=i(3),h=i(1),d=i(13),f=i(12),p=i(11);function g(y,v,b){a.call(this,b),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=y,v!=null&&v instanceof l?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}g.prototype=Object.create(a.prototype);for(var m in a)g[m]=a[m];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(y,v,b){if(v==null&&b==null){var x=y;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(x)>-1)throw"Node already in graph!";return x.owner=this,this.getNodes().push(x),x}else{var T=y;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(b)>-1))throw"Source or target not in graph!";if(!(v.owner==b.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=b.owner?null:(T.source=v,T.target=b,T.isInterGraph=!1,this.getEdges().push(T),v.edges.push(T),b!=v&&b.edges.push(T),T)}},g.prototype.remove=function(y){var v=y;if(y instanceof u){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var b=v.edges.slice(),x,T=b.length,w=0;w<T;w++)x=b[w],x.isInterGraph?this.graphManager.remove(x):x.source.owner.remove(x);var S=this.nodes.indexOf(v);if(S==-1)throw"Node not in owner node list!";this.nodes.splice(S,1)}else if(y instanceof h){var x=y;if(x==null)throw"Edge is null!";if(!(x.source!=null&&x.target!=null))throw"Source and/or target is null!";if(!(x.source.owner!=null&&x.target.owner!=null&&x.source.owner==this&&x.target.owner==this))throw"Source and/or target owner is invalid!";var k=x.source.edges.indexOf(x),L=x.target.edges.indexOf(x);if(!(k>-1&&L>-1))throw"Source and/or target doesn't know this edge!";x.source.edges.splice(k,1),x.target!=x.source&&x.target.edges.splice(L,1);var S=x.source.owner.getEdges().indexOf(x);if(S==-1)throw"Not in owner's edge list!";x.source.owner.getEdges().splice(S,1)}},g.prototype.updateLeftTop=function(){for(var y=s.MAX_VALUE,v=s.MAX_VALUE,b,x,T,w=this.getNodes(),S=w.length,k=0;k<S;k++){var L=w[k];b=L.getTop(),x=L.getLeft(),y>b&&(y=b),v>x&&(v=x)}return y==s.MAX_VALUE?null:(w[0].getParent().paddingLeft!=null?T=w[0].getParent().paddingLeft:T=this.margin,this.left=v-T,this.top=y-T,new f(this.left,this.top))},g.prototype.updateBounds=function(y){for(var v=s.MAX_VALUE,b=-s.MAX_VALUE,x=s.MAX_VALUE,T=-s.MAX_VALUE,w,S,k,L,_,N=this.nodes,C=N.length,D=0;D<C;D++){var P=N[D];y&&P.child!=null&&P.updateBounds(),w=P.getLeft(),S=P.getRight(),k=P.getTop(),L=P.getBottom(),v>w&&(v=w),b<S&&(b=S),x>k&&(x=k),T<L&&(T=L)}var A=new d(v,x,b-v,T-x);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),N[0].getParent().paddingLeft!=null?_=N[0].getParent().paddingLeft:_=this.margin,this.left=A.x-_,this.right=A.x+A.width+_,this.top=A.y-_,this.bottom=A.y+A.height+_},g.calculateBounds=function(y){for(var v=s.MAX_VALUE,b=-s.MAX_VALUE,x=s.MAX_VALUE,T=-s.MAX_VALUE,w,S,k,L,_=y.length,N=0;N<_;N++){var C=y[N];w=C.getLeft(),S=C.getRight(),k=C.getTop(),L=C.getBottom(),v>w&&(v=w),b<S&&(b=S),x>k&&(x=k),T<L&&(T=L)}var D=new d(v,x,b-v,T-x);return D},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var y=0,v=this.nodes,b=v.length,x=0;x<b;x++){var T=v[x];y+=T.calcEstimatedSize()}return y==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=y/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var y=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new p,b=new Set,x=this.nodes[0],T,w,S=x.withChildren();for(S.forEach(function(D){v.push(D),b.add(D)});v.length!==0;){x=v.shift(),T=x.getEdges();for(var k=T.length,L=0;L<k;L++){var _=T[L];if(w=_.getOtherEndInGraph(x,this),w!=null&&!b.has(w)){var N=w.withChildren();N.forEach(function(D){v.push(D),b.add(D)})}}}if(this.isConnected=!1,b.size>=this.nodes.length){var C=0;b.forEach(function(D){D.owner==y&&C++}),C==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,i){var a,s=i(1);function o(l){a=i(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(l,u);return this.setRootGraph(h),this.rootGraph},o.prototype.add=function(l,u,h,d,f){if(h==null&&d==null&&f==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{f=h,d=u,h=l;var p=d.getOwner(),g=f.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==g)return h.isInterGraph=!1,p.add(h,d,f);if(h.isInterGraph=!0,h.source=d,h.target=f,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var d,f=h.length,p=0;p<f;p++)d=h[p],u.remove(d);var g=[];g=g.concat(u.getNodes());var m;f=g.length;for(var p=0;p<f;p++)m=g[p],u.remove(m);u==this.rootGraph&&this.setRootGraph(null);var y=this.graphs.indexOf(u);this.graphs.splice(y,1),u.parent=null}else if(l instanceof s){if(d=l,d==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(!(d.source!=null&&d.target!=null))throw"Source and/or target is null!";if(!(d.source.edges.indexOf(d)!=-1&&d.target.edges.indexOf(d)!=-1))throw"Source and/or target doesn't know this edge!";var y=d.source.edges.indexOf(d);if(d.source.edges.splice(y,1),y=d.target.edges.indexOf(d),d.target.edges.splice(y,1),!(d.source.owner!=null&&d.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";var y=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(y,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),h=u.length,d=0;d<h;d++)l=l.concat(u[d].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var h=0;h<u.length;h++)l=l.concat(u[h].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var h=l.getOwner(),d;do{if(d=h.getParent(),d==null)break;if(d==u)return!0;if(h=d.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(d=h.getParent(),d==null)break;if(d==l)return!0;if(h=d.getOwner(),h==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,h,d,f,p=this.getAllEdges(),g=p.length,m=0;m<g;m++){if(l=p[m],u=l.source,h=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=h,u==h){l.lca=u.getOwner();continue}for(d=u.getOwner();l.lca==null;){for(l.targetInLca=h,f=h.getOwner();l.lca==null;){if(f==d){l.lca=f;break}if(f==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=f.getParent(),f=l.targetInLca.getOwner()}if(d==this.rootGraph)break;l.lca==null&&(l.sourceInLca=d.getParent(),d=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var h=l.getOwner();do{if(h==null)break;var d=u.getOwner();do{if(d==null)break;if(d==h)return d;d=d.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var h,d=l.getNodes(),f=d.length,p=0;p<f;p++)h=d[p],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=this.edges.length,h=0;h<u;h++)if(l=this.edges[h],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},r.exports=o},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,h){if(!o.intersects(l))throw"assert failed";var d=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,d),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var f=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(f=1);var p=f*u[0],g=u[1]/f;u[0]<g?g=u[0]:p=u[1],u[0]=-1*d[0]*(g/2+h),u[1]=-1*d[1]*(p/2+h)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var h=o.getCenterX(),d=o.getCenterY(),f=l.getCenterX(),p=l.getCenterY();if(o.intersects(l))return u[0]=h,u[1]=d,u[2]=f,u[3]=p,!0;var g=o.getX(),m=o.getY(),y=o.getRight(),v=o.getX(),b=o.getBottom(),x=o.getRight(),T=o.getWidthHalf(),w=o.getHeightHalf(),S=l.getX(),k=l.getY(),L=l.getRight(),_=l.getX(),N=l.getBottom(),C=l.getRight(),D=l.getWidthHalf(),P=l.getHeightHalf(),A=!1,R=!1;if(h===f){if(d>p)return u[0]=h,u[1]=m,u[2]=f,u[3]=N,!1;if(d<p)return u[0]=h,u[1]=b,u[2]=f,u[3]=k,!1}else if(d===p){if(h>f)return u[0]=g,u[1]=d,u[2]=L,u[3]=p,!1;if(h<f)return u[0]=y,u[1]=d,u[2]=S,u[3]=p,!1}else{var O=o.height/o.width,M=l.height/l.width,I=(p-d)/(f-h),F=void 0,B=void 0,$=void 0,V=void 0,H=void 0,te=void 0;if(-O===I?h>f?(u[0]=v,u[1]=b,A=!0):(u[0]=y,u[1]=m,A=!0):O===I&&(h>f?(u[0]=g,u[1]=m,A=!0):(u[0]=x,u[1]=b,A=!0)),-M===I?f>h?(u[2]=_,u[3]=N,R=!0):(u[2]=L,u[3]=k,R=!0):M===I&&(f>h?(u[2]=S,u[3]=k,R=!0):(u[2]=C,u[3]=N,R=!0)),A&&R)return!1;if(h>f?d>p?(F=this.getCardinalDirection(O,I,4),B=this.getCardinalDirection(M,I,2)):(F=this.getCardinalDirection(-O,I,3),B=this.getCardinalDirection(-M,I,1)):d>p?(F=this.getCardinalDirection(-O,I,1),B=this.getCardinalDirection(-M,I,3)):(F=this.getCardinalDirection(O,I,2),B=this.getCardinalDirection(M,I,4)),!A)switch(F){case 1:V=m,$=h+-w/I,u[0]=$,u[1]=V;break;case 2:$=x,V=d+T*I,u[0]=$,u[1]=V;break;case 3:V=b,$=h+w/I,u[0]=$,u[1]=V;break;case 4:$=v,V=d+-T*I,u[0]=$,u[1]=V;break}if(!R)switch(B){case 1:te=k,H=f+-P/I,u[2]=H,u[3]=te;break;case 2:H=C,te=p+D*I,u[2]=H,u[3]=te;break;case 3:te=N,H=f+P/I,u[2]=H,u[3]=te;break;case 4:H=_,te=p+-D*I,u[2]=H,u[3]=te;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,h){if(h==null)return this.getIntersection2(o,l,u);var d=o.x,f=o.y,p=l.x,g=l.y,m=u.x,y=u.y,v=h.x,b=h.y,x=void 0,T=void 0,w=void 0,S=void 0,k=void 0,L=void 0,_=void 0,N=void 0,C=void 0;return w=g-f,k=d-p,_=p*f-d*g,S=b-y,L=m-v,N=v*y-m*b,C=w*L-S*k,C===0?null:(x=(k*N-L*_)/C,T=(S*_-w*N)/C,new a(x,T))},s.angleOfVector=function(o,l,u,h){var d=void 0;return o!==u?(d=Math.atan((h-l)/(u-o)),u<o?d+=Math.PI:h<l&&(d+=this.TWO_PI)):h<l?d=this.ONE_AND_HALF_PI:d=this.HALF_PI,d},s.doIntersect=function(o,l,u,h){var d=o.x,f=o.y,p=l.x,g=l.y,m=u.x,y=u.y,v=h.x,b=h.y,x=(p-d)*(b-y)-(v-m)*(g-f);if(x===0)return!1;var T=((b-y)*(v-d)+(m-v)*(b-f))/x,w=((f-g)*(v-d)+(p-d)*(b-f))/x;return 0<T&&T<1&&0<w&&w<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function d(f,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,p,g){return p&&d(f.prototype,p),g&&d(f,g),f}}();function s(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var o=function(f){return{value:f,next:null,prev:null}},l=function(f,p,g,m){return f!==null?f.next=p:m.head=p,g!==null?g.prev=p:m.tail=p,p.prev=f,p.next=g,m.length++,p},u=function(f,p){var g=f.prev,m=f.next;return g!==null?g.next=m:p.head=m,m!==null?m.prev=g:p.tail=g,f.prev=f.next=null,p.length--,f},h=function(){function d(f){var p=this;s(this,d),this.length=0,this.head=null,this.tail=null,f!=null&&f.forEach(function(g){return p.push(g)})}return a(d,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,g){return l(g.prev,o(p),g,this)}},{key:"insertAfter",value:function(p,g){return l(g,o(p),g.next,this)}},{key:"insertNodeBefore",value:function(p,g){return l(g.prev,p,g,this)}},{key:"insertNodeAfter",value:function(p,g){return l(g,p,g.next,this)}},{key:"push",value:function(p){return l(this.tail,o(p),null,this)}},{key:"unshift",value:function(p){return l(null,o(p),this.head,this)}},{key:"remove",value:function(p){return u(p,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var g=1,m=this.head;g<p;)m=m.next,g++;return m.value}}},{key:"set_object_at",value:function(p,g){if(p<=this.length()){for(var m=1,y=this.head;m<p;)y=y.next,m++;y.value=g}}}]),d}();r.exports=h},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(m){if(Array.isArray(m)){for(var y=0,v=Array(m.length);y<m.length;y++)v[y]=m[y];return v}else return Array.from(m)}var s=i(0),o=i(6),l=i(3),u=i(1),h=i(5),d=i(4),f=i(17),p=i(27);function g(m){p.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}g.RANDOM_SEED=1,g.prototype=Object.create(p.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var m=new o(this);return this.graphManager=m,m},g.prototype.newGraph=function(m){return new h(null,this.graphManager,m)},g.prototype.newNode=function(m){return new l(this.graphManager,m)},g.prototype.newEdge=function(m){return new u(null,null,m)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),s.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),y=0;y<m.length;y++)m[y];for(var v=this.graphManager.getRoot().getNodes(),y=0;y<v.length;y++)v[y];this.update(this.graphManager.getRoot())}},g.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof l){var y=m;if(y.getChild()!=null)for(var v=y.getChild().getNodes(),b=0;b<v.length;b++)update(v[b]);if(y.vGraphObject!=null){var x=y.vGraphObject;x.update(y)}}else if(m instanceof u){var T=m;if(T.vGraphObject!=null){var w=T.vGraphObject;w.update(T)}}else if(m instanceof h){var S=m;if(S.vGraphObject!=null){var k=S.vGraphObject;k.update(S)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(m){if(m==null)this.transform(new d(0,0));else{var y=new f,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){y.setWorldOrgX(m.x),y.setWorldOrgY(m.y),y.setDeviceOrgX(v.x),y.setDeviceOrgY(v.y);for(var b=this.getAllNodes(),x,T=0;T<b.length;T++)x=b[T],x.transform(y)}}},g.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var y,v,b=m.getNodes(),x=0;x<b.length;x++)y=b[x],v=y.getChild(),v==null||v.getNodes().length==0?y.scatter():(this.positionNodesRandomly(v),y.updateBounds())},g.prototype.getFlatForest=function(){for(var m=[],y=!0,v=this.graphManager.getRoot().getNodes(),b=!0,x=0;x<v.length;x++)v[x].getChild()!=null&&(b=!1);if(!b)return m;var T=new Set,w=[],S=new Map,k=[];for(k=k.concat(v);k.length>0&&y;){for(w.push(k[0]);w.length>0&&y;){var L=w[0];w.splice(0,1),T.add(L);for(var _=L.getEdges(),x=0;x<_.length;x++){var N=_[x].getOtherEnd(L);if(S.get(L)!=N)if(!T.has(N))w.push(N),S.set(N,L);else{y=!1;break}}}if(!y)m=[];else{var C=[].concat(a(T));m.push(C);for(var x=0;x<C.length;x++){var D=C[x],P=k.indexOf(D);P>-1&&k.splice(P,1)}T=new Set,S=new Map}}return m},g.prototype.createDummyNodesForBendpoints=function(m){for(var y=[],v=m.source,b=this.graphManager.calcLowestCommonAncestor(m.source,m.target),x=0;x<m.bendpoints.length;x++){var T=this.newNode(null);T.setRect(new Point(0,0),new Dimension(1,1)),b.add(T);var w=this.newEdge(null);this.graphManager.add(w,v,T),y.add(T),v=T}var w=this.newEdge(null);return this.graphManager.add(w,v,m.target),this.edgeToDummyNodes.set(m,y),m.isInterGraph()?this.graphManager.remove(m):b.remove(m),y},g.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(a(this.edgeToDummyNodes.keys())).concat(m);for(var y=0;y<m.length;y++){var v=m[y];if(v.bendpoints.length>0){for(var b=this.edgeToDummyNodes.get(v),x=0;x<b.length;x++){var T=b[x],w=new d(T.getCenterX(),T.getCenterY()),S=v.bendpoints.get(x);S.x=w.x,S.y=w.y,T.getOwner().remove(T)}this.graphManager.add(v,v.source,v.target)}}},g.transform=function(m,y,v,b){if(v!=null&&b!=null){var x=y;if(m<=50){var T=y/v;x-=(y-T)/50*(50-m)}else{var w=y*b;x+=(w-y)/50*(m-50)}return x}else{var S,k;return m<=50?(S=9*y/500,k=y/10):(S=9*y/50,k=-8*y),S*m+k}},g.findCenterOfTree=function(m){var y=[];y=y.concat(m);var v=[],b=new Map,x=!1,T=null;(y.length==1||y.length==2)&&(x=!0,T=y[0]);for(var w=0;w<y.length;w++){var S=y[w],k=S.getNeighborsList().size;b.set(S,S.getNeighborsList().size),k==1&&v.push(S)}var L=[];for(L=L.concat(v);!x;){var _=[];_=_.concat(L),L=[];for(var w=0;w<y.length;w++){var S=y[w],N=y.indexOf(S);N>=0&&y.splice(N,1);var C=S.getNeighborsList();C.forEach(function(A){if(v.indexOf(A)<0){var R=b.get(A),O=R-1;O==1&&L.push(A),b.set(A,O)}})}v=v.concat(L),(y.length==1||y.length==2)&&(x=!0,T=y[0])}return T},g.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=g},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(4);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(p){if(Array.isArray(p)){for(var g=0,m=Array(p.length);g<p.length;g++)m[g]=p[g];return m}else return Array.from(p)}var s=i(15),o=i(7),l=i(0),u=i(8),h=i(9);function d(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}d.prototype=Object.create(s.prototype);for(var f in s)d[f]=s[f];d.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},d.prototype.calcIdealEdgeLengths=function(){for(var p,g,m,y,v,b,x=this.getGraphManager().getAllEdges(),T=0;T<x.length;T++)p=x[T],p.idealLength=this.idealEdgeLength,p.isInterGraph&&(m=p.getSource(),y=p.getTarget(),v=p.getSourceInLca().getEstimatedSize(),b=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=v+b-2*l.SIMPLE_NODE_SIZE),g=p.getLca().getInclusionTreeDepth(),p.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+y.getInclusionTreeDepth()-2*g))},d.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},d.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),g,m=0;m<p.length;m++)g=p[m],this.calcSpringForce(g,g.idealLength)},d.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,y,v,b,x=this.getAllNodes(),T;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),T=new Set,m=0;m<x.length;m++)v=x[m],this.calculateRepulsionForceOfANode(v,T,p,g),T.add(v);else for(m=0;m<x.length;m++)for(v=x[m],y=m+1;y<x.length;y++)b=x[y],v.getOwner()==b.getOwner()&&this.calcRepulsionForce(v,b)},d.prototype.calcGravitationalForces=function(){for(var p,g=this.getAllNodesToApplyGravitation(),m=0;m<g.length;m++)p=g[m],this.calcGravitationalForce(p)},d.prototype.moveNodes=function(){for(var p=this.getAllNodes(),g,m=0;m<p.length;m++)g=p[m],g.move()},d.prototype.calcSpringForce=function(p,g){var m=p.getSource(),y=p.getTarget(),v,b,x,T;if(this.uniformLeafNodeSizes&&m.getChild()==null&&y.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;v=p.getLength(),v!=0&&(b=this.springConstant*(v-g),x=b*(p.lengthX/v),T=b*(p.lengthY/v),m.springForceX+=x,m.springForceY+=T,y.springForceX-=x,y.springForceY-=T)},d.prototype.calcRepulsionForce=function(p,g){var m=p.getRect(),y=g.getRect(),v=new Array(2),b=new Array(4),x,T,w,S,k,L,_;if(m.intersects(y)){u.calcSeparationAmount(m,y,v,o.DEFAULT_EDGE_LENGTH/2),L=2*v[0],_=2*v[1];var N=p.noOfChildren*g.noOfChildren/(p.noOfChildren+g.noOfChildren);p.repulsionForceX-=N*L,p.repulsionForceY-=N*_,g.repulsionForceX+=N*L,g.repulsionForceY+=N*_}else this.uniformLeafNodeSizes&&p.getChild()==null&&g.getChild()==null?(x=y.getCenterX()-m.getCenterX(),T=y.getCenterY()-m.getCenterY()):(u.getIntersection(m,y,b),x=b[2]-b[0],T=b[3]-b[1]),Math.abs(x)<o.MIN_REPULSION_DIST&&(x=h.sign(x)*o.MIN_REPULSION_DIST),Math.abs(T)<o.MIN_REPULSION_DIST&&(T=h.sign(T)*o.MIN_REPULSION_DIST),w=x*x+T*T,S=Math.sqrt(w),k=this.repulsionConstant*p.noOfChildren*g.noOfChildren/w,L=k*x/S,_=k*T/S,p.repulsionForceX-=L,p.repulsionForceY-=_,g.repulsionForceX+=L,g.repulsionForceY+=_},d.prototype.calcGravitationalForce=function(p){var g,m,y,v,b,x,T,w;g=p.getOwner(),m=(g.getRight()+g.getLeft())/2,y=(g.getTop()+g.getBottom())/2,v=p.getCenterX()-m,b=p.getCenterY()-y,x=Math.abs(v)+p.getWidth()/2,T=Math.abs(b)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(w=g.getEstimatedSize()*this.gravityRangeFactor,(x>w||T>w)&&(p.gravitationForceX=-this.gravityConstant*v,p.gravitationForceY=-this.gravityConstant*b)):(w=g.getEstimatedSize()*this.compoundGravityRangeFactor,(x>w||T>w)&&(p.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*b*this.compoundGravityConstant))},d.prototype.isConverged=function(){var p,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||g},d.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},d.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,g=this.graphManager.getAllNodes(),m=0;m<g.length;m++)p=g[m],p.noOfChildren=p.getNoOfChildren()},d.prototype.calcGrid=function(p){var g=0,m=0;g=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var y=new Array(g),v=0;v<g;v++)y[v]=new Array(m);for(var v=0;v<g;v++)for(var b=0;b<m;b++)y[v][b]=new Array;return y},d.prototype.addNodeToGrid=function(p,g,m){var y=0,v=0,b=0,x=0;y=parseInt(Math.floor((p.getRect().x-g)/this.repulsionRange)),v=parseInt(Math.floor((p.getRect().width+p.getRect().x-g)/this.repulsionRange)),b=parseInt(Math.floor((p.getRect().y-m)/this.repulsionRange)),x=parseInt(Math.floor((p.getRect().height+p.getRect().y-m)/this.repulsionRange));for(var T=y;T<=v;T++)for(var w=b;w<=x;w++)this.grid[T][w].push(p),p.setGridCoordinates(y,v,b,x)},d.prototype.updateGrid=function(){var p,g,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<m.length;p++)g=m[p],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},d.prototype.calculateRepulsionForceOfANode=function(p,g,m,y){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&m||y){var v=new Set;p.surrounding=new Array;for(var b,x=this.grid,T=p.startX-1;T<p.finishX+2;T++)for(var w=p.startY-1;w<p.finishY+2;w++)if(!(T<0||w<0||T>=x.length||w>=x[0].length)){for(var S=0;S<x[T][w].length;S++)if(b=x[T][w][S],!(p.getOwner()!=b.getOwner()||p==b)&&!g.has(b)&&!v.has(b)){var k=Math.abs(p.getCenterX()-b.getCenterX())-(p.getWidth()/2+b.getWidth()/2),L=Math.abs(p.getCenterY()-b.getCenterY())-(p.getHeight()/2+b.getHeight()/2);k<=this.repulsionRange&&L<=this.repulsionRange&&v.add(b)}}p.surrounding=[].concat(a(v))}for(T=0;T<p.surrounding.length;T++)this.calcRepulsionForce(p,p.surrounding[T])},d.prototype.calcRepulsionRange=function(){return 0},r.exports=d},function(r,n,i){var a=i(1),s=i(7);function o(u,h,d){a.call(this,u,h,d),this.idealLength=s.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3);function s(l,u,h,d){a.call(this,l,u,h,d),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(l,u,h,d){this.startX=l,this.finishX=u,this.startY=h,this.finishY=d},r.exports=s},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,h=0;h<u;h++)o.push(this.set[l[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var h=o[u];this.add(h)}},r.exports=s},function(r,n,i){var a=function(){function u(h,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,f){return d&&u(h.prototype,d),f&&u(h,f),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(h,d){s(this,u),(d!==null||d!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;h instanceof o?f=h.size():f=h.length,this._quicksort(h,0,f-1)}return a(u,[{key:"_quicksort",value:function(d,f,p){if(f<p){var g=this._partition(d,f,p);this._quicksort(d,f,g),this._quicksort(d,g+1,p)}}},{key:"_partition",value:function(d,f,p){for(var g=this._get(d,f),m=f,y=p;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}}},{key:"_get",value:function(d,f){return d instanceof o?d.get_object_at(f):d[f]}},{key:"_set",value:function(d,f,p){d instanceof o?d.set_object_at(f,p):d[f]=p}},{key:"_swap",value:function(d,f,p){var g=this._get(d,f);this._set(d,f,this._get(d,p)),this._set(d,p,g)}},{key:"_defaultCompareFunction",value:function(d,f){return f>d}}]),u}();r.exports=l},function(r,n,i){var a=function(){function l(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,h){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=h,this.match_score=d,this.mismatch_penalty=f,this.gap_penalty=p,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[g][m]=0}this.tracebackGrid=new Array(this.iMax);for(var y=0;y<this.iMax;y++){this.tracebackGrid[y]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[y][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var f=1;f<this.iMax;f++)for(var p=1;p<this.jMax;p++){var g=void 0;this.sequence1[f-1]===this.sequence2[p-1]?g=this.grid[f-1][p-1]+this.match_score:g=this.grid[f-1][p-1]+this.mismatch_penalty;var m=this.grid[f-1][p]+this.gap_penalty,y=this.grid[f][p-1]+this.gap_penalty,v=[g,m,y],b=this.arrayAllMaxIndexes(v);this.grid[f][p]=v[b[0]],this.tracebackGrid[f][p]=[b.includes(0),b.includes(1),b.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],f=this.tracebackGrid[d.pos[0]][d.pos[1]];f[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),f[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),f[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,d){for(var f=[],p=-1;(p=h.indexOf(d,p+1))!==-1;)f.push(p);return f}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===o&&h.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];o===h.event&&h.callback(l)}},r.exports=a}])})}(tT)),tT.exports}var KXe=eT.exports,jee;function jXe(){return jee||(jee=1,function(t,e){(function(n,i){t.exports=i(XXe())})(KXe,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).FDLayoutConstants;function o(){}for(var l in s)o[l]=s[l];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=o},function(n,i,a){var s=a(0).FDLayoutEdge;function o(u,h,d){s.call(this,u,h,d)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).LGraph;function o(u,h,d){s.call(this,u,h,d)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).LGraphManager;function o(u){s.call(this,u)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).FDLayoutNode,o=a(0).IMath;function l(h,d,f,p){s.call(this,h,d,f,p)}l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];l.prototype.move=function(){var h=this.graphManager.getLayout();this.displacementX=h.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=h.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementX=h.coolingFactor*h.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementY=h.coolingFactor*h.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),h.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},l.prototype.propogateDisplacementToChildren=function(h,d){for(var f=this.getChild().getNodes(),p,g=0;g<f.length;g++)p=f[g],p.getChild()==null?(p.moveBy(h,d),p.displacementX+=h,p.displacementY+=d):p.propogateDisplacementToChildren(h,d)},l.prototype.setPred1=function(h){this.pred1=h},l.prototype.getPred1=function(){return pred1},l.prototype.getPred2=function(){return pred2},l.prototype.setNext=function(h){this.next=h},l.prototype.getNext=function(){return next},l.prototype.setProcessed=function(h){this.processed=h},l.prototype.isProcessed=function(){return processed},n.exports=l},function(n,i,a){var s=a(0).FDLayout,o=a(4),l=a(3),u=a(5),h=a(2),d=a(1),f=a(0).FDLayoutConstants,p=a(0).LayoutConstants,g=a(0).Point,m=a(0).PointD,y=a(0).Layout,v=a(0).Integer,b=a(0).IGeometry,x=a(0).LGraph,T=a(0).Transform;function w(){s.call(this),this.toBeTiled={}}w.prototype=Object.create(s.prototype);for(var S in s)w[S]=s[S];w.prototype.newGraphManager=function(){var k=new o(this);return this.graphManager=k,k},w.prototype.newGraph=function(k){return new l(null,this.graphManager,k)},w.prototype.newNode=function(k){return new u(this.graphManager,k)},w.prototype.newEdge=function(k){return new h(null,null,k)},w.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(d.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=d.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=d.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=f.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=f.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=f.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=f.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/f.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=f.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},w.prototype.layout=function(){var k=p.DEFAULT_CREATE_BENDS_AS_NEEDED;return k&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},w.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(d.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(D){return L.has(D)});this.graphManager.setAllNodesToApplyGravitation(_)}}else{var k=this.getFlatForest();if(k.length>0)this.positionNodesRadially(k);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(N){return L.has(N)});this.graphManager.setAllNodesToApplyGravitation(_),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},w.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%f.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var k=new Set(this.getAllNodes()),L=this.nodesWithGravity.filter(function(C){return k.has(C)});this.graphManager.setAllNodesToApplyGravitation(L),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var _=!this.isTreeGrowing&&!this.isGrowthFinished,N=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(_,N),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},w.prototype.getPositionsData=function(){for(var k=this.graphManager.getAllNodes(),L={},_=0;_<k.length;_++){var N=k[_].rect,C=k[_].id;L[C]={id:C,x:N.getCenterX(),y:N.getCenterY(),w:N.width,h:N.height}}return L},w.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var k=!1;if(f.ANIMATE==="during")this.emit("layoutstarted");else{for(;!k;)k=this.tick();this.graphManager.updateBounds()}},w.prototype.calculateNodesToApplyGravitationTo=function(){var k=[],L,_=this.graphManager.getGraphs(),N=_.length,C;for(C=0;C<N;C++)L=_[C],L.updateConnected(),L.isConnected||(k=k.concat(L.getNodes()));return k},w.prototype.createBendpoints=function(){var k=[];k=k.concat(this.graphManager.getAllEdges());var L=new Set,_;for(_=0;_<k.length;_++){var N=k[_];if(!L.has(N)){var C=N.getSource(),D=N.getTarget();if(C==D)N.getBendpoints().push(new m),N.getBendpoints().push(new m),this.createDummyNodesForBendpoints(N),L.add(N);else{var P=[];if(P=P.concat(C.getEdgeListToNode(D)),P=P.concat(D.getEdgeListToNode(C)),!L.has(P[0])){if(P.length>1){var A;for(A=0;A<P.length;A++){var R=P[A];R.getBendpoints().push(new m),this.createDummyNodesForBendpoints(R)}}P.forEach(function(O){L.add(O)})}}}if(L.size==k.length)break}},w.prototype.positionNodesRadially=function(k){for(var L=new g(0,0),_=Math.ceil(Math.sqrt(k.length)),N=0,C=0,D=0,P=new m(0,0),A=0;A<k.length;A++){A%_==0&&(D=0,C=N,A!=0&&(C+=d.DEFAULT_COMPONENT_SEPERATION),N=0);var R=k[A],O=y.findCenterOfTree(R);L.x=D,L.y=C,P=w.radialLayout(R,O,L),P.y>N&&(N=Math.floor(P.y)),D=Math.floor(P.x+d.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(p.WORLD_CENTER_X-P.x/2,p.WORLD_CENTER_Y-P.y/2))},w.radialLayout=function(k,L,_){var N=Math.max(this.maxDiagonalInTree(k),d.DEFAULT_RADIAL_SEPARATION);w.branchRadialLayout(L,null,0,359,0,N);var C=x.calculateBounds(k),D=new T;D.setDeviceOrgX(C.getMinX()),D.setDeviceOrgY(C.getMinY()),D.setWorldOrgX(_.x),D.setWorldOrgY(_.y);for(var P=0;P<k.length;P++){var A=k[P];A.transform(D)}var R=new m(C.getMaxX(),C.getMaxY());return D.inverseTransformPoint(R)},w.branchRadialLayout=function(k,L,_,N,C,D){var P=(N-_+1)/2;P<0&&(P+=180);var A=(P+_)%360,R=A*b.TWO_PI/360,O=C*Math.cos(R),M=C*Math.sin(R);k.setCenter(O,M);var I=[];I=I.concat(k.getEdges());var F=I.length;L!=null&&F--;for(var B=0,$=I.length,V,H=k.getEdgesBetween(L);H.length>1;){var te=H[0];H.splice(0,1);var X=I.indexOf(te);X>=0&&I.splice(X,1),$--,F--}L!=null?V=(I.indexOf(H[0])+1)%$:V=0;for(var ee=Math.abs(N-_)/F,re=V;B!=F;re=++re%$){var pe=I[re].getOtherEnd(k);if(pe!=L){var K=(_+B*ee)%360,W=(K+ee)%360;w.branchRadialLayout(pe,k,K,W,C+D,D),B++}}},w.maxDiagonalInTree=function(k){for(var L=v.MIN_VALUE,_=0;_<k.length;_++){var N=k[_],C=N.getDiagonal();C>L&&(L=C)}return L},w.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},w.prototype.groupZeroDegreeMembers=function(){var k=this,L={};this.memberGroups={},this.idToDummyNode={};for(var _=[],N=this.graphManager.getAllNodes(),C=0;C<N.length;C++){var D=N[C],P=D.getParent();this.getNodeDegreeWithChildren(D)===0&&(P.id==null||!this.getToBeTiled(P))&&_.push(D)}for(var C=0;C<_.length;C++){var D=_[C],A=D.getParent().id;typeof L[A]>"u"&&(L[A]=[]),L[A]=L[A].concat(D)}Object.keys(L).forEach(function(R){if(L[R].length>1){var O="DummyCompound_"+R;k.memberGroups[O]=L[R];var M=L[R][0].getParent(),I=new u(k.graphManager);I.id=O,I.paddingLeft=M.paddingLeft||0,I.paddingRight=M.paddingRight||0,I.paddingBottom=M.paddingBottom||0,I.paddingTop=M.paddingTop||0,k.idToDummyNode[O]=I;var F=k.getGraphManager().add(k.newGraph(),I),B=M.getChild();B.add(I);for(var $=0;$<L[R].length;$++){var V=L[R][$];B.remove(V),F.add(V)}}})},w.prototype.clearCompounds=function(){var k={},L={};this.performDFSOnCompounds();for(var _=0;_<this.compoundOrder.length;_++)L[this.compoundOrder[_].id]=this.compoundOrder[_],k[this.compoundOrder[_].id]=[].concat(this.compoundOrder[_].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[_].getChild()),this.compoundOrder[_].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(k,L)},w.prototype.clearZeroDegreeMembers=function(){var k=this,L=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(_){var N=k.idToDummyNode[_];L[_]=k.tileNodes(k.memberGroups[_],N.paddingLeft+N.paddingRight),N.rect.width=L[_].width,N.rect.height=L[_].height})},w.prototype.repopulateCompounds=function(){for(var k=this.compoundOrder.length-1;k>=0;k--){var L=this.compoundOrder[k],_=L.id,N=L.paddingLeft,C=L.paddingTop;this.adjustLocations(this.tiledMemberPack[_],L.rect.x,L.rect.y,N,C)}},w.prototype.repopulateZeroDegreeMembers=function(){var k=this,L=this.tiledZeroDegreePack;Object.keys(L).forEach(function(_){var N=k.idToDummyNode[_],C=N.paddingLeft,D=N.paddingTop;k.adjustLocations(L[_],N.rect.x,N.rect.y,C,D)})},w.prototype.getToBeTiled=function(k){var L=k.id;if(this.toBeTiled[L]!=null)return this.toBeTiled[L];var _=k.getChild();if(_==null)return this.toBeTiled[L]=!1,!1;for(var N=_.getNodes(),C=0;C<N.length;C++){var D=N[C];if(this.getNodeDegree(D)>0)return this.toBeTiled[L]=!1,!1;if(D.getChild()==null){this.toBeTiled[D.id]=!1;continue}if(!this.getToBeTiled(D))return this.toBeTiled[L]=!1,!1}return this.toBeTiled[L]=!0,!0},w.prototype.getNodeDegree=function(k){k.id;for(var L=k.getEdges(),_=0,N=0;N<L.length;N++){var C=L[N];C.getSource().id!==C.getTarget().id&&(_=_+1)}return _},w.prototype.getNodeDegreeWithChildren=function(k){var L=this.getNodeDegree(k);if(k.getChild()==null)return L;for(var _=k.getChild().getNodes(),N=0;N<_.length;N++){var C=_[N];L+=this.getNodeDegreeWithChildren(C)}return L},w.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},w.prototype.fillCompexOrderByDFS=function(k){for(var L=0;L<k.length;L++){var _=k[L];_.getChild()!=null&&this.fillCompexOrderByDFS(_.getChild().getNodes()),this.getToBeTiled(_)&&this.compoundOrder.push(_)}},w.prototype.adjustLocations=function(k,L,_,N,C){L+=N,_+=C;for(var D=L,P=0;P<k.rows.length;P++){var A=k.rows[P];L=D;for(var R=0,O=0;O<A.length;O++){var M=A[O];M.rect.x=L,M.rect.y=_,L+=M.rect.width+k.horizontalPadding,M.rect.height>R&&(R=M.rect.height)}_+=R+k.verticalPadding}},w.prototype.tileCompoundMembers=function(k,L){var _=this;this.tiledMemberPack=[],Object.keys(k).forEach(function(N){var C=L[N];_.tiledMemberPack[N]=_.tileNodes(k[N],C.paddingLeft+C.paddingRight),C.rect.width=_.tiledMemberPack[N].width,C.rect.height=_.tiledMemberPack[N].height})},w.prototype.tileNodes=function(k,L){var _=d.TILING_PADDING_VERTICAL,N=d.TILING_PADDING_HORIZONTAL,C={rows:[],rowWidth:[],rowHeight:[],width:0,height:L,verticalPadding:_,horizontalPadding:N};k.sort(function(A,R){return A.rect.width*A.rect.height>R.rect.width*R.rect.height?-1:A.rect.width*A.rect.height<R.rect.width*R.rect.height?1:0});for(var D=0;D<k.length;D++){var P=k[D];C.rows.length==0?this.insertNodeToRow(C,P,0,L):this.canAddHorizontal(C,P.rect.width,P.rect.height)?this.insertNodeToRow(C,P,this.getShortestRowIndex(C),L):this.insertNodeToRow(C,P,C.rows.length,L),this.shiftToLastRow(C)}return C},w.prototype.insertNodeToRow=function(k,L,_,N){var C=N;if(_==k.rows.length){var D=[];k.rows.push(D),k.rowWidth.push(C),k.rowHeight.push(0)}var P=k.rowWidth[_]+L.rect.width;k.rows[_].length>0&&(P+=k.horizontalPadding),k.rowWidth[_]=P,k.width<P&&(k.width=P);var A=L.rect.height;_>0&&(A+=k.verticalPadding);var R=0;A>k.rowHeight[_]&&(R=k.rowHeight[_],k.rowHeight[_]=A,R=k.rowHeight[_]-R),k.height+=R,k.rows[_].push(L)},w.prototype.getShortestRowIndex=function(k){for(var L=-1,_=Number.MAX_VALUE,N=0;N<k.rows.length;N++)k.rowWidth[N]<_&&(L=N,_=k.rowWidth[N]);return L},w.prototype.getLongestRowIndex=function(k){for(var L=-1,_=Number.MIN_VALUE,N=0;N<k.rows.length;N++)k.rowWidth[N]>_&&(L=N,_=k.rowWidth[N]);return L},w.prototype.canAddHorizontal=function(k,L,_){var N=this.getShortestRowIndex(k);if(N<0)return!0;var C=k.rowWidth[N];if(C+k.horizontalPadding+L<=k.width)return!0;var D=0;k.rowHeight[N]<_&&N>0&&(D=_+k.verticalPadding-k.rowHeight[N]);var P;k.width-C>=L+k.horizontalPadding?P=(k.height+D)/(C+L+k.horizontalPadding):P=(k.height+D)/k.width,D=_+k.verticalPadding;var A;return k.width<L?A=(k.height+D)/L:A=(k.height+D)/k.width,A<1&&(A=1/A),P<1&&(P=1/P),P<A},w.prototype.shiftToLastRow=function(k){var L=this.getLongestRowIndex(k),_=k.rowWidth.length-1,N=k.rows[L],C=N[N.length-1],D=C.width+k.horizontalPadding;if(k.width-k.rowWidth[_]>D&&L!=_){N.splice(-1,1),k.rows[_].push(C),k.rowWidth[L]=k.rowWidth[L]-D,k.rowWidth[_]=k.rowWidth[_]+D,k.width=k.rowWidth[instance.getLongestRowIndex(k)];for(var P=Number.MIN_VALUE,A=0;A<N.length;A++)N[A].height>P&&(P=N[A].height);L>0&&(P+=k.verticalPadding);var R=k.rowHeight[L]+k.rowHeight[_];k.rowHeight[L]=P,k.rowHeight[_]<C.height+k.verticalPadding&&(k.rowHeight[_]=C.height+k.verticalPadding);var O=k.rowHeight[L]+k.rowHeight[_];k.height+=O-R,this.shiftToLastRow(k)}},w.prototype.tilingPreLayout=function(){d.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},w.prototype.tilingPostLayout=function(){d.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},w.prototype.reduceTrees=function(){for(var k=[],L=!0,_;L;){var N=this.graphManager.getAllNodes(),C=[];L=!1;for(var D=0;D<N.length;D++)_=N[D],_.getEdges().length==1&&!_.getEdges()[0].isInterGraph&&_.getChild()==null&&(C.push([_,_.getEdges()[0],_.getOwner()]),L=!0);if(L==!0){for(var P=[],A=0;A<C.length;A++)C[A][0].getEdges().length==1&&(P.push(C[A]),C[A][0].getOwner().remove(C[A][0]));k.push(P),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=k},w.prototype.growTree=function(k){for(var L=k.length,_=k[L-1],N,C=0;C<_.length;C++)N=_[C],this.findPlaceforPrunedNode(N),N[2].add(N[0]),N[2].add(N[1],N[1].source,N[1].target);k.splice(k.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},w.prototype.findPlaceforPrunedNode=function(k){var L,_,N=k[0];N==k[1].source?_=k[1].target:_=k[1].source;var C=_.startX,D=_.finishX,P=_.startY,A=_.finishY,R=0,O=0,M=0,I=0,F=[R,M,O,I];if(P>0)for(var B=C;B<=D;B++)F[0]+=this.grid[B][P-1].length+this.grid[B][P].length-1;if(D<this.grid.length-1)for(var B=P;B<=A;B++)F[1]+=this.grid[D+1][B].length+this.grid[D][B].length-1;if(A<this.grid[0].length-1)for(var B=C;B<=D;B++)F[2]+=this.grid[B][A+1].length+this.grid[B][A].length-1;if(C>0)for(var B=P;B<=A;B++)F[3]+=this.grid[C-1][B].length+this.grid[C][B].length-1;for(var $=v.MAX_VALUE,V,H,te=0;te<F.length;te++)F[te]<$?($=F[te],V=1,H=te):F[te]==$&&V++;if(V==3&&$==0)F[0]==0&&F[1]==0&&F[2]==0?L=1:F[0]==0&&F[1]==0&&F[3]==0?L=0:F[0]==0&&F[2]==0&&F[3]==0?L=3:F[1]==0&&F[2]==0&&F[3]==0&&(L=2);else if(V==2&&$==0){var X=Math.floor(Math.random()*2);F[0]==0&&F[1]==0?X==0?L=0:L=1:F[0]==0&&F[2]==0?X==0?L=0:L=2:F[0]==0&&F[3]==0?X==0?L=0:L=3:F[1]==0&&F[2]==0?X==0?L=1:L=2:F[1]==0&&F[3]==0?X==0?L=1:L=3:X==0?L=2:L=3}else if(V==4&&$==0){var X=Math.floor(Math.random()*4);L=X}else L=H;L==0?N.setCenter(_.getCenterX(),_.getCenterY()-_.getHeight()/2-f.DEFAULT_EDGE_LENGTH-N.getHeight()/2):L==1?N.setCenter(_.getCenterX()+_.getWidth()/2+f.DEFAULT_EDGE_LENGTH+N.getWidth()/2,_.getCenterY()):L==2?N.setCenter(_.getCenterX(),_.getCenterY()+_.getHeight()/2+f.DEFAULT_EDGE_LENGTH+N.getHeight()/2):N.setCenter(_.getCenterX()-_.getWidth()/2-f.DEFAULT_EDGE_LENGTH-N.getWidth()/2,_.getCenterY())},n.exports=w},function(n,i,a){var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),n.exports=s}])})}(eT)),eT.exports}var QXe=J4.exports,Qee;function ZXe(){return Qee||(Qee=1,function(t,e){(function(n,i){t.exports=i(jXe())})(QXe,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=1)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).layoutBase.LayoutConstants,o=a(0).layoutBase.FDLayoutConstants,l=a(0).CoSEConstants,u=a(0).CoSELayout,h=a(0).CoSENode,d=a(0).layoutBase.PointD,f=a(0).layoutBase.DimensionD,p={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function g(b,x){var T={};for(var w in b)T[w]=b[w];for(var w in x)T[w]=x[w];return T}function m(b){this.options=g(p,b),y(this.options)}var y=function(x){x.nodeRepulsion!=null&&(l.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=x.nodeRepulsion),x.idealEdgeLength!=null&&(l.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=x.idealEdgeLength),x.edgeElasticity!=null&&(l.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=x.edgeElasticity),x.nestingFactor!=null&&(l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.nestingFactor),x.gravity!=null&&(l.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=x.gravity),x.numIter!=null&&(l.MAX_ITERATIONS=o.MAX_ITERATIONS=x.numIter),x.gravityRange!=null&&(l.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=x.gravityRange),x.gravityCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.gravityCompound),x.gravityRangeCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.gravityRangeCompound),x.initialEnergyOnIncremental!=null&&(l.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.initialEnergyOnIncremental),x.quality=="draft"?s.QUALITY=0:x.quality=="proof"?s.QUALITY=2:s.QUALITY=1,l.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=x.nodeDimensionsIncludeLabels,l.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!x.randomize,l.ANIMATE=o.ANIMATE=s.ANIMATE=x.animate,l.TILE=x.tile,l.TILING_PADDING_VERTICAL=typeof x.tilingPaddingVertical=="function"?x.tilingPaddingVertical.call():x.tilingPaddingVertical,l.TILING_PADDING_HORIZONTAL=typeof x.tilingPaddingHorizontal=="function"?x.tilingPaddingHorizontal.call():x.tilingPaddingHorizontal};m.prototype.run=function(){var b,x,T=this.options;this.idToLNode={};var w=this.layout=new u,S=this;S.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var k=w.newGraphManager();this.gm=k;var L=this.options.eles.nodes(),_=this.options.eles.edges();this.root=k.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(L),w);for(var N=0;N<_.length;N++){var C=_[N],D=this.idToLNode[C.data("source")],P=this.idToLNode[C.data("target")];if(D!==P&&D.getEdgesBetween(P).length==0){var A=k.add(w.newEdge(),D,P);A.id=C.id()}}var R=function(I,F){typeof I=="number"&&(I=F);var B=I.data("id"),$=S.idToLNode[B];return{x:$.getRect().getCenterX(),y:$.getRect().getCenterY()}},O=function M(){for(var I=function(){T.fit&&T.cy.fit(T.eles,T.padding),b||(b=!0,S.cy.one("layoutready",T.ready),S.cy.trigger({type:"layoutready",layout:S}))},F=S.options.refresh,B,$=0;$<F&&!B;$++)B=S.stopped||S.layout.tick();if(B){w.checkLayoutSuccess()&&!w.isSubLayout&&w.doPostLayout(),w.tilingPostLayout&&w.tilingPostLayout(),w.isLayoutFinished=!0,S.options.eles.nodes().positions(R),I(),S.cy.one("layoutstop",S.options.stop),S.cy.trigger({type:"layoutstop",layout:S}),x&&cancelAnimationFrame(x),b=!1;return}var V=S.layout.getPositionsData();T.eles.nodes().positions(function(H,te){if(typeof H=="number"&&(H=te),!H.isParent()){for(var X=H.id(),ee=V[X],re=H;ee==null&&(ee=V[re.data("parent")]||V["DummyCompound_"+re.data("parent")],V[X]=ee,re=re.parent()[0],re!=null););return ee!=null?{x:ee.x,y:ee.y}:{x:H.position("x"),y:H.position("y")}}}),I(),x=requestAnimationFrame(M)};return w.addListener("layoutstarted",function(){S.options.animate==="during"&&(x=requestAnimationFrame(O))}),w.runLayout(),this.options.animate!=="during"&&(S.options.eles.nodes().not(":parent").layoutPositions(S,S.options,R),b=!1),this},m.prototype.getTopMostNodes=function(b){for(var x={},T=0;T<b.length;T++)x[b[T].id()]=!0;var w=b.filter(function(S,k){typeof S=="number"&&(S=k);for(var L=S.parent()[0];L!=null;){if(x[L.id()])return!1;L=L.parent()[0]}return!0});return w},m.prototype.processChildrenList=function(b,x,T){for(var w=x.length,S=0;S<w;S++){var k=x[S],L=k.children(),_,N=k.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(k.outerWidth()!=null&&k.outerHeight()!=null?_=b.add(new h(T.graphManager,new d(k.position("x")-N.w/2,k.position("y")-N.h/2),new f(parseFloat(N.w),parseFloat(N.h)))):_=b.add(new h(this.graphManager)),_.id=k.data("id"),_.paddingLeft=parseInt(k.css("padding")),_.paddingTop=parseInt(k.css("padding")),_.paddingRight=parseInt(k.css("padding")),_.paddingBottom=parseInt(k.css("padding")),this.options.nodeDimensionsIncludeLabels&&k.isParent()){var C=k.boundingBox({includeLabels:!0,includeNodes:!1}).w,D=k.boundingBox({includeLabels:!0,includeNodes:!1}).h,P=k.css("text-halign");_.labelWidth=C,_.labelHeight=D,_.labelPos=P}if(this.idToLNode[k.data("id")]=_,isNaN(_.rect.x)&&(_.rect.x=0),isNaN(_.rect.y)&&(_.rect.y=0),L!=null&&L.length>0){var A;A=T.getGraphManager().add(T.newGraph(),_),this.processChildrenList(A,L,T)}}},m.prototype.stop=function(){return this.stopped=!0,this};var v=function(x){x("layout","cose-bilkent",m)};typeof cytoscape<"u"&&v(cytoscape),n.exports=v}])})}(J4)),J4.exports}var JXe=ZXe();const eKe=Pl(JXe);var u7=function(){var t=E(function(T,w,S,k){for(S=S||{},k=T.length;k--;S[T[k]]=w);return S},"o"),e=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],o=[1,19],l=[6,7,8],u=[1,26],h=[1,24],d=[1,25],f=[6,7,11],p=[1,6,13,15,16,19,22],g=[1,33],m=[1,34],y=[1,6,7,11,13,15,16,19,22],v={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:E(function(w,S,k,L,_,N,C){var D=N.length-1;switch(_){case 6:case 7:return L;case 8:L.getLogger().trace("Stop NL ");break;case 9:L.getLogger().trace("Stop EOF ");break;case 11:L.getLogger().trace("Stop NL2 ");break;case 12:L.getLogger().trace("Stop EOF2 ");break;case 15:L.getLogger().info("Node: ",N[D].id),L.addNode(N[D-1].length,N[D].id,N[D].descr,N[D].type);break;case 16:L.getLogger().trace("Icon: ",N[D]),L.decorateNode({icon:N[D]});break;case 17:case 21:L.decorateNode({class:N[D]});break;case 18:L.getLogger().trace("SPACELIST");break;case 19:L.getLogger().trace("Node: ",N[D].id),L.addNode(0,N[D].id,N[D].descr,N[D].type);break;case 20:L.decorateNode({icon:N[D]});break;case 25:L.getLogger().trace("node found ..",N[D-2]),this.$={id:N[D-1],descr:N[D-1],type:L.getType(N[D-2],N[D])};break;case 26:this.$={id:N[D],descr:N[D],type:L.nodeType.DEFAULT};break;case 27:L.getLogger().trace("node found ..",N[D-3]),this.$={id:N[D-3],descr:N[D-1],type:L.getType(N[D-2],N[D])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:u,7:h,10:23,11:d},t(f,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),t(f,[2,18]),t(f,[2,19]),t(f,[2,20]),t(f,[2,21]),t(f,[2,23]),t(f,[2,24]),t(f,[2,26],{19:[1,30]}),{20:[1,31]},{6:u,7:h,10:32,11:d},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},t(p,[2,14],{7:g,11:m}),t(y,[2,8]),t(y,[2,9]),t(y,[2,10]),t(f,[2,15]),t(f,[2,16]),t(f,[2,17]),{20:[1,35]},{21:[1,36]},t(p,[2,13],{7:g,11:m}),t(y,[2,11]),t(y,[2,12]),{21:[1,37]},t(f,[2,25]),t(f,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:E(function(w,S){if(S.recoverable)this.trace(w);else{var k=new Error(w);throw k.hash=S,k}},"parseError"),parse:E(function(w){var S=this,k=[0],L=[],_=[null],N=[],C=this.table,D="",P=0,A=0,R=2,O=1,M=N.slice.call(arguments,1),I=Object.create(this.lexer),F={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(F.yy[B]=this.yy[B]);I.setInput(w,F.yy),F.yy.lexer=I,F.yy.parser=this,typeof I.yylloc>"u"&&(I.yylloc={});var $=I.yylloc;N.push($);var V=I.options&&I.options.ranges;typeof F.yy.parseError=="function"?this.parseError=F.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function H(J){k.length=k.length-2*J,_.length=_.length-J,N.length=N.length-J}E(H,"popStack");function te(){var J;return J=L.pop()||I.lex()||O,typeof J!="number"&&(J instanceof Array&&(L=J,J=L.pop()),J=S.symbols_[J]||J),J}E(te,"lex");for(var X,ee,re,pe,K={},W,j,Y,Q;;){if(ee=k[k.length-1],this.defaultActions[ee]?re=this.defaultActions[ee]:((X===null||typeof X>"u")&&(X=te()),re=C[ee]&&C[ee][X]),typeof re>"u"||!re.length||!re[0]){var ie="";Q=[];for(W in C[ee])this.terminals_[W]&&W>R&&Q.push("'"+this.terminals_[W]+"'");I.showPosition?ie="Parse error on line "+(P+1)+`:
`+I.showPosition()+`
Expecting `+Q.join(", ")+", got '"+(this.terminals_[X]||X)+"'":ie="Parse error on line "+(P+1)+": Unexpected "+(X==O?"end of input":"'"+(this.terminals_[X]||X)+"'"),this.parseError(ie,{text:I.match,token:this.terminals_[X]||X,line:I.yylineno,loc:$,expected:Q})}if(re[0]instanceof Array&&re.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ee+", token: "+X);switch(re[0]){case 1:k.push(X),_.push(I.yytext),N.push(I.yylloc),k.push(re[1]),X=null,A=I.yyleng,D=I.yytext,P=I.yylineno,$=I.yylloc;break;case 2:if(j=this.productions_[re[1]][1],K.$=_[_.length-j],K._$={first_line:N[N.length-(j||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(j||1)].first_column,last_column:N[N.length-1].last_column},V&&(K._$.range=[N[N.length-(j||1)].range[0],N[N.length-1].range[1]]),pe=this.performAction.apply(K,[D,A,P,F.yy,re[1],_,N].concat(M)),typeof pe<"u")return pe;j&&(k=k.slice(0,-1*j*2),_=_.slice(0,-1*j),N=N.slice(0,-1*j)),k.push(this.productions_[re[1]][0]),_.push(K.$),N.push(K._$),Y=C[k[k.length-2]][k[k.length-1]],k.push(Y);break;case 3:return!0}}return!0},"parse")},b=function(){var T={EOF:1,parseError:E(function(S,k){if(this.yy.parser)this.yy.parser.parseError(S,k);else throw new Error(S)},"parseError"),setInput:E(function(w,S){return this.yy=S||this.yy||{},this._input=w,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var S=w.match(/(?:\r\n?|\n).*/g);return S?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),w},"input"),unput:E(function(w){var S=w.length,k=w.split(/(?:\r\n?|\n)/g);this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-S),this.offset-=S;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1&&(this.yylineno-=k.length-1);var _=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===L.length?this.yylloc.first_column:0)+L[L.length-k.length].length-k[0].length:this.yylloc.first_column-S},this.options.ranges&&(this.yylloc.range=[_[0],_[0]+this.yyleng-S]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(w){this.unput(this.match.slice(w))},"less"),pastInput:E(function(){var w=this.matched.substr(0,this.matched.length-this.match.length);return(w.length>20?"...":"")+w.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var w=this.match;return w.length<20&&(w+=this._input.substr(0,20-w.length)),(w.substr(0,20)+(w.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var w=this.pastInput(),S=new Array(w.length+1).join("-");return w+this.upcomingInput()+`
`+S+"^"},"showPosition"),test_match:E(function(w,S){var k,L,_;if(this.options.backtrack_lexer&&(_={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_.yylloc.range=this.yylloc.range.slice(0))),L=w[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+w[0].length},this.yytext+=w[0],this.match+=w[0],this.matches=w,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(w[0].length),this.matched+=w[0],k=this.performAction.call(this,this.yy,this,S,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),k)return k;if(this._backtrack){for(var N in _)this[N]=_[N];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var w,S,k,L;this._more||(this.yytext="",this.match="");for(var _=this._currentRules(),N=0;N<_.length;N++)if(k=this._input.match(this.rules[_[N]]),k&&(!S||k[0].length>S[0].length)){if(S=k,L=N,this.options.backtrack_lexer){if(w=this.test_match(k,_[N]),w!==!1)return w;if(this._backtrack){S=!1;continue}else return!1}else if(!this.options.flex)break}return S?(w=this.test_match(S,_[L]),w!==!1?w:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var S=this.next();return S||this.lex()},"lex"),begin:E(function(S){this.conditionStack.push(S)},"begin"),popState:E(function(){var S=this.conditionStack.length-1;return S>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(S){return S=this.conditionStack.length-1-Math.abs(S||0),S>=0?this.conditionStack[S]:"INITIAL"},"topState"),pushState:E(function(S){this.begin(S)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(S,k,L,_){switch(L){case 0:return S.getLogger().trace("Found comment",k.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:S.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return S.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:S.getLogger().trace("end icon"),this.popState();break;case 10:return S.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return S.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return S.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return S.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:S.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return S.getLogger().trace("description:",k.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),S.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),S.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),S.getLogger().trace("node end ...",k.yytext),"NODE_DEND";case 30:return this.popState(),S.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),S.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),S.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),S.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),S.getLogger().trace("node end (("),"NODE_DEND";case 35:return S.getLogger().trace("Long description:",k.yytext),20;case 36:return S.getLogger().trace("Long description:",k.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return T}();v.lexer=b;function x(){this.yy={}}return E(x,"Parser"),x.prototype=v,v.Parser=x,new x}();u7.parser=u7;var tKe=u7,Ro=[],Zee=0,h7={},rKe=E(()=>{Ro=[],Zee=0,h7={}},"clear"),nKe=E(function(t){for(let e=Ro.length-1;e>=0;e--)if(Ro[e].level<t)return Ro[e];return null},"getParent"),iKe=E(()=>Ro.length>0?Ro[0]:null,"getMindmap"),aKe=E((t,e,r,n)=>{var l,u;se.info("addNode",t,e,r,n);const i=Re();let a=((l=i.mindmap)==null?void 0:l.padding)??Rr.mindmap.padding;switch(n){case Ti.ROUNDED_RECT:case Ti.RECT:case Ti.HEXAGON:a*=2}const s={id:Zee++,nodeId:on(e,i),level:t,descr:on(r,i),type:n,children:[],width:((u=i.mindmap)==null?void 0:u.maxNodeWidth)??Rr.mindmap.maxNodeWidth,padding:a},o=nKe(t);if(o)o.children.push(s),Ro.push(s);else if(Ro.length===0)Ro.push(s);else throw new Error('There can be only one root. No parent could be found for ("'+s.descr+'")')},"addNode"),Ti={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},sKe=E((t,e)=>{switch(se.debug("In get type",t,e),t){case"[":return Ti.RECT;case"(":return e===")"?Ti.ROUNDED_RECT:Ti.CLOUD;case"((":return Ti.CIRCLE;case")":return Ti.CLOUD;case"))":return Ti.BANG;case"{{":return Ti.HEXAGON;default:return Ti.DEFAULT}},"getType"),oKe=E((t,e)=>{h7[t]=e},"setElementForId"),lKe=E(t=>{if(!t)return;const e=Re(),r=Ro[Ro.length-1];t.icon&&(r.icon=on(t.icon,e)),t.class&&(r.class=on(t.class,e))},"decorateNode"),cKe=E(t=>{switch(t){case Ti.DEFAULT:return"no-border";case Ti.RECT:return"rect";case Ti.ROUNDED_RECT:return"rounded-rect";case Ti.CIRCLE:return"circle";case Ti.CLOUD:return"cloud";case Ti.BANG:return"bang";case Ti.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),uKe=E(()=>se,"getLogger"),hKe=E(t=>h7[t],"getElementById"),dKe={clear:rKe,addNode:aKe,getMindmap:iKe,nodeType:Ti,getType:sKe,setElementForId:oKe,decorateNode:lKe,type2Str:cKe,getLogger:uKe,getElementById:hKe},fKe=dKe,pKe=12,gKe=E(function(t,e,r,n){e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${-r.height+2*5} q0,-5 5,-5 h${r.width-2*5} q5,0 5,5 v${r.height-5} H0 Z`),e.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),mKe=E(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),yKe=E(function(t,e,r){const n=r.width,i=r.height,a=.15*n,s=.25*n,o=.35*n,l=.2*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${n*.25},${-1*n*.1}
      a${o},${o} 1 0,1 ${n*.4},${-1*n*.1}
      a${s},${s} 1 0,1 ${n*.35},${1*n*.2}

      a${a},${a} 1 0,1 ${n*.15},${1*i*.35}
      a${l},${l} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${s},${a} 1 0,1 ${-1*n*.25},${n*.15}
      a${o},${o} 1 0,1 ${-1*n*.5},0
      a${a},${a} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${a},${a} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${l},${l} 1 0,1 ${n*.1},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),vKe=E(function(t,e,r){const n=r.width,i=r.height,a=.15*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${n*.25},${-1*i*.1}
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},${1*i*.1}

      a${a},${a} 1 0,0 ${n*.15},${1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${1*i*.34}
      a${a},${a} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${a},${a} 1 0,0 ${-1*n*.25},${i*.15}
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${a},${a} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${-1*i*.34}
      a${a},${a} 1 0,0 ${n*.1},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),bKe=E(function(t,e,r){e.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("r",r.width/2)},"circleBkg");function Jee(t,e,r,n,i){return t.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("transform","translate("+(i.width-e)/2+", "+r+")")}E(Jee,"insertPolygonShape");var xKe=E(function(t,e,r){const n=r.height,a=n/4,s=r.width-r.padding+2*a,o=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-n/2},{x:s-a,y:-n},{x:a,y:-n},{x:0,y:-n/2}];Jee(e,s,n,o,r)},"hexagonBkg"),EKe=E(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),TKe=E(async function(t,e,r,n,i){const a=i.htmlLabels,s=n%(pKe-1),o=e.append("g");r.section=s;let l="section-"+s;s<0&&(l+=" section-root"),o.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+l);const u=o.append("g"),h=o.append("g"),d=r.descr.replace(/(<br\/*>)/g,`
`);await Xa(h,d,{useHtmlLabels:a,width:r.width,classes:"mindmap-node-label"},i),a||h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const f=h.node().getBBox(),[p]=Xc(i.fontSize);if(r.height=f.height+p*1.1*.5+r.padding,r.width=f.width+2*r.padding,r.icon)if(r.type===t.nodeType.CIRCLE)r.height+=50,r.width+=50,o.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),h.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;const g=r.height;r.height=Math.max(g,60);const m=Math.abs(r.height-g);o.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+m/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),h.attr("transform","translate("+(25+r.width/2)+", "+(m/2+r.padding/2)+")")}else if(a){const g=(r.width-f.width)/2,m=(r.height-f.height)/2;h.attr("transform","translate("+g+", "+m+")")}else{const g=r.width/2,m=r.padding/2;h.attr("transform","translate("+g+", "+m+")")}switch(r.type){case t.nodeType.DEFAULT:gKe(t,u,r,s);break;case t.nodeType.ROUNDED_RECT:EKe(t,u,r,s);break;case t.nodeType.RECT:mKe(t,u,r,s);break;case t.nodeType.CIRCLE:u.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),bKe(t,u,r,s);break;case t.nodeType.CLOUD:yKe(t,u,r,s);break;case t.nodeType.BANG:vKe(t,u,r,s);break;case t.nodeType.HEXAGON:xKe(t,u,r,s);break}return t.setElementForId(r.id,o),r.height},"drawNode"),wKe=E(function(t,e){const r=t.getElementById(e.id),n=e.x||0,i=e.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode");Sl.use(eKe);async function d7(t,e,r,n,i){await TKe(t,e,r,n,i),r.children&&await Promise.all(r.children.map((a,s)=>d7(t,e,a,n<0?s:n,i)))}E(d7,"drawNodes");function ete(t,e){e.edges().map((r,n)=>{const i=r.data();if(r[0]._private.bodyBounds){const a=r[0]._private.rscratch;se.trace("Edge: ",n,i),t.insert("path").attr("d",`M ${a.startX},${a.startY} L ${a.midX},${a.midY} L${a.endX},${a.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}E(ete,"drawEdges");function f7(t,e,r,n){e.add({group:"nodes",data:{id:t.id.toString(),labelText:t.descr,height:t.height,width:t.width,level:n,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach(i=>{f7(i,e,r,n+1),e.add({group:"edges",data:{id:`${t.id}_${i.id}`,source:t.id,target:i.id,depth:n,section:i.section}})})}E(f7,"addNodes");function tte(t,e){return new Promise(r=>{const n=mt("body").append("div").attr("id","cy").attr("style","display:none"),i=Sl({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),f7(t,i,e,0),i.nodes().forEach(function(a){a.layoutDimensions=()=>{const s=a.data();return{w:s.width,h:s.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(a=>{se.info("Ready",a),r(i)})})}E(tte,"layoutMindmap");function rte(t,e){e.nodes().map((r,n)=>{const i=r.data();i.x=r.position().x,i.y=r.position().y,wKe(t,i);const a=t.getElementById(i.nodeId);se.info("id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),a.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),a.attr("attr",`apa-${n})`)})}E(rte,"positionNodes");var SKe=E(async(t,e,r,n)=>{var d,f;se.debug(`Rendering mindmap diagram
`+t);const i=n.db,a=i.getMindmap();if(!a)return;const s=Re();s.htmlLabels=!1;const o=ic(e),l=o.append("g");l.attr("class","mindmap-edges");const u=o.append("g");u.attr("class","mindmap-nodes"),await d7(i,u,a,-1,s);const h=await tte(a,s);ete(l,h),rte(i,h),Hd(void 0,o,((d=s.mindmap)==null?void 0:d.padding)??Rr.mindmap.padding,((f=s.mindmap)==null?void 0:f.useMaxWidth)??Rr.mindmap.useMaxWidth)},"draw"),kKe={draw:SKe},CKe=E(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],Uc(t["lineColor"+r])?t["lineColor"+r]=Ft(t["lineColor"+r],20):t["lineColor"+r]=Yt(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),_Ke=E(t=>`
  .edge {
    stroke-width: 3;
  }
  ${CKe(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),AKe=_Ke,LKe={db:fKe,renderer:kKe,parser:tKe,styles:AKe};const NKe=Object.freeze(Object.defineProperty({__proto__:null,diagram:LKe},Symbol.toStringTag,{value:"Module"}));var p7=function(){var t=E(function(k,L,_,N){for(_=_||{},N=k.length;N--;_[k[N]]=L);return _},"o"),e=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],o=[1,19],l=[6,7,8],u=[1,26],h=[1,24],d=[1,25],f=[6,7,11],p=[1,31],g=[6,7,11,24],m=[1,6,13,16,17,20,23],y=[1,35],v=[1,36],b=[1,6,7,11,13,16,17,20,23],x=[1,38],T={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:E(function(L,_,N,C,D,P,A){var R=P.length-1;switch(D){case 6:case 7:return C;case 8:C.getLogger().trace("Stop NL ");break;case 9:C.getLogger().trace("Stop EOF ");break;case 11:C.getLogger().trace("Stop NL2 ");break;case 12:C.getLogger().trace("Stop EOF2 ");break;case 15:C.getLogger().info("Node: ",P[R-1].id),C.addNode(P[R-2].length,P[R-1].id,P[R-1].descr,P[R-1].type,P[R]);break;case 16:C.getLogger().info("Node: ",P[R].id),C.addNode(P[R-1].length,P[R].id,P[R].descr,P[R].type);break;case 17:C.getLogger().trace("Icon: ",P[R]),C.decorateNode({icon:P[R]});break;case 18:case 23:C.decorateNode({class:P[R]});break;case 19:C.getLogger().trace("SPACELIST");break;case 20:C.getLogger().trace("Node: ",P[R-1].id),C.addNode(0,P[R-1].id,P[R-1].descr,P[R-1].type,P[R]);break;case 21:C.getLogger().trace("Node: ",P[R].id),C.addNode(0,P[R].id,P[R].descr,P[R].type);break;case 22:C.decorateNode({icon:P[R]});break;case 27:C.getLogger().trace("node found ..",P[R-2]),this.$={id:P[R-1],descr:P[R-1],type:C.getType(P[R-2],P[R])};break;case 28:this.$={id:P[R],descr:P[R],type:0};break;case 29:C.getLogger().trace("node found ..",P[R-3]),this.$={id:P[R-3],descr:P[R-1],type:C.getType(P[R-2],P[R])};break;case 30:this.$=P[R-1]+P[R];break;case 31:this.$=P[R];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},{6:r,9:22,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},{6:u,7:h,10:23,11:d},t(f,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:o}),t(f,[2,19]),t(f,[2,21],{15:30,24:p}),t(f,[2,22]),t(f,[2,23]),t(g,[2,25]),t(g,[2,26]),t(g,[2,28],{20:[1,32]}),{21:[1,33]},{6:u,7:h,10:34,11:d},{1:[2,7],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},t(m,[2,14],{7:y,11:v}),t(b,[2,8]),t(b,[2,9]),t(b,[2,10]),t(f,[2,16],{15:37,24:p}),t(f,[2,17]),t(f,[2,18]),t(f,[2,20],{24:x}),t(g,[2,31]),{21:[1,39]},{22:[1,40]},t(m,[2,13],{7:y,11:v}),t(b,[2,11]),t(b,[2,12]),t(f,[2,15],{24:x}),t(g,[2,30]),{22:[1,41]},t(g,[2,27]),t(g,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:E(function(L,_){if(_.recoverable)this.trace(L);else{var N=new Error(L);throw N.hash=_,N}},"parseError"),parse:E(function(L){var _=this,N=[0],C=[],D=[null],P=[],A=this.table,R="",O=0,M=0,I=2,F=1,B=P.slice.call(arguments,1),$=Object.create(this.lexer),V={yy:{}};for(var H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(V.yy[H]=this.yy[H]);$.setInput(L,V.yy),V.yy.lexer=$,V.yy.parser=this,typeof $.yylloc>"u"&&($.yylloc={});var te=$.yylloc;P.push(te);var X=$.options&&$.options.ranges;typeof V.yy.parseError=="function"?this.parseError=V.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ee(ae){N.length=N.length-2*ae,D.length=D.length-ae,P.length=P.length-ae}E(ee,"popStack");function re(){var ae;return ae=C.pop()||$.lex()||F,typeof ae!="number"&&(ae instanceof Array&&(C=ae,ae=C.pop()),ae=_.symbols_[ae]||ae),ae}E(re,"lex");for(var pe,K,W,j,Y={},Q,ie,J,we;;){if(K=N[N.length-1],this.defaultActions[K]?W=this.defaultActions[K]:((pe===null||typeof pe>"u")&&(pe=re()),W=A[K]&&A[K][pe]),typeof W>"u"||!W.length||!W[0]){var ue="";we=[];for(Q in A[K])this.terminals_[Q]&&Q>I&&we.push("'"+this.terminals_[Q]+"'");$.showPosition?ue="Parse error on line "+(O+1)+`:
`+$.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[pe]||pe)+"'":ue="Parse error on line "+(O+1)+": Unexpected "+(pe==F?"end of input":"'"+(this.terminals_[pe]||pe)+"'"),this.parseError(ue,{text:$.match,token:this.terminals_[pe]||pe,line:$.yylineno,loc:te,expected:we})}if(W[0]instanceof Array&&W.length>1)throw new Error("Parse Error: multiple actions possible at state: "+K+", token: "+pe);switch(W[0]){case 1:N.push(pe),D.push($.yytext),P.push($.yylloc),N.push(W[1]),pe=null,M=$.yyleng,R=$.yytext,O=$.yylineno,te=$.yylloc;break;case 2:if(ie=this.productions_[W[1]][1],Y.$=D[D.length-ie],Y._$={first_line:P[P.length-(ie||1)].first_line,last_line:P[P.length-1].last_line,first_column:P[P.length-(ie||1)].first_column,last_column:P[P.length-1].last_column},X&&(Y._$.range=[P[P.length-(ie||1)].range[0],P[P.length-1].range[1]]),j=this.performAction.apply(Y,[R,M,O,V.yy,W[1],D,P].concat(B)),typeof j<"u")return j;ie&&(N=N.slice(0,-1*ie*2),D=D.slice(0,-1*ie),P=P.slice(0,-1*ie)),N.push(this.productions_[W[1]][0]),D.push(Y.$),P.push(Y._$),J=A[N[N.length-2]][N[N.length-1]],N.push(J);break;case 3:return!0}}return!0},"parse")},w=function(){var k={EOF:1,parseError:E(function(_,N){if(this.yy.parser)this.yy.parser.parseError(_,N);else throw new Error(_)},"parseError"),setInput:E(function(L,_){return this.yy=_||this.yy||{},this._input=L,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var L=this._input[0];this.yytext+=L,this.yyleng++,this.offset++,this.match+=L,this.matched+=L;var _=L.match(/(?:\r\n?|\n).*/g);return _?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),L},"input"),unput:E(function(L){var _=L.length,N=L.split(/(?:\r\n?|\n)/g);this._input=L+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_),this.offset-=_;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===C.length?this.yylloc.first_column:0)+C[C.length-N.length].length-N[0].length:this.yylloc.first_column-_},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-_]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(L){this.unput(this.match.slice(L))},"less"),pastInput:E(function(){var L=this.matched.substr(0,this.matched.length-this.match.length);return(L.length>20?"...":"")+L.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var L=this.match;return L.length<20&&(L+=this._input.substr(0,20-L.length)),(L.substr(0,20)+(L.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var L=this.pastInput(),_=new Array(L.length+1).join("-");return L+this.upcomingInput()+`
`+_+"^"},"showPosition"),test_match:E(function(L,_){var N,C,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),C=L[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+L[0].length},this.yytext+=L[0],this.match+=L[0],this.matches=L,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(L[0].length),this.matched+=L[0],N=this.performAction.call(this,this.yy,this,_,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var P in D)this[P]=D[P];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var L,_,N,C;this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),P=0;P<D.length;P++)if(N=this._input.match(this.rules[D[P]]),N&&(!_||N[0].length>_[0].length)){if(_=N,C=P,this.options.backtrack_lexer){if(L=this.test_match(N,D[P]),L!==!1)return L;if(this._backtrack){_=!1;continue}else return!1}else if(!this.options.flex)break}return _?(L=this.test_match(_,D[C]),L!==!1?L:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var _=this.next();return _||this.lex()},"lex"),begin:E(function(_){this.conditionStack.push(_)},"begin"),popState:E(function(){var _=this.conditionStack.length-1;return _>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(_){return _=this.conditionStack.length-1-Math.abs(_||0),_>=0?this.conditionStack[_]:"INITIAL"},"topState"),pushState:E(function(_){this.begin(_)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(_,N,C,D){switch(C){case 0:return this.pushState("shapeData"),N.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const P=/\n\s*/g;return N.yytext=N.yytext.replace(P,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return _.getLogger().trace("Found comment",N.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:_.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return _.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:_.getLogger().trace("end icon"),this.popState();break;case 16:return _.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return _.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return _.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return _.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:_.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return _.getLogger().trace("description:",N.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),_.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),_.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),_.getLogger().trace("node end ...",N.yytext),"NODE_DEND";case 36:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),_.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),_.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 41:return _.getLogger().trace("Long description:",N.yytext),21;case 42:return _.getLogger().trace("Long description:",N.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return k}();T.lexer=w;function S(){this.yy={}}return E(S,"Parser"),S.prototype=T,T.Parser=S,new S}();p7.parser=p7;var RKe=p7,to=[],g7=[],m7=0,y7={},IKe=E(()=>{to=[],g7=[],m7=0,y7={}},"clear"),DKe=E(t=>{if(to.length===0)return null;const e=to[0].level;let r=null;for(let n=to.length-1;n>=0;n--)if(to[n].level===e&&!r&&(r=to[n]),to[n].level<e)throw new Error('Items without section detected, found section ("'+to[n].label+'")');return t===(r==null?void 0:r.level)?null:r},"getSection"),nte=E(function(){return g7},"getSections"),OKe=E(function(){const t=[],e=[],r=nte(),n=Re();for(const i of r){const a={id:i.id,label:on(i.label??"",n),isGroup:!0,ticket:i.ticket,shape:"kanbanSection",level:i.level,look:n.look};e.push(a);const s=to.filter(o=>o.parentId===i.id);for(const o of s){const l={id:o.id,parentId:i.id,label:on(o.label??"",n),isGroup:!1,ticket:o==null?void 0:o.ticket,priority:o==null?void 0:o.priority,assigned:o==null?void 0:o.assigned,icon:o==null?void 0:o.icon,shape:"kanbanItem",level:o.level,rx:5,ry:5,cssStyles:["text-align: left"]};e.push(l)}}return{nodes:e,edges:t,other:{},config:Re()}},"getData"),MKe=E((t,e,r,n,i)=>{var u,h;const a=Re();let s=((u=a.mindmap)==null?void 0:u.padding)??Rr.mindmap.padding;switch(n){case wi.ROUNDED_RECT:case wi.RECT:case wi.HEXAGON:s*=2}const o={id:on(e,a)||"kbn"+m7++,level:t,label:on(r,a),width:((h=a.mindmap)==null?void 0:h.maxNodeWidth)??Rr.mindmap.maxNodeWidth,padding:s,isGroup:!1};if(i!==void 0){let d;i.includes(`
`)?d=i+`
`:d=`{
`+i+`
}`;const f=Qw(d,{schema:jw});if(f.shape&&(f.shape!==f.shape.toLowerCase()||f.shape.includes("_")))throw new Error(`No such shape: ${f.shape}. Shape names should be lowercase.`);f!=null&&f.shape&&f.shape==="kanbanItem"&&(o.shape=f==null?void 0:f.shape),f!=null&&f.label&&(o.label=f==null?void 0:f.label),f!=null&&f.icon&&(o.icon=f==null?void 0:f.icon.toString()),f!=null&&f.assigned&&(o.assigned=f==null?void 0:f.assigned.toString()),f!=null&&f.ticket&&(o.ticket=f==null?void 0:f.ticket.toString()),f!=null&&f.priority&&(o.priority=f==null?void 0:f.priority)}const l=DKe(t);l?o.parentId=l.id||"kbn"+m7++:g7.push(o),to.push(o)},"addNode"),wi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},PKe=E((t,e)=>{switch(se.debug("In get type",t,e),t){case"[":return wi.RECT;case"(":return e===")"?wi.ROUNDED_RECT:wi.CLOUD;case"((":return wi.CIRCLE;case")":return wi.CLOUD;case"))":return wi.BANG;case"{{":return wi.HEXAGON;default:return wi.DEFAULT}},"getType"),BKe=E((t,e)=>{y7[t]=e},"setElementForId"),FKe=E(t=>{if(!t)return;const e=Re(),r=to[to.length-1];t.icon&&(r.icon=on(t.icon,e)),t.class&&(r.cssClasses=on(t.class,e))},"decorateNode"),$Ke=E(t=>{switch(t){case wi.DEFAULT:return"no-border";case wi.RECT:return"rect";case wi.ROUNDED_RECT:return"rounded-rect";case wi.CIRCLE:return"circle";case wi.CLOUD:return"cloud";case wi.BANG:return"bang";case wi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),zKe=E(()=>se,"getLogger"),UKe=E(t=>y7[t],"getElementById"),HKe={clear:IKe,addNode:MKe,getSections:nte,getData:OKe,nodeType:wi,getType:PKe,setElementForId:BKe,decorateNode:FKe,type2Str:$Ke,getLogger:zKe,getElementById:UKe},GKe=HKe,VKe=E(async(t,e,r,n)=>{var y,v,b,x,T;se.debug(`Rendering kanban diagram
`+t);const a=n.db.getData(),s=Re();s.htmlLabels=!1;const o=ic(e),l=o.append("g");l.attr("class","sections");const u=o.append("g");u.attr("class","items");const h=a.nodes.filter(w=>w.isGroup);let d=0;const f=10,p=[];let g=25;for(const w of h){const S=((y=s==null?void 0:s.kanban)==null?void 0:y.sectionWidth)||200;d=d+1,w.x=S*d+(d-1)*f/2,w.width=S,w.y=0,w.height=S*3,w.rx=5,w.ry=5,w.cssClasses=w.cssClasses+" section-"+d;const k=await A6(l,w);g=Math.max(g,(v=k==null?void 0:k.labelBBox)==null?void 0:v.height),p.push(k)}let m=0;for(const w of h){const S=p[m];m=m+1;const k=((b=s==null?void 0:s.kanban)==null?void 0:b.sectionWidth)||200,L=-k*3/2+g;let _=L;const N=a.nodes.filter(P=>P.parentId===w.id);for(const P of N){if(P.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");P.x=w.x,P.width=k-1.5*f;const R=(await Tb(u,P,{config:s})).node().getBBox();P.y=_+R.height/2,await I6(P),_=P.y+R.height/2+f/2}const C=S.cluster.select("rect"),D=Math.max(_-L+3*f,50)+(g-25);C.attr("height",D)}Hd(void 0,o,((x=s.mindmap)==null?void 0:x.padding)??Rr.kanban.padding,((T=s.mindmap)==null?void 0:T.useMaxWidth)??Rr.kanban.useMaxWidth)},"draw"),qKe={draw:VKe},WKe=E(t=>{let e="";for(let n=0;n<t.THEME_COLOR_LIMIT;n++)t["lineColor"+n]=t["lineColor"+n]||t["cScaleInv"+n],Uc(t["lineColor"+n])?t["lineColor"+n]=Ft(t["lineColor"+n],20):t["lineColor"+n]=Yt(t["lineColor"+n],20);const r=E((n,i)=>t.darkMode?Yt(n,i):Ft(n,i),"adjuster");for(let n=0;n<t.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);e+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(t["cScale"+n],10)};
      stroke: ${r(t["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${t["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${t["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${i};
    }
    .section-${n-1} line {
      stroke: ${t["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    text-decoration: underline;
  }
    `}return e},"genSections"),YKe=E(t=>`
  .edge {
    stroke-width: 3;
  }
  ${WKe(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${t.textColor};
    fill: ${t.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
    ${I1()}
`,"getStyles"),XKe=YKe,KKe={db:GKe,renderer:qKe,parser:RKe,styles:XKe};const jKe=Object.freeze(Object.defineProperty({__proto__:null,diagram:KKe},Symbol.toStringTag,{value:"Module"}));function ite(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function ate(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function v7(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&(r+=i)}return r}function QKe(t){return t.target.depth}function ZKe(t){return t.depth}function JKe(t,e){return e-1-t.height}function ste(t,e){return t.sourceLinks.length?t.depth:e-1}function eje(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?ate(t.sourceLinks,QKe)-1:0}function rT(t){return function(){return t}}function ote(t,e){return nT(t.source,e.source)||t.index-e.index}function lte(t,e){return nT(t.target,e.target)||t.index-e.index}function nT(t,e){return t.y0-e.y0}function b7(t){return t.value}function tje(t){return t.index}function rje(t){return t.nodes}function nje(t){return t.links}function cte(t,e){const r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function ute({nodes:t}){for(const e of t){let r=e.y0,n=r;for(const i of e.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(const i of e.targetLinks)i.y1=n+i.width/2,n+=i.width}}function ije(){let t=0,e=0,r=1,n=1,i=24,a=8,s,o=tje,l=ste,u,h,d=rje,f=nje,p=6;function g(){const R={nodes:d.apply(null,arguments),links:f.apply(null,arguments)};return m(R),y(R),v(R),b(R),w(R),ute(R),R}g.update=function(R){return ute(R),R},g.nodeId=function(R){return arguments.length?(o=typeof R=="function"?R:rT(R),g):o},g.nodeAlign=function(R){return arguments.length?(l=typeof R=="function"?R:rT(R),g):l},g.nodeSort=function(R){return arguments.length?(u=R,g):u},g.nodeWidth=function(R){return arguments.length?(i=+R,g):i},g.nodePadding=function(R){return arguments.length?(a=s=+R,g):a},g.nodes=function(R){return arguments.length?(d=typeof R=="function"?R:rT(R),g):d},g.links=function(R){return arguments.length?(f=typeof R=="function"?R:rT(R),g):f},g.linkSort=function(R){return arguments.length?(h=R,g):h},g.size=function(R){return arguments.length?(t=e=0,r=+R[0],n=+R[1],g):[r-t,n-e]},g.extent=function(R){return arguments.length?(t=+R[0][0],r=+R[1][0],e=+R[0][1],n=+R[1][1],g):[[t,e],[r,n]]},g.iterations=function(R){return arguments.length?(p=+R,g):p};function m({nodes:R,links:O}){for(const[I,F]of R.entries())F.index=I,F.sourceLinks=[],F.targetLinks=[];const M=new Map(R.map((I,F)=>[o(I,F,R),I]));for(const[I,F]of O.entries()){F.index=I;let{source:B,target:$}=F;typeof B!="object"&&(B=F.source=cte(M,B)),typeof $!="object"&&($=F.target=cte(M,$)),B.sourceLinks.push(F),$.targetLinks.push(F)}if(h!=null)for(const{sourceLinks:I,targetLinks:F}of R)I.sort(h),F.sort(h)}function y({nodes:R}){for(const O of R)O.value=O.fixedValue===void 0?Math.max(v7(O.sourceLinks,b7),v7(O.targetLinks,b7)):O.fixedValue}function v({nodes:R}){const O=R.length;let M=new Set(R),I=new Set,F=0;for(;M.size;){for(const B of M){B.depth=F;for(const{target:$}of B.sourceLinks)I.add($)}if(++F>O)throw new Error("circular link");M=I,I=new Set}}function b({nodes:R}){const O=R.length;let M=new Set(R),I=new Set,F=0;for(;M.size;){for(const B of M){B.height=F;for(const{source:$}of B.targetLinks)I.add($)}if(++F>O)throw new Error("circular link");M=I,I=new Set}}function x({nodes:R}){const O=ite(R,F=>F.depth)+1,M=(r-t-i)/(O-1),I=new Array(O);for(const F of R){const B=Math.max(0,Math.min(O-1,Math.floor(l.call(null,F,O))));F.layer=B,F.x0=t+B*M,F.x1=F.x0+i,I[B]?I[B].push(F):I[B]=[F]}if(u)for(const F of I)F.sort(u);return I}function T(R){const O=ate(R,M=>(n-e-(M.length-1)*s)/v7(M,b7));for(const M of R){let I=e;for(const F of M){F.y0=I,F.y1=I+F.value*O,I=F.y1+s;for(const B of F.sourceLinks)B.width=B.value*O}I=(n-I+s)/(M.length+1);for(let F=0;F<M.length;++F){const B=M[F];B.y0+=I*(F+1),B.y1+=I*(F+1)}D(M)}}function w(R){const O=x(R);s=Math.min(a,(n-e)/(ite(O,M=>M.length)-1)),T(O);for(let M=0;M<p;++M){const I=Math.pow(.99,M),F=Math.max(1-I,(M+1)/p);k(O,I,F),S(O,I,F)}}function S(R,O,M){for(let I=1,F=R.length;I<F;++I){const B=R[I];for(const $ of B){let V=0,H=0;for(const{source:X,value:ee}of $.targetLinks){let re=ee*($.layer-X.layer);V+=P(X,$)*re,H+=re}if(!(H>0))continue;let te=(V/H-$.y0)*O;$.y0+=te,$.y1+=te,C($)}u===void 0&&B.sort(nT),L(B,M)}}function k(R,O,M){for(let I=R.length,F=I-2;F>=0;--F){const B=R[F];for(const $ of B){let V=0,H=0;for(const{target:X,value:ee}of $.sourceLinks){let re=ee*(X.layer-$.layer);V+=A($,X)*re,H+=re}if(!(H>0))continue;let te=(V/H-$.y0)*O;$.y0+=te,$.y1+=te,C($)}u===void 0&&B.sort(nT),L(B,M)}}function L(R,O){const M=R.length>>1,I=R[M];N(R,I.y0-s,M-1,O),_(R,I.y1+s,M+1,O),N(R,n,R.length-1,O),_(R,e,0,O)}function _(R,O,M,I){for(;M<R.length;++M){const F=R[M],B=(O-F.y0)*I;B>1e-6&&(F.y0+=B,F.y1+=B),O=F.y1+s}}function N(R,O,M,I){for(;M>=0;--M){const F=R[M],B=(F.y1-O)*I;B>1e-6&&(F.y0-=B,F.y1-=B),O=F.y0-s}}function C({sourceLinks:R,targetLinks:O}){if(h===void 0){for(const{source:{sourceLinks:M}}of O)M.sort(lte);for(const{target:{targetLinks:M}}of R)M.sort(ote)}}function D(R){if(h===void 0)for(const{sourceLinks:O,targetLinks:M}of R)O.sort(lte),M.sort(ote)}function P(R,O){let M=R.y0-(R.sourceLinks.length-1)*s/2;for(const{target:I,width:F}of R.sourceLinks){if(I===O)break;M+=F+s}for(const{source:I,width:F}of O.targetLinks){if(I===R)break;M-=F}return M}function A(R,O){let M=O.y0-(O.targetLinks.length-1)*s/2;for(const{source:I,width:F}of O.targetLinks){if(I===R)break;M+=F+s}for(const{target:I,width:F}of R.sourceLinks){if(I===O)break;M-=F}return M}return g}var x7=Math.PI,E7=2*x7,pd=1e-6,aje=E7-pd;function T7(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hte(){return new T7}T7.prototype=hte.prototype={constructor:T7,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(t,e,r,n,i,a){this._+="C"+ +t+","+ +e+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,r,n,i){t=+t,e=+e,r=+r,n=+n,i=+i;var a=this._x1,s=this._y1,o=r-t,l=n-e,u=a-t,h=s-e,d=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>pd)if(!(Math.abs(h*o-l*u)>pd)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=r-a,p=n-s,g=o*o+l*l,m=f*f+p*p,y=Math.sqrt(g),v=Math.sqrt(d),b=i*Math.tan((x7-Math.acos((g+d-m)/(2*y*v)))/2),x=b/v,T=b/y;Math.abs(x-1)>pd&&(this._+="L"+(t+x*u)+","+(e+x*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>u*p)+","+(this._x1=t+T*o)+","+(this._y1=e+T*l)}},arc:function(t,e,r,n,i,a){t=+t,e=+e,r=+r,a=!!a;var s=r*Math.cos(n),o=r*Math.sin(n),l=t+s,u=e+o,h=1^a,d=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>pd||Math.abs(this._y1-u)>pd)&&(this._+="L"+l+","+u),r&&(d<0&&(d=d%E7+E7),d>aje?this._+="A"+r+","+r+",0,1,"+h+","+(t-s)+","+(e-o)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):d>pd&&(this._+="A"+r+","+r+",0,"+ +(d>=x7)+","+h+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=e+r*Math.sin(i))))},rect:function(t,e,r,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function dte(t){return function(){return t}}function sje(t){return t[0]}function oje(t){return t[1]}var lje=Array.prototype.slice;function cje(t){return t.source}function uje(t){return t.target}function hje(t){var e=cje,r=uje,n=sje,i=oje,a=null;function s(){var o,l=lje.call(arguments),u=e.apply(this,l),h=r.apply(this,l);if(a||(a=o=hte()),t(a,+n.apply(this,(l[0]=u,l)),+i.apply(this,l),+n.apply(this,(l[0]=h,l)),+i.apply(this,l)),o)return a=null,o+""||null}return s.source=function(o){return arguments.length?(e=o,s):e},s.target=function(o){return arguments.length?(r=o,s):r},s.x=function(o){return arguments.length?(n=typeof o=="function"?o:dte(+o),s):n},s.y=function(o){return arguments.length?(i=typeof o=="function"?o:dte(+o),s):i},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function dje(t,e,r,n,i){t.moveTo(e,r),t.bezierCurveTo(e=(e+n)/2,r,e,i,n,i)}function fje(){return hje(dje)}function pje(t){return[t.source.x1,t.y0]}function gje(t){return[t.target.x0,t.y1]}function mje(){return fje().source(pje).target(gje)}var w7=function(){var t=E(function(o,l,u,h){for(u=u||{},h=o.length;h--;u[o[h]]=l);return u},"o"),e=[1,9],r=[1,10],n=[1,5,10,12],i={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:E(function(l,u,h,d,f,p,g){var m=p.length-1;switch(f){case 7:const y=d.findOrCreateNode(p[m-4].trim().replaceAll('""','"')),v=d.findOrCreateNode(p[m-2].trim().replaceAll('""','"')),b=parseFloat(p[m].trim());d.addLink(y,v,b);break;case 8:case 9:case 11:this.$=p[m];break;case 10:this.$=p[m-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:e,20:r},{1:[2,6],7:11,10:[1,12]},t(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},t(n,[2,8]),t(n,[2,9]),{19:[1,16]},t(n,[2,11]),{1:[2,1]},{1:[2,5]},t(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:e,20:r},{15:18,16:7,17:8,18:e,20:r},{18:[1,19]},t(r,[2,3]),{12:[1,20]},t(n,[2,10]),{15:21,16:7,17:8,18:e,20:r},t([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:E(function(l,u){if(u.recoverable)this.trace(l);else{var h=new Error(l);throw h.hash=u,h}},"parseError"),parse:E(function(l){var u=this,h=[0],d=[],f=[null],p=[],g=this.table,m="",y=0,v=0,b=2,x=1,T=p.slice.call(arguments,1),w=Object.create(this.lexer),S={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(S.yy[k]=this.yy[k]);w.setInput(l,S.yy),S.yy.lexer=w,S.yy.parser=this,typeof w.yylloc>"u"&&(w.yylloc={});var L=w.yylloc;p.push(L);var _=w.options&&w.options.ranges;typeof S.yy.parseError=="function"?this.parseError=S.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function N(V){h.length=h.length-2*V,f.length=f.length-V,p.length=p.length-V}E(N,"popStack");function C(){var V;return V=d.pop()||w.lex()||x,typeof V!="number"&&(V instanceof Array&&(d=V,V=d.pop()),V=u.symbols_[V]||V),V}E(C,"lex");for(var D,P,A,R,O={},M,I,F,B;;){if(P=h[h.length-1],this.defaultActions[P]?A=this.defaultActions[P]:((D===null||typeof D>"u")&&(D=C()),A=g[P]&&g[P][D]),typeof A>"u"||!A.length||!A[0]){var $="";B=[];for(M in g[P])this.terminals_[M]&&M>b&&B.push("'"+this.terminals_[M]+"'");w.showPosition?$="Parse error on line "+(y+1)+`:
`+w.showPosition()+`
Expecting `+B.join(", ")+", got '"+(this.terminals_[D]||D)+"'":$="Parse error on line "+(y+1)+": Unexpected "+(D==x?"end of input":"'"+(this.terminals_[D]||D)+"'"),this.parseError($,{text:w.match,token:this.terminals_[D]||D,line:w.yylineno,loc:L,expected:B})}if(A[0]instanceof Array&&A.length>1)throw new Error("Parse Error: multiple actions possible at state: "+P+", token: "+D);switch(A[0]){case 1:h.push(D),f.push(w.yytext),p.push(w.yylloc),h.push(A[1]),D=null,v=w.yyleng,m=w.yytext,y=w.yylineno,L=w.yylloc;break;case 2:if(I=this.productions_[A[1]][1],O.$=f[f.length-I],O._$={first_line:p[p.length-(I||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(I||1)].first_column,last_column:p[p.length-1].last_column},_&&(O._$.range=[p[p.length-(I||1)].range[0],p[p.length-1].range[1]]),R=this.performAction.apply(O,[m,v,y,S.yy,A[1],f,p].concat(T)),typeof R<"u")return R;I&&(h=h.slice(0,-1*I*2),f=f.slice(0,-1*I),p=p.slice(0,-1*I)),h.push(this.productions_[A[1]][0]),f.push(O.$),p.push(O._$),F=g[h[h.length-2]][h[h.length-1]],h.push(F);break;case 3:return!0}}return!0},"parse")},a=function(){var o={EOF:1,parseError:E(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:E(function(l,u){return this.yy=u||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:E(function(l){var u=l.length,h=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h.length-1&&(this.yylineno-=h.length-1);var f=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===d.length?this.yylloc.first_column:0)+d[d.length-h.length].length-h[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(l){this.unput(this.match.slice(l))},"less"),pastInput:E(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var l=this.pastInput(),u=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),test_match:E(function(l,u){var h,d,f;if(this.options.backtrack_lexer&&(f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))),d=l[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],h=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),h)return h;if(this._backtrack){for(var p in f)this[p]=f[p];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,h,d;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),p=0;p<f.length;p++)if(h=this._input.match(this.rules[f[p]]),h&&(!u||h[0].length>u[0].length)){if(u=h,d=p,this.options.backtrack_lexer){if(l=this.test_match(h,f[p]),l!==!1)return l;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(l=this.test_match(u,f[d]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var u=this.next();return u||this.lex()},"lex"),begin:E(function(u){this.conditionStack.push(u)},"begin"),popState:E(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:E(function(u){this.begin(u)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:E(function(u,h,d,f){switch(d){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return o}();i.lexer=a;function s(){this.yy={}}return E(s,"Parser"),s.prototype=i,i.Parser=s,new s}();w7.parser=w7;var iT=w7,aT=[],sT=[],oT=new Map,yje=E(()=>{aT=[],sT=[],oT=new Map,si()},"clear"),vje=(kp=class{constructor(e,r,n=0){this.source=e,this.target=r,this.value=n}},E(kp,"SankeyLink"),kp),bje=E((t,e,r)=>{aT.push(new vje(t,e,r))},"addLink"),xje=(Cp=class{constructor(e){this.ID=e}},E(Cp,"SankeyNode"),Cp),Eje=E(t=>{t=xt.sanitizeText(t,Re());let e=oT.get(t);return e===void 0&&(e=new xje(t),oT.set(t,e),sT.push(e)),e},"findOrCreateNode"),Tje=E(()=>sT,"getNodes"),wje=E(()=>aT,"getLinks"),Sje=E(()=>({nodes:sT.map(t=>({id:t.ID})),links:aT.map(t=>({source:t.source.ID,target:t.target.ID,value:t.value}))}),"getGraph"),kje={nodesMap:oT,getConfig:E(()=>Re().sankey,"getConfig"),getNodes:Tje,getLinks:wje,getGraph:Sje,addLink:bje,findOrCreateNode:Eje,getAccTitle:ki,setAccTitle:oi,getAccDescription:_i,setAccDescription:Ci,getDiagramTitle:li,setDiagramTitle:Fi,clear:yje},fte=(Sc=class{static next(e){return new Sc(e+ ++Sc.count)}constructor(e){this.id=e,this.href=`#${e}`}toString(){return"url("+this.href+")"}},E(Sc,"Uid"),Sc.count=0,Sc),Cje={left:ZKe,right:JKe,center:eje,justify:ste},_je=E(function(t,e,r,n){const{securityLevel:i,sankey:a}=Re(),s=KI.sankey;let o;i==="sandbox"&&(o=mt("#i"+e));const l=mt(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):mt(`[id="${e}"]`),h=(a==null?void 0:a.width)??s.width,d=(a==null?void 0:a.height)??s.width,f=(a==null?void 0:a.useMaxWidth)??s.useMaxWidth,p=(a==null?void 0:a.nodeAlignment)??s.nodeAlignment,g=(a==null?void 0:a.prefix)??s.prefix,m=(a==null?void 0:a.suffix)??s.suffix,y=(a==null?void 0:a.showValues)??s.showValues,v=n.db.getGraph(),b=Cje[p];ije().nodeId(N=>N.id).nodeWidth(10).nodePadding(10+(y?15:0)).nodeAlign(b).extent([[0,0],[h,d]])(v);const w=I2(Cve);u.append("g").attr("class","nodes").selectAll(".node").data(v.nodes).join("g").attr("class","node").attr("id",N=>(N.uid=fte.next("node-")).id).attr("transform",function(N){return"translate("+N.x0+","+N.y0+")"}).attr("x",N=>N.x0).attr("y",N=>N.y0).append("rect").attr("height",N=>N.y1-N.y0).attr("width",N=>N.x1-N.x0).attr("fill",N=>w(N.id));const S=E(({id:N,value:C})=>y?`${N}
${g}${Math.round(C*100)/100}${m}`:N,"getText");u.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(v.nodes).join("text").attr("x",N=>N.x0<h/2?N.x1+6:N.x0-6).attr("y",N=>(N.y1+N.y0)/2).attr("dy",`${y?"0":"0.35"}em`).attr("text-anchor",N=>N.x0<h/2?"start":"end").text(S);const k=u.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(v.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),L=(a==null?void 0:a.linkColor)??"gradient";if(L==="gradient"){const N=k.append("linearGradient").attr("id",C=>(C.uid=fte.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",C=>C.source.x1).attr("x2",C=>C.target.x0);N.append("stop").attr("offset","0%").attr("stop-color",C=>w(C.source.id)),N.append("stop").attr("offset","100%").attr("stop-color",C=>w(C.target.id))}let _;switch(L){case"gradient":_=E(N=>N.uid,"coloring");break;case"source":_=E(N=>w(N.source.id),"coloring");break;case"target":_=E(N=>w(N.target.id),"coloring");break;default:_=L}k.append("path").attr("d",mje()).attr("stroke",_).attr("stroke-width",N=>Math.max(1,N.width)),Hd(void 0,u,0,f)},"draw"),Aje={draw:_je},Lje=E(t=>t.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),Nje=E(t=>`.label {
      font-family: ${t.fontFamily};
    }`,"getStyles"),Rje=Nje,Ije=iT.parse.bind(iT);iT.parse=t=>Ije(Lje(t));var Dje={styles:Rje,parser:iT,db:kje,renderer:Aje};const Oje=Object.freeze(Object.defineProperty({__proto__:null,diagram:Dje},Symbol.toStringTag,{value:"Module"}));var pte={packet:[]},S7=structuredClone(pte),Mje=Rr.packet,Pje=E(()=>{const t=bs({...Mje,...qr().packet});return t.showBits&&(t.paddingY+=10),t},"getConfig"),Bje=E(()=>S7.packet,"getPacket"),Fje=E(t=>{t.length>0&&S7.packet.push(t)},"pushWord"),$je=E(()=>{si(),S7=structuredClone(pte)},"clear"),I0={pushWord:Fje,getPacket:Bje,getConfig:Pje,clear:$je,setAccTitle:oi,getAccTitle:ki,setDiagramTitle:Fi,getDiagramTitle:li,getAccDescription:_i,setAccDescription:Ci},zje=1e4,Uje=E(t=>{Of(t,I0);let e=-1,r=[],n=1;const{bitsPerRow:i}=I0.getConfig();for(let{start:a,end:s,bits:o,label:l}of t.blocks){if(a!==void 0&&s!==void 0&&s<a)throw new Error(`Packet block ${a} - ${s} is invalid. End must be greater than start.`);if(a??(a=e+1),a!==e+1)throw new Error(`Packet block ${a} - ${s??a} is not contiguous. It should start from ${e+1}.`);if(o===0)throw new Error(`Packet block ${a} is invalid. Cannot have a zero bit field.`);for(s??(s=a+(o??1)-1),o??(o=s-a+1),e=s,se.debug(`Packet block ${a} - ${e} with label ${l}`);r.length<=i+1&&I0.getPacket().length<zje;){const[u,h]=Hje({start:a,end:s,bits:o,label:l},n,i);if(r.push(u),u.end+1===n*i&&(I0.pushWord(r),r=[],n++),!h)break;({start:a,end:s,bits:o,label:l}=h)}}I0.pushWord(r)},"populate"),Hje=E((t,e,r)=>{if(t.start===void 0)throw new Error("start should have been set during first phase");if(t.end===void 0)throw new Error("end should have been set during first phase");if(t.start>t.end)throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);if(t.end+1<=e*r)return[t,void 0];const n=e*r-1,i=e*r;return[{start:t.start,end:n,label:t.label,bits:n-t.start},{start:i,end:t.end,label:t.label,bits:t.end-i}]},"getNextFittingBlock"),Gje={parse:E(async t=>{const e=await Vh("packet",t);se.debug(e),Uje(e)},"parse")},Vje=E((t,e,r,n)=>{const i=n.db,a=i.getConfig(),{rowHeight:s,paddingY:o,bitWidth:l,bitsPerRow:u}=a,h=i.getPacket(),d=i.getDiagramTitle(),f=s+o,p=f*(h.length+1)-(d?0:s),g=l*u+2,m=ic(e);m.attr("viewbox",`0 0 ${g} ${p}`),qa(m,p,g,a.useMaxWidth);for(const[y,v]of h.entries())qje(m,v,y,a);m.append("text").text(d).attr("x",g/2).attr("y",p-f/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),qje=E((t,e,r,{rowHeight:n,paddingX:i,paddingY:a,bitWidth:s,bitsPerRow:o,showBits:l})=>{const u=t.append("g"),h=r*(n+a)+a;for(const d of e){const f=d.start%o*s+1,p=(d.end-d.start+1)*s-i;if(u.append("rect").attr("x",f).attr("y",h).attr("width",p).attr("height",n).attr("class","packetBlock"),u.append("text").attr("x",f+p/2).attr("y",h+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(d.label),!l)continue;const g=d.end===d.start,m=h-2;u.append("text").attr("x",f+(g?p/2:0)).attr("y",m).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",g?"middle":"start").text(d.start),g||u.append("text").attr("x",f+p).attr("y",m).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(d.end)}},"drawWord"),Wje={draw:Vje},Yje={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},Xje=E(({packet:t}={})=>{const e=bs(Yje,t);return`
	.packetByte {
		font-size: ${e.byteFontSize};
	}
	.packetByte.start {
		fill: ${e.startByteColor};
	}
	.packetByte.end {
		fill: ${e.endByteColor};
	}
	.packetLabel {
		fill: ${e.labelColor};
		font-size: ${e.labelFontSize};
	}
	.packetTitle {
		fill: ${e.titleColor};
		font-size: ${e.titleFontSize};
	}
	.packetBlock {
		stroke: ${e.blockStrokeColor};
		stroke-width: ${e.blockStrokeWidth};
		fill: ${e.blockFillColor};
	}
	`},"styles"),Kje={parser:Gje,db:I0,renderer:Wje,styles:Xje};const jje=Object.freeze(Object.defineProperty({__proto__:null,diagram:Kje},Symbol.toStringTag,{value:"Module"}));var D0={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},gte={axes:[],curves:[],options:D0},gd=structuredClone(gte),Qje=Rr.radar,Zje=E(()=>bs({...Qje,...qr().radar}),"getConfig"),mte=E(()=>gd.axes,"getAxes"),Jje=E(()=>gd.curves,"getCurves"),eQe=E(()=>gd.options,"getOptions"),tQe=E(t=>{gd.axes=t.map(e=>({name:e.name,label:e.label??e.name}))},"setAxes"),rQe=E(t=>{gd.curves=t.map(e=>({name:e.name,label:e.label??e.name,entries:nQe(e.entries)}))},"setCurves"),nQe=E(t=>{if(t[0].axis==null)return t.map(r=>r.value);const e=mte();if(e.length===0)throw new Error("Axes must be populated before curves for reference entries");return e.map(r=>{const n=t.find(i=>{var a;return((a=i.axis)==null?void 0:a.$refText)===r.name});if(n===void 0)throw new Error("Missing entry for axis "+r.label);return n.value})},"computeCurveEntries"),iQe=E(t=>{var r,n,i,a,s;const e=t.reduce((o,l)=>(o[l.name]=l,o),{});gd.options={showLegend:((r=e.showLegend)==null?void 0:r.value)??D0.showLegend,ticks:((n=e.ticks)==null?void 0:n.value)??D0.ticks,max:((i=e.max)==null?void 0:i.value)??D0.max,min:((a=e.min)==null?void 0:a.value)??D0.min,graticule:((s=e.graticule)==null?void 0:s.value)??D0.graticule}},"setOptions"),aQe=E(()=>{si(),gd=structuredClone(gte)},"clear"),_y={getAxes:mte,getCurves:Jje,getOptions:eQe,setAxes:tQe,setCurves:rQe,setOptions:iQe,getConfig:Zje,clear:aQe,setAccTitle:oi,getAccTitle:ki,setDiagramTitle:Fi,getDiagramTitle:li,getAccDescription:_i,setAccDescription:Ci},sQe=E(t=>{Of(t,_y);const{axes:e,curves:r,options:n}=t;_y.setAxes(e),_y.setCurves(r),_y.setOptions(n)},"populate"),oQe={parse:E(async t=>{const e=await Vh("radar",t);se.debug(e),sQe(e)},"parse")},lQe=E((t,e,r,n)=>{const i=n.db,a=i.getAxes(),s=i.getCurves(),o=i.getOptions(),l=i.getConfig(),u=i.getDiagramTitle(),h=ic(e),d=cQe(h,l),f=o.max??Math.max(...s.map(m=>Math.max(...m.entries))),p=o.min,g=Math.min(l.width,l.height)/2;uQe(d,a,g,o.ticks,o.graticule),hQe(d,a,g,l),yte(d,a,s,p,f,o.graticule,l),xte(d,s,o.showLegend,l),d.append("text").attr("class","radarTitle").text(u).attr("x",0).attr("y",-l.height/2-l.marginTop)},"draw"),cQe=E((t,e)=>{const r=e.width+e.marginLeft+e.marginRight,n=e.height+e.marginTop+e.marginBottom,i={x:e.marginLeft+e.width/2,y:e.marginTop+e.height/2};return t.attr("viewbox",`0 0 ${r} ${n}`).attr("width",r).attr("height",n),t.append("g").attr("transform",`translate(${i.x}, ${i.y})`)},"drawFrame"),uQe=E((t,e,r,n,i)=>{if(i==="circle")for(let a=0;a<n;a++){const s=r*(a+1)/n;t.append("circle").attr("r",s).attr("class","radarGraticule")}else if(i==="polygon"){const a=e.length;for(let s=0;s<n;s++){const o=r*(s+1)/n,l=e.map((u,h)=>{const d=2*h*Math.PI/a-Math.PI/2,f=o*Math.cos(d),p=o*Math.sin(d);return`${f},${p}`}).join(" ");t.append("polygon").attr("points",l).attr("class","radarGraticule")}}},"drawGraticule"),hQe=E((t,e,r,n)=>{const i=e.length;for(let a=0;a<i;a++){const s=e[a].label,o=2*a*Math.PI/i-Math.PI/2;t.append("line").attr("x1",0).attr("y1",0).attr("x2",r*n.axisScaleFactor*Math.cos(o)).attr("y2",r*n.axisScaleFactor*Math.sin(o)).attr("class","radarAxisLine"),t.append("text").text(s).attr("x",r*n.axisLabelFactor*Math.cos(o)).attr("y",r*n.axisLabelFactor*Math.sin(o)).attr("class","radarAxisLabel")}},"drawAxes");function yte(t,e,r,n,i,a,s){const o=e.length,l=Math.min(s.width,s.height)/2;r.forEach((u,h)=>{if(u.entries.length!==o)return;const d=u.entries.map((f,p)=>{const g=2*Math.PI*p/o-Math.PI/2,m=vte(f,n,i,l),y=m*Math.cos(g),v=m*Math.sin(g);return{x:y,y:v}});a==="circle"?t.append("path").attr("d",bte(d,s.curveTension)).attr("class",`radarCurve-${h}`):a==="polygon"&&t.append("polygon").attr("points",d.map(f=>`${f.x},${f.y}`).join(" ")).attr("class",`radarCurve-${h}`)})}E(yte,"drawCurves");function vte(t,e,r,n){const i=Math.min(Math.max(t,e),r);return n*(i-e)/(r-e)}E(vte,"relativeRadius");function bte(t,e){const r=t.length;let n=`M${t[0].x},${t[0].y}`;for(let i=0;i<r;i++){const a=t[(i-1+r)%r],s=t[i],o=t[(i+1)%r],l=t[(i+2)%r],u={x:s.x+(o.x-a.x)*e,y:s.y+(o.y-a.y)*e},h={x:o.x-(l.x-s.x)*e,y:o.y-(l.y-s.y)*e};n+=` C${u.x},${u.y} ${h.x},${h.y} ${o.x},${o.y}`}return`${n} Z`}E(bte,"closedRoundCurve");function xte(t,e,r,n){if(!r)return;const i=(n.width/2+n.marginRight)*3/4,a=-(n.height/2+n.marginTop)*3/4,s=20;e.forEach((o,l)=>{const u=t.append("g").attr("transform",`translate(${i}, ${a+l*s})`);u.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${l}`),u.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(o.label)})}E(xte,"drawLegend");var dQe={draw:lQe},fQe=E((t,e)=>{let r="";for(let n=0;n<t.THEME_COLOR_LIMIT;n++){const i=t[`cScale${n}`];r+=`
		.radarCurve-${n} {
			color: ${i};
			fill: ${i};
			fill-opacity: ${e.curveOpacity};
			stroke: ${i};
			stroke-width: ${e.curveStrokeWidth};
		}
		.radarLegendBox-${n} {
			fill: ${i};
			fill-opacity: ${e.curveOpacity};
			stroke: ${i};
		}
		`}return r},"genIndexStyles"),pQe=E(t=>{const e=Uv(),r=qr(),n=bs(e,r.themeVariables),i=bs(n.radar,t);return{themeVariables:n,radarOptions:i}},"buildRadarStyleOptions"),gQe=E(({radar:t}={})=>{const{themeVariables:e,radarOptions:r}=pQe(t);return`
	.radarTitle {
		font-size: ${e.fontSize};
		color: ${e.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${r.axisColor};
		stroke-width: ${r.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${r.axisLabelFontSize}px;
		color: ${r.axisColor};
	}
	.radarGraticule {
		fill: ${r.graticuleColor};
		fill-opacity: ${r.graticuleOpacity};
		stroke: ${r.graticuleColor};
		stroke-width: ${r.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${r.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${fQe(e,r)}
	`},"styles"),mQe={parser:oQe,db:_y,renderer:dQe,styles:gQe};const yQe=Object.freeze(Object.defineProperty({__proto__:null,diagram:mQe},Symbol.toStringTag,{value:"Module"}));var k7=function(){var t=E(function(x,T,w,S){for(w=w||{},S=x.length;S--;w[x[S]]=T);return w},"o"),e=[1,7],r=[1,13],n=[1,14],i=[1,15],a=[1,19],s=[1,16],o=[1,17],l=[1,18],u=[8,30],h=[8,21,28,29,30,31,32,40,44,47],d=[1,23],f=[1,24],p=[8,15,16,21,28,29,30,31,32,40,44,47],g=[8,15,16,21,27,28,29,30,31,32,40,44,47],m=[1,49],y={trace:E(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:E(function(T,w,S,k,L,_,N){var C=_.length-1;switch(L){case 4:k.getLogger().debug("Rule: separator (NL) ");break;case 5:k.getLogger().debug("Rule: separator (Space) ");break;case 6:k.getLogger().debug("Rule: separator (EOF) ");break;case 7:k.getLogger().debug("Rule: hierarchy: ",_[C-1]),k.setHierarchy(_[C-1]);break;case 8:k.getLogger().debug("Stop NL ");break;case 9:k.getLogger().debug("Stop EOF ");break;case 10:k.getLogger().debug("Stop NL2 ");break;case 11:k.getLogger().debug("Stop EOF2 ");break;case 12:k.getLogger().debug("Rule: statement: ",_[C]),typeof _[C].length=="number"?this.$=_[C]:this.$=[_[C]];break;case 13:k.getLogger().debug("Rule: statement #2: ",_[C-1]),this.$=[_[C-1]].concat(_[C]);break;case 14:k.getLogger().debug("Rule: link: ",_[C],T),this.$={edgeTypeStr:_[C],label:""};break;case 15:k.getLogger().debug("Rule: LABEL link: ",_[C-3],_[C-1],_[C]),this.$={edgeTypeStr:_[C],label:_[C-1]};break;case 18:const D=parseInt(_[C]),P=k.generateId();this.$={id:P,type:"space",label:"",width:D,children:[]};break;case 23:k.getLogger().debug("Rule: (nodeStatement link node) ",_[C-2],_[C-1],_[C]," typestr: ",_[C-1].edgeTypeStr);const A=k.edgeStrToEdgeData(_[C-1].edgeTypeStr);this.$=[{id:_[C-2].id,label:_[C-2].label,type:_[C-2].type,directions:_[C-2].directions},{id:_[C-2].id+"-"+_[C].id,start:_[C-2].id,end:_[C].id,label:_[C-1].label,type:"edge",directions:_[C].directions,arrowTypeEnd:A,arrowTypeStart:"arrow_open"},{id:_[C].id,label:_[C].label,type:k.typeStr2Type(_[C].typeStr),directions:_[C].directions}];break;case 24:k.getLogger().debug("Rule: nodeStatement (abc88 node size) ",_[C-1],_[C]),this.$={id:_[C-1].id,label:_[C-1].label,type:k.typeStr2Type(_[C-1].typeStr),directions:_[C-1].directions,widthInColumns:parseInt(_[C],10)};break;case 25:k.getLogger().debug("Rule: nodeStatement (node) ",_[C]),this.$={id:_[C].id,label:_[C].label,type:k.typeStr2Type(_[C].typeStr),directions:_[C].directions,widthInColumns:1};break;case 26:k.getLogger().debug("APA123",this?this:"na"),k.getLogger().debug("COLUMNS: ",_[C]),this.$={type:"column-setting",columns:_[C]==="auto"?-1:parseInt(_[C])};break;case 27:k.getLogger().debug("Rule: id-block statement : ",_[C-2],_[C-1]),k.generateId(),this.$={..._[C-2],type:"composite",children:_[C-1]};break;case 28:k.getLogger().debug("Rule: blockStatement : ",_[C-2],_[C-1],_[C]);const R=k.generateId();this.$={id:R,type:"composite",label:"",children:_[C-1]};break;case 29:k.getLogger().debug("Rule: node (NODE_ID separator): ",_[C]),this.$={id:_[C]};break;case 30:k.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",_[C-1],_[C]),this.$={id:_[C-1],label:_[C].label,typeStr:_[C].typeStr,directions:_[C].directions};break;case 31:k.getLogger().debug("Rule: dirList: ",_[C]),this.$=[_[C]];break;case 32:k.getLogger().debug("Rule: dirList: ",_[C-1],_[C]),this.$=[_[C-1]].concat(_[C]);break;case 33:k.getLogger().debug("Rule: nodeShapeNLabel: ",_[C-2],_[C-1],_[C]),this.$={typeStr:_[C-2]+_[C],label:_[C-1]};break;case 34:k.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",_[C-3],_[C-2]," #3:",_[C-1],_[C]),this.$={typeStr:_[C-3]+_[C],label:_[C-2],directions:_[C-1]};break;case 35:case 36:this.$={type:"classDef",id:_[C-1].trim(),css:_[C].trim()};break;case 37:this.$={type:"applyClass",id:_[C-1].trim(),styleClass:_[C].trim()};break;case 38:this.$={type:"applyStyles",id:_[C-1].trim(),stylesStr:_[C].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{8:[1,20]},t(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:e,28:r,29:n,31:i,32:a,40:s,44:o,47:l}),t(h,[2,16],{14:22,15:d,16:f}),t(h,[2,17]),t(h,[2,18]),t(h,[2,19]),t(h,[2,20]),t(h,[2,21]),t(h,[2,22]),t(p,[2,25],{27:[1,25]}),t(h,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},t(g,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},t(u,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},t(p,[2,24]),{11:37,13:4,14:22,15:d,16:f,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},t(g,[2,30]),{18:[1,43]},{18:[1,44]},t(p,[2,23]),{18:[1,45]},{30:[1,46]},t(h,[2,28]),t(h,[2,35]),t(h,[2,36]),t(h,[2,37]),t(h,[2,38]),{37:[1,47]},{34:48,35:m},{15:[1,50]},t(h,[2,27]),t(g,[2,33]),{39:[1,51]},{34:52,35:m,39:[2,31]},{32:[2,15]},t(g,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:E(function(T,w){if(w.recoverable)this.trace(T);else{var S=new Error(T);throw S.hash=w,S}},"parseError"),parse:E(function(T){var w=this,S=[0],k=[],L=[null],_=[],N=this.table,C="",D=0,P=0,A=2,R=1,O=_.slice.call(arguments,1),M=Object.create(this.lexer),I={yy:{}};for(var F in this.yy)Object.prototype.hasOwnProperty.call(this.yy,F)&&(I.yy[F]=this.yy[F]);M.setInput(T,I.yy),I.yy.lexer=M,I.yy.parser=this,typeof M.yylloc>"u"&&(M.yylloc={});var B=M.yylloc;_.push(B);var $=M.options&&M.options.ranges;typeof I.yy.parseError=="function"?this.parseError=I.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function V(ie){S.length=S.length-2*ie,L.length=L.length-ie,_.length=_.length-ie}E(V,"popStack");function H(){var ie;return ie=k.pop()||M.lex()||R,typeof ie!="number"&&(ie instanceof Array&&(k=ie,ie=k.pop()),ie=w.symbols_[ie]||ie),ie}E(H,"lex");for(var te,X,ee,re,pe={},K,W,j,Y;;){if(X=S[S.length-1],this.defaultActions[X]?ee=this.defaultActions[X]:((te===null||typeof te>"u")&&(te=H()),ee=N[X]&&N[X][te]),typeof ee>"u"||!ee.length||!ee[0]){var Q="";Y=[];for(K in N[X])this.terminals_[K]&&K>A&&Y.push("'"+this.terminals_[K]+"'");M.showPosition?Q="Parse error on line "+(D+1)+`:
`+M.showPosition()+`
Expecting `+Y.join(", ")+", got '"+(this.terminals_[te]||te)+"'":Q="Parse error on line "+(D+1)+": Unexpected "+(te==R?"end of input":"'"+(this.terminals_[te]||te)+"'"),this.parseError(Q,{text:M.match,token:this.terminals_[te]||te,line:M.yylineno,loc:B,expected:Y})}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+X+", token: "+te);switch(ee[0]){case 1:S.push(te),L.push(M.yytext),_.push(M.yylloc),S.push(ee[1]),te=null,P=M.yyleng,C=M.yytext,D=M.yylineno,B=M.yylloc;break;case 2:if(W=this.productions_[ee[1]][1],pe.$=L[L.length-W],pe._$={first_line:_[_.length-(W||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-(W||1)].first_column,last_column:_[_.length-1].last_column},$&&(pe._$.range=[_[_.length-(W||1)].range[0],_[_.length-1].range[1]]),re=this.performAction.apply(pe,[C,P,D,I.yy,ee[1],L,_].concat(O)),typeof re<"u")return re;W&&(S=S.slice(0,-1*W*2),L=L.slice(0,-1*W),_=_.slice(0,-1*W)),S.push(this.productions_[ee[1]][0]),L.push(pe.$),_.push(pe._$),j=N[S[S.length-2]][S[S.length-1]],S.push(j);break;case 3:return!0}}return!0},"parse")},v=function(){var x={EOF:1,parseError:E(function(w,S){if(this.yy.parser)this.yy.parser.parseError(w,S);else throw new Error(w)},"parseError"),setInput:E(function(T,w){return this.yy=w||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:E(function(){var T=this._input[0];this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T;var w=T.match(/(?:\r\n?|\n).*/g);return w?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},"input"),unput:E(function(T){var w=T.length,S=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-w),this.offset-=w;var k=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),S.length-1&&(this.yylineno-=S.length-1);var L=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:S?(S.length===k.length?this.yylloc.first_column:0)+k[k.length-S.length].length-S[0].length:this.yylloc.first_column-w},this.options.ranges&&(this.yylloc.range=[L[0],L[0]+this.yyleng-w]),this.yyleng=this.yytext.length,this},"unput"),more:E(function(){return this._more=!0,this},"more"),reject:E(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:E(function(T){this.unput(this.match.slice(T))},"less"),pastInput:E(function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:E(function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:E(function(){var T=this.pastInput(),w=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+w+"^"},"showPosition"),test_match:E(function(T,w){var S,k,L;if(this.options.backtrack_lexer&&(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(L.yylloc.range=this.yylloc.range.slice(0))),k=T[0].match(/(?:\r\n?|\n).*/g),k&&(this.yylineno+=k.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],S=this.performAction.call(this,this.yy,this,w,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),S)return S;if(this._backtrack){for(var _ in L)this[_]=L[_];return!1}return!1},"test_match"),next:E(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var T,w,S,k;this._more||(this.yytext="",this.match="");for(var L=this._currentRules(),_=0;_<L.length;_++)if(S=this._input.match(this.rules[L[_]]),S&&(!w||S[0].length>w[0].length)){if(w=S,k=_,this.options.backtrack_lexer){if(T=this.test_match(S,L[_]),T!==!1)return T;if(this._backtrack){w=!1;continue}else return!1}else if(!this.options.flex)break}return w?(T=this.test_match(w,L[k]),T!==!1?T:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:E(function(){var w=this.next();return w||this.lex()},"lex"),begin:E(function(w){this.conditionStack.push(w)},"begin"),popState:E(function(){var w=this.conditionStack.length-1;return w>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:E(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:E(function(w){return w=this.conditionStack.length-1-Math.abs(w||0),w>=0?this.conditionStack[w]:"INITIAL"},"topState"),pushState:E(function(w){this.begin(w)},"pushState"),stateStackSize:E(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:E(function(w,S,k,L){switch(k){case 0:return 10;case 1:return w.getLogger().debug("Found space-block"),31;case 2:return w.getLogger().debug("Found nl-block"),31;case 3:return w.getLogger().debug("Found space-block"),29;case 4:w.getLogger().debug(".",S.yytext);break;case 5:w.getLogger().debug("_",S.yytext);break;case 6:return 5;case 7:return S.yytext=-1,28;case 8:return S.yytext=S.yytext.replace(/columns\s+/,""),w.getLogger().debug("COLUMNS (LEX)",S.yytext),28;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:w.getLogger().debug("LEX: POPPING STR:",S.yytext),this.popState();break;case 14:return w.getLogger().debug("LEX: STR end:",S.yytext),"STR";case 15:return S.yytext=S.yytext.replace(/space\:/,""),w.getLogger().debug("SPACE NUM (LEX)",S.yytext),21;case 16:return S.yytext="1",w.getLogger().debug("COLUMNS (LEX)",S.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),w.getLogger().debug("Lex: ))"),"NODE_DEND";case 41:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 43:return this.popState(),w.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),w.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 46:return this.popState(),w.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),w.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),w.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:return this.popState(),w.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),w.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),w.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),w.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),w.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),w.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return w.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return w.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return w.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return w.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 60:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 61:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 62:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 63:return w.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return w.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 65:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 66:return this.pushState("NODE"),36;case 67:return this.pushState("NODE"),36;case 68:return this.pushState("NODE"),36;case 69:return this.pushState("NODE"),36;case 70:return this.pushState("NODE"),36;case 71:return this.pushState("NODE"),36;case 72:return this.pushState("NODE"),36;case 73:return w.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),w.getLogger().debug("LEX ARR START"),38;case 75:return w.getLogger().debug("Lex: NODE_ID",S.yytext),32;case 76:return w.getLogger().debug("Lex: EOF",S.yytext),8;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:w.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:w.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return w.getLogger().debug("LEX: NODE_DESCR:",S.yytext),"NODE_DESCR";case 84:w.getLogger().debug("LEX POPPING"),this.popState();break;case 85:w.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return S.yytext=S.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (right): dir:",S.yytext),"DIR";case 87:return S.yytext=S.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (left):",S.yytext),"DIR";case 88:return S.yytext=S.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (x):",S.yytext),"DIR";case 89:return S.yytext=S.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (y):",S.yytext),"DIR";case 90:return S.yytext=S.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (up):",S.yytext),"DIR";case 91:return S.yytext=S.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (down):",S.yytext),"DIR";case 92:return S.yytext="]>",w.getLogger().debug("Lex (ARROW_DIR end):",S.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return w.getLogger().debug("Lex: LINK","#"+S.yytext+"#"),15;case 94:return w.getLogger().debug("Lex: LINK",S.yytext),15;case 95:return w.getLogger().debug("Lex: LINK",S.yytext),15;case 96:return w.getLogger().debug("Lex: LINK",S.yytext),15;case 97:return w.getLogger().debug("Lex: START_LINK",S.yytext),this.pushState("LLABEL"),16;case 98:return w.getLogger().debug("Lex: START_LINK",S.yytext),this.pushState("LLABEL"),16;case 99:return w.getLogger().debug("Lex: START_LINK",S.yytext),this.pushState("LLABEL"),16;case 100:this.pushState("md_string");break;case 101:return w.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),w.getLogger().debug("Lex: LINK","#"+S.yytext+"#"),15;case 103:return this.popState(),w.getLogger().debug("Lex: LINK",S.yytext),15;case 104:return this.popState(),w.getLogger().debug("Lex: LINK",S.yytext),15;case 105:return w.getLogger().debug("Lex: COLON",S.yytext),S.yytext=S.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return x}();y.lexer=v;function b(){this.yy={}}return E(b,"Parser"),b.prototype=y,y.Parser=b,new b}();k7.parser=k7;var vQe=k7,Io=new Map,C7=[],_7=new Map,Ete="color",Tte="fill",bQe="bgFill",wte=",",xQe=Re(),lT=new Map,EQe=E(t=>xt.sanitizeText(t,xQe),"sanitizeText"),TQe=E(function(t,e=""){let r=lT.get(t);r||(r={id:t,styles:[],textStyles:[]},lT.set(t,r)),e!=null&&e.split(wte).forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(Ete).exec(n)){const s=i.replace(Tte,bQe).replace(Ete,Tte);r.textStyles.push(s)}r.styles.push(i)})},"addStyleClass"),wQe=E(function(t,e=""){const r=Io.get(t);e!=null&&(r.styles=e.split(wte))},"addStyle2Node"),SQe=E(function(t,e){t.split(",").forEach(function(r){let n=Io.get(r);if(n===void 0){const i=r.trim();n={id:i,type:"na",children:[]},Io.set(i,n)}n.classes||(n.classes=[]),n.classes.push(e)})},"setCssClass"),Ste=E((t,e)=>{const r=t.flat(),n=[];for(const i of r){if(i.label&&(i.label=EQe(i.label)),i.type==="classDef"){TQe(i.id,i.css);continue}if(i.type==="applyClass"){SQe(i.id,(i==null?void 0:i.styleClass)??"");continue}if(i.type==="applyStyles"){i!=null&&i.stylesStr&&wQe(i.id,i==null?void 0:i.stylesStr);continue}if(i.type==="column-setting")e.columns=i.columns??-1;else if(i.type==="edge"){const a=(_7.get(i.id)??0)+1;_7.set(i.id,a),i.id=a+"-"+i.id,C7.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);const a=Io.get(i.id);if(a===void 0?Io.set(i.id,i):(i.type!=="na"&&(a.type=i.type),i.label!==i.id&&(a.label=i.label)),i.children&&Ste(i.children,i),i.type==="space"){const s=i.width??1;for(let o=0;o<s;o++){const l=gi(i);l.id=l.id+"-"+o,Io.set(l.id,l),n.push(l)}}else a===void 0&&n.push(i)}}e.children=n},"populateBlockDatabase"),A7=[],Ay={id:"root",type:"composite",children:[],columns:-1},kQe=E(()=>{se.debug("Clear called"),si(),Ay={id:"root",type:"composite",children:[],columns:-1},Io=new Map([["root",Ay]]),A7=[],lT=new Map,C7=[],_7=new Map},"clear");function kte(t){switch(se.debug("typeStr2Type",t),t){case"[]":return"square";case"()":return se.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}E(kte,"typeStr2Type");function Cte(t){switch(se.debug("typeStr2Type",t),t){case"==":return"thick";default:return"normal"}}E(Cte,"edgeTypeStr2Type");function _te(t){switch(t.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}E(_te,"edgeStrToEdgeData");var Ate=0,CQe=E(()=>(Ate++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Ate),"generateId"),_Qe=E(t=>{Ay.children=t,Ste(t,Ay),A7=Ay.children},"setHierarchy"),AQe=E(t=>{const e=Io.get(t);return e?e.columns?e.columns:e.children?e.children.length:-1:-1},"getColumns"),LQe=E(()=>[...Io.values()],"getBlocksFlat"),NQe=E(()=>A7||[],"getBlocks"),RQe=E(()=>C7,"getEdges"),IQe=E(t=>Io.get(t),"getBlock"),DQe=E(t=>{Io.set(t.id,t)},"setBlock"),OQe=E(()=>console,"getLogger"),MQe=E(function(){return lT},"getClasses"),PQe={getConfig:E(()=>qr().block,"getConfig"),typeStr2Type:kte,edgeTypeStr2Type:Cte,edgeStrToEdgeData:_te,getLogger:OQe,getBlocksFlat:LQe,getBlocks:NQe,getEdges:RQe,setHierarchy:_Qe,getBlock:IQe,setBlock:DQe,getColumns:AQe,getClasses:MQe,clear:kQe,generateId:CQe},BQe=PQe,cT=E((t,e)=>{const r=sw,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return zc(n,i,a,e)},"fade"),FQe=E(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span,p {
    color: ${t.titleColor};
  }



  .label text,span,p {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${cT(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${cT(t.mainBkg,.5)};
    fill: ${cT(t.clusterBkg,.5)};
    stroke: ${cT(t.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span,p {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
  ${I1()}
`,"getStyles"),$Qe=FQe,zQe=E((t,e,r,n)=>{e.forEach(i=>{jQe[i](t,r,n)})},"insertMarkers"),UQe=E((t,e,r)=>{se.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),HQe=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),GQe=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),VQe=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),qQe=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),WQe=E((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),YQe=E((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),XQe=E((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),KQe=E((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),jQe={extension:UQe,composition:HQe,aggregation:GQe,dependency:VQe,lollipop:qQe,point:WQe,circle:YQe,cross:XQe,barb:KQe},QQe=zQe,qn=((pre=(fre=Re())==null?void 0:fre.block)==null?void 0:pre.padding)??8;function Lte(t,e){if(t===0||!Number.isInteger(t))throw new Error("Columns must be an integer !== 0.");if(e<0||!Number.isInteger(e))throw new Error("Position must be a non-negative integer."+e);if(t<0)return{px:e,py:0};if(t===1)return{px:0,py:e};const r=e%t,n=Math.floor(e/t);return{px:r,py:n}}E(Lte,"calculateBlockPosition");var ZQe=E(t=>{let e=0,r=0;for(const n of t.children){const{width:i,height:a,x:s,y:o}=n.size??{width:0,height:0,x:0,y:0};se.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",a,"x:",s,"y:",o,n.type),n.type!=="space"&&(i>e&&(e=i/(t.widthInColumns??1)),a>r&&(r=a))}return{width:e,height:r}},"getMaxChildSize");function uT(t,e,r=0,n=0){var s,o,l,u,h,d,f,p,g,m,y;se.debug("setBlockSizes abc95 (start)",t.id,(s=t==null?void 0:t.size)==null?void 0:s.x,"block width =",t==null?void 0:t.size,"siblingWidth",r),(o=t==null?void 0:t.size)!=null&&o.width||(t.size={width:r,height:n,x:0,y:0});let i=0,a=0;if(((l=t.children)==null?void 0:l.length)>0){for(const L of t.children)uT(L,e);const v=ZQe(t);i=v.width,a=v.height,se.debug("setBlockSizes abc95 maxWidth of",t.id,":s children is ",i,a);for(const L of t.children)L.size&&(se.debug(`abc95 Setting size of children of ${t.id} id=${L.id} ${i} ${a} ${JSON.stringify(L.size)}`),L.size.width=i*(L.widthInColumns??1)+qn*((L.widthInColumns??1)-1),L.size.height=a,L.size.x=0,L.size.y=0,se.debug(`abc95 updating size of ${t.id} children child:${L.id} maxWidth:${i} maxHeight:${a}`));for(const L of t.children)uT(L,e,i,a);const b=t.columns??-1;let x=0;for(const L of t.children)x+=L.widthInColumns??1;let T=t.children.length;b>0&&b<x&&(T=b);const w=Math.ceil(x/T);let S=T*(i+qn)+qn,k=w*(a+qn)+qn;if(S<r){se.debug(`Detected to small sibling: abc95 ${t.id} siblingWidth ${r} siblingHeight ${n} width ${S}`),S=r,k=n;const L=(r-T*qn-qn)/T,_=(n-w*qn-qn)/w;se.debug("Size indata abc88",t.id,"childWidth",L,"maxWidth",i),se.debug("Size indata abc88",t.id,"childHeight",_,"maxHeight",a),se.debug("Size indata abc88 xSize",T,"padding",qn);for(const N of t.children)N.size&&(N.size.width=L,N.size.height=_,N.size.x=0,N.size.y=0)}if(se.debug(`abc95 (finale calc) ${t.id} xSize ${T} ySize ${w} columns ${b}${t.children.length} width=${Math.max(S,((u=t.size)==null?void 0:u.width)||0)}`),S<(((h=t==null?void 0:t.size)==null?void 0:h.width)||0)){S=((d=t==null?void 0:t.size)==null?void 0:d.width)||0;const L=b>0?Math.min(t.children.length,b):t.children.length;if(L>0){const _=(S-L*qn-qn)/L;se.debug("abc95 (growing to fit) width",t.id,S,(f=t.size)==null?void 0:f.width,_);for(const N of t.children)N.size&&(N.size.width=_)}}t.size={width:S,height:k,x:0,y:0}}se.debug("setBlockSizes abc94 (done)",t.id,(p=t==null?void 0:t.size)==null?void 0:p.x,(g=t==null?void 0:t.size)==null?void 0:g.width,(m=t==null?void 0:t.size)==null?void 0:m.y,(y=t==null?void 0:t.size)==null?void 0:y.height)}E(uT,"setBlockSizes");function L7(t,e){var n,i,a,s,o,l,u,h,d,f,p,g,m,y,v,b,x;se.debug(`abc85 layout blocks (=>layoutBlocks) ${t.id} x: ${(n=t==null?void 0:t.size)==null?void 0:n.x} y: ${(i=t==null?void 0:t.size)==null?void 0:i.y} width: ${(a=t==null?void 0:t.size)==null?void 0:a.width}`);const r=t.columns??-1;if(se.debug("layoutBlocks columns abc95",t.id,"=>",r,t),t.children&&t.children.length>0){const T=((o=(s=t==null?void 0:t.children[0])==null?void 0:s.size)==null?void 0:o.width)??0,w=t.children.length*T+(t.children.length-1)*qn;se.debug("widthOfChildren 88",w,"posX");let S=0;se.debug("abc91 block?.size?.x",t.id,(l=t==null?void 0:t.size)==null?void 0:l.x);let k=(u=t==null?void 0:t.size)!=null&&u.x?((h=t==null?void 0:t.size)==null?void 0:h.x)+(-((d=t==null?void 0:t.size)==null?void 0:d.width)/2||0):-qn,L=0;for(const _ of t.children){const N=t;if(!_.size)continue;const{width:C,height:D}=_.size,{px:P,py:A}=Lte(r,S);if(A!=L&&(L=A,k=(f=t==null?void 0:t.size)!=null&&f.x?((p=t==null?void 0:t.size)==null?void 0:p.x)+(-((g=t==null?void 0:t.size)==null?void 0:g.width)/2||0):-qn,se.debug("New row in layout for block",t.id," and child ",_.id,L)),se.debug(`abc89 layout blocks (child) id: ${_.id} Pos: ${S} (px, py) ${P},${A} (${(m=N==null?void 0:N.size)==null?void 0:m.x},${(y=N==null?void 0:N.size)==null?void 0:y.y}) parent: ${N.id} width: ${C}${qn}`),N.size){const R=C/2;_.size.x=k+qn+R,se.debug(`abc91 layout blocks (calc) px, pyid:${_.id} startingPos=X${k} new startingPosX${_.size.x} ${R} padding=${qn} width=${C} halfWidth=${R} => x:${_.size.x} y:${_.size.y} ${_.widthInColumns} (width * (child?.w || 1)) / 2 ${C*((_==null?void 0:_.widthInColumns)??1)/2}`),k=_.size.x+R,_.size.y=N.size.y-N.size.height/2+A*(D+qn)+D/2+qn,se.debug(`abc88 layout blocks (calc) px, pyid:${_.id}startingPosX${k}${qn}${R}=>x:${_.size.x}y:${_.size.y}${_.widthInColumns}(width * (child?.w || 1)) / 2${C*((_==null?void 0:_.widthInColumns)??1)/2}`)}_.children&&L7(_),S+=(_==null?void 0:_.widthInColumns)??1,se.debug("abc88 columnsPos",_,S)}}se.debug(`layout blocks (<==layoutBlocks) ${t.id} x: ${(v=t==null?void 0:t.size)==null?void 0:v.x} y: ${(b=t==null?void 0:t.size)==null?void 0:b.y} width: ${(x=t==null?void 0:t.size)==null?void 0:x.width}`)}E(L7,"layoutBlocks");function N7(t,{minX:e,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(t.size&&t.id!=="root"){const{x:a,y:s,width:o,height:l}=t.size;a-o/2<e&&(e=a-o/2),s-l/2<r&&(r=s-l/2),a+o/2>n&&(n=a+o/2),s+l/2>i&&(i=s+l/2)}if(t.children)for(const a of t.children)({minX:e,minY:r,maxX:n,maxY:i}=N7(a,{minX:e,minY:r,maxX:n,maxY:i}));return{minX:e,minY:r,maxX:n,maxY:i}}E(N7,"findBounds");function Nte(t){const e=t.getBlock("root");if(!e)return;uT(e,t,0,0),L7(e),se.debug("getBlocks",JSON.stringify(e,null,2));const{minX:r,minY:n,maxX:i,maxY:a}=N7(e),s=a-n,o=i-r;return{x:r,y:n,width:o,height:s}}E(Nte,"layout");function R7(t,e){e&&t.attr("style",e)}E(R7,"applyStyle");function Rte(t){const e=mt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),n=t.label,i=t.isNode?"nodeLabel":"edgeLabel",a=r.append("span");return a.html(n),R7(a,t.labelStyle),a.attr("class",i),R7(r,t.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}E(Rte,"addHtmlLabel");var JQe=E(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),tn(Re().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),se.debug("vertexText"+i);const a=await g6(Jo(i)),s={isNode:n,label:a,labelStyle:e.replace("fill:","color:")};return Rte(s)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),ro=JQe,eZe=E((t,e,r,n,i)=>{e.arrowTypeStart&&Ite(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&Ite(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),tZe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},Ite=E((t,e,r,n,i,a)=>{const s=tZe[r];if(!s){se.warn(`Unknown arrow type: ${r}`);return}const o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),I7={},fa={},rZe=E(async(t,e)=>{const r=Re(),n=tn(r.flowchart.htmlLabels),i=e.labelType==="markdown"?Xa(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):await ro(e.label,e.labelStyle),a=t.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(i);let o=i.getBBox();if(n){const u=i.children[0],h=mt(i);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),I7[e.id]=a,e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const u=await ro(e.startLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),fa[e.id]||(fa[e.id]={}),fa[e.id].startLeft=h,Ly(l,e.startLabelLeft)}if(e.startLabelRight){const u=await ro(e.startLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=h.node().appendChild(u),d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),fa[e.id]||(fa[e.id]={}),fa[e.id].startRight=h,Ly(l,e.startLabelRight)}if(e.endLabelLeft){const u=await ro(e.endLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(u),fa[e.id]||(fa[e.id]={}),fa[e.id].endLeft=h,Ly(l,e.endLabelLeft)}if(e.endLabelRight){const u=await ro(e.endLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(u),fa[e.id]||(fa[e.id]={}),fa[e.id].endRight=h,Ly(l,e.endLabelRight)}return i},"insertEdgeLabel");function Ly(t,e){Re().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}E(Ly,"setTerminalWidth");var nZe=E((t,e)=>{se.debug("Moving label abc88 ",t.id,t.label,I7[t.id],e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Re(),{subGraphTitleTotalMargin:i}=gg(n);if(t.label){const a=I7[t.id];let s=t.x,o=t.y;if(r){const l=dr.calcLabelPosition(r);se.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=fa[t.id].startLeft;let s=t.x,o=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=fa[t.id].startRight;let s=t.x,o=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=fa[t.id].endLeft;let s=t.x,o=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=fa[t.id].endRight;let s=t.x,o=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),iZe=E((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),aZe=E((t,e,r)=>{se.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let d=r.y<e.y?e.y-l-i:i-l-e.y;o=h*d/u;const f={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+u-d:r.y-u+d};return o===0&&(f.x=e.x,f.y=e.y),h===0&&(f.x=e.x),u===0&&(f.y=e.y),se.debug(`abc89 topp/bott calc, Q ${u}, q ${d}, R ${h}, r ${o}`,f),f}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let d=u*o/h,f=r.x<e.x?r.x+h-o:r.x-h+o,p=r.y<e.y?r.y+d:r.y-d;return se.debug(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${o}`,{_x:f,_y:p}),o===0&&(f=e.x,p=e.y),h===0&&(f=e.x),u===0&&(p=e.y),{x:f,y:p}}},"intersection"),Dte=E((t,e)=>{se.debug("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(!iZe(e,a)&&!i){const s=aZe(e,n,a);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)||r.push(s),i=!0}else n=a,i||r.push(a)}),r},"cutPathAtIntersect"),sZe=E(function(t,e,r,n,i,a,s){let o=r.points;se.debug("abc88 InsertEdge: edge=",r,"e=",e);let l=!1;const u=a.node(e.v);var h=a.node(e.w);h!=null&&h.intersect&&(u!=null&&u.intersect)&&(o=o.slice(1,r.points.length-1),o.unshift(u.intersect(o[0])),o.push(h.intersect(o[o.length-1]))),r.toCluster&&(se.debug("to cluster abc88",n[r.toCluster]),o=Dte(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(se.debug("from cluster abc88",n[r.fromCluster]),o=Dte(o.reverse(),n[r.fromCluster].node).reverse(),l=!0);const d=o.filter(T=>!Number.isNaN(T.y));let f=sf;r.curve&&(i==="graph"||i==="flowchart")&&(f=r.curve);const{x:p,y:g}=OO(r),m=Mg().x(p).y(g).curve(f);let y;switch(r.thickness){case"normal":y="edge-thickness-normal";break;case"thick":y="edge-thickness-thick";break;case"invisible":y="edge-thickness-thick";break;default:y=""}switch(r.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed";break}const v=t.append("path").attr("d",m(d)).attr("id",r.id).attr("class"," "+y+(r.classes?" "+r.classes:"")).attr("style",r.style);let b="";(Re().flowchart.arrowMarkerAbsolute||Re().state.arrowMarkerAbsolute)&&(b=sg(!0)),eZe(v,r,b,s,i);let x={};return l&&(x.updatedPath=o),x.originalPath=r.points,x},"insertEdge"),oZe=E(t=>{const e=new Set;for(const r of t)switch(r){case"x":e.add("right"),e.add("left");break;case"y":e.add("up"),e.add("down");break;default:e.add(r);break}return e},"expandAndDeduplicateDirections"),lZe=E((t,e,r)=>{const n=oZe(t),i=2,a=e.height+2*r.padding,s=a/i,o=e.width+2*s+r.padding,l=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:s,y:0},{x:o/2,y:2*l},{x:o-s,y:0},{x:o,y:0},{x:o,y:-a/3},{x:o+2*l,y:-a/2},{x:o,y:-2*a/3},{x:o,y:-a},{x:o-s,y:-a},{x:o/2,y:-a-2*l},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*l,y:-a/2},{x:0,y:-a/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:s,y:-a},{x:o-s,y:-a},{x:o,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:-s},{x:o,y:-a+s},{x:0,y:-a}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:o,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:o,y:-a}]:n.has("right")&&n.has("left")?[{x:s,y:0},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")&&n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:s,y:-l},{x:s,y:-a+l},{x:0,y:-a+l},{x:o/2,y:-a},{x:o,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l},{x:o,y:-l}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:o,y:-s},{x:0,y:-a}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-a}]:n.has("left")&&n.has("up")?[{x:o,y:0},{x:0,y:-s},{x:o,y:-a}]:n.has("left")&&n.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-a}]:n.has("right")?[{x:s,y:-l},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a+l}]:n.has("left")?[{x:s,y:0},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")?[{x:s,y:-l},{x:s,y:-a+l},{x:0,y:-a+l},{x:o/2,y:-a},{x:o,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l}]:n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:s,y:-l},{x:s,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l},{x:o,y:-l}]:[{x:0,y:0}]},"getArrowPoints");function Ote(t,e){return t.intersect(e)}E(Ote,"intersectNode");var cZe=Ote;function Mte(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/l);n.x<i&&(u=-u);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+u,y:a+h}}E(Mte,"intersectEllipse");var Pte=Mte;function Bte(t,e,r){return Pte(t,e,e,r)}E(Bte,"intersectCircle");var uZe=Bte;function Fte(t,e,r,n){var i,a,s,o,l,u,h,d,f,p,g,m,y,v,b;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*r.x+s*r.y+l,p=i*n.x+s*n.y+l,!(f!==0&&p!==0&&D7(f,p))&&(a=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+u,d=a*e.x+o*e.y+u,!(h!==0&&d!==0&&D7(h,d))&&(g=i*o-a*s,g!==0)))return m=Math.abs(g/2),y=s*u-o*l,v=y<0?(y-m)/g:(y+m)/g,y=a*l-i*u,b=y<0?(y-m)/g:(y+m)/g,{x:v,y:b}}E(Fte,"intersectLine");function D7(t,e){return t*e>0}E(D7,"sameSign");var hZe=Fte,dZe=$te;function $te(t,e,r){var n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(g){s=Math.min(s,g.x),o=Math.min(o,g.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));for(var l=n-t.width/2-s,u=i-t.height/2-o,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=hZe(t,r,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(g,m){var y=g.x-r.x,v=g.y-r.y,b=Math.sqrt(y*y+v*v),x=m.x-r.x,T=m.y-r.y,w=Math.sqrt(x*x+T*T);return b<w?-1:b===w?0:1}),a[0]):t}E($te,"intersectPolygon");var fZe=E((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:r+l,y:n+u}},"intersectRect"),pZe=fZe,_n={node:cZe,circle:uZe,ellipse:Pte,polygon:dZe,rect:pZe},Pi=E(async(t,e,r,n)=>{const i=Re();let a;const s=e.useHtmlLabels||tn(i.flowchart.htmlLabels);r?a=r:a="node default";const o=t.insert("g").attr("class",a).attr("id",e.domId||e.id),l=o.insert("g").attr("class","label").attr("style",e.labelStyle);let u;e.labelText===void 0?u="":u=typeof e.labelText=="string"?e.labelText:e.labelText[0];const h=l.node();let d;e.labelType==="markdown"?d=Xa(l,on(Jo(u),i),{useHtmlLabels:s,width:e.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):d=h.appendChild(await ro(on(Jo(u),i),e.labelStyle,!1,n));let f=d.getBBox();const p=e.padding/2;if(tn(i.flowchart.htmlLabels)){const g=d.children[0],m=mt(d),y=g.getElementsByTagName("img");if(y){const v=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(b=>new Promise(x=>{function T(){if(b.style.display="flex",b.style.flexDirection="column",v){const w=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,k=parseInt(w,10)*5+"px";b.style.minWidth=k,b.style.maxWidth=k}else b.style.width="100%";x(b)}E(T,"setupImage"),setTimeout(()=>{b.complete&&T()}),b.addEventListener("error",T),b.addEventListener("load",T)})))}f=g.getBoundingClientRect(),m.attr("width",f.width),m.attr("height",f.height)}return s?l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):l.attr("transform","translate(0, "+-f.height/2+")"),e.centerLabel&&l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:o,bbox:f,halfPadding:p,label:l}},"labelHelper"),$n=E((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds");function Do(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}E(Do,"insertPolygonShape");var gZe=E(async(t,e)=>{e.useHtmlLabels||Re().flowchart.htmlLabels||(e.centerLabel=!0);const{shapeSvg:n,bbox:i,halfPadding:a}=await Pi(t,e,"node "+e.classes,!0);se.info("Classes = ",e.classes);const s=n.insert("rect",":first-child");return s.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-a).attr("y",-i.height/2-a).attr("width",i.width+e.padding).attr("height",i.height+e.padding),$n(e,s),e.intersect=function(o){return _n.rect(e,o)},n},"note"),mZe=gZe,zte=E(t=>t?" "+t:"","formatClass"),Rs=E((t,e)=>`${e||"node default"}${zte(t.classes)} ${zte(t.class)}`,"getClassesFromNode"),Ute=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=i+a,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];se.info("Question main (Circle)");const l=Do(r,s,s,o);return l.attr("style",e.style),$n(e,l),e.intersect=function(u){return se.warn("Intersect called"),_n.polygon(e,o,u)},r},"question"),yZe=E((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(s){return _n.circle(e,14,s)},r},"choice"),vZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=4,a=n.height+e.padding,s=a/i,o=n.width+2*s+e.padding,l=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],u=Do(r,o,a,l);return u.attr("style",e.style),$n(e,u),e.intersect=function(h){return _n.polygon(e,l,h)},r},"hexagon"),bZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,void 0,!0),i=2,a=n.height+2*e.padding,s=a/i,o=n.width+2*s+e.padding,l=lZe(e.directions,n,e),u=Do(r,o,a,l);return u.attr("style",e.style),$n(e,u),e.intersect=function(h){return _n.polygon(e,l,h)},r},"block_arrow"),xZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return Do(r,i,a,s).attr("style",e.style),e.width=i+a,e.height=a,e.intersect=function(l){return _n.polygon(e,s,l)},r},"rect_left_inv_arrow"),EZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],o=Do(r,i,a,s);return o.attr("style",e.style),$n(e,o),e.intersect=function(l){return _n.polygon(e,s,l)},r},"lean_right"),TZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],o=Do(r,i,a,s);return o.attr("style",e.style),$n(e,o),e.intersect=function(l){return _n.polygon(e,s,l)},r},"lean_left"),wZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],o=Do(r,i,a,s);return o.attr("style",e.style),$n(e,o),e.intersect=function(l){return _n.polygon(e,s,l)},r},"trapezoid"),SZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=Do(r,i,a,s);return o.attr("style",e.style),$n(e,o),e.intersect=function(l){return _n.polygon(e,s,l)},r},"inv_trapezoid"),kZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],o=Do(r,i,a,s);return o.attr("style",e.style),$n(e,o),e.intersect=function(l){return _n.polygon(e,s,l)},r},"rect_right_inv_arrow"),CZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.width+e.padding,a=i/2,s=a/(2.5+i/50),o=n.height+s+e.padding,l="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-o,u=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(o/2+s)+")");return $n(e,u),e.intersect=function(h){const d=_n.rect(e,h),f=d.x-e.x;if(a!=0&&(Math.abs(f)<e.width/2||Math.abs(f)==e.width/2&&Math.abs(d.y-e.y)>e.height/2-s)){let p=s*s*(1-f*f/(a*a));p!=0&&(p=Math.sqrt(p)),p=s-p,h.y-e.y>0&&(p=-p),d.y+=p}return d},r},"cylinder"),_Ze=E(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Pi(t,e,"node "+e.classes+" "+e.class,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:n.width+e.padding,o=e.positioned?e.height:n.height+e.padding,l=e.positioned?-s/2:-n.width/2-i,u=e.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",s).attr("height",o),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(hT(a,e.props.borders,s,o),h.delete("borders")),h.forEach(d=>{se.warn(`Unknown node property ${d}`)})}return $n(e,a),e.intersect=function(h){return _n.rect(e,h)},r},"rect"),AZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Pi(t,e,"node "+e.classes,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:n.width+e.padding,o=e.positioned?e.height:n.height+e.padding,l=e.positioned?-s/2:-n.width/2-i,u=e.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic cluster composite label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",s).attr("height",o),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(hT(a,e.props.borders,s,o),h.delete("borders")),h.forEach(d=>{se.warn(`Unknown node property ${d}`)})}return $n(e,a),e.intersect=function(h){return _n.rect(e,h)},r},"composite"),LZe=E(async(t,e)=>{const{shapeSvg:r}=await Pi(t,e,"label",!0);se.trace("Classes = ",e.class);const n=r.insert("rect",":first-child"),i=0,a=0;if(n.attr("width",i).attr("height",a),r.attr("class","label edgeLabel"),e.props){const s=new Set(Object.keys(e.props));e.props.borders&&(hT(n,e.props.borders,i,a),s.delete("borders")),s.forEach(o=>{se.warn(`Unknown node property ${o}`)})}return $n(e,n),e.intersect=function(s){return _n.rect(e,s)},r},"labelRect");function hT(t,e,r,n){const i=[],a=E(o=>{i.push(o,0)},"addBorder"),s=E(o=>{i.push(0,o)},"skipBorder");e.includes("t")?(se.debug("add top border"),a(r)):s(r),e.includes("r")?(se.debug("add right border"),a(n)):s(n),e.includes("b")?(se.debug("add bottom border"),a(r)):s(r),e.includes("l")?(se.debug("add left border"),a(n)):s(n),t.attr("stroke-dasharray",i.join(" "))}E(hT,"applyNodePropertyBorders");var NZe=E(async(t,e)=>{let r;e.classes?r="node "+e.classes:r="node default";const n=t.insert("g").attr("class",r).attr("id",e.domId||e.id),i=n.insert("rect",":first-child"),a=n.insert("line"),s=n.insert("g").attr("class","label"),o=e.labelText.flat?e.labelText.flat():e.labelText;let l="";typeof o=="object"?l=o[0]:l=o,se.info("Label text abc79",l,o,typeof o=="object");const u=s.node().appendChild(await ro(l,e.labelStyle,!0,!0));let h={width:0,height:0};if(tn(Re().flowchart.htmlLabels)){const m=u.children[0],y=mt(u);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}se.info("Text 2",o);const d=o.slice(1,o.length);let f=u.getBBox();const p=s.node().appendChild(await ro(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0));if(tn(Re().flowchart.htmlLabels)){const m=p.children[0],y=mt(p);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}const g=e.padding/2;return mt(p).attr("transform","translate( "+(h.width>f.width?0:(f.width-h.width)/2)+", "+(f.height+g+5)+")"),mt(u).attr("transform","translate( "+(h.width<f.width?0:-(f.width-h.width)/2)+", 0)"),h=s.node().getBBox(),s.attr("transform","translate("+-h.width/2+", "+(-h.height/2-g+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-g).attr("y",-h.height/2-g).attr("width",h.width+e.padding).attr("height",h.height+e.padding),a.attr("class","divider").attr("x1",-h.width/2-g).attr("x2",h.width/2+g).attr("y1",-h.height/2-g+f.height+g).attr("y2",-h.height/2-g+f.height+g),$n(e,i),e.intersect=function(m){return _n.rect(e,m)},n},"rectWithTitle"),RZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.height+e.padding,a=n.width+i/4+e.padding,s=r.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return $n(e,s),e.intersect=function(o){return _n.rect(e,o)},r},"stadium"),IZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Pi(t,e,Rs(e,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),se.info("Circle main"),$n(e,a),e.intersect=function(s){return se.info("Circle intersect",e,n.width/2+i,s),_n.circle(e,n.width/2+i,s)},r},"circle"),DZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Pi(t,e,Rs(e,void 0),!0),a=5,s=r.insert("g",":first-child"),o=s.insert("circle"),l=s.insert("circle");return s.attr("class",e.class),o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i+a).attr("width",n.width+e.padding+a*2).attr("height",n.height+e.padding+a*2),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),se.info("DoubleCircle main"),$n(e,o),e.intersect=function(u){return se.info("DoubleCircle intersect",e,n.width/2+i+a,u),_n.circle(e,n.width/2+i+a,u)},r},"doublecircle"),OZe=E(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Pi(t,e,Rs(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=Do(r,i,a,s);return o.attr("style",e.style),$n(e,o),e.intersect=function(l){return _n.polygon(e,s,l)},r},"subroutine"),MZe=E((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),$n(e,n),e.intersect=function(i){return _n.circle(e,7,i)},r},"start"),Hte=E((t,e,r)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,a=10;r==="LR"&&(i=10,a=70);const s=n.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return $n(e,s),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(o){return _n.rect(e,o)},n},"forkJoin"),PZe=E((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),$n(e,i),e.intersect=function(a){return _n.circle(e,7,a)},r},"end"),BZe=E(async(t,e)=>{var L;const r=e.padding/2,n=4,i=8;let a;e.classes?a="node "+e.classes:a="node default";const s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),o=s.insert("rect",":first-child"),l=s.insert("line"),u=s.insert("line");let h=0,d=n;const f=s.insert("g").attr("class","label");let p=0;const g=(L=e.classData.annotations)==null?void 0:L[0],m=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",y=f.node().appendChild(await ro(m,e.labelStyle,!0,!0));let v=y.getBBox();if(tn(Re().flowchart.htmlLabels)){const _=y.children[0],N=mt(y);v=_.getBoundingClientRect(),N.attr("width",v.width),N.attr("height",v.height)}e.classData.annotations[0]&&(d+=v.height+n,h+=v.width);let b=e.classData.label;e.classData.type!==void 0&&e.classData.type!==""&&(Re().flowchart.htmlLabels?b+="&lt;"+e.classData.type+"&gt;":b+="<"+e.classData.type+">");const x=f.node().appendChild(await ro(b,e.labelStyle,!0,!0));mt(x).attr("class","classTitle");let T=x.getBBox();if(tn(Re().flowchart.htmlLabels)){const _=x.children[0],N=mt(x);T=_.getBoundingClientRect(),N.attr("width",T.width),N.attr("height",T.height)}d+=T.height+n,T.width>h&&(h=T.width);const w=[];e.classData.members.forEach(async _=>{const N=_.getDisplayDetails();let C=N.displayText;Re().flowchart.htmlLabels&&(C=C.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const D=f.node().appendChild(await ro(C,N.cssStyle?N.cssStyle:e.labelStyle,!0,!0));let P=D.getBBox();if(tn(Re().flowchart.htmlLabels)){const A=D.children[0],R=mt(D);P=A.getBoundingClientRect(),R.attr("width",P.width),R.attr("height",P.height)}P.width>h&&(h=P.width),d+=P.height+n,w.push(D)}),d+=i;const S=[];if(e.classData.methods.forEach(async _=>{const N=_.getDisplayDetails();let C=N.displayText;Re().flowchart.htmlLabels&&(C=C.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const D=f.node().appendChild(await ro(C,N.cssStyle?N.cssStyle:e.labelStyle,!0,!0));let P=D.getBBox();if(tn(Re().flowchart.htmlLabels)){const A=D.children[0],R=mt(D);P=A.getBoundingClientRect(),R.attr("width",P.width),R.attr("height",P.height)}P.width>h&&(h=P.width),d+=P.height+n,S.push(D)}),d+=i,g){let _=(h-v.width)/2;mt(y).attr("transform","translate( "+(-1*h/2+_)+", "+-1*d/2+")"),p=v.height+n}let k=(h-T.width)/2;return mt(x).attr("transform","translate( "+(-1*h/2+k)+", "+(-1*d/2+p)+")"),p+=T.height+n,l.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-d/2-r+i+p).attr("y2",-d/2-r+i+p),p+=i,w.forEach(_=>{mt(_).attr("transform","translate( "+-h/2+", "+(-1*d/2+p+i/2)+")");const N=_==null?void 0:_.getBBox();p+=((N==null?void 0:N.height)??0)+n}),p+=i,u.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-d/2-r+i+p).attr("y2",-d/2-r+i+p),p+=i,S.forEach(_=>{mt(_).attr("transform","translate( "+-h/2+", "+(-1*d/2+p)+")");const N=_==null?void 0:_.getBBox();p+=((N==null?void 0:N.height)??0)+n}),o.attr("style",e.style).attr("class","outer title-state").attr("x",-h/2-r).attr("y",-(d/2)-r).attr("width",h+e.padding).attr("height",d+e.padding),$n(e,o),e.intersect=function(_){return _n.rect(e,_)},s},"class_box"),Gte={rhombus:Ute,composite:AZe,question:Ute,rect:_Ze,labelRect:LZe,rectWithTitle:NZe,choice:yZe,circle:IZe,doublecircle:DZe,stadium:RZe,hexagon:vZe,block_arrow:bZe,rect_left_inv_arrow:xZe,lean_right:EZe,lean_left:TZe,trapezoid:wZe,inv_trapezoid:SZe,rect_right_inv_arrow:kZe,cylinder:CZe,start:MZe,end:PZe,note:mZe,subroutine:OZe,fork:Hte,join:Hte,class_box:BZe},dT={},Vte=E(async(t,e,r)=>{let n,i;if(e.link){let a;Re().securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),i=await Gte[e.shape](n,e,r)}else i=await Gte[e.shape](t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),dT[e.id]=n,e.haveCallback&&dT[e.id].attr("class",dT[e.id].attr("class")+" clickable"),n},"insertNode"),FZe=E(t=>{const e=dT[t.id];se.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode");function O7(t,e,r=!1){var f,p,g;const n=t;let i="default";(((f=n==null?void 0:n.classes)==null?void 0:f.length)||0)>0&&(i=((n==null?void 0:n.classes)??[]).join(" ")),i=i+" flowchart-label";let a=0,s="",o;switch(n.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",o=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}const l=Z5((n==null?void 0:n.styles)??[]),u=n.label,h=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:l.labelStyle,shape:s,labelText:u,rx:a,ry:a,class:i,style:l.style,id:n.id,directions:n.directions,width:h.width,height:h.height,x:h.x,y:h.y,positioned:r,intersect:void 0,type:n.type,padding:o??((g=(p=qr())==null?void 0:p.block)==null?void 0:g.padding)??0}}E(O7,"getNodeFromBlock");async function qte(t,e,r){const n=O7(e,r,!1);if(n.type==="group")return;const i=qr(),a=await Vte(t,n,{config:i}),s=a.node().getBBox(),o=r.getBlock(n.id);o.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(o),a.remove()}E(qte,"calculateBlockSize");async function Wte(t,e,r){const n=O7(e,r,!0);if(r.getBlock(n.id).type!=="space"){const a=qr();await Vte(t,n,{config:a}),e.intersect=n==null?void 0:n.intersect,FZe(n)}}E(Wte,"insertBlockPositioned");async function fT(t,e,r,n){for(const i of e)await n(t,i,r),i.children&&await fT(t,i.children,r,n)}E(fT,"performOperations");async function Yte(t,e,r){await fT(t,e,r,qte)}E(Yte,"calculateBlockSizes");async function Xte(t,e,r){await fT(t,e,r,Wte)}E(Xte,"insertBlocks");async function Kte(t,e,r,n,i){const a=new es({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(const s of e)if(s.start&&s.end){const o=n.getBlock(s.start),l=n.getBlock(s.end);if(o!=null&&o.size&&(l!=null&&l.size)){const u=o.size,h=l.size,d=[{x:u.x,y:u.y},{x:u.x+(h.x-u.x)/2,y:u.y+(h.y-u.y)/2},{x:h.x,y:h.y}];sZe(t,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,i),s.label&&(await rZe(t,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),nZe({...s,x:d[1].x,y:d[1].y},{originalPath:d}))}}}E(Kte,"insertEdges");var $Ze=E(function(t,e){return e.db.getClasses()},"getClasses"),zZe=E(async function(t,e,r,n){const{securityLevel:i,block:a}=qr(),s=n.db;let o;i==="sandbox"&&(o=mt("#i"+e));const l=mt(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):mt(`[id="${e}"]`);QQe(u,["point","circle","cross"],n.type,e);const d=s.getBlocks(),f=s.getBlocksFlat(),p=s.getEdges(),g=u.insert("g").attr("class","block");await Yte(g,d,s);const m=Nte(s);if(await Xte(g,d,s),await Kte(g,p,f,s,e),m){const y=m,v=Math.max(1,Math.round(.125*(y.width/y.height))),b=y.height+v+10,x=y.width+10,{useMaxWidth:T}=a;qa(u,b,x,!!T),se.debug("Here Bounds",m,y),u.attr("viewBox",`${y.x-5} ${y.y-5} ${y.width+10} ${y.height+10}`)}},"draw"),UZe={draw:zZe,getClasses:$Ze},HZe={parser:vQe,db:BQe,renderer:UZe,styles:$Qe};const GZe=Object.freeze(Object.defineProperty({__proto__:null,diagram:HZe},Symbol.toStringTag,{value:"Module"}));var pT={exports:{}},gT={exports:{}},mT={exports:{}},VZe=mT.exports,jte;function qZe(){return jte||(jte=1,function(t,e){(function(n,i){t.exports=i()})(VZe,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=28)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(h,d,f){a.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=h,this.target=d}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(h,d){for(var f=this.getOtherEnd(h),p=d.getGraphManager().getRoot();;){if(f.getOwner()==d)return f;if(f.getOwner()==p)break;f=f.getOwner().getParent()}return null},l.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),h=i(5);function d(p,g,m,y){m==null&&y==null&&(y=g),a.call(this,y),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=y,this.edges=[],this.graphManager=p,m!=null&&g!=null?this.rect=new o(g.x,g.y,m.width,m.height):this.rect=new o}d.prototype=Object.create(a.prototype);for(var f in a)d[f]=a[f];d.prototype.getEdges=function(){return this.edges},d.prototype.getChild=function(){return this.child},d.prototype.getOwner=function(){return this.owner},d.prototype.getWidth=function(){return this.rect.width},d.prototype.setWidth=function(p){this.rect.width=p},d.prototype.getHeight=function(){return this.rect.height},d.prototype.setHeight=function(p){this.rect.height=p},d.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},d.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},d.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},d.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},d.prototype.getRect=function(){return this.rect},d.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},d.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},d.prototype.setRect=function(p,g){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=g.width,this.rect.height=g.height},d.prototype.setCenter=function(p,g){this.rect.x=p-this.rect.width/2,this.rect.y=g-this.rect.height/2},d.prototype.setLocation=function(p,g){this.rect.x=p,this.rect.y=g},d.prototype.moveBy=function(p,g){this.rect.x+=p,this.rect.y+=g},d.prototype.getEdgeListToNode=function(p){var g=[],m=this;return m.edges.forEach(function(y){if(y.target==p){if(y.source!=m)throw"Incorrect edge source!";g.push(y)}}),g},d.prototype.getEdgesBetween=function(p){var g=[],m=this;return m.edges.forEach(function(y){if(!(y.source==m||y.target==m))throw"Incorrect edge source and/or target";(y.target==p||y.source==p)&&g.push(y)}),g},d.prototype.getNeighborsList=function(){var p=new Set,g=this;return g.edges.forEach(function(m){if(m.source==g)p.add(m.target);else{if(m.target!=g)throw"Incorrect incidency!";p.add(m.source)}}),p},d.prototype.withChildren=function(){var p=new Set,g,m;if(p.add(this),this.child!=null)for(var y=this.child.getNodes(),v=0;v<y.length;v++)g=y[v],m=g.withChildren(),m.forEach(function(b){p.add(b)});return p},d.prototype.getNoOfChildren=function(){var p=0,g;if(this.child==null)p=1;else for(var m=this.child.getNodes(),y=0;y<m.length;y++)g=m[y],p+=g.getNoOfChildren();return p==0&&(p=1),p},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},d.prototype.scatter=function(){var p,g,m=-l.INITIAL_WORLD_BOUNDARY,y=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_X+u.nextDouble()*(y-m)+m;var v=-l.INITIAL_WORLD_BOUNDARY,b=l.INITIAL_WORLD_BOUNDARY;g=l.WORLD_CENTER_Y+u.nextDouble()*(b-v)+v,this.rect.x=p,this.rect.y=g},d.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var g=p.getRight()-p.getLeft(),m=p.getBottom()-p.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(g+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>g?(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(g+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(m+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>m?(this.rect.y-=(this.labelHeight-m)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(m+this.labelHeight))}}},d.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},d.prototype.transform=function(p){var g=this.rect.x;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var m=this.rect.y;m>l.WORLD_BOUNDARY?m=l.WORLD_BOUNDARY:m<-l.WORLD_BOUNDARY&&(m=-l.WORLD_BOUNDARY);var y=new h(g,m),v=p.inverseTransformPoint(y);this.setLocation(v.x,v.y)},d.prototype.getLeft=function(){return this.rect.x},d.prototype.getRight=function(){return this.rect.x+this.rect.width},d.prototype.getTop=function(){return this.rect.y},d.prototype.getBottom=function(){return this.rect.y+this.rect.height},d.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=d},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(7),u=i(3),h=i(1),d=i(13),f=i(12),p=i(11);function g(y,v,b){a.call(this,b),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=y,v!=null&&v instanceof l?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}g.prototype=Object.create(a.prototype);for(var m in a)g[m]=a[m];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(y,v,b){if(v==null&&b==null){var x=y;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(x)>-1)throw"Node already in graph!";return x.owner=this,this.getNodes().push(x),x}else{var T=y;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(b)>-1))throw"Source or target not in graph!";if(!(v.owner==b.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=b.owner?null:(T.source=v,T.target=b,T.isInterGraph=!1,this.getEdges().push(T),v.edges.push(T),b!=v&&b.edges.push(T),T)}},g.prototype.remove=function(y){var v=y;if(y instanceof u){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var b=v.edges.slice(),x,T=b.length,w=0;w<T;w++)x=b[w],x.isInterGraph?this.graphManager.remove(x):x.source.owner.remove(x);var S=this.nodes.indexOf(v);if(S==-1)throw"Node not in owner node list!";this.nodes.splice(S,1)}else if(y instanceof h){var x=y;if(x==null)throw"Edge is null!";if(!(x.source!=null&&x.target!=null))throw"Source and/or target is null!";if(!(x.source.owner!=null&&x.target.owner!=null&&x.source.owner==this&&x.target.owner==this))throw"Source and/or target owner is invalid!";var k=x.source.edges.indexOf(x),L=x.target.edges.indexOf(x);if(!(k>-1&&L>-1))throw"Source and/or target doesn't know this edge!";x.source.edges.splice(k,1),x.target!=x.source&&x.target.edges.splice(L,1);var S=x.source.owner.getEdges().indexOf(x);if(S==-1)throw"Not in owner's edge list!";x.source.owner.getEdges().splice(S,1)}},g.prototype.updateLeftTop=function(){for(var y=s.MAX_VALUE,v=s.MAX_VALUE,b,x,T,w=this.getNodes(),S=w.length,k=0;k<S;k++){var L=w[k];b=L.getTop(),x=L.getLeft(),y>b&&(y=b),v>x&&(v=x)}return y==s.MAX_VALUE?null:(w[0].getParent().paddingLeft!=null?T=w[0].getParent().paddingLeft:T=this.margin,this.left=v-T,this.top=y-T,new f(this.left,this.top))},g.prototype.updateBounds=function(y){for(var v=s.MAX_VALUE,b=-s.MAX_VALUE,x=s.MAX_VALUE,T=-s.MAX_VALUE,w,S,k,L,_,N=this.nodes,C=N.length,D=0;D<C;D++){var P=N[D];y&&P.child!=null&&P.updateBounds(),w=P.getLeft(),S=P.getRight(),k=P.getTop(),L=P.getBottom(),v>w&&(v=w),b<S&&(b=S),x>k&&(x=k),T<L&&(T=L)}var A=new d(v,x,b-v,T-x);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),N[0].getParent().paddingLeft!=null?_=N[0].getParent().paddingLeft:_=this.margin,this.left=A.x-_,this.right=A.x+A.width+_,this.top=A.y-_,this.bottom=A.y+A.height+_},g.calculateBounds=function(y){for(var v=s.MAX_VALUE,b=-s.MAX_VALUE,x=s.MAX_VALUE,T=-s.MAX_VALUE,w,S,k,L,_=y.length,N=0;N<_;N++){var C=y[N];w=C.getLeft(),S=C.getRight(),k=C.getTop(),L=C.getBottom(),v>w&&(v=w),b<S&&(b=S),x>k&&(x=k),T<L&&(T=L)}var D=new d(v,x,b-v,T-x);return D},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var y=0,v=this.nodes,b=v.length,x=0;x<b;x++){var T=v[x];y+=T.calcEstimatedSize()}return y==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=y/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var y=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new p,b=new Set,x=this.nodes[0],T,w,S=x.withChildren();for(S.forEach(function(D){v.push(D),b.add(D)});v.length!==0;){x=v.shift(),T=x.getEdges();for(var k=T.length,L=0;L<k;L++){var _=T[L];if(w=_.getOtherEndInGraph(x,this),w!=null&&!b.has(w)){var N=w.withChildren();N.forEach(function(D){v.push(D),b.add(D)})}}}if(this.isConnected=!1,b.size>=this.nodes.length){var C=0;b.forEach(function(D){D.owner==y&&C++}),C==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,i){var a,s=i(1);function o(l){a=i(6),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(l,u);return this.setRootGraph(h),this.rootGraph},o.prototype.add=function(l,u,h,d,f){if(h==null&&d==null&&f==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{f=h,d=u,h=l;var p=d.getOwner(),g=f.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==g)return h.isInterGraph=!1,p.add(h,d,f);if(h.isInterGraph=!0,h.source=d,h.target=f,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var d,f=h.length,p=0;p<f;p++)d=h[p],u.remove(d);var g=[];g=g.concat(u.getNodes());var m;f=g.length;for(var p=0;p<f;p++)m=g[p],u.remove(m);u==this.rootGraph&&this.setRootGraph(null);var y=this.graphs.indexOf(u);this.graphs.splice(y,1),u.parent=null}else if(l instanceof s){if(d=l,d==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(!(d.source!=null&&d.target!=null))throw"Source and/or target is null!";if(!(d.source.edges.indexOf(d)!=-1&&d.target.edges.indexOf(d)!=-1))throw"Source and/or target doesn't know this edge!";var y=d.source.edges.indexOf(d);if(d.source.edges.splice(y,1),y=d.target.edges.indexOf(d),d.target.edges.splice(y,1),!(d.source.owner!=null&&d.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";var y=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(y,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),h=u.length,d=0;d<h;d++)l=l.concat(u[d].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var h=0;h<u.length;h++)l=l.concat(u[h].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var h=l.getOwner(),d;do{if(d=h.getParent(),d==null)break;if(d==u)return!0;if(h=d.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(d=h.getParent(),d==null)break;if(d==l)return!0;if(h=d.getOwner(),h==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,h,d,f,p=this.getAllEdges(),g=p.length,m=0;m<g;m++){if(l=p[m],u=l.source,h=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=h,u==h){l.lca=u.getOwner();continue}for(d=u.getOwner();l.lca==null;){for(l.targetInLca=h,f=h.getOwner();l.lca==null;){if(f==d){l.lca=f;break}if(f==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=f.getParent(),f=l.targetInLca.getOwner()}if(d==this.rootGraph)break;l.lca==null&&(l.sourceInLca=d.getParent(),d=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var h=l.getOwner();do{if(h==null)break;var d=u.getOwner();do{if(d==null)break;if(d==h)return d;d=d.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var h,d=l.getNodes(),f=d.length,p=0;p<f;p++)h=d[p],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=[],h=this.edges.length,d=0;d<h;d++)l=this.edges[d],this.isOneAncestorOfOther(l.source,l.target)&&u.push(l);for(var d=0;d<u.length;d++)this.remove(u[d]);return!1},r.exports=o},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,h){if(!o.intersects(l))throw"assert failed";var d=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,d),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var f=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(f=1);var p=f*u[0],g=u[1]/f;u[0]<g?g=u[0]:p=u[1],u[0]=-1*d[0]*(g/2+h),u[1]=-1*d[1]*(p/2+h)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var h=o.getCenterX(),d=o.getCenterY(),f=l.getCenterX(),p=l.getCenterY();if(o.intersects(l))return u[0]=h,u[1]=d,u[2]=f,u[3]=p,!0;var g=o.getX(),m=o.getY(),y=o.getRight(),v=o.getX(),b=o.getBottom(),x=o.getRight(),T=o.getWidthHalf(),w=o.getHeightHalf(),S=l.getX(),k=l.getY(),L=l.getRight(),_=l.getX(),N=l.getBottom(),C=l.getRight(),D=l.getWidthHalf(),P=l.getHeightHalf(),A=!1,R=!1;if(h===f){if(d>p)return u[0]=h,u[1]=m,u[2]=f,u[3]=N,!1;if(d<p)return u[0]=h,u[1]=b,u[2]=f,u[3]=k,!1}else if(d===p){if(h>f)return u[0]=g,u[1]=d,u[2]=L,u[3]=p,!1;if(h<f)return u[0]=y,u[1]=d,u[2]=S,u[3]=p,!1}else{var O=o.height/o.width,M=l.height/l.width,I=(p-d)/(f-h),F=void 0,B=void 0,$=void 0,V=void 0,H=void 0,te=void 0;if(-O===I?h>f?(u[0]=v,u[1]=b,A=!0):(u[0]=y,u[1]=m,A=!0):O===I&&(h>f?(u[0]=g,u[1]=m,A=!0):(u[0]=x,u[1]=b,A=!0)),-M===I?f>h?(u[2]=_,u[3]=N,R=!0):(u[2]=L,u[3]=k,R=!0):M===I&&(f>h?(u[2]=S,u[3]=k,R=!0):(u[2]=C,u[3]=N,R=!0)),A&&R)return!1;if(h>f?d>p?(F=this.getCardinalDirection(O,I,4),B=this.getCardinalDirection(M,I,2)):(F=this.getCardinalDirection(-O,I,3),B=this.getCardinalDirection(-M,I,1)):d>p?(F=this.getCardinalDirection(-O,I,1),B=this.getCardinalDirection(-M,I,3)):(F=this.getCardinalDirection(O,I,2),B=this.getCardinalDirection(M,I,4)),!A)switch(F){case 1:V=m,$=h+-w/I,u[0]=$,u[1]=V;break;case 2:$=x,V=d+T*I,u[0]=$,u[1]=V;break;case 3:V=b,$=h+w/I,u[0]=$,u[1]=V;break;case 4:$=v,V=d+-T*I,u[0]=$,u[1]=V;break}if(!R)switch(B){case 1:te=k,H=f+-P/I,u[2]=H,u[3]=te;break;case 2:H=C,te=p+D*I,u[2]=H,u[3]=te;break;case 3:te=N,H=f+P/I,u[2]=H,u[3]=te;break;case 4:H=_,te=p+-D*I,u[2]=H,u[3]=te;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,h){if(h==null)return this.getIntersection2(o,l,u);var d=o.x,f=o.y,p=l.x,g=l.y,m=u.x,y=u.y,v=h.x,b=h.y,x=void 0,T=void 0,w=void 0,S=void 0,k=void 0,L=void 0,_=void 0,N=void 0,C=void 0;return w=g-f,k=d-p,_=p*f-d*g,S=b-y,L=m-v,N=v*y-m*b,C=w*L-S*k,C===0?null:(x=(k*N-L*_)/C,T=(S*_-w*N)/C,new a(x,T))},s.angleOfVector=function(o,l,u,h){var d=void 0;return o!==u?(d=Math.atan((h-l)/(u-o)),u<o?d+=Math.PI:h<l&&(d+=this.TWO_PI)):h<l?d=this.ONE_AND_HALF_PI:d=this.HALF_PI,d},s.doIntersect=function(o,l,u,h){var d=o.x,f=o.y,p=l.x,g=l.y,m=u.x,y=u.y,v=h.x,b=h.y,x=(p-d)*(b-y)-(v-m)*(g-f);if(x===0)return!1;var T=((b-y)*(v-d)+(m-v)*(b-f))/x,w=((f-g)*(v-d)+(p-d)*(b-f))/x;return 0<T&&T<1&&0<w&&w<1},s.findCircleLineIntersections=function(o,l,u,h,d,f,p){var g=(u-o)*(u-o)+(h-l)*(h-l),m=2*((o-d)*(u-o)+(l-f)*(h-l)),y=(o-d)*(o-d)+(l-f)*(l-f)-p*p,v=m*m-4*g*y;if(v>=0){var b=(-m+Math.sqrt(m*m-4*g*y))/(2*g),x=(-m-Math.sqrt(m*m-4*g*y))/(2*g),T=null;return b>=0&&b<=1?[b]:x>=0&&x<=1?[x]:T}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function d(f,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,p,g){return p&&d(f.prototype,p),g&&d(f,g),f}}();function s(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var o=function(f){return{value:f,next:null,prev:null}},l=function(f,p,g,m){return f!==null?f.next=p:m.head=p,g!==null?g.prev=p:m.tail=p,p.prev=f,p.next=g,m.length++,p},u=function(f,p){var g=f.prev,m=f.next;return g!==null?g.next=m:p.head=m,m!==null?m.prev=g:p.tail=g,f.prev=f.next=null,p.length--,f},h=function(){function d(f){var p=this;s(this,d),this.length=0,this.head=null,this.tail=null,f!=null&&f.forEach(function(g){return p.push(g)})}return a(d,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,g){return l(g.prev,o(p),g,this)}},{key:"insertAfter",value:function(p,g){return l(g,o(p),g.next,this)}},{key:"insertNodeBefore",value:function(p,g){return l(g.prev,p,g,this)}},{key:"insertNodeAfter",value:function(p,g){return l(g,p,g.next,this)}},{key:"push",value:function(p){return l(this.tail,o(p),null,this)}},{key:"unshift",value:function(p){return l(null,o(p),this.head,this)}},{key:"remove",value:function(p){return u(p,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var g=1,m=this.head;g<p;)m=m.next,g++;return m.value}}},{key:"set_object_at",value:function(p,g){if(p<=this.length()){for(var m=1,y=this.head;m<p;)y=y.next,m++;y.value=g}}}]),d}();r.exports=h},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(m){if(Array.isArray(m)){for(var y=0,v=Array(m.length);y<m.length;y++)v[y]=m[y];return v}else return Array.from(m)}var s=i(0),o=i(7),l=i(3),u=i(1),h=i(6),d=i(5),f=i(17),p=i(29);function g(m){p.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}g.RANDOM_SEED=1,g.prototype=Object.create(p.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var m=new o(this);return this.graphManager=m,m},g.prototype.newGraph=function(m){return new h(null,this.graphManager,m)},g.prototype.newNode=function(m){return new l(this.graphManager,m)},g.prototype.newEdge=function(m){return new u(null,null,m)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),s.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),y=0;y<m.length;y++)m[y];for(var v=this.graphManager.getRoot().getNodes(),y=0;y<v.length;y++)v[y];this.update(this.graphManager.getRoot())}},g.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof l){var y=m;if(y.getChild()!=null)for(var v=y.getChild().getNodes(),b=0;b<v.length;b++)update(v[b]);if(y.vGraphObject!=null){var x=y.vGraphObject;x.update(y)}}else if(m instanceof u){var T=m;if(T.vGraphObject!=null){var w=T.vGraphObject;w.update(T)}}else if(m instanceof h){var S=m;if(S.vGraphObject!=null){var k=S.vGraphObject;k.update(S)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(m){if(m==null)this.transform(new d(0,0));else{var y=new f,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){y.setWorldOrgX(m.x),y.setWorldOrgY(m.y),y.setDeviceOrgX(v.x),y.setDeviceOrgY(v.y);for(var b=this.getAllNodes(),x,T=0;T<b.length;T++)x=b[T],x.transform(y)}}},g.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var y,v,b=m.getNodes(),x=0;x<b.length;x++)y=b[x],v=y.getChild(),v==null||v.getNodes().length==0?y.scatter():(this.positionNodesRandomly(v),y.updateBounds())},g.prototype.getFlatForest=function(){for(var m=[],y=!0,v=this.graphManager.getRoot().getNodes(),b=!0,x=0;x<v.length;x++)v[x].getChild()!=null&&(b=!1);if(!b)return m;var T=new Set,w=[],S=new Map,k=[];for(k=k.concat(v);k.length>0&&y;){for(w.push(k[0]);w.length>0&&y;){var L=w[0];w.splice(0,1),T.add(L);for(var _=L.getEdges(),x=0;x<_.length;x++){var N=_[x].getOtherEnd(L);if(S.get(L)!=N)if(!T.has(N))w.push(N),S.set(N,L);else{y=!1;break}}}if(!y)m=[];else{var C=[].concat(a(T));m.push(C);for(var x=0;x<C.length;x++){var D=C[x],P=k.indexOf(D);P>-1&&k.splice(P,1)}T=new Set,S=new Map}}return m},g.prototype.createDummyNodesForBendpoints=function(m){for(var y=[],v=m.source,b=this.graphManager.calcLowestCommonAncestor(m.source,m.target),x=0;x<m.bendpoints.length;x++){var T=this.newNode(null);T.setRect(new Point(0,0),new Dimension(1,1)),b.add(T);var w=this.newEdge(null);this.graphManager.add(w,v,T),y.add(T),v=T}var w=this.newEdge(null);return this.graphManager.add(w,v,m.target),this.edgeToDummyNodes.set(m,y),m.isInterGraph()?this.graphManager.remove(m):b.remove(m),y},g.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(a(this.edgeToDummyNodes.keys())).concat(m);for(var y=0;y<m.length;y++){var v=m[y];if(v.bendpoints.length>0){for(var b=this.edgeToDummyNodes.get(v),x=0;x<b.length;x++){var T=b[x],w=new d(T.getCenterX(),T.getCenterY()),S=v.bendpoints.get(x);S.x=w.x,S.y=w.y,T.getOwner().remove(T)}this.graphManager.add(v,v.source,v.target)}}},g.transform=function(m,y,v,b){if(v!=null&&b!=null){var x=y;if(m<=50){var T=y/v;x-=(y-T)/50*(50-m)}else{var w=y*b;x+=(w-y)/50*(m-50)}return x}else{var S,k;return m<=50?(S=9*y/500,k=y/10):(S=9*y/50,k=-8*y),S*m+k}},g.findCenterOfTree=function(m){var y=[];y=y.concat(m);var v=[],b=new Map,x=!1,T=null;(y.length==1||y.length==2)&&(x=!0,T=y[0]);for(var w=0;w<y.length;w++){var S=y[w],k=S.getNeighborsList().size;b.set(S,S.getNeighborsList().size),k==1&&v.push(S)}var L=[];for(L=L.concat(v);!x;){var _=[];_=_.concat(L),L=[];for(var w=0;w<y.length;w++){var S=y[w],N=y.indexOf(S);N>=0&&y.splice(N,1);var C=S.getNeighborsList();C.forEach(function(A){if(v.indexOf(A)<0){var R=b.get(A),O=R-1;O==1&&L.push(A),b.set(A,O)}})}v=v.concat(L),(y.length==1||y.length==2)&&(x=!0,T=y[0])}return T},g.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=g},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(5);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(p){if(Array.isArray(p)){for(var g=0,m=Array(p.length);g<p.length;g++)m[g]=p[g];return m}else return Array.from(p)}var s=i(15),o=i(4),l=i(0),u=i(8),h=i(9);function d(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}d.prototype=Object.create(s.prototype);for(var f in s)d[f]=s[f];d.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},d.prototype.calcIdealEdgeLengths=function(){for(var p,g,m,y,v,b,x,T=this.getGraphManager().getAllEdges(),w=0;w<T.length;w++)p=T[w],g=p.idealLength,p.isInterGraph&&(y=p.getSource(),v=p.getTarget(),b=p.getSourceInLca().getEstimatedSize(),x=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=b+x-2*l.SIMPLE_NODE_SIZE),m=p.getLca().getInclusionTreeDepth(),p.idealLength+=g*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*m))},d.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},d.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),g,m=0;m<p.length;m++)g=p[m],this.calcSpringForce(g,g.idealLength)},d.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,y,v,b,x=this.getAllNodes(),T;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),T=new Set,m=0;m<x.length;m++)v=x[m],this.calculateRepulsionForceOfANode(v,T,p,g),T.add(v);else for(m=0;m<x.length;m++)for(v=x[m],y=m+1;y<x.length;y++)b=x[y],v.getOwner()==b.getOwner()&&this.calcRepulsionForce(v,b)},d.prototype.calcGravitationalForces=function(){for(var p,g=this.getAllNodesToApplyGravitation(),m=0;m<g.length;m++)p=g[m],this.calcGravitationalForce(p)},d.prototype.moveNodes=function(){for(var p=this.getAllNodes(),g,m=0;m<p.length;m++)g=p[m],g.move()},d.prototype.calcSpringForce=function(p,g){var m=p.getSource(),y=p.getTarget(),v,b,x,T;if(this.uniformLeafNodeSizes&&m.getChild()==null&&y.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;v=p.getLength(),v!=0&&(b=p.edgeElasticity*(v-g),x=b*(p.lengthX/v),T=b*(p.lengthY/v),m.springForceX+=x,m.springForceY+=T,y.springForceX-=x,y.springForceY-=T)},d.prototype.calcRepulsionForce=function(p,g){var m=p.getRect(),y=g.getRect(),v=new Array(2),b=new Array(4),x,T,w,S,k,L,_;if(m.intersects(y)){u.calcSeparationAmount(m,y,v,o.DEFAULT_EDGE_LENGTH/2),L=2*v[0],_=2*v[1];var N=p.noOfChildren*g.noOfChildren/(p.noOfChildren+g.noOfChildren);p.repulsionForceX-=N*L,p.repulsionForceY-=N*_,g.repulsionForceX+=N*L,g.repulsionForceY+=N*_}else this.uniformLeafNodeSizes&&p.getChild()==null&&g.getChild()==null?(x=y.getCenterX()-m.getCenterX(),T=y.getCenterY()-m.getCenterY()):(u.getIntersection(m,y,b),x=b[2]-b[0],T=b[3]-b[1]),Math.abs(x)<o.MIN_REPULSION_DIST&&(x=h.sign(x)*o.MIN_REPULSION_DIST),Math.abs(T)<o.MIN_REPULSION_DIST&&(T=h.sign(T)*o.MIN_REPULSION_DIST),w=x*x+T*T,S=Math.sqrt(w),k=(p.nodeRepulsion/2+g.nodeRepulsion/2)*p.noOfChildren*g.noOfChildren/w,L=k*x/S,_=k*T/S,p.repulsionForceX-=L,p.repulsionForceY-=_,g.repulsionForceX+=L,g.repulsionForceY+=_},d.prototype.calcGravitationalForce=function(p){var g,m,y,v,b,x,T,w;g=p.getOwner(),m=(g.getRight()+g.getLeft())/2,y=(g.getTop()+g.getBottom())/2,v=p.getCenterX()-m,b=p.getCenterY()-y,x=Math.abs(v)+p.getWidth()/2,T=Math.abs(b)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(w=g.getEstimatedSize()*this.gravityRangeFactor,(x>w||T>w)&&(p.gravitationForceX=-this.gravityConstant*v,p.gravitationForceY=-this.gravityConstant*b)):(w=g.getEstimatedSize()*this.compoundGravityRangeFactor,(x>w||T>w)&&(p.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*b*this.compoundGravityConstant))},d.prototype.isConverged=function(){var p,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||g},d.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},d.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,g=this.graphManager.getAllNodes(),m=0;m<g.length;m++)p=g[m],p.noOfChildren=p.getNoOfChildren()},d.prototype.calcGrid=function(p){var g=0,m=0;g=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var y=new Array(g),v=0;v<g;v++)y[v]=new Array(m);for(var v=0;v<g;v++)for(var b=0;b<m;b++)y[v][b]=new Array;return y},d.prototype.addNodeToGrid=function(p,g,m){var y=0,v=0,b=0,x=0;y=parseInt(Math.floor((p.getRect().x-g)/this.repulsionRange)),v=parseInt(Math.floor((p.getRect().width+p.getRect().x-g)/this.repulsionRange)),b=parseInt(Math.floor((p.getRect().y-m)/this.repulsionRange)),x=parseInt(Math.floor((p.getRect().height+p.getRect().y-m)/this.repulsionRange));for(var T=y;T<=v;T++)for(var w=b;w<=x;w++)this.grid[T][w].push(p),p.setGridCoordinates(y,v,b,x)},d.prototype.updateGrid=function(){var p,g,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<m.length;p++)g=m[p],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},d.prototype.calculateRepulsionForceOfANode=function(p,g,m,y){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&m||y){var v=new Set;p.surrounding=new Array;for(var b,x=this.grid,T=p.startX-1;T<p.finishX+2;T++)for(var w=p.startY-1;w<p.finishY+2;w++)if(!(T<0||w<0||T>=x.length||w>=x[0].length)){for(var S=0;S<x[T][w].length;S++)if(b=x[T][w][S],!(p.getOwner()!=b.getOwner()||p==b)&&!g.has(b)&&!v.has(b)){var k=Math.abs(p.getCenterX()-b.getCenterX())-(p.getWidth()/2+b.getWidth()/2),L=Math.abs(p.getCenterY()-b.getCenterY())-(p.getHeight()/2+b.getHeight()/2);k<=this.repulsionRange&&L<=this.repulsionRange&&v.add(b)}}p.surrounding=[].concat(a(v))}for(T=0;T<p.surrounding.length;T++)this.calcRepulsionForce(p,p.surrounding[T])},d.prototype.calcRepulsionRange=function(){return 0},r.exports=d},function(r,n,i){var a=i(1),s=i(4);function o(u,h,d){a.call(this,u,h,d),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3),s=i(4);function o(u,h,d,f){a.call(this,u,h,d,f),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];o.prototype.setGridCoordinates=function(u,h,d,f){this.startX=u,this.finishX=h,this.startY=d,this.finishY=f},r.exports=o},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,h=0;h<u;h++)o.push(this.set[l[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var h=o[u];this.add(h)}},r.exports=s},function(r,n,i){function a(){}a.multMat=function(s,o){for(var l=[],u=0;u<s.length;u++){l[u]=[];for(var h=0;h<o[0].length;h++){l[u][h]=0;for(var d=0;d<s[0].length;d++)l[u][h]+=s[u][d]*o[d][h]}}return l},a.transpose=function(s){for(var o=[],l=0;l<s[0].length;l++){o[l]=[];for(var u=0;u<s.length;u++)o[l][u]=s[u][l]}return o},a.multCons=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]*o;return l},a.minusOp=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]-o[u];return l},a.dotProduct=function(s,o){for(var l=0,u=0;u<s.length;u++)l+=s[u]*o[u];return l},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var o=[],l=this.mag(s),u=0;u<s.length;u++)o[u]=s[u]/l;return o},a.multGamma=function(s){for(var o=[],l=0,u=0;u<s.length;u++)l+=s[u];l*=-1/s.length;for(var h=0;h<s.length;h++)o[h]=l+s[h];return o},a.multL=function(s,o,l){for(var u=[],h=[],d=[],f=0;f<o[0].length;f++){for(var p=0,g=0;g<o.length;g++)p+=-.5*o[g][f]*s[g];h[f]=p}for(var m=0;m<l.length;m++){for(var y=0,v=0;v<l.length;v++)y+=l[m][v]*h[v];d[m]=y}for(var b=0;b<o.length;b++){for(var x=0,T=0;T<o[0].length;T++)x+=o[b][T]*d[T];u[b]=x}return u},r.exports=a},function(r,n,i){var a=function(){function u(h,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,f){return d&&u(h.prototype,d),f&&u(h,f),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(h,d){s(this,u),(d!==null||d!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;h instanceof o?f=h.size():f=h.length,this._quicksort(h,0,f-1)}return a(u,[{key:"_quicksort",value:function(d,f,p){if(f<p){var g=this._partition(d,f,p);this._quicksort(d,f,g),this._quicksort(d,g+1,p)}}},{key:"_partition",value:function(d,f,p){for(var g=this._get(d,f),m=f,y=p;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}}},{key:"_get",value:function(d,f){return d instanceof o?d.get_object_at(f):d[f]}},{key:"_set",value:function(d,f,p){d instanceof o?d.set_object_at(f,p):d[f]=p}},{key:"_swap",value:function(d,f,p){var g=this._get(d,f);this._set(d,f,this._get(d,p)),this._set(d,p,g)}},{key:"_defaultCompareFunction",value:function(d,f){return f>d}}]),u}();r.exports=l},function(r,n,i){function a(){}a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o=Math.min(this.m,this.n);this.s=function(Ve){for(var it=[];Ve-- >0;)it.push(0);return it}(Math.min(this.m+1,this.n)),this.U=function(Ve){var it=function ft(Tt){if(Tt.length==0)return 0;for(var kt=[],Nt=0;Nt<Tt[0];Nt++)kt.push(ft(Tt.slice(1)));return kt};return it(Ve)}([this.m,o]),this.V=function(Ve){var it=function ft(Tt){if(Tt.length==0)return 0;for(var kt=[],Nt=0;Nt<Tt[0];Nt++)kt.push(ft(Tt.slice(1)));return kt};return it(Ve)}([this.n,this.n]);for(var l=function(Ve){for(var it=[];Ve-- >0;)it.push(0);return it}(this.n),u=function(Ve){for(var it=[];Ve-- >0;)it.push(0);return it}(this.m),h=!0,d=Math.min(this.m-1,this.n),f=Math.max(0,Math.min(this.n-2,this.m)),p=0;p<Math.max(d,f);p++){if(p<d){this.s[p]=0;for(var g=p;g<this.m;g++)this.s[p]=a.hypot(this.s[p],s[g][p]);if(this.s[p]!==0){s[p][p]<0&&(this.s[p]=-this.s[p]);for(var m=p;m<this.m;m++)s[m][p]/=this.s[p];s[p][p]+=1}this.s[p]=-this.s[p]}for(var y=p+1;y<this.n;y++){if(function(Ve,it){return Ve&&it}(p<d,this.s[p]!==0)){for(var v=0,b=p;b<this.m;b++)v+=s[b][p]*s[b][y];v=-v/s[p][p];for(var x=p;x<this.m;x++)s[x][y]+=v*s[x][p]}l[y]=s[p][y]}if(function(Ve,it){return it}(h,p<d))for(var T=p;T<this.m;T++)this.U[T][p]=s[T][p];if(p<f){l[p]=0;for(var w=p+1;w<this.n;w++)l[p]=a.hypot(l[p],l[w]);if(l[p]!==0){l[p+1]<0&&(l[p]=-l[p]);for(var S=p+1;S<this.n;S++)l[S]/=l[p];l[p+1]+=1}if(l[p]=-l[p],function(Ve,it){return Ve&&it}(p+1<this.m,l[p]!==0)){for(var k=p+1;k<this.m;k++)u[k]=0;for(var L=p+1;L<this.n;L++)for(var _=p+1;_<this.m;_++)u[_]+=l[L]*s[_][L];for(var N=p+1;N<this.n;N++)for(var C=-l[N]/l[p+1],D=p+1;D<this.m;D++)s[D][N]+=C*u[D]}for(var P=p+1;P<this.n;P++)this.V[P][p]=l[P]}}var A=Math.min(this.n,this.m+1);d<this.n&&(this.s[d]=s[d][d]),this.m<A&&(this.s[A-1]=0),f+1<A&&(l[f]=s[f][A-1]),l[A-1]=0;{for(var R=d;R<o;R++){for(var O=0;O<this.m;O++)this.U[O][R]=0;this.U[R][R]=1}for(var M=d-1;M>=0;M--)if(this.s[M]!==0){for(var I=M+1;I<o;I++){for(var F=0,B=M;B<this.m;B++)F+=this.U[B][M]*this.U[B][I];F=-F/this.U[M][M];for(var $=M;$<this.m;$++)this.U[$][I]+=F*this.U[$][M]}for(var V=M;V<this.m;V++)this.U[V][M]=-this.U[V][M];this.U[M][M]=1+this.U[M][M];for(var H=0;H<M-1;H++)this.U[H][M]=0}else{for(var te=0;te<this.m;te++)this.U[te][M]=0;this.U[M][M]=1}}for(var X=this.n-1;X>=0;X--){if(function(Ve,it){return Ve&&it}(X<f,l[X]!==0))for(var ee=X+1;ee<o;ee++){for(var re=0,pe=X+1;pe<this.n;pe++)re+=this.V[pe][X]*this.V[pe][ee];re=-re/this.V[X+1][X];for(var K=X+1;K<this.n;K++)this.V[K][ee]+=re*this.V[K][X]}for(var W=0;W<this.n;W++)this.V[W][X]=0;this.V[X][X]=1}for(var j=A-1,Y=Math.pow(2,-52),Q=Math.pow(2,-966);A>0;){var ie=void 0,J=void 0;for(ie=A-2;ie>=-1&&ie!==-1;ie--)if(Math.abs(l[ie])<=Q+Y*(Math.abs(this.s[ie])+Math.abs(this.s[ie+1]))){l[ie]=0;break}if(ie===A-2)J=4;else{var we=void 0;for(we=A-1;we>=ie&&we!==ie;we--){var ue=(we!==A?Math.abs(l[we]):0)+(we!==ie+1?Math.abs(l[we-1]):0);if(Math.abs(this.s[we])<=Q+Y*ue){this.s[we]=0;break}}we===ie?J=3:we===A-1?J=1:(J=2,ie=we)}switch(ie++,J){case 1:{var ae=l[A-2];l[A-2]=0;for(var Ue=A-2;Ue>=ie;Ue--){var xe=a.hypot(this.s[Ue],ae),Ze=this.s[Ue]/xe,Je=ae/xe;this.s[Ue]=xe,Ue!==ie&&(ae=-Je*l[Ue-1],l[Ue-1]=Ze*l[Ue-1]);for(var Xe=0;Xe<this.n;Xe++)xe=Ze*this.V[Xe][Ue]+Je*this.V[Xe][A-1],this.V[Xe][A-1]=-Je*this.V[Xe][Ue]+Ze*this.V[Xe][A-1],this.V[Xe][Ue]=xe}}break;case 2:{var Pe=l[ie-1];l[ie-1]=0;for(var We=ie;We<A;We++){var he=a.hypot(this.s[We],Pe),Te=this.s[We]/he,Be=Pe/he;this.s[We]=he,Pe=-Be*l[We],l[We]=Te*l[We];for(var ye=0;ye<this.m;ye++)he=Te*this.U[ye][We]+Be*this.U[ye][ie-1],this.U[ye][ie-1]=-Be*this.U[ye][We]+Te*this.U[ye][ie-1],this.U[ye][We]=he}}break;case 3:{var Me=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[A-1]),Math.abs(this.s[A-2])),Math.abs(l[A-2])),Math.abs(this.s[ie])),Math.abs(l[ie])),Z=this.s[A-1]/Me,fe=this.s[A-2]/Me,U=l[A-2]/Me,le=this.s[ie]/Me,oe=l[ie]/Me,ge=((fe+Z)*(fe-Z)+U*U)/2,me=Z*U*(Z*U),Ce=0;(function(Ve,it){return Ve||it})(ge!==0,me!==0)&&(Ce=Math.sqrt(ge*ge+me),ge<0&&(Ce=-Ce),Ce=me/(ge+Ce));for(var Ie=(le+Z)*(le-Z)+Ce,Ne=le*oe,et=ie;et<A-1;et++){var ut=a.hypot(Ie,Ne),rt=Ie/ut,de=Ne/ut;et!==ie&&(l[et-1]=ut),Ie=rt*this.s[et]+de*l[et],l[et]=rt*l[et]-de*this.s[et],Ne=de*this.s[et+1],this.s[et+1]=rt*this.s[et+1];for(var De=0;De<this.n;De++)ut=rt*this.V[De][et]+de*this.V[De][et+1],this.V[De][et+1]=-de*this.V[De][et]+rt*this.V[De][et+1],this.V[De][et]=ut;if(ut=a.hypot(Ie,Ne),rt=Ie/ut,de=Ne/ut,this.s[et]=ut,Ie=rt*l[et]+de*this.s[et+1],this.s[et+1]=-de*l[et]+rt*this.s[et+1],Ne=de*l[et+1],l[et+1]=rt*l[et+1],et<this.m-1)for(var Le=0;Le<this.m;Le++)ut=rt*this.U[Le][et]+de*this.U[Le][et+1],this.U[Le][et+1]=-de*this.U[Le][et]+rt*this.U[Le][et+1],this.U[Le][et]=ut}l[A-2]=Ie}break;case 4:{if(this.s[ie]<=0){this.s[ie]=this.s[ie]<0?-this.s[ie]:0;for(var je=0;je<=j;je++)this.V[je][ie]=-this.V[je][ie]}for(;ie<j&&!(this.s[ie]>=this.s[ie+1]);){var dt=this.s[ie];if(this.s[ie]=this.s[ie+1],this.s[ie+1]=dt,ie<this.n-1)for(var lt=0;lt<this.n;lt++)dt=this.V[lt][ie+1],this.V[lt][ie+1]=this.V[lt][ie],this.V[lt][ie]=dt;if(ie<this.m-1)for(var $e=0;$e<this.m;$e++)dt=this.U[$e][ie+1],this.U[$e][ie+1]=this.U[$e][ie],this.U[$e][ie]=dt;ie++}A--}break}}var tt={U:this.U,V:this.V,S:this.s};return tt},a.hypot=function(s,o){var l=void 0;return Math.abs(s)>Math.abs(o)?(l=o/s,l=Math.abs(s)*Math.sqrt(1+l*l)):o!=0?(l=s/o,l=Math.abs(o)*Math.sqrt(1+l*l)):l=0,l},r.exports=a},function(r,n,i){var a=function(){function l(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,h){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=h,this.match_score=d,this.mismatch_penalty=f,this.gap_penalty=p,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[g][m]=0}this.tracebackGrid=new Array(this.iMax);for(var y=0;y<this.iMax;y++){this.tracebackGrid[y]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[y][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var f=1;f<this.iMax;f++)for(var p=1;p<this.jMax;p++){var g=void 0;this.sequence1[f-1]===this.sequence2[p-1]?g=this.grid[f-1][p-1]+this.match_score:g=this.grid[f-1][p-1]+this.mismatch_penalty;var m=this.grid[f-1][p]+this.gap_penalty,y=this.grid[f][p-1]+this.gap_penalty,v=[g,m,y],b=this.arrayAllMaxIndexes(v);this.grid[f][p]=v[b[0]],this.tracebackGrid[f][p]=[b.includes(0),b.includes(1),b.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],f=this.tracebackGrid[d.pos[0]][d.pos[1]];f[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),f[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),f[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,d){for(var f=[],p=-1;(p=h.indexOf(d,p+1))!==-1;)f.push(p);return f}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(4),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(5),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(25),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(6),a.LEdge=i(1),a.LGraphManager=i(7),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(27),a.Matrix=i(24),a.SVD=i(26),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===o&&h.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];o===h.event&&h.callback(l)}},r.exports=a}])})}(mT)),mT.exports}var WZe=gT.exports,Qte;function YZe(){return Qte||(Qte=1,function(t,e){(function(n,i){t.exports=i(qZe())})(WZe,function(r){return(()=>{var n={45:(o,l,u)=>{var h={};h.layoutBase=u(551),h.CoSEConstants=u(806),h.CoSEEdge=u(767),h.CoSEGraph=u(880),h.CoSEGraphManager=u(578),h.CoSELayout=u(765),h.CoSENode=u(991),h.ConstraintHandler=u(902),o.exports=h},806:(o,l,u)=>{var h=u(551).FDLayoutConstants;function d(){}for(var f in h)d[f]=h[f];d.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,d.DEFAULT_RADIAL_SEPARATION=h.DEFAULT_EDGE_LENGTH,d.DEFAULT_COMPONENT_SEPERATION=60,d.TILE=!0,d.TILING_PADDING_VERTICAL=10,d.TILING_PADDING_HORIZONTAL=10,d.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,d.ENFORCE_CONSTRAINTS=!0,d.APPLY_LAYOUT=!0,d.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,d.TREE_REDUCTION_ON_INCREMENTAL=!0,d.PURE_INCREMENTAL=d.DEFAULT_INCREMENTAL,o.exports=d},767:(o,l,u)=>{var h=u(551).FDLayoutEdge;function d(p,g,m){h.call(this,p,g,m)}d.prototype=Object.create(h.prototype);for(var f in h)d[f]=h[f];o.exports=d},880:(o,l,u)=>{var h=u(551).LGraph;function d(p,g,m){h.call(this,p,g,m)}d.prototype=Object.create(h.prototype);for(var f in h)d[f]=h[f];o.exports=d},578:(o,l,u)=>{var h=u(551).LGraphManager;function d(p){h.call(this,p)}d.prototype=Object.create(h.prototype);for(var f in h)d[f]=h[f];o.exports=d},765:(o,l,u)=>{var h=u(551).FDLayout,d=u(578),f=u(880),p=u(991),g=u(767),m=u(806),y=u(902),v=u(551).FDLayoutConstants,b=u(551).LayoutConstants,x=u(551).Point,T=u(551).PointD,w=u(551).DimensionD,S=u(551).Layout,k=u(551).Integer,L=u(551).IGeometry,_=u(551).LGraph,N=u(551).Transform,C=u(551).LinkedList;function D(){h.call(this),this.toBeTiled={},this.constraints={}}D.prototype=Object.create(h.prototype);for(var P in h)D[P]=h[P];D.prototype.newGraphManager=function(){var A=new d(this);return this.graphManager=A,A},D.prototype.newGraph=function(A){return new f(null,this.graphManager,A)},D.prototype.newNode=function(A){return new p(this.graphManager,A)},D.prototype.newEdge=function(A){return new g(null,null,A)},D.prototype.initParameters=function(){h.prototype.initParameters.call(this,arguments),this.isSubLayout||(m.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=m.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=m.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},D.prototype.initSpringEmbedder=function(){h.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},D.prototype.layout=function(){var A=b.DEFAULT_CREATE_BENDS_AS_NEEDED;return A&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},D.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(m.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var R=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(F){return R.has(F)});this.graphManager.setAllNodesToApplyGravitation(O)}}else{var A=this.getFlatForest();if(A.length>0)this.positionNodesRadially(A);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var R=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(M){return R.has(M)});this.graphManager.setAllNodesToApplyGravitation(O),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(y.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),m.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},D.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function(I){return A.has(I)});this.graphManager.setAllNodesToApplyGravitation(R),this.graphManager.updateBounds(),this.updateGrid(),m.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),m.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var O=!this.isTreeGrowing&&!this.isGrowthFinished,M=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(O,M),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},D.prototype.getPositionsData=function(){for(var A=this.graphManager.getAllNodes(),R={},O=0;O<A.length;O++){var M=A[O].rect,I=A[O].id;R[I]={id:I,x:M.getCenterX(),y:M.getCenterY(),w:M.width,h:M.height}}return R},D.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var A=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!A;)A=this.tick();this.graphManager.updateBounds()}},D.prototype.moveNodes=function(){for(var A=this.getAllNodes(),R,O=0;O<A.length;O++)R=A[O],R.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var O=0;O<A.length;O++)R=A[O],R.move()},D.prototype.initConstraintVariables=function(){var A=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var R=this.graphManager.getAllNodes(),O=0;O<R.length;O++){var M=R[O];this.idToNodeMap.set(M.id,M)}var I=function K(W){for(var j=W.getChild().getNodes(),Y,Q=0,ie=0;ie<j.length;ie++)Y=j[ie],Y.getChild()==null?A.fixedNodeSet.has(Y.id)&&(Q+=100):Q+=K(Y);return Q};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(j){A.fixedNodeSet.add(j.nodeId)});for(var R=this.graphManager.getAllNodes(),M,O=0;O<R.length;O++)if(M=R[O],M.getChild()!=null){var F=I(M);F>0&&(M.fixedNodeWeight=F)}}if(this.constraints.relativePlacementConstraint){var B=new Map,$=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(K){A.fixedNodesOnHorizontal.add(K),A.fixedNodesOnVertical.add(K)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var V=this.constraints.alignmentConstraint.vertical,O=0;O<V.length;O++)this.dummyToNodeForVerticalAlignment.set("dummy"+O,[]),V[O].forEach(function(W){B.set(W,"dummy"+O),A.dummyToNodeForVerticalAlignment.get("dummy"+O).push(W),A.fixedNodeSet.has(W)&&A.fixedNodesOnHorizontal.add("dummy"+O)});if(this.constraints.alignmentConstraint.horizontal)for(var H=this.constraints.alignmentConstraint.horizontal,O=0;O<H.length;O++)this.dummyToNodeForHorizontalAlignment.set("dummy"+O,[]),H[O].forEach(function(W){$.set(W,"dummy"+O),A.dummyToNodeForHorizontalAlignment.get("dummy"+O).push(W),A.fixedNodeSet.has(W)&&A.fixedNodesOnVertical.add("dummy"+O)})}if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(K){var W,j,Y;for(Y=K.length-1;Y>=2*K.length/3;Y--)W=Math.floor(Math.random()*(Y+1)),j=K[Y],K[Y]=K[W],K[W]=j;return K},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(K){if(K.left){var W=B.has(K.left)?B.get(K.left):K.left,j=B.has(K.right)?B.get(K.right):K.right;A.nodesInRelativeHorizontal.includes(W)||(A.nodesInRelativeHorizontal.push(W),A.nodeToRelativeConstraintMapHorizontal.set(W,[]),A.dummyToNodeForVerticalAlignment.has(W)?A.nodeToTempPositionMapHorizontal.set(W,A.idToNodeMap.get(A.dummyToNodeForVerticalAlignment.get(W)[0]).getCenterX()):A.nodeToTempPositionMapHorizontal.set(W,A.idToNodeMap.get(W).getCenterX())),A.nodesInRelativeHorizontal.includes(j)||(A.nodesInRelativeHorizontal.push(j),A.nodeToRelativeConstraintMapHorizontal.set(j,[]),A.dummyToNodeForVerticalAlignment.has(j)?A.nodeToTempPositionMapHorizontal.set(j,A.idToNodeMap.get(A.dummyToNodeForVerticalAlignment.get(j)[0]).getCenterX()):A.nodeToTempPositionMapHorizontal.set(j,A.idToNodeMap.get(j).getCenterX())),A.nodeToRelativeConstraintMapHorizontal.get(W).push({right:j,gap:K.gap}),A.nodeToRelativeConstraintMapHorizontal.get(j).push({left:W,gap:K.gap})}else{var Y=$.has(K.top)?$.get(K.top):K.top,Q=$.has(K.bottom)?$.get(K.bottom):K.bottom;A.nodesInRelativeVertical.includes(Y)||(A.nodesInRelativeVertical.push(Y),A.nodeToRelativeConstraintMapVertical.set(Y,[]),A.dummyToNodeForHorizontalAlignment.has(Y)?A.nodeToTempPositionMapVertical.set(Y,A.idToNodeMap.get(A.dummyToNodeForHorizontalAlignment.get(Y)[0]).getCenterY()):A.nodeToTempPositionMapVertical.set(Y,A.idToNodeMap.get(Y).getCenterY())),A.nodesInRelativeVertical.includes(Q)||(A.nodesInRelativeVertical.push(Q),A.nodeToRelativeConstraintMapVertical.set(Q,[]),A.dummyToNodeForHorizontalAlignment.has(Q)?A.nodeToTempPositionMapVertical.set(Q,A.idToNodeMap.get(A.dummyToNodeForHorizontalAlignment.get(Q)[0]).getCenterY()):A.nodeToTempPositionMapVertical.set(Q,A.idToNodeMap.get(Q).getCenterY())),A.nodeToRelativeConstraintMapVertical.get(Y).push({bottom:Q,gap:K.gap}),A.nodeToRelativeConstraintMapVertical.get(Q).push({top:Y,gap:K.gap})}});else{var te=new Map,X=new Map;this.constraints.relativePlacementConstraint.forEach(function(K){if(K.left){var W=B.has(K.left)?B.get(K.left):K.left,j=B.has(K.right)?B.get(K.right):K.right;te.has(W)?te.get(W).push(j):te.set(W,[j]),te.has(j)?te.get(j).push(W):te.set(j,[W])}else{var Y=$.has(K.top)?$.get(K.top):K.top,Q=$.has(K.bottom)?$.get(K.bottom):K.bottom;X.has(Y)?X.get(Y).push(Q):X.set(Y,[Q]),X.has(Q)?X.get(Q).push(Y):X.set(Q,[Y])}});var ee=function(W,j){var Y=[],Q=[],ie=new C,J=new Set,we=0;return W.forEach(function(ue,ae){if(!J.has(ae)){Y[we]=[],Q[we]=!1;var Ue=ae;for(ie.push(Ue),J.add(Ue),Y[we].push(Ue);ie.length!=0;){Ue=ie.shift(),j.has(Ue)&&(Q[we]=!0);var xe=W.get(Ue);xe.forEach(function(Ze){J.has(Ze)||(ie.push(Ze),J.add(Ze),Y[we].push(Ze))})}we++}}),{components:Y,isFixed:Q}},re=ee(te,A.fixedNodesOnHorizontal);this.componentsOnHorizontal=re.components,this.fixedComponentsOnHorizontal=re.isFixed;var pe=ee(X,A.fixedNodesOnVertical);this.componentsOnVertical=pe.components,this.fixedComponentsOnVertical=pe.isFixed}}},D.prototype.updateDisplacements=function(){var A=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(pe){var K=A.idToNodeMap.get(pe.nodeId);K.displacementX=0,K.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var R=this.constraints.alignmentConstraint.vertical,O=0;O<R.length;O++){for(var M=0,I=0;I<R[O].length;I++){if(this.fixedNodeSet.has(R[O][I])){M=0;break}M+=this.idToNodeMap.get(R[O][I]).displacementX}for(var F=M/R[O].length,I=0;I<R[O].length;I++)this.idToNodeMap.get(R[O][I]).displacementX=F}if(this.constraints.alignmentConstraint.horizontal)for(var B=this.constraints.alignmentConstraint.horizontal,O=0;O<B.length;O++){for(var $=0,I=0;I<B[O].length;I++){if(this.fixedNodeSet.has(B[O][I])){$=0;break}$+=this.idToNodeMap.get(B[O][I]).displacementY}for(var V=$/B[O].length,I=0;I<B[O].length;I++)this.idToNodeMap.get(B[O][I]).displacementY=V}}if(this.constraints.relativePlacementConstraint)if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(pe){if(!A.fixedNodesOnHorizontal.has(pe)){var K=0;A.dummyToNodeForVerticalAlignment.has(pe)?K=A.idToNodeMap.get(A.dummyToNodeForVerticalAlignment.get(pe)[0]).displacementX:K=A.idToNodeMap.get(pe).displacementX,A.nodeToRelativeConstraintMapHorizontal.get(pe).forEach(function(W){if(W.right){var j=A.nodeToTempPositionMapHorizontal.get(W.right)-A.nodeToTempPositionMapHorizontal.get(pe)-K;j<W.gap&&(K-=W.gap-j)}else{var j=A.nodeToTempPositionMapHorizontal.get(pe)-A.nodeToTempPositionMapHorizontal.get(W.left)+K;j<W.gap&&(K+=W.gap-j)}}),A.nodeToTempPositionMapHorizontal.set(pe,A.nodeToTempPositionMapHorizontal.get(pe)+K),A.dummyToNodeForVerticalAlignment.has(pe)?A.dummyToNodeForVerticalAlignment.get(pe).forEach(function(W){A.idToNodeMap.get(W).displacementX=K}):A.idToNodeMap.get(pe).displacementX=K}}),this.nodesInRelativeVertical.forEach(function(pe){if(!A.fixedNodesOnHorizontal.has(pe)){var K=0;A.dummyToNodeForHorizontalAlignment.has(pe)?K=A.idToNodeMap.get(A.dummyToNodeForHorizontalAlignment.get(pe)[0]).displacementY:K=A.idToNodeMap.get(pe).displacementY,A.nodeToRelativeConstraintMapVertical.get(pe).forEach(function(W){if(W.bottom){var j=A.nodeToTempPositionMapVertical.get(W.bottom)-A.nodeToTempPositionMapVertical.get(pe)-K;j<W.gap&&(K-=W.gap-j)}else{var j=A.nodeToTempPositionMapVertical.get(pe)-A.nodeToTempPositionMapVertical.get(W.top)+K;j<W.gap&&(K+=W.gap-j)}}),A.nodeToTempPositionMapVertical.set(pe,A.nodeToTempPositionMapVertical.get(pe)+K),A.dummyToNodeForHorizontalAlignment.has(pe)?A.dummyToNodeForHorizontalAlignment.get(pe).forEach(function(W){A.idToNodeMap.get(W).displacementY=K}):A.idToNodeMap.get(pe).displacementY=K}});else{for(var O=0;O<this.componentsOnHorizontal.length;O++){var H=this.componentsOnHorizontal[O];if(this.fixedComponentsOnHorizontal[O])for(var I=0;I<H.length;I++)this.dummyToNodeForVerticalAlignment.has(H[I])?this.dummyToNodeForVerticalAlignment.get(H[I]).forEach(function(W){A.idToNodeMap.get(W).displacementX=0}):this.idToNodeMap.get(H[I]).displacementX=0;else{for(var te=0,X=0,I=0;I<H.length;I++)if(this.dummyToNodeForVerticalAlignment.has(H[I])){var ee=this.dummyToNodeForVerticalAlignment.get(H[I]);te+=ee.length*this.idToNodeMap.get(ee[0]).displacementX,X+=ee.length}else te+=this.idToNodeMap.get(H[I]).displacementX,X++;for(var re=te/X,I=0;I<H.length;I++)this.dummyToNodeForVerticalAlignment.has(H[I])?this.dummyToNodeForVerticalAlignment.get(H[I]).forEach(function(W){A.idToNodeMap.get(W).displacementX=re}):this.idToNodeMap.get(H[I]).displacementX=re}}for(var O=0;O<this.componentsOnVertical.length;O++){var H=this.componentsOnVertical[O];if(this.fixedComponentsOnVertical[O])for(var I=0;I<H.length;I++)this.dummyToNodeForHorizontalAlignment.has(H[I])?this.dummyToNodeForHorizontalAlignment.get(H[I]).forEach(function(j){A.idToNodeMap.get(j).displacementY=0}):this.idToNodeMap.get(H[I]).displacementY=0;else{for(var te=0,X=0,I=0;I<H.length;I++)if(this.dummyToNodeForHorizontalAlignment.has(H[I])){var ee=this.dummyToNodeForHorizontalAlignment.get(H[I]);te+=ee.length*this.idToNodeMap.get(ee[0]).displacementY,X+=ee.length}else te+=this.idToNodeMap.get(H[I]).displacementY,X++;for(var re=te/X,I=0;I<H.length;I++)this.dummyToNodeForHorizontalAlignment.has(H[I])?this.dummyToNodeForHorizontalAlignment.get(H[I]).forEach(function(ie){A.idToNodeMap.get(ie).displacementY=re}):this.idToNodeMap.get(H[I]).displacementY=re}}}},D.prototype.calculateNodesToApplyGravitationTo=function(){var A=[],R,O=this.graphManager.getGraphs(),M=O.length,I;for(I=0;I<M;I++)R=O[I],R.updateConnected(),R.isConnected||(A=A.concat(R.getNodes()));return A},D.prototype.createBendpoints=function(){var A=[];A=A.concat(this.graphManager.getAllEdges());var R=new Set,O;for(O=0;O<A.length;O++){var M=A[O];if(!R.has(M)){var I=M.getSource(),F=M.getTarget();if(I==F)M.getBendpoints().push(new T),M.getBendpoints().push(new T),this.createDummyNodesForBendpoints(M),R.add(M);else{var B=[];if(B=B.concat(I.getEdgeListToNode(F)),B=B.concat(F.getEdgeListToNode(I)),!R.has(B[0])){if(B.length>1){var $;for($=0;$<B.length;$++){var V=B[$];V.getBendpoints().push(new T),this.createDummyNodesForBendpoints(V)}}B.forEach(function(H){R.add(H)})}}}if(R.size==A.length)break}},D.prototype.positionNodesRadially=function(A){for(var R=new x(0,0),O=Math.ceil(Math.sqrt(A.length)),M=0,I=0,F=0,B=new T(0,0),$=0;$<A.length;$++){$%O==0&&(F=0,I=M,$!=0&&(I+=m.DEFAULT_COMPONENT_SEPERATION),M=0);var V=A[$],H=S.findCenterOfTree(V);R.x=F,R.y=I,B=D.radialLayout(V,H,R),B.y>M&&(M=Math.floor(B.y)),F=Math.floor(B.x+m.DEFAULT_COMPONENT_SEPERATION)}this.transform(new T(b.WORLD_CENTER_X-B.x/2,b.WORLD_CENTER_Y-B.y/2))},D.radialLayout=function(A,R,O){var M=Math.max(this.maxDiagonalInTree(A),m.DEFAULT_RADIAL_SEPARATION);D.branchRadialLayout(R,null,0,359,0,M);var I=_.calculateBounds(A),F=new N;F.setDeviceOrgX(I.getMinX()),F.setDeviceOrgY(I.getMinY()),F.setWorldOrgX(O.x),F.setWorldOrgY(O.y);for(var B=0;B<A.length;B++){var $=A[B];$.transform(F)}var V=new T(I.getMaxX(),I.getMaxY());return F.inverseTransformPoint(V)},D.branchRadialLayout=function(A,R,O,M,I,F){var B=(M-O+1)/2;B<0&&(B+=180);var $=(B+O)%360,V=$*L.TWO_PI/360,H=I*Math.cos(V),te=I*Math.sin(V);A.setCenter(H,te);var X=[];X=X.concat(A.getEdges());var ee=X.length;R!=null&&ee--;for(var re=0,pe=X.length,K,W=A.getEdgesBetween(R);W.length>1;){var j=W[0];W.splice(0,1);var Y=X.indexOf(j);Y>=0&&X.splice(Y,1),pe--,ee--}R!=null?K=(X.indexOf(W[0])+1)%pe:K=0;for(var Q=Math.abs(M-O)/ee,ie=K;re!=ee;ie=++ie%pe){var J=X[ie].getOtherEnd(A);if(J!=R){var we=(O+re*Q)%360,ue=(we+Q)%360;D.branchRadialLayout(J,A,we,ue,I+F,F),re++}}},D.maxDiagonalInTree=function(A){for(var R=k.MIN_VALUE,O=0;O<A.length;O++){var M=A[O],I=M.getDiagonal();I>R&&(R=I)}return R},D.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},D.prototype.groupZeroDegreeMembers=function(){var A=this,R={};this.memberGroups={},this.idToDummyNode={};for(var O=[],M=this.graphManager.getAllNodes(),I=0;I<M.length;I++){var F=M[I],B=F.getParent();this.getNodeDegreeWithChildren(F)===0&&(B.id==null||!this.getToBeTiled(B))&&O.push(F)}for(var I=0;I<O.length;I++){var F=O[I],$=F.getParent().id;typeof R[$]>"u"&&(R[$]=[]),R[$]=R[$].concat(F)}Object.keys(R).forEach(function(V){if(R[V].length>1){var H="DummyCompound_"+V;A.memberGroups[H]=R[V];var te=R[V][0].getParent(),X=new p(A.graphManager);X.id=H,X.paddingLeft=te.paddingLeft||0,X.paddingRight=te.paddingRight||0,X.paddingBottom=te.paddingBottom||0,X.paddingTop=te.paddingTop||0,A.idToDummyNode[H]=X;var ee=A.getGraphManager().add(A.newGraph(),X),re=te.getChild();re.add(X);for(var pe=0;pe<R[V].length;pe++){var K=R[V][pe];re.remove(K),ee.add(K)}}})},D.prototype.clearCompounds=function(){var A={},R={};this.performDFSOnCompounds();for(var O=0;O<this.compoundOrder.length;O++)R[this.compoundOrder[O].id]=this.compoundOrder[O],A[this.compoundOrder[O].id]=[].concat(this.compoundOrder[O].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[O].getChild()),this.compoundOrder[O].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(A,R)},D.prototype.clearZeroDegreeMembers=function(){var A=this,R=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(O){var M=A.idToDummyNode[O];if(R[O]=A.tileNodes(A.memberGroups[O],M.paddingLeft+M.paddingRight),M.rect.width=R[O].width,M.rect.height=R[O].height,M.setCenter(R[O].centerX,R[O].centerY),M.labelMarginLeft=0,M.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var I=M.rect.width,F=M.rect.height;M.labelWidth&&(M.labelPosHorizontal=="left"?(M.rect.x-=M.labelWidth,M.setWidth(I+M.labelWidth),M.labelMarginLeft=M.labelWidth):M.labelPosHorizontal=="center"&&M.labelWidth>I?(M.rect.x-=(M.labelWidth-I)/2,M.setWidth(M.labelWidth),M.labelMarginLeft=(M.labelWidth-I)/2):M.labelPosHorizontal=="right"&&M.setWidth(I+M.labelWidth)),M.labelHeight&&(M.labelPosVertical=="top"?(M.rect.y-=M.labelHeight,M.setHeight(F+M.labelHeight),M.labelMarginTop=M.labelHeight):M.labelPosVertical=="center"&&M.labelHeight>F?(M.rect.y-=(M.labelHeight-F)/2,M.setHeight(M.labelHeight),M.labelMarginTop=(M.labelHeight-F)/2):M.labelPosVertical=="bottom"&&M.setHeight(F+M.labelHeight))}})},D.prototype.repopulateCompounds=function(){for(var A=this.compoundOrder.length-1;A>=0;A--){var R=this.compoundOrder[A],O=R.id,M=R.paddingLeft,I=R.paddingTop,F=R.labelMarginLeft,B=R.labelMarginTop;this.adjustLocations(this.tiledMemberPack[O],R.rect.x,R.rect.y,M,I,F,B)}},D.prototype.repopulateZeroDegreeMembers=function(){var A=this,R=this.tiledZeroDegreePack;Object.keys(R).forEach(function(O){var M=A.idToDummyNode[O],I=M.paddingLeft,F=M.paddingTop,B=M.labelMarginLeft,$=M.labelMarginTop;A.adjustLocations(R[O],M.rect.x,M.rect.y,I,F,B,$)})},D.prototype.getToBeTiled=function(A){var R=A.id;if(this.toBeTiled[R]!=null)return this.toBeTiled[R];var O=A.getChild();if(O==null)return this.toBeTiled[R]=!1,!1;for(var M=O.getNodes(),I=0;I<M.length;I++){var F=M[I];if(this.getNodeDegree(F)>0)return this.toBeTiled[R]=!1,!1;if(F.getChild()==null){this.toBeTiled[F.id]=!1;continue}if(!this.getToBeTiled(F))return this.toBeTiled[R]=!1,!1}return this.toBeTiled[R]=!0,!0},D.prototype.getNodeDegree=function(A){A.id;for(var R=A.getEdges(),O=0,M=0;M<R.length;M++){var I=R[M];I.getSource().id!==I.getTarget().id&&(O=O+1)}return O},D.prototype.getNodeDegreeWithChildren=function(A){var R=this.getNodeDegree(A);if(A.getChild()==null)return R;for(var O=A.getChild().getNodes(),M=0;M<O.length;M++){var I=O[M];R+=this.getNodeDegreeWithChildren(I)}return R},D.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},D.prototype.fillCompexOrderByDFS=function(A){for(var R=0;R<A.length;R++){var O=A[R];O.getChild()!=null&&this.fillCompexOrderByDFS(O.getChild().getNodes()),this.getToBeTiled(O)&&this.compoundOrder.push(O)}},D.prototype.adjustLocations=function(A,R,O,M,I,F,B){R+=M+F,O+=I+B;for(var $=R,V=0;V<A.rows.length;V++){var H=A.rows[V];R=$;for(var te=0,X=0;X<H.length;X++){var ee=H[X];ee.rect.x=R,ee.rect.y=O,R+=ee.rect.width+A.horizontalPadding,ee.rect.height>te&&(te=ee.rect.height)}O+=te+A.verticalPadding}},D.prototype.tileCompoundMembers=function(A,R){var O=this;this.tiledMemberPack=[],Object.keys(A).forEach(function(M){var I=R[M];if(O.tiledMemberPack[M]=O.tileNodes(A[M],I.paddingLeft+I.paddingRight),I.rect.width=O.tiledMemberPack[M].width,I.rect.height=O.tiledMemberPack[M].height,I.setCenter(O.tiledMemberPack[M].centerX,O.tiledMemberPack[M].centerY),I.labelMarginLeft=0,I.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var F=I.rect.width,B=I.rect.height;I.labelWidth&&(I.labelPosHorizontal=="left"?(I.rect.x-=I.labelWidth,I.setWidth(F+I.labelWidth),I.labelMarginLeft=I.labelWidth):I.labelPosHorizontal=="center"&&I.labelWidth>F?(I.rect.x-=(I.labelWidth-F)/2,I.setWidth(I.labelWidth),I.labelMarginLeft=(I.labelWidth-F)/2):I.labelPosHorizontal=="right"&&I.setWidth(F+I.labelWidth)),I.labelHeight&&(I.labelPosVertical=="top"?(I.rect.y-=I.labelHeight,I.setHeight(B+I.labelHeight),I.labelMarginTop=I.labelHeight):I.labelPosVertical=="center"&&I.labelHeight>B?(I.rect.y-=(I.labelHeight-B)/2,I.setHeight(I.labelHeight),I.labelMarginTop=(I.labelHeight-B)/2):I.labelPosVertical=="bottom"&&I.setHeight(B+I.labelHeight))}})},D.prototype.tileNodes=function(A,R){var O=this.tileNodesByFavoringDim(A,R,!0),M=this.tileNodesByFavoringDim(A,R,!1),I=this.getOrgRatio(O),F=this.getOrgRatio(M),B;return F<I?B=M:B=O,B},D.prototype.getOrgRatio=function(A){var R=A.width,O=A.height,M=R/O;return M<1&&(M=1/M),M},D.prototype.calcIdealRowWidth=function(A,R){var O=m.TILING_PADDING_VERTICAL,M=m.TILING_PADDING_HORIZONTAL,I=A.length,F=0,B=0,$=0;A.forEach(function(pe){F+=pe.getWidth(),B+=pe.getHeight(),pe.getWidth()>$&&($=pe.getWidth())});var V=F/I,H=B/I,te=Math.pow(O-M,2)+4*(V+M)*(H+O)*I,X=(M-O+Math.sqrt(te))/(2*(V+M)),ee;R?(ee=Math.ceil(X),ee==X&&ee++):ee=Math.floor(X);var re=ee*(V+M)-M;return $>re&&(re=$),re+=M*2,re},D.prototype.tileNodesByFavoringDim=function(A,R,O){var M=m.TILING_PADDING_VERTICAL,I=m.TILING_PADDING_HORIZONTAL,F=m.TILING_COMPARE_BY,B={rows:[],rowWidth:[],rowHeight:[],width:0,height:R,verticalPadding:M,horizontalPadding:I,centerX:0,centerY:0};F&&(B.idealRowWidth=this.calcIdealRowWidth(A,O));var $=function(K){return K.rect.width*K.rect.height},V=function(K,W){return $(W)-$(K)};A.sort(function(pe,K){var W=V;return B.idealRowWidth?(W=F,W(pe.id,K.id)):W(pe,K)});for(var H=0,te=0,X=0;X<A.length;X++){var ee=A[X];H+=ee.getCenterX(),te+=ee.getCenterY()}B.centerX=H/A.length,B.centerY=te/A.length;for(var X=0;X<A.length;X++){var ee=A[X];if(B.rows.length==0)this.insertNodeToRow(B,ee,0,R);else if(this.canAddHorizontal(B,ee.rect.width,ee.rect.height)){var re=B.rows.length-1;B.idealRowWidth||(re=this.getShortestRowIndex(B)),this.insertNodeToRow(B,ee,re,R)}else this.insertNodeToRow(B,ee,B.rows.length,R);this.shiftToLastRow(B)}return B},D.prototype.insertNodeToRow=function(A,R,O,M){var I=M;if(O==A.rows.length){var F=[];A.rows.push(F),A.rowWidth.push(I),A.rowHeight.push(0)}var B=A.rowWidth[O]+R.rect.width;A.rows[O].length>0&&(B+=A.horizontalPadding),A.rowWidth[O]=B,A.width<B&&(A.width=B);var $=R.rect.height;O>0&&($+=A.verticalPadding);var V=0;$>A.rowHeight[O]&&(V=A.rowHeight[O],A.rowHeight[O]=$,V=A.rowHeight[O]-V),A.height+=V,A.rows[O].push(R)},D.prototype.getShortestRowIndex=function(A){for(var R=-1,O=Number.MAX_VALUE,M=0;M<A.rows.length;M++)A.rowWidth[M]<O&&(R=M,O=A.rowWidth[M]);return R},D.prototype.getLongestRowIndex=function(A){for(var R=-1,O=Number.MIN_VALUE,M=0;M<A.rows.length;M++)A.rowWidth[M]>O&&(R=M,O=A.rowWidth[M]);return R},D.prototype.canAddHorizontal=function(A,R,O){if(A.idealRowWidth){var M=A.rows.length-1,I=A.rowWidth[M];return I+R+A.horizontalPadding<=A.idealRowWidth}var F=this.getShortestRowIndex(A);if(F<0)return!0;var B=A.rowWidth[F];if(B+A.horizontalPadding+R<=A.width)return!0;var $=0;A.rowHeight[F]<O&&F>0&&($=O+A.verticalPadding-A.rowHeight[F]);var V;A.width-B>=R+A.horizontalPadding?V=(A.height+$)/(B+R+A.horizontalPadding):V=(A.height+$)/A.width,$=O+A.verticalPadding;var H;return A.width<R?H=(A.height+$)/R:H=(A.height+$)/A.width,H<1&&(H=1/H),V<1&&(V=1/V),V<H},D.prototype.shiftToLastRow=function(A){var R=this.getLongestRowIndex(A),O=A.rowWidth.length-1,M=A.rows[R],I=M[M.length-1],F=I.width+A.horizontalPadding;if(A.width-A.rowWidth[O]>F&&R!=O){M.splice(-1,1),A.rows[O].push(I),A.rowWidth[R]=A.rowWidth[R]-F,A.rowWidth[O]=A.rowWidth[O]+F,A.width=A.rowWidth[instance.getLongestRowIndex(A)];for(var B=Number.MIN_VALUE,$=0;$<M.length;$++)M[$].height>B&&(B=M[$].height);R>0&&(B+=A.verticalPadding);var V=A.rowHeight[R]+A.rowHeight[O];A.rowHeight[R]=B,A.rowHeight[O]<I.height+A.verticalPadding&&(A.rowHeight[O]=I.height+A.verticalPadding);var H=A.rowHeight[R]+A.rowHeight[O];A.height+=H-V,this.shiftToLastRow(A)}},D.prototype.tilingPreLayout=function(){m.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},D.prototype.tilingPostLayout=function(){m.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},D.prototype.reduceTrees=function(){for(var A=[],R=!0,O;R;){var M=this.graphManager.getAllNodes(),I=[];R=!1;for(var F=0;F<M.length;F++)if(O=M[F],O.getEdges().length==1&&!O.getEdges()[0].isInterGraph&&O.getChild()==null){if(m.PURE_INCREMENTAL){var B=O.getEdges()[0].getOtherEnd(O),$=new w(O.getCenterX()-B.getCenterX(),O.getCenterY()-B.getCenterY());I.push([O,O.getEdges()[0],O.getOwner(),$])}else I.push([O,O.getEdges()[0],O.getOwner()]);R=!0}if(R==!0){for(var V=[],H=0;H<I.length;H++)I[H][0].getEdges().length==1&&(V.push(I[H]),I[H][0].getOwner().remove(I[H][0]));A.push(V),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=A},D.prototype.growTree=function(A){for(var R=A.length,O=A[R-1],M,I=0;I<O.length;I++)M=O[I],this.findPlaceforPrunedNode(M),M[2].add(M[0]),M[2].add(M[1],M[1].source,M[1].target);A.splice(A.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},D.prototype.findPlaceforPrunedNode=function(A){var R,O,M=A[0];if(M==A[1].source?O=A[1].target:O=A[1].source,m.PURE_INCREMENTAL)M.setCenter(O.getCenterX()+A[3].getWidth(),O.getCenterY()+A[3].getHeight());else{var I=O.startX,F=O.finishX,B=O.startY,$=O.finishY,V=0,H=0,te=0,X=0,ee=[V,te,H,X];if(B>0)for(var re=I;re<=F;re++)ee[0]+=this.grid[re][B-1].length+this.grid[re][B].length-1;if(F<this.grid.length-1)for(var re=B;re<=$;re++)ee[1]+=this.grid[F+1][re].length+this.grid[F][re].length-1;if($<this.grid[0].length-1)for(var re=I;re<=F;re++)ee[2]+=this.grid[re][$+1].length+this.grid[re][$].length-1;if(I>0)for(var re=B;re<=$;re++)ee[3]+=this.grid[I-1][re].length+this.grid[I][re].length-1;for(var pe=k.MAX_VALUE,K,W,j=0;j<ee.length;j++)ee[j]<pe?(pe=ee[j],K=1,W=j):ee[j]==pe&&K++;if(K==3&&pe==0)ee[0]==0&&ee[1]==0&&ee[2]==0?R=1:ee[0]==0&&ee[1]==0&&ee[3]==0?R=0:ee[0]==0&&ee[2]==0&&ee[3]==0?R=3:ee[1]==0&&ee[2]==0&&ee[3]==0&&(R=2);else if(K==2&&pe==0){var Y=Math.floor(Math.random()*2);ee[0]==0&&ee[1]==0?Y==0?R=0:R=1:ee[0]==0&&ee[2]==0?Y==0?R=0:R=2:ee[0]==0&&ee[3]==0?Y==0?R=0:R=3:ee[1]==0&&ee[2]==0?Y==0?R=1:R=2:ee[1]==0&&ee[3]==0?Y==0?R=1:R=3:Y==0?R=2:R=3}else if(K==4&&pe==0){var Y=Math.floor(Math.random()*4);R=Y}else R=W;R==0?M.setCenter(O.getCenterX(),O.getCenterY()-O.getHeight()/2-v.DEFAULT_EDGE_LENGTH-M.getHeight()/2):R==1?M.setCenter(O.getCenterX()+O.getWidth()/2+v.DEFAULT_EDGE_LENGTH+M.getWidth()/2,O.getCenterY()):R==2?M.setCenter(O.getCenterX(),O.getCenterY()+O.getHeight()/2+v.DEFAULT_EDGE_LENGTH+M.getHeight()/2):M.setCenter(O.getCenterX()-O.getWidth()/2-v.DEFAULT_EDGE_LENGTH-M.getWidth()/2,O.getCenterY())}},o.exports=D},991:(o,l,u)=>{var h=u(551).FDLayoutNode,d=u(551).IMath;function f(g,m,y,v){h.call(this,g,m,y,v)}f.prototype=Object.create(h.prototype);for(var p in h)f[p]=h[p];f.prototype.calculateDisplacement=function(){var g=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementX=g.coolingFactor*g.maxNodeDisplacement*d.sign(this.displacementX)),Math.abs(this.displacementY)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementY=g.coolingFactor*g.maxNodeDisplacement*d.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},f.prototype.propogateDisplacementToChildren=function(g,m){for(var y=this.getChild().getNodes(),v,b=0;b<y.length;b++)v=y[b],v.getChild()==null?(v.displacementX+=g,v.displacementY+=m):v.propogateDisplacementToChildren(g,m)},f.prototype.move=function(){var g=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),g.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},f.prototype.setPred1=function(g){this.pred1=g},f.prototype.getPred1=function(){return pred1},f.prototype.getPred2=function(){return pred2},f.prototype.setNext=function(g){this.next=g},f.prototype.getNext=function(){return next},f.prototype.setProcessed=function(g){this.processed=g},f.prototype.isProcessed=function(){return processed},o.exports=f},902:(o,l,u)=>{function h(y){if(Array.isArray(y)){for(var v=0,b=Array(y.length);v<y.length;v++)b[v]=y[v];return b}else return Array.from(y)}var d=u(806),f=u(551).LinkedList,p=u(551).Matrix,g=u(551).SVD;function m(){}m.handleConstraints=function(y){var v={};v.fixedNodeConstraint=y.constraints.fixedNodeConstraint,v.alignmentConstraint=y.constraints.alignmentConstraint,v.relativePlacementConstraint=y.constraints.relativePlacementConstraint;for(var b=new Map,x=new Map,T=[],w=[],S=y.getAllNodes(),k=0,L=0;L<S.length;L++){var _=S[L];_.getChild()==null&&(x.set(_.id,k++),T.push(_.getCenterX()),w.push(_.getCenterY()),b.set(_.id,_))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(fe){!fe.gap&&fe.gap!=0&&(fe.left?fe.gap=d.DEFAULT_EDGE_LENGTH+b.get(fe.left).getWidth()/2+b.get(fe.right).getWidth()/2:fe.gap=d.DEFAULT_EDGE_LENGTH+b.get(fe.top).getHeight()/2+b.get(fe.bottom).getHeight()/2)});var N=function(U,le){return{x:U.x-le.x,y:U.y-le.y}},C=function(U){var le=0,oe=0;return U.forEach(function(ge){le+=T[x.get(ge)],oe+=w[x.get(ge)]}),{x:le/U.size,y:oe/U.size}},D=function(U,le,oe,ge,me){function Ce(Le,je){var dt=new Set(Le),lt=!0,$e=!1,tt=void 0;try{for(var Ve=je[Symbol.iterator](),it;!(lt=(it=Ve.next()).done);lt=!0){var ft=it.value;dt.add(ft)}}catch(Tt){$e=!0,tt=Tt}finally{try{!lt&&Ve.return&&Ve.return()}finally{if($e)throw tt}}return dt}var Ie=new Map;U.forEach(function(Le,je){Ie.set(je,0)}),U.forEach(function(Le,je){Le.forEach(function(dt){Ie.set(dt.id,Ie.get(dt.id)+1)})});var Ne=new Map,et=new Map,ut=new f;Ie.forEach(function(Le,je){Le==0?(ut.push(je),oe||(le=="horizontal"?Ne.set(je,x.has(je)?T[x.get(je)]:ge.get(je)):Ne.set(je,x.has(je)?w[x.get(je)]:ge.get(je)))):Ne.set(je,Number.NEGATIVE_INFINITY),oe&&et.set(je,new Set([je]))}),oe&&me.forEach(function(Le){var je=[];if(Le.forEach(function($e){oe.has($e)&&je.push($e)}),je.length>0){var dt=0;je.forEach(function($e){le=="horizontal"?(Ne.set($e,x.has($e)?T[x.get($e)]:ge.get($e)),dt+=Ne.get($e)):(Ne.set($e,x.has($e)?w[x.get($e)]:ge.get($e)),dt+=Ne.get($e))}),dt=dt/je.length,Le.forEach(function($e){oe.has($e)||Ne.set($e,dt)})}else{var lt=0;Le.forEach(function($e){le=="horizontal"?lt+=x.has($e)?T[x.get($e)]:ge.get($e):lt+=x.has($e)?w[x.get($e)]:ge.get($e)}),lt=lt/Le.length,Le.forEach(function($e){Ne.set($e,lt)})}});for(var rt=function(){var je=ut.shift(),dt=U.get(je);dt.forEach(function(lt){if(Ne.get(lt.id)<Ne.get(je)+lt.gap)if(oe&&oe.has(lt.id)){var $e=void 0;if(le=="horizontal"?$e=x.has(lt.id)?T[x.get(lt.id)]:ge.get(lt.id):$e=x.has(lt.id)?w[x.get(lt.id)]:ge.get(lt.id),Ne.set(lt.id,$e),$e<Ne.get(je)+lt.gap){var tt=Ne.get(je)+lt.gap-$e;et.get(je).forEach(function(Ve){Ne.set(Ve,Ne.get(Ve)-tt)})}}else Ne.set(lt.id,Ne.get(je)+lt.gap);Ie.set(lt.id,Ie.get(lt.id)-1),Ie.get(lt.id)==0&&ut.push(lt.id),oe&&et.set(lt.id,Ce(et.get(je),et.get(lt.id)))})};ut.length!=0;)rt();if(oe){var de=new Set;U.forEach(function(Le,je){Le.length==0&&de.add(je)});var De=[];et.forEach(function(Le,je){if(de.has(je)){var dt=!1,lt=!0,$e=!1,tt=void 0;try{for(var Ve=Le[Symbol.iterator](),it;!(lt=(it=Ve.next()).done);lt=!0){var ft=it.value;oe.has(ft)&&(dt=!0)}}catch(Nt){$e=!0,tt=Nt}finally{try{!lt&&Ve.return&&Ve.return()}finally{if($e)throw tt}}if(!dt){var Tt=!1,kt=void 0;De.forEach(function(Nt,Tr){Nt.has([].concat(h(Le))[0])&&(Tt=!0,kt=Tr)}),Tt?Le.forEach(function(Nt){De[kt].add(Nt)}):De.push(new Set(Le))}}}),De.forEach(function(Le,je){var dt=Number.POSITIVE_INFINITY,lt=Number.POSITIVE_INFINITY,$e=Number.NEGATIVE_INFINITY,tt=Number.NEGATIVE_INFINITY,Ve=!0,it=!1,ft=void 0;try{for(var Tt=Le[Symbol.iterator](),kt;!(Ve=(kt=Tt.next()).done);Ve=!0){var Nt=kt.value,Tr=void 0;le=="horizontal"?Tr=x.has(Nt)?T[x.get(Nt)]:ge.get(Nt):Tr=x.has(Nt)?w[x.get(Nt)]:ge.get(Nt);var Ut=Ne.get(Nt);Tr<dt&&(dt=Tr),Tr>$e&&($e=Tr),Ut<lt&&(lt=Ut),Ut>tt&&(tt=Ut)}}catch(ht){it=!0,ft=ht}finally{try{!Ve&&Tt.return&&Tt.return()}finally{if(it)throw ft}}var Lr=(dt+$e)/2-(lt+tt)/2,br=!0,mr=!1,nr=void 0;try{for(var nn=Le[Symbol.iterator](),Lt;!(br=(Lt=nn.next()).done);br=!0){var Oe=Lt.value;Ne.set(Oe,Ne.get(Oe)+Lr)}}catch(ht){mr=!0,nr=ht}finally{try{!br&&nn.return&&nn.return()}finally{if(mr)throw nr}}})}return Ne},P=function(U){var le=0,oe=0,ge=0,me=0;if(U.forEach(function(et){et.left?T[x.get(et.left)]-T[x.get(et.right)]>=0?le++:oe++:w[x.get(et.top)]-w[x.get(et.bottom)]>=0?ge++:me++}),le>oe&&ge>me)for(var Ce=0;Ce<x.size;Ce++)T[Ce]=-1*T[Ce],w[Ce]=-1*w[Ce];else if(le>oe)for(var Ie=0;Ie<x.size;Ie++)T[Ie]=-1*T[Ie];else if(ge>me)for(var Ne=0;Ne<x.size;Ne++)w[Ne]=-1*w[Ne]},A=function(U){var le=[],oe=new f,ge=new Set,me=0;return U.forEach(function(Ce,Ie){if(!ge.has(Ie)){le[me]=[];var Ne=Ie;for(oe.push(Ne),ge.add(Ne),le[me].push(Ne);oe.length!=0;){Ne=oe.shift();var et=U.get(Ne);et.forEach(function(ut){ge.has(ut.id)||(oe.push(ut.id),ge.add(ut.id),le[me].push(ut.id))})}me++}}),le},R=function(U){var le=new Map;return U.forEach(function(oe,ge){le.set(ge,[])}),U.forEach(function(oe,ge){oe.forEach(function(me){le.get(ge).push(me),le.get(me.id).push({id:ge,gap:me.gap,direction:me.direction})})}),le},O=function(U){var le=new Map;return U.forEach(function(oe,ge){le.set(ge,[])}),U.forEach(function(oe,ge){oe.forEach(function(me){le.get(me.id).push({id:ge,gap:me.gap,direction:me.direction})})}),le},M=[],I=[],F=!1,B=!1,$=new Set,V=new Map,H=new Map,te=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(fe){$.add(fe.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(fe){fe.left?(V.has(fe.left)?V.get(fe.left).push({id:fe.right,gap:fe.gap,direction:"horizontal"}):V.set(fe.left,[{id:fe.right,gap:fe.gap,direction:"horizontal"}]),V.has(fe.right)||V.set(fe.right,[])):(V.has(fe.top)?V.get(fe.top).push({id:fe.bottom,gap:fe.gap,direction:"vertical"}):V.set(fe.top,[{id:fe.bottom,gap:fe.gap,direction:"vertical"}]),V.has(fe.bottom)||V.set(fe.bottom,[]))}),H=R(V),te=A(H)),d.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(fe,U){M[U]=[fe.position.x,fe.position.y],I[U]=[T[x.get(fe.nodeId)],w[x.get(fe.nodeId)]]}),F=!0;else if(v.alignmentConstraint)(function(){var fe=0;if(v.alignmentConstraint.vertical){for(var U=v.alignmentConstraint.vertical,le=function(Ne){var et=new Set;U[Ne].forEach(function(de){et.add(de)});var ut=new Set([].concat(h(et)).filter(function(de){return $.has(de)})),rt=void 0;ut.size>0?rt=T[x.get(ut.values().next().value)]:rt=C(et).x,U[Ne].forEach(function(de){M[fe]=[rt,w[x.get(de)]],I[fe]=[T[x.get(de)],w[x.get(de)]],fe++})},oe=0;oe<U.length;oe++)le(oe);F=!0}if(v.alignmentConstraint.horizontal){for(var ge=v.alignmentConstraint.horizontal,me=function(Ne){var et=new Set;ge[Ne].forEach(function(de){et.add(de)});var ut=new Set([].concat(h(et)).filter(function(de){return $.has(de)})),rt=void 0;ut.size>0?rt=T[x.get(ut.values().next().value)]:rt=C(et).y,ge[Ne].forEach(function(de){M[fe]=[T[x.get(de)],rt],I[fe]=[T[x.get(de)],w[x.get(de)]],fe++})},Ce=0;Ce<ge.length;Ce++)me(Ce);F=!0}v.relativePlacementConstraint&&(B=!0)})();else if(v.relativePlacementConstraint){for(var X=0,ee=0,re=0;re<te.length;re++)te[re].length>X&&(X=te[re].length,ee=re);if(X<H.size/2)P(v.relativePlacementConstraint),F=!1,B=!1;else{var pe=new Map,K=new Map,W=[];te[ee].forEach(function(fe){V.get(fe).forEach(function(U){U.direction=="horizontal"?(pe.has(fe)?pe.get(fe).push(U):pe.set(fe,[U]),pe.has(U.id)||pe.set(U.id,[]),W.push({left:fe,right:U.id})):(K.has(fe)?K.get(fe).push(U):K.set(fe,[U]),K.has(U.id)||K.set(U.id,[]),W.push({top:fe,bottom:U.id}))})}),P(W),B=!1;var j=D(pe,"horizontal"),Y=D(K,"vertical");te[ee].forEach(function(fe,U){I[U]=[T[x.get(fe)],w[x.get(fe)]],M[U]=[],j.has(fe)?M[U][0]=j.get(fe):M[U][0]=T[x.get(fe)],Y.has(fe)?M[U][1]=Y.get(fe):M[U][1]=w[x.get(fe)]}),F=!0}}if(F){for(var Q=void 0,ie=p.transpose(M),J=p.transpose(I),we=0;we<ie.length;we++)ie[we]=p.multGamma(ie[we]),J[we]=p.multGamma(J[we]);var ue=p.multMat(ie,p.transpose(J)),ae=g.svd(ue);Q=p.multMat(ae.V,p.transpose(ae.U));for(var Ue=0;Ue<x.size;Ue++){var xe=[T[Ue],w[Ue]],Ze=[Q[0][0],Q[1][0]],Je=[Q[0][1],Q[1][1]];T[Ue]=p.dotProduct(xe,Ze),w[Ue]=p.dotProduct(xe,Je)}B&&P(v.relativePlacementConstraint)}}if(d.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var Xe={x:0,y:0};v.fixedNodeConstraint.forEach(function(fe,U){var le={x:T[x.get(fe.nodeId)],y:w[x.get(fe.nodeId)]},oe=fe.position,ge=N(oe,le);Xe.x+=ge.x,Xe.y+=ge.y}),Xe.x/=v.fixedNodeConstraint.length,Xe.y/=v.fixedNodeConstraint.length,T.forEach(function(fe,U){T[U]+=Xe.x}),w.forEach(function(fe,U){w[U]+=Xe.y}),v.fixedNodeConstraint.forEach(function(fe){T[x.get(fe.nodeId)]=fe.position.x,w[x.get(fe.nodeId)]=fe.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Pe=v.alignmentConstraint.vertical,We=function(U){var le=new Set;Pe[U].forEach(function(me){le.add(me)});var oe=new Set([].concat(h(le)).filter(function(me){return $.has(me)})),ge=void 0;oe.size>0?ge=T[x.get(oe.values().next().value)]:ge=C(le).x,le.forEach(function(me){$.has(me)||(T[x.get(me)]=ge)})},he=0;he<Pe.length;he++)We(he);if(v.alignmentConstraint.horizontal)for(var Te=v.alignmentConstraint.horizontal,Be=function(U){var le=new Set;Te[U].forEach(function(me){le.add(me)});var oe=new Set([].concat(h(le)).filter(function(me){return $.has(me)})),ge=void 0;oe.size>0?ge=w[x.get(oe.values().next().value)]:ge=C(le).y,le.forEach(function(me){$.has(me)||(w[x.get(me)]=ge)})},ye=0;ye<Te.length;ye++)Be(ye)}v.relativePlacementConstraint&&function(){var fe=new Map,U=new Map,le=new Map,oe=new Map,ge=new Map,me=new Map,Ce=new Set,Ie=new Set;if($.forEach(function(ct){Ce.add(ct),Ie.add(ct)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Ne=v.alignmentConstraint.vertical,et=function(ot){le.set("dummy"+ot,[]),Ne[ot].forEach(function(Qe){fe.set(Qe,"dummy"+ot),le.get("dummy"+ot).push(Qe),$.has(Qe)&&Ce.add("dummy"+ot)}),ge.set("dummy"+ot,T[x.get(Ne[ot][0])])},ut=0;ut<Ne.length;ut++)et(ut);if(v.alignmentConstraint.horizontal)for(var rt=v.alignmentConstraint.horizontal,de=function(ot){oe.set("dummy"+ot,[]),rt[ot].forEach(function(Qe){U.set(Qe,"dummy"+ot),oe.get("dummy"+ot).push(Qe),$.has(Qe)&&Ie.add("dummy"+ot)}),me.set("dummy"+ot,w[x.get(rt[ot][0])])},De=0;De<rt.length;De++)de(De)}var Le=new Map,je=new Map,dt=function(ot){V.get(ot).forEach(function(Qe){var ar=void 0,ve=void 0;Qe.direction=="horizontal"?(ar=fe.get(ot)?fe.get(ot):ot,fe.get(Qe.id)?ve={id:fe.get(Qe.id),gap:Qe.gap,direction:Qe.direction}:ve=Qe,Le.has(ar)?Le.get(ar).push(ve):Le.set(ar,[ve]),Le.has(ve.id)||Le.set(ve.id,[])):(ar=U.get(ot)?U.get(ot):ot,U.get(Qe.id)?ve={id:U.get(Qe.id),gap:Qe.gap,direction:Qe.direction}:ve=Qe,je.has(ar)?je.get(ar).push(ve):je.set(ar,[ve]),je.has(ve.id)||je.set(ve.id,[]))})},lt=!0,$e=!1,tt=void 0;try{for(var Ve=V.keys()[Symbol.iterator](),it;!(lt=(it=Ve.next()).done);lt=!0){var ft=it.value;dt(ft)}}catch(ct){$e=!0,tt=ct}finally{try{!lt&&Ve.return&&Ve.return()}finally{if($e)throw tt}}var Tt=R(Le),kt=R(je),Nt=A(Tt),Tr=A(kt),Ut=O(Le),Lr=O(je),br=[],mr=[];Nt.forEach(function(ct,ot){br[ot]=[],ct.forEach(function(Qe){Ut.get(Qe).length==0&&br[ot].push(Qe)})}),Tr.forEach(function(ct,ot){mr[ot]=[],ct.forEach(function(Qe){Lr.get(Qe).length==0&&mr[ot].push(Qe)})});var nr=D(Le,"horizontal",Ce,ge,br),nn=D(je,"vertical",Ie,me,mr),Lt=function(ot){le.get(ot)?le.get(ot).forEach(function(Qe){T[x.get(Qe)]=nr.get(ot)}):T[x.get(ot)]=nr.get(ot)},Oe=!0,ht=!1,_t=void 0;try{for(var fr=nr.keys()[Symbol.iterator](),Gr;!(Oe=(Gr=fr.next()).done);Oe=!0){var en=Gr.value;Lt(en)}}catch(ct){ht=!0,_t=ct}finally{try{!Oe&&fr.return&&fr.return()}finally{if(ht)throw _t}}var Vr=function(ot){oe.get(ot)?oe.get(ot).forEach(function(Qe){w[x.get(Qe)]=nn.get(ot)}):w[x.get(ot)]=nn.get(ot)},Wn=!0,Yn=!1,Qi=void 0;try{for(var at=nn.keys()[Symbol.iterator](),st;!(Wn=(st=at.next()).done);Wn=!0){var en=st.value;Vr(en)}}catch(ct){Yn=!0,Qi=ct}finally{try{!Wn&&at.return&&at.return()}finally{if(Yn)throw Qi}}}()}for(var Me=0;Me<S.length;Me++){var Z=S[Me];Z.getChild()==null&&Z.setCenter(T[x.get(Z.id)],w[x.get(Z.id)])}},o.exports=m},551:o=>{o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o](u,u.exports,a),u.exports}var s=a(45);return s})()})}(gT)),gT.exports}var XZe=pT.exports,Zte;function KZe(){return Zte||(Zte=1,function(t,e){(function(n,i){t.exports=i(YZe())})(XZe,function(r){return(()=>{var n={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(l){for(var u=arguments.length,h=Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return h.forEach(function(f){Object.keys(f).forEach(function(p){return l[p]=f[p]})}),l}},548:(o,l,u)=>{var h=function(){function p(g,m){var y=[],v=!0,b=!1,x=void 0;try{for(var T=g[Symbol.iterator](),w;!(v=(w=T.next()).done)&&(y.push(w.value),!(m&&y.length===m));v=!0);}catch(S){b=!0,x=S}finally{try{!v&&T.return&&T.return()}finally{if(b)throw x}}return y}return function(g,m){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=u(140).layoutBase.LinkedList,f={};f.getTopMostNodes=function(p){for(var g={},m=0;m<p.length;m++)g[p[m].id()]=!0;var y=p.filter(function(v,b){typeof v=="number"&&(v=b);for(var x=v.parent()[0];x!=null;){if(g[x.id()])return!1;x=x.parent()[0]}return!0});return y},f.connectComponents=function(p,g,m,y){var v=new d,b=new Set,x=[],T=void 0,w=void 0,S=void 0,k=!1,L=1,_=[],N=[],C=function(){var P=p.collection();N.push(P);var A=m[0],R=p.collection();R.merge(A).merge(A.descendants().intersection(g)),x.push(A),R.forEach(function(I){v.push(I),b.add(I),P.merge(I)});for(var O=function(){A=v.shift();var F=p.collection();A.neighborhood().nodes().forEach(function(H){g.intersection(A.edgesWith(H)).length>0&&F.merge(H)});for(var B=0;B<F.length;B++){var $=F[B];if(T=m.intersection($.union($.ancestors())),T!=null&&!b.has(T[0])){var V=T.union(T.descendants());V.forEach(function(H){v.push(H),b.add(H),P.merge(H),m.has(H)&&x.push(H)})}}};v.length!=0;)O();if(P.forEach(function(I){g.intersection(I.connectedEdges()).forEach(function(F){P.has(F.source())&&P.has(F.target())&&P.merge(F)})}),x.length==m.length&&(k=!0),!k||k&&L>1){w=x[0],S=w.connectedEdges().length,x.forEach(function(I){I.connectedEdges().length<S&&(S=I.connectedEdges().length,w=I)}),_.push(w.id());var M=p.collection();M.merge(x[0]),x.forEach(function(I){M.merge(I)}),x=[],m=m.difference(M),L++}};do C();while(!k);return y&&_.length>0&&y.set("dummy"+(y.size+1),_),N},f.relocateComponent=function(p,g,m){if(!m.fixedNodeConstraint){var y=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,b=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY;if(m.quality=="draft"){var T=!0,w=!1,S=void 0;try{for(var k=g.nodeIndexes[Symbol.iterator](),L;!(T=(L=k.next()).done);T=!0){var _=L.value,N=h(_,2),C=N[0],D=N[1],P=m.cy.getElementById(C);if(P){var A=P.boundingBox(),R=g.xCoords[D]-A.w/2,O=g.xCoords[D]+A.w/2,M=g.yCoords[D]-A.h/2,I=g.yCoords[D]+A.h/2;R<y&&(y=R),O>v&&(v=O),M<b&&(b=M),I>x&&(x=I)}}}catch(H){w=!0,S=H}finally{try{!T&&k.return&&k.return()}finally{if(w)throw S}}var F=p.x-(v+y)/2,B=p.y-(x+b)/2;g.xCoords=g.xCoords.map(function(H){return H+F}),g.yCoords=g.yCoords.map(function(H){return H+B})}else{Object.keys(g).forEach(function(H){var te=g[H],X=te.getRect().x,ee=te.getRect().x+te.getRect().width,re=te.getRect().y,pe=te.getRect().y+te.getRect().height;X<y&&(y=X),ee>v&&(v=ee),re<b&&(b=re),pe>x&&(x=pe)});var $=p.x-(v+y)/2,V=p.y-(x+b)/2;Object.keys(g).forEach(function(H){var te=g[H];te.setCenter(te.getCenterX()+$,te.getCenterY()+V)})}}},f.calcBoundingBox=function(p,g,m,y){for(var v=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER,w=void 0,S=void 0,k=void 0,L=void 0,_=p.descendants().not(":parent"),N=_.length,C=0;C<N;C++){var D=_[C];w=g[y.get(D.id())]-D.width()/2,S=g[y.get(D.id())]+D.width()/2,k=m[y.get(D.id())]-D.height()/2,L=m[y.get(D.id())]+D.height()/2,v>w&&(v=w),b<S&&(b=S),x>k&&(x=k),T<L&&(T=L)}var P={};return P.topLeftX=v,P.topLeftY=x,P.width=b-v,P.height=T-x,P},f.calcParentsWithoutChildren=function(p,g){var m=p.collection();return g.nodes(":parent").forEach(function(y){var v=!1;y.children().forEach(function(b){b.css("display")!="none"&&(v=!0)}),v||m.merge(y)}),m},o.exports=f},816:(o,l,u)=>{var h=u(548),d=u(140).CoSELayout,f=u(140).CoSENode,p=u(140).layoutBase.PointD,g=u(140).layoutBase.DimensionD,m=u(140).layoutBase.LayoutConstants,y=u(140).layoutBase.FDLayoutConstants,v=u(140).CoSEConstants,b=function(T,w){var S=T.cy,k=T.eles,L=k.nodes(),_=k.edges(),N=void 0,C=void 0,D=void 0,P={};T.randomize&&(N=w.nodeIndexes,C=w.xCoords,D=w.yCoords);var A=function(H){return typeof H=="function"},R=function(H,te){return A(H)?H(te):H},O=h.calcParentsWithoutChildren(S,k),M=function V(H,te,X,ee){for(var re=te.length,pe=0;pe<re;pe++){var K=te[pe],W=null;K.intersection(O).length==0&&(W=K.children());var j=void 0,Y=K.layoutDimensions({nodeDimensionsIncludeLabels:ee.nodeDimensionsIncludeLabels});if(K.outerWidth()!=null&&K.outerHeight()!=null)if(ee.randomize)if(!K.isParent())j=H.add(new f(X.graphManager,new p(C[N.get(K.id())]-Y.w/2,D[N.get(K.id())]-Y.h/2),new g(parseFloat(Y.w),parseFloat(Y.h))));else{var Q=h.calcBoundingBox(K,C,D,N);K.intersection(O).length==0?j=H.add(new f(X.graphManager,new p(Q.topLeftX,Q.topLeftY),new g(Q.width,Q.height))):j=H.add(new f(X.graphManager,new p(Q.topLeftX,Q.topLeftY),new g(parseFloat(Y.w),parseFloat(Y.h))))}else j=H.add(new f(X.graphManager,new p(K.position("x")-Y.w/2,K.position("y")-Y.h/2),new g(parseFloat(Y.w),parseFloat(Y.h))));else j=H.add(new f(this.graphManager));if(j.id=K.data("id"),j.nodeRepulsion=R(ee.nodeRepulsion,K),j.paddingLeft=parseInt(K.css("padding")),j.paddingTop=parseInt(K.css("padding")),j.paddingRight=parseInt(K.css("padding")),j.paddingBottom=parseInt(K.css("padding")),ee.nodeDimensionsIncludeLabels&&(j.labelWidth=K.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,j.labelHeight=K.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,j.labelPosVertical=K.css("text-valign"),j.labelPosHorizontal=K.css("text-halign")),P[K.data("id")]=j,isNaN(j.rect.x)&&(j.rect.x=0),isNaN(j.rect.y)&&(j.rect.y=0),W!=null&&W.length>0){var ie=void 0;ie=X.getGraphManager().add(X.newGraph(),j),V(ie,W,X,ee)}}},I=function(H,te,X){for(var ee=0,re=0,pe=0;pe<X.length;pe++){var K=X[pe],W=P[K.data("source")],j=P[K.data("target")];if(W&&j&&W!==j&&W.getEdgesBetween(j).length==0){var Y=te.add(H.newEdge(),W,j);Y.id=K.id(),Y.idealLength=R(T.idealEdgeLength,K),Y.edgeElasticity=R(T.edgeElasticity,K),ee+=Y.idealLength,re++}}T.idealEdgeLength!=null&&(re>0?v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=ee/re:A(T.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=T.idealEdgeLength,v.MIN_REPULSION_DIST=y.MIN_REPULSION_DIST=y.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=y.DEFAULT_EDGE_LENGTH)},F=function(H,te){te.fixedNodeConstraint&&(H.constraints.fixedNodeConstraint=te.fixedNodeConstraint),te.alignmentConstraint&&(H.constraints.alignmentConstraint=te.alignmentConstraint),te.relativePlacementConstraint&&(H.constraints.relativePlacementConstraint=te.relativePlacementConstraint)};T.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.nestingFactor),T.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=y.DEFAULT_GRAVITY_STRENGTH=T.gravity),T.numIter!=null&&(v.MAX_ITERATIONS=y.MAX_ITERATIONS=T.numIter),T.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=y.DEFAULT_GRAVITY_RANGE_FACTOR=T.gravityRange),T.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.gravityCompound),T.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.gravityRangeCompound),T.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=y.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.initialEnergyOnIncremental),T.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=T.tilingCompareBy),T.quality=="proof"?m.QUALITY=2:m.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=m.NODE_DIMENSIONS_INCLUDE_LABELS=T.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!T.randomize,v.ANIMATE=y.ANIMATE=m.ANIMATE=T.animate,v.TILE=T.tile,v.TILING_PADDING_VERTICAL=typeof T.tilingPaddingVertical=="function"?T.tilingPaddingVertical.call():T.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof T.tilingPaddingHorizontal=="function"?T.tilingPaddingHorizontal.call():T.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!T.randomize,m.DEFAULT_UNIFORM_LEAF_NODE_SIZES=T.uniformNodeDimensions,T.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),T.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),T.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),T.step=="all"&&(T.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),T.fixedNodeConstraint||T.alignmentConstraint||T.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var B=new d,$=B.newGraphManager();return M($.addRoot(),h.getTopMostNodes(L),B,T),I(B,$,_),F(B,T),B.runLayout(),P};o.exports={coseLayout:b}},212:(o,l,u)=>{var h=function(){function T(w,S){for(var k=0;k<S.length;k++){var L=S[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,L.key,L)}}return function(w,S,k){return S&&T(w.prototype,S),k&&T(w,k),w}}();function d(T,w){if(!(T instanceof w))throw new TypeError("Cannot call a class as a function")}var f=u(658),p=u(548),g=u(657),m=g.spectralLayout,y=u(816),v=y.coseLayout,b=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(w){return 4500},idealEdgeLength:function(w){return 50},edgeElasticity:function(w){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),x=function(){function T(w){d(this,T),this.options=f({},b,w)}return h(T,[{key:"run",value:function(){var S=this,k=this.options,L=k.cy,_=k.eles,N=[],C=[],D=void 0,P=[];k.fixedNodeConstraint&&(!Array.isArray(k.fixedNodeConstraint)||k.fixedNodeConstraint.length==0)&&(k.fixedNodeConstraint=void 0),k.alignmentConstraint&&(k.alignmentConstraint.vertical&&(!Array.isArray(k.alignmentConstraint.vertical)||k.alignmentConstraint.vertical.length==0)&&(k.alignmentConstraint.vertical=void 0),k.alignmentConstraint.horizontal&&(!Array.isArray(k.alignmentConstraint.horizontal)||k.alignmentConstraint.horizontal.length==0)&&(k.alignmentConstraint.horizontal=void 0)),k.relativePlacementConstraint&&(!Array.isArray(k.relativePlacementConstraint)||k.relativePlacementConstraint.length==0)&&(k.relativePlacementConstraint=void 0);var A=k.fixedNodeConstraint||k.alignmentConstraint||k.relativePlacementConstraint;A&&(k.tile=!1,k.packComponents=!1);var R=void 0,O=!1;if(L.layoutUtilities&&k.packComponents&&(R=L.layoutUtilities("get"),R||(R=L.layoutUtilities()),O=!0),_.nodes().length>0)if(O){var F=p.getTopMostNodes(k.eles.nodes());if(D=p.connectComponents(L,k.eles,F),D.forEach(function(ue){var ae=ue.boundingBox();P.push({x:ae.x1+ae.w/2,y:ae.y1+ae.h/2})}),k.randomize&&D.forEach(function(ue){k.eles=ue,N.push(m(k))}),k.quality=="default"||k.quality=="proof"){var B=L.collection();if(k.tile){var $=new Map,V=[],H=[],te=0,X={nodeIndexes:$,xCoords:V,yCoords:H},ee=[];if(D.forEach(function(ue,ae){ue.edges().length==0&&(ue.nodes().forEach(function(Ue,xe){B.merge(ue.nodes()[xe]),Ue.isParent()||(X.nodeIndexes.set(ue.nodes()[xe].id(),te++),X.xCoords.push(ue.nodes()[0].position().x),X.yCoords.push(ue.nodes()[0].position().y))}),ee.push(ae))}),B.length>1){var re=B.boundingBox();P.push({x:re.x1+re.w/2,y:re.y1+re.h/2}),D.push(B),N.push(X);for(var pe=ee.length-1;pe>=0;pe--)D.splice(ee[pe],1),N.splice(ee[pe],1),P.splice(ee[pe],1)}}D.forEach(function(ue,ae){k.eles=ue,C.push(v(k,N[ae])),p.relocateComponent(P[ae],C[ae],k)})}else D.forEach(function(ue,ae){p.relocateComponent(P[ae],N[ae],k)});var K=new Set;if(D.length>1){var W=[],j=_.filter(function(ue){return ue.css("display")=="none"});D.forEach(function(ue,ae){var Ue=void 0;if(k.quality=="draft"&&(Ue=N[ae].nodeIndexes),ue.nodes().not(j).length>0){var xe={};xe.edges=[],xe.nodes=[];var Ze=void 0;ue.nodes().not(j).forEach(function(Je){if(k.quality=="draft")if(!Je.isParent())Ze=Ue.get(Je.id()),xe.nodes.push({x:N[ae].xCoords[Ze]-Je.boundingbox().w/2,y:N[ae].yCoords[Ze]-Je.boundingbox().h/2,width:Je.boundingbox().w,height:Je.boundingbox().h});else{var Xe=p.calcBoundingBox(Je,N[ae].xCoords,N[ae].yCoords,Ue);xe.nodes.push({x:Xe.topLeftX,y:Xe.topLeftY,width:Xe.width,height:Xe.height})}else C[ae][Je.id()]&&xe.nodes.push({x:C[ae][Je.id()].getLeft(),y:C[ae][Je.id()].getTop(),width:C[ae][Je.id()].getWidth(),height:C[ae][Je.id()].getHeight()})}),ue.edges().forEach(function(Je){var Xe=Je.source(),Pe=Je.target();if(Xe.css("display")!="none"&&Pe.css("display")!="none")if(k.quality=="draft"){var We=Ue.get(Xe.id()),he=Ue.get(Pe.id()),Te=[],Be=[];if(Xe.isParent()){var ye=p.calcBoundingBox(Xe,N[ae].xCoords,N[ae].yCoords,Ue);Te.push(ye.topLeftX+ye.width/2),Te.push(ye.topLeftY+ye.height/2)}else Te.push(N[ae].xCoords[We]),Te.push(N[ae].yCoords[We]);if(Pe.isParent()){var Me=p.calcBoundingBox(Pe,N[ae].xCoords,N[ae].yCoords,Ue);Be.push(Me.topLeftX+Me.width/2),Be.push(Me.topLeftY+Me.height/2)}else Be.push(N[ae].xCoords[he]),Be.push(N[ae].yCoords[he]);xe.edges.push({startX:Te[0],startY:Te[1],endX:Be[0],endY:Be[1]})}else C[ae][Xe.id()]&&C[ae][Pe.id()]&&xe.edges.push({startX:C[ae][Xe.id()].getCenterX(),startY:C[ae][Xe.id()].getCenterY(),endX:C[ae][Pe.id()].getCenterX(),endY:C[ae][Pe.id()].getCenterY()})}),xe.nodes.length>0&&(W.push(xe),K.add(ae))}});var Y=R.packComponents(W,k.randomize).shifts;if(k.quality=="draft")N.forEach(function(ue,ae){var Ue=ue.xCoords.map(function(Ze){return Ze+Y[ae].dx}),xe=ue.yCoords.map(function(Ze){return Ze+Y[ae].dy});ue.xCoords=Ue,ue.yCoords=xe});else{var Q=0;K.forEach(function(ue){Object.keys(C[ue]).forEach(function(ae){var Ue=C[ue][ae];Ue.setCenter(Ue.getCenterX()+Y[Q].dx,Ue.getCenterY()+Y[Q].dy)}),Q++})}}}else{var M=k.eles.boundingBox();if(P.push({x:M.x1+M.w/2,y:M.y1+M.h/2}),k.randomize){var I=m(k);N.push(I)}k.quality=="default"||k.quality=="proof"?(C.push(v(k,N[0])),p.relocateComponent(P[0],C[0],k)):p.relocateComponent(P[0],N[0],k)}var ie=function(ae,Ue){if(k.quality=="default"||k.quality=="proof"){typeof ae=="number"&&(ae=Ue);var xe=void 0,Ze=void 0,Je=ae.data("id");return C.forEach(function(Pe){Je in Pe&&(xe={x:Pe[Je].getRect().getCenterX(),y:Pe[Je].getRect().getCenterY()},Ze=Pe[Je])}),k.nodeDimensionsIncludeLabels&&(Ze.labelWidth&&(Ze.labelPosHorizontal=="left"?xe.x+=Ze.labelWidth/2:Ze.labelPosHorizontal=="right"&&(xe.x-=Ze.labelWidth/2)),Ze.labelHeight&&(Ze.labelPosVertical=="top"?xe.y+=Ze.labelHeight/2:Ze.labelPosVertical=="bottom"&&(xe.y-=Ze.labelHeight/2))),xe==null&&(xe={x:ae.position("x"),y:ae.position("y")}),{x:xe.x,y:xe.y}}else{var Xe=void 0;return N.forEach(function(Pe){var We=Pe.nodeIndexes.get(ae.id());We!=null&&(Xe={x:Pe.xCoords[We],y:Pe.yCoords[We]})}),Xe==null&&(Xe={x:ae.position("x"),y:ae.position("y")}),{x:Xe.x,y:Xe.y}}};if(k.quality=="default"||k.quality=="proof"||k.randomize){var J=p.calcParentsWithoutChildren(L,_),we=_.filter(function(ue){return ue.css("display")=="none"});k.eles=_.not(we),_.nodes().not(":parent").not(we).layoutPositions(S,k,ie),J.length>0&&J.forEach(function(ue){ue.position(ie(ue))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),T}();o.exports=x},657:(o,l,u)=>{var h=u(548),d=u(140).layoutBase.Matrix,f=u(140).layoutBase.SVD,p=function(m){var y=m.cy,v=m.eles,b=v.nodes(),x=v.nodes(":parent"),T=new Map,w=new Map,S=new Map,k=[],L=[],_=[],N=[],C=[],D=[],P=[],A=[],R=void 0,O=1e8,M=1e-9,I=m.piTol,F=m.samplingType,B=m.nodeSeparation,$=void 0,V=function(){for(var U=0,le=0,oe=!1;le<$;){U=Math.floor(Math.random()*R),oe=!1;for(var ge=0;ge<le;ge++)if(N[ge]==U){oe=!0;break}if(!oe)N[le]=U,le++;else continue}},H=function(U,le,oe){for(var ge=[],me=0,Ce=0,Ie=0,Ne=void 0,et=[],ut=0,rt=1,de=0;de<R;de++)et[de]=O;for(ge[Ce]=U,et[U]=0;Ce>=me;){Ie=ge[me++];for(var De=k[Ie],Le=0;Le<De.length;Le++)Ne=w.get(De[Le]),et[Ne]==O&&(et[Ne]=et[Ie]+1,ge[++Ce]=Ne);D[Ie][le]=et[Ie]*B}if(oe){for(var je=0;je<R;je++)D[je][le]<C[je]&&(C[je]=D[je][le]);for(var dt=0;dt<R;dt++)C[dt]>ut&&(ut=C[dt],rt=dt)}return rt},te=function(U){var le=void 0;if(U){le=Math.floor(Math.random()*R);for(var ge=0;ge<R;ge++)C[ge]=O;for(var me=0;me<$;me++)N[me]=le,le=H(le,me,U)}else{V();for(var oe=0;oe<$;oe++)H(N[oe],oe,U)}for(var Ce=0;Ce<R;Ce++)for(var Ie=0;Ie<$;Ie++)D[Ce][Ie]*=D[Ce][Ie];for(var Ne=0;Ne<$;Ne++)P[Ne]=[];for(var et=0;et<$;et++)for(var ut=0;ut<$;ut++)P[et][ut]=D[N[ut]][et]},X=function(){for(var U=f.svd(P),le=U.S,oe=U.U,ge=U.V,me=le[0]*le[0]*le[0],Ce=[],Ie=0;Ie<$;Ie++){Ce[Ie]=[];for(var Ne=0;Ne<$;Ne++)Ce[Ie][Ne]=0,Ie==Ne&&(Ce[Ie][Ne]=le[Ie]/(le[Ie]*le[Ie]+me/(le[Ie]*le[Ie])))}A=d.multMat(d.multMat(ge,Ce),d.transpose(oe))},ee=function(){for(var U=void 0,le=void 0,oe=[],ge=[],me=[],Ce=[],Ie=0;Ie<R;Ie++)oe[Ie]=Math.random(),ge[Ie]=Math.random();oe=d.normalize(oe),ge=d.normalize(ge);for(var Ne=M,et=M,ut=void 0;;){for(var rt=0;rt<R;rt++)me[rt]=oe[rt];if(oe=d.multGamma(d.multL(d.multGamma(me),D,A)),U=d.dotProduct(me,oe),oe=d.normalize(oe),Ne=d.dotProduct(me,oe),ut=Math.abs(Ne/et),ut<=1+I&&ut>=1)break;et=Ne}for(var de=0;de<R;de++)me[de]=oe[de];for(et=M;;){for(var De=0;De<R;De++)Ce[De]=ge[De];if(Ce=d.minusOp(Ce,d.multCons(me,d.dotProduct(me,Ce))),ge=d.multGamma(d.multL(d.multGamma(Ce),D,A)),le=d.dotProduct(Ce,ge),ge=d.normalize(ge),Ne=d.dotProduct(Ce,ge),ut=Math.abs(Ne/et),ut<=1+I&&ut>=1)break;et=Ne}for(var Le=0;Le<R;Le++)Ce[Le]=ge[Le];L=d.multCons(me,Math.sqrt(Math.abs(U))),_=d.multCons(Ce,Math.sqrt(Math.abs(le)))};h.connectComponents(y,v,h.getTopMostNodes(b),T),x.forEach(function(fe){h.connectComponents(y,v,h.getTopMostNodes(fe.descendants().intersection(v)),T)});for(var re=0,pe=0;pe<b.length;pe++)b[pe].isParent()||w.set(b[pe].id(),re++);var K=!0,W=!1,j=void 0;try{for(var Y=T.keys()[Symbol.iterator](),Q;!(K=(Q=Y.next()).done);K=!0){var ie=Q.value;w.set(ie,re++)}}catch(fe){W=!0,j=fe}finally{try{!K&&Y.return&&Y.return()}finally{if(W)throw j}}for(var J=0;J<w.size;J++)k[J]=[];x.forEach(function(fe){for(var U=fe.children().intersection(v);U.nodes(":childless").length==0;)U=U.nodes()[0].children().intersection(v);var le=0,oe=U.nodes(":childless")[0].connectedEdges().length;U.nodes(":childless").forEach(function(ge,me){ge.connectedEdges().length<oe&&(oe=ge.connectedEdges().length,le=me)}),S.set(fe.id(),U.nodes(":childless")[le].id())}),b.forEach(function(fe){var U=void 0;fe.isParent()?U=w.get(S.get(fe.id())):U=w.get(fe.id()),fe.neighborhood().nodes().forEach(function(le){v.intersection(fe.edgesWith(le)).length>0&&(le.isParent()?k[U].push(S.get(le.id())):k[U].push(le.id()))})});var we=function(U){var le=w.get(U),oe=void 0;T.get(U).forEach(function(ge){y.getElementById(ge).isParent()?oe=S.get(ge):oe=ge,k[le].push(oe),k[w.get(oe)].push(U)})},ue=!0,ae=!1,Ue=void 0;try{for(var xe=T.keys()[Symbol.iterator](),Ze;!(ue=(Ze=xe.next()).done);ue=!0){var Je=Ze.value;we(Je)}}catch(fe){ae=!0,Ue=fe}finally{try{!ue&&xe.return&&xe.return()}finally{if(ae)throw Ue}}R=w.size;var Xe=void 0;if(R>2){$=R<m.sampleSize?R:m.sampleSize;for(var Pe=0;Pe<R;Pe++)D[Pe]=[];for(var We=0;We<$;We++)A[We]=[];return m.quality=="draft"||m.step=="all"?(te(F),X(),ee(),Xe={nodeIndexes:w,xCoords:L,yCoords:_}):(w.forEach(function(fe,U){L.push(y.getElementById(U).position("x")),_.push(y.getElementById(U).position("y"))}),Xe={nodeIndexes:w,xCoords:L,yCoords:_}),Xe}else{var he=w.keys(),Te=y.getElementById(he.next().value),Be=Te.position(),ye=Te.outerWidth();if(L.push(Be.x),_.push(Be.y),R==2){var Me=y.getElementById(he.next().value),Z=Me.outerWidth();L.push(Be.x+ye/2+Z/2+m.idealEdgeLength),_.push(Be.y)}return Xe={nodeIndexes:w,xCoords:L,yCoords:_},Xe}};o.exports={spectralLayout:p}},579:(o,l,u)=>{var h=u(212),d=function(p){p&&p("layout","fcose",h)};typeof cytoscape<"u"&&d(cytoscape),o.exports=d},140:o=>{o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o](u,u.exports,a),u.exports}var s=a(579);return s})()})}(pT)),pT.exports}var jZe=KZe();const QZe=Pl(jZe);var Jte={L:"left",R:"right",T:"top",B:"bottom"},ere={L:E(t=>`${t},${t/2} 0,${t} 0,0`,"L"),R:E(t=>`0,${t/2} ${t},0 ${t},${t}`,"R"),T:E(t=>`0,0 ${t},0 ${t/2},${t}`,"T"),B:E(t=>`${t/2},0 ${t},${t} 0,${t}`,"B")},yT={L:E((t,e)=>t-e+2,"L"),R:E((t,e)=>t-2,"R"),T:E((t,e)=>t-e+2,"T"),B:E((t,e)=>t-2,"B")},ZZe=E(function(t){return Fa(t)?t==="L"?"R":"L":t==="T"?"B":"T"},"getOppositeArchitectureDirection"),tre=E(function(t){const e=t;return e==="L"||e==="R"||e==="T"||e==="B"},"isArchitectureDirection"),Fa=E(function(t){const e=t;return e==="L"||e==="R"},"isArchitectureDirectionX"),Du=E(function(t){const e=t;return e==="T"||e==="B"},"isArchitectureDirectionY"),M7=E(function(t,e){const r=Fa(t)&&Du(e),n=Du(t)&&Fa(e);return r||n},"isArchitectureDirectionXY"),JZe=E(function(t){const e=t[0],r=t[1],n=Fa(e)&&Du(r),i=Du(e)&&Fa(r);return n||i},"isArchitecturePairXY"),eJe=E(function(t){return t!=="LL"&&t!=="RR"&&t!=="TT"&&t!=="BB"},"isValidArchitectureDirectionPair"),P7=E(function(t,e){const r=`${t}${e}`;return eJe(r)?r:void 0},"getArchitectureDirectionPair"),tJe=E(function([t,e],r){const n=r[0],i=r[1];return Fa(n)?Du(i)?[t+(n==="L"?-1:1),e+(i==="T"?1:-1)]:[t+(n==="L"?-1:1),e]:Fa(i)?[t+(i==="L"?1:-1),e+(n==="T"?1:-1)]:[t,e+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),rJe=E(function(t){return t==="LT"||t==="TL"?[1,1]:t==="BL"||t==="LB"?[1,-1]:t==="BR"||t==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),nJe=E(function(t,e){return M7(t,e)?"bend":Fa(t)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),iJe=E(function(t){return t.type==="service"},"isArchitectureService"),aJe=E(function(t){return t.type==="junction"},"isArchitectureJunction"),rre=E(t=>t.data(),"edgeData"),O0=E(t=>t.data(),"nodeData"),nre=Rr.architecture,gr=new hk(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:nre,dataStructures:void 0,elements:{}})),sJe=E(()=>{gr.reset(),si()},"clear"),oJe=E(function({id:t,icon:e,in:r,title:n,iconText:i}){if(gr.records.registeredIds[t]!==void 0)throw new Error(`The service id [${t}] is already in use by another ${gr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The service [${t}] cannot be placed within itself`);if(gr.records.registeredIds[r]===void 0)throw new Error(`The service [${t}]'s parent does not exist. Please make sure the parent is created before this service`);if(gr.records.registeredIds[r]==="node")throw new Error(`The service [${t}]'s parent is not a group`)}gr.records.registeredIds[t]="node",gr.records.nodes[t]={id:t,type:"service",icon:e,iconText:i,title:n,edges:[],in:r}},"addService"),lJe=E(()=>Object.values(gr.records.nodes).filter(iJe),"getServices"),cJe=E(function({id:t,in:e}){gr.records.registeredIds[t]="node",gr.records.nodes[t]={id:t,type:"junction",edges:[],in:e}},"addJunction"),uJe=E(()=>Object.values(gr.records.nodes).filter(aJe),"getJunctions"),hJe=E(()=>Object.values(gr.records.nodes),"getNodes"),B7=E(t=>gr.records.nodes[t],"getNode"),dJe=E(function({id:t,icon:e,in:r,title:n}){if(gr.records.registeredIds[t]!==void 0)throw new Error(`The group id [${t}] is already in use by another ${gr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The group [${t}] cannot be placed within itself`);if(gr.records.registeredIds[r]===void 0)throw new Error(`The group [${t}]'s parent does not exist. Please make sure the parent is created before this group`);if(gr.records.registeredIds[r]==="node")throw new Error(`The group [${t}]'s parent is not a group`)}gr.records.registeredIds[t]="group",gr.records.groups[t]={id:t,icon:e,title:n,in:r}},"addGroup"),fJe=E(()=>Object.values(gr.records.groups),"getGroups"),pJe=E(function({lhsId:t,rhsId:e,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:a,lhsGroup:s,rhsGroup:o,title:l}){if(!tre(r))throw new Error(`Invalid direction given for left hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${r}`);if(!tre(n))throw new Error(`Invalid direction given for right hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${n}`);if(gr.records.nodes[t]===void 0&&gr.records.groups[t]===void 0)throw new Error(`The left-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(gr.records.nodes[e]===void 0&&gr.records.groups[t]===void 0)throw new Error(`The right-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);const u=gr.records.nodes[t].in,h=gr.records.nodes[e].in;if(s&&u&&h&&u==h)throw new Error(`The left-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(o&&u&&h&&u==h)throw new Error(`The right-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const d={lhsId:t,lhsDir:r,lhsInto:i,lhsGroup:s,rhsId:e,rhsDir:n,rhsInto:a,rhsGroup:o,title:l};gr.records.edges.push(d),gr.records.nodes[t]&&gr.records.nodes[e]&&(gr.records.nodes[t].edges.push(gr.records.edges[gr.records.edges.length-1]),gr.records.nodes[e].edges.push(gr.records.edges[gr.records.edges.length-1]))},"addEdge"),gJe=E(()=>gr.records.edges,"getEdges"),mJe=E(()=>{if(gr.records.dataStructures===void 0){const t={},e=Object.entries(gr.records.nodes).reduce((o,[l,u])=>(o[l]=u.edges.reduce((h,d)=>{var g,m;const f=(g=B7(d.lhsId))==null?void 0:g.in,p=(m=B7(d.rhsId))==null?void 0:m.in;if(f&&p&&f!==p){const y=nJe(d.lhsDir,d.rhsDir);y!=="bend"&&(t[f]??(t[f]={}),t[f][p]=y,t[p]??(t[p]={}),t[p][f]=y)}if(d.lhsId===l){const y=P7(d.lhsDir,d.rhsDir);y&&(h[y]=d.rhsId)}else{const y=P7(d.rhsDir,d.lhsDir);y&&(h[y]=d.lhsId)}return h},{}),o),{}),r=Object.keys(e)[0],n={[r]:1},i=Object.keys(e).reduce((o,l)=>l===r?o:{...o,[l]:1},{}),a=E(o=>{const l={[o]:[0,0]},u=[o];for(;u.length>0;){const h=u.shift();if(h){n[h]=1,delete i[h];const d=e[h],[f,p]=l[h];Object.entries(d).forEach(([g,m])=>{n[m]||(l[m]=tJe([f,p],g),u.push(m))})}}return l},"BFS"),s=[a(r)];for(;Object.keys(i).length>0;)s.push(a(Object.keys(i)[0]));gr.records.dataStructures={adjList:e,spatialMaps:s,groupAlignments:t}}return gr.records.dataStructures},"getDataStructures"),yJe=E((t,e)=>{gr.records.elements[t]=e},"setElementForId"),vJe=E(t=>gr.records.elements[t],"getElementById"),ire=E(()=>bs({...nre,...qr().architecture}),"getConfig"),vT={clear:sJe,setDiagramTitle:Fi,getDiagramTitle:li,setAccTitle:oi,getAccTitle:ki,setAccDescription:Ci,getAccDescription:_i,getConfig:ire,addService:oJe,getServices:lJe,addJunction:cJe,getJunctions:uJe,getNodes:hJe,getNode:B7,addGroup:dJe,getGroups:fJe,addEdge:pJe,getEdges:gJe,setElementForId:yJe,getElementById:vJe,getDataStructures:mJe};function Si(t){return ire()[t]}E(Si,"getConfigField");var bJe=E((t,e)=>{Of(t,e),t.groups.map(e.addGroup),t.services.map(r=>e.addService({...r,type:"service"})),t.junctions.map(r=>e.addJunction({...r,type:"junction"})),t.edges.map(e.addEdge)},"populateDb"),xJe={parse:E(async t=>{const e=await Vh("architecture",t);se.debug(e),bJe(e,vT)},"parse")},EJe=E(t=>`
  .edge {
    stroke-width: ${t.archEdgeWidth};
    stroke: ${t.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${t.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${t.archGroupBorderColor};
    stroke-width: ${t.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),TJe=EJe,M0=E(t=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${t}</g>`,"wrapIcon"),Ny={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:M0('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:M0('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:M0('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:M0('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:M0('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:ZB,blank:{body:M0("")}}},wJe=E(async function(t,e){const r=Si("padding"),n=Si("iconSize"),i=n/2,a=n/6,s=a/2;await Promise.all(e.edges().map(async o=>{var L,_;const{source:l,sourceDir:u,sourceArrow:h,sourceGroup:d,target:f,targetDir:p,targetArrow:g,targetGroup:m,label:y}=rre(o);let{x:v,y:b}=o[0].sourceEndpoint();const{x,y:T}=o[0].midpoint();let{x:w,y:S}=o[0].targetEndpoint();const k=r+4;if(d&&(Fa(u)?v+=u==="L"?-k:k:b+=u==="T"?-k:k+18),m&&(Fa(p)?w+=p==="L"?-k:k:S+=p==="T"?-k:k+18),!d&&((L=vT.getNode(l))==null?void 0:L.type)==="junction"&&(Fa(u)?v+=u==="L"?i:-i:b+=u==="T"?i:-i),!m&&((_=vT.getNode(f))==null?void 0:_.type)==="junction"&&(Fa(p)?w+=p==="L"?i:-i:S+=p==="T"?i:-i),o[0]._private.rscratch){const N=t.insert("g");if(N.insert("path").attr("d",`M ${v},${b} L ${x},${T} L${w},${S} `).attr("class","edge"),h){const C=Fa(u)?yT[u](v,a):v-s,D=Du(u)?yT[u](b,a):b-s;N.insert("polygon").attr("points",ere[u](a)).attr("transform",`translate(${C},${D})`).attr("class","arrow")}if(g){const C=Fa(p)?yT[p](w,a):w-s,D=Du(p)?yT[p](S,a):S-s;N.insert("polygon").attr("points",ere[p](a)).attr("transform",`translate(${C},${D})`).attr("class","arrow")}if(y){const C=M7(u,p)?"XY":Fa(u)?"X":"Y";let D=0;C==="X"?D=Math.abs(v-w):C==="Y"?D=Math.abs(b-S)/1.5:D=Math.abs(v-w)/2;const P=N.append("g");if(await Xa(P,y,{useHtmlLabels:!1,width:D,classes:"architecture-service-label"},Re()),P.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),C==="X")P.attr("transform","translate("+x+", "+T+")");else if(C==="Y")P.attr("transform","translate("+x+", "+T+") rotate(-90)");else if(C==="XY"){const A=P7(u,p);if(A&&JZe(A)){const R=P.node().getBoundingClientRect(),[O,M]=rJe(A);P.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*O*M*45})`);const I=P.node().getBoundingClientRect();P.attr("transform",`
                translate(${x}, ${T-R.height/2})
                translate(${O*I.width/2}, ${M*I.height/2})
                rotate(${-1*O*M*45}, 0, ${R.height/2})
              `)}}}}}))},"drawEdges"),SJe=E(async function(t,e){const n=Si("padding")*.75,i=Si("fontSize"),s=Si("iconSize")/2;await Promise.all(e.nodes().map(async o=>{const l=O0(o);if(l.type==="group"){const{h:u,w:h,x1:d,y1:f}=o.boundingBox();t.append("rect").attr("x",d+s).attr("y",f+s).attr("width",h).attr("height",u).attr("class","node-bkg");const p=t.append("g");let g=d,m=f;if(l.icon){const y=p.append("g");y.html(`<g>${await Kc(l.icon,{height:n,width:n,fallbackPrefix:Ny.prefix})}</g>`),y.attr("transform","translate("+(g+s+1)+", "+(m+s+1)+")"),g+=n,m+=i/2-1-2}if(l.label){const y=p.append("g");await Xa(y,l.label,{useHtmlLabels:!1,width:h,classes:"architecture-service-label"},Re()),y.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),y.attr("transform","translate("+(g+s+4)+", "+(m+s+2)+")")}}}))},"drawGroups"),kJe=E(async function(t,e,r){for(const n of r){const i=e.append("g"),a=Si("iconSize");if(n.title){const u=i.append("g");await Xa(u,n.title,{useHtmlLabels:!1,width:a*1.5,classes:"architecture-service-label"},Re()),u.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),u.attr("transform","translate("+a/2+", "+a+")")}const s=i.append("g");if(n.icon)s.html(`<g>${await Kc(n.icon,{height:a,width:a,fallbackPrefix:Ny.prefix})}</g>`);else if(n.iconText){s.html(`<g>${await Kc("blank",{height:a,width:a,fallbackPrefix:Ny.prefix})}</g>`);const d=s.append("g").append("foreignObject").attr("width",a).attr("height",a).append("div").attr("class","node-icon-text").attr("style",`height: ${a}px;`).append("div").html(n.iconText),f=parseInt(window.getComputedStyle(d.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;d.attr("style",`-webkit-line-clamp: ${Math.floor((a-2)/f)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${a} v${-a} q0,-5 5,-5 h${a} q5,0 5,5 v${a} H0 Z`);i.attr("class","architecture-service");const{width:o,height:l}=i._groups[0][0].getBBox();n.width=o,n.height=l,t.setElementForId(n.id,i)}return 0},"drawServices"),CJe=E(function(t,e,r){r.forEach(n=>{const i=e.append("g"),a=Si("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",a).attr("height",a),i.attr("class","architecture-junction");const{width:o,height:l}=i._groups[0][0].getBBox();i.width=o,i.height=l,t.setElementForId(n.id,i)})},"drawJunctions");eF([{name:Ny.prefix,icons:Ny}]),Sl.use(QZe);function are(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:Si("iconSize"),height:Si("iconSize")},classes:"node-service"})})}E(are,"addServices");function sre(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:Si("iconSize"),height:Si("iconSize")},classes:"node-junction"})})}E(sre,"addJunctions");function ore(t,e){e.nodes().map(r=>{const n=O0(r);if(n.type==="group")return;n.x=r.position().x,n.y=r.position().y,t.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")")})}E(ore,"positionNodes");function lre(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}E(lre,"addGroups");function cre(t,e){t.forEach(r=>{const{lhsId:n,rhsId:i,lhsInto:a,lhsGroup:s,rhsInto:o,lhsDir:l,rhsDir:u,rhsGroup:h,title:d}=r,f=M7(r.lhsDir,r.rhsDir)?"segments":"straight",p={id:`${n}-${i}`,label:d,source:n,sourceDir:l,sourceArrow:a,sourceGroup:s,sourceEndpoint:l==="L"?"0 50%":l==="R"?"100% 50%":l==="T"?"50% 0":"50% 100%",target:i,targetDir:u,targetArrow:o,targetGroup:h,targetEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%"};e.add({group:"edges",data:p,classes:f})})}E(cre,"addEdges");function ure(t,e,r){const n=E((o,l)=>Object.entries(o).reduce((u,[h,d])=>{var g;let f=0;const p=Object.entries(d);if(p.length===1)return u[h]=p[0][1],u;for(let m=0;m<p.length-1;m++)for(let y=m+1;y<p.length;y++){const[v,b]=p[m],[x,T]=p[y];if(((g=r[v])==null?void 0:g[x])===l)u[h]??(u[h]=[]),u[h]=[...u[h],...b,...T];else if(v==="default"||x==="default")u[h]??(u[h]=[]),u[h]=[...u[h],...b,...T];else{const S=`${h}-${f++}`;u[S]=b;const k=`${h}-${f++}`;u[k]=T}}return u},{}),"flattenAlignments"),i=e.map(o=>{const l={},u={};return Object.entries(o).forEach(([h,[d,f]])=>{var g,m,y;const p=((g=t.getNode(h))==null?void 0:g.in)??"default";l[f]??(l[f]={}),(m=l[f])[p]??(m[p]=[]),l[f][p].push(h),u[d]??(u[d]={}),(y=u[d])[p]??(y[p]=[]),u[d][p].push(h)}),{horiz:Object.values(n(l,"horizontal")).filter(h=>h.length>1),vert:Object.values(n(u,"vertical")).filter(h=>h.length>1)}}),[a,s]=i.reduce(([o,l],{horiz:u,vert:h})=>[[...o,...u],[...l,...h]],[[],[]]);return{horizontal:a,vertical:s}}E(ure,"getAlignments");function hre(t){const e=[],r=E(i=>`${i[0]},${i[1]}`,"posToStr"),n=E(i=>i.split(",").map(a=>parseInt(a)),"strToPos");return t.forEach(i=>{const a=Object.fromEntries(Object.entries(i).map(([u,h])=>[r(h),u])),s=[r([0,0])],o={},l={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){const u=s.shift();if(u){o[u]=1;const h=a[u];if(h){const d=n(u);Object.entries(l).forEach(([f,p])=>{const g=r([d[0]+p[0],d[1]+p[1]]),m=a[g];m&&!o[g]&&(s.push(g),e.push({[Jte[f]]:m,[Jte[ZZe(f)]]:h,gap:1.5*Si("iconSize")}))})}}}}),e}E(hre,"getRelativeConstraints");function dre(t,e,r,n,i,{spatialMaps:a,groupAlignments:s}){return new Promise(o=>{const l=mt("body").append("div").attr("id","cy").attr("style","display:none"),u=Sl({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${Si("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${Si("padding")}px`}}]});l.remove(),lre(r,u),are(t,u),sre(e,u),cre(n,u);const h=ure(i,a,s),d=hre(a),f=u.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(p){const[g,m]=p.connectedNodes(),{parent:y}=O0(g),{parent:v}=O0(m);return y===v?1.5*Si("iconSize"):.5*Si("iconSize")},edgeElasticity(p){const[g,m]=p.connectedNodes(),{parent:y}=O0(g),{parent:v}=O0(m);return y===v?.45:.001},alignmentConstraint:h,relativePlacementConstraint:d});f.one("layoutstop",()=>{var g;function p(m,y,v,b){let x,T;const{x:w,y:S}=m,{x:k,y:L}=y;T=(b-S+(w-v)*(S-L)/(w-k))/Math.sqrt(1+Math.pow((S-L)/(w-k),2)),x=Math.sqrt(Math.pow(b-S,2)+Math.pow(v-w,2)-Math.pow(T,2));const _=Math.sqrt(Math.pow(k-w,2)+Math.pow(L-S,2));x=x/_;let N=(k-w)*(b-S)-(L-S)*(v-w);switch(!0){case N>=0:N=1;break;case N<0:N=-1;break}let C=(k-w)*(v-w)+(L-S)*(b-S);switch(!0){case C>=0:C=1;break;case C<0:C=-1;break}return T=Math.abs(T)*N,x=x*C,{distances:T,weights:x}}E(p,"getSegmentWeights"),u.startBatch();for(const m of Object.values(u.edges()))if((g=m.data)!=null&&g.call(m)){const{x:y,y:v}=m.source().position(),{x:b,y:x}=m.target().position();if(y!==b&&v!==x){const T=m.sourceEndpoint(),w=m.targetEndpoint(),{sourceDir:S}=rre(m),[k,L]=Du(S)?[T.x,w.y]:[w.x,T.y],{weights:_,distances:N}=p(T,w,k,L);m.style("segment-distances",N),m.style("segment-weights",_)}}u.endBatch(),f.run()}),f.run(),u.ready(p=>{se.info("Ready",p),o(u)})})}E(dre,"layoutArchitecture");var _Je=E(async(t,e,r,n)=>{const i=n.db,a=i.getServices(),s=i.getJunctions(),o=i.getGroups(),l=i.getEdges(),u=i.getDataStructures(),h=ic(e),d=h.append("g");d.attr("class","architecture-edges");const f=h.append("g");f.attr("class","architecture-services");const p=h.append("g");p.attr("class","architecture-groups"),await kJe(i,f,a),CJe(i,f,s);const g=await dre(a,s,o,l,i,u);await wJe(d,g),await SJe(p,g),ore(i,g),Hd(void 0,h,Si("padding"),Si("useMaxWidth"))},"draw"),AJe={draw:_Je},LJe={parser:xJe,db:vT,renderer:AJe,styles:TJe};const NJe=Object.freeze(Object.defineProperty({__proto__:null,diagram:LJe},Symbol.toStringTag,{value:"Module"})),RJe=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:aX,createInfoServices:sX},Symbol.toStringTag,{value:"Module"})),IJe=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:oX,createPacketServices:lX},Symbol.toStringTag,{value:"Module"})),DJe=Object.freeze(Object.defineProperty({__proto__:null,PieModule:cX,createPieServices:uX},Symbol.toStringTag,{value:"Module"})),OJe=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:hX,createArchitectureServices:dX},Symbol.toStringTag,{value:"Module"})),MJe=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:nX,createGitGraphServices:iX},Symbol.toStringTag,{value:"Module"})),PJe=Object.freeze(Object.defineProperty({__proto__:null,RadarModule:fX,createRadarServices:pX},Symbol.toStringTag,{value:"Module"}));bn.AIChatbot=BH,bn.floatingAssistant=o_e,Object.defineProperty(bn,Symbol.toStringTag,{value:"Module"})});
